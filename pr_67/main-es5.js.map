{"version":3,"sources":["webpack:///libs/mat-utils/custom-form-control/public_api.ts","webpack:///dist/libs/ng-utils/css-props/update-css-props.ts","webpack:///dist/libs/ng-utils/css-props/update-dynamic-style.ts","webpack:///dist/libs/ng-utils/css-props/css-props.service.ts","webpack:///dist/libs/ng-utils/css-props/css-props.directive.ts","webpack:///dist/libs/ng-utils/css-props/css-props.module.ts","webpack:///dist/libs/ng-utils/css-props/element-css.service.ts","webpack:///dist/libs/ng-utils/css-props/gewd-ng-utils-css-props.ts","webpack:///apps/demo/src/environments/environment.ts","webpack:///apps/demo/src/app/example-panel/example-panel.component.ts","webpack:///apps/demo/src/app/app.component.scss","webpack:///libs/markdown/module/public_api.ts","webpack:///libs/components/highlight-editor/public_api.ts","webpack:///dist/libs/ng-utils/components/simple-pager/simple-pager.component.ts","webpack:///dist/libs/ng-utils/components/simple-pager/simple-pager.module.ts","webpack:///dist/libs/ng-utils/components/gewd-ng-utils-components.ts","webpack:///libs/mat-utils/material-icons/register_icons.module.ts","webpack:///dist/libs/markdown/contracts/default-options.ts","webpack:///dist/libs/markdown/contracts/gewd-markdown-contracts.ts","webpack:///apps/demo/src/app/markdown-toolbar.component.ts","webpack:///apps/demo/src/app/example-panel/example-panel.component.html","webpack:///apps/demo/src/app/app.component.html","webpack:///dist/libs/lazy/utils/lazy.ts","webpack:///dist/libs/lazy/utils/gewd-lazy-utils.ts","webpack:///apps/demo/src/app/app.module.ts","webpack:///dist/libs/markdown/module/render-markdown/render-markdown.component.ts","webpack:///dist/libs/markdown/module/markdown.module.ts","webpack:///dist/libs/markdown/module/gewd-markdown-module.ts","webpack:///libs/components/highlight-editor/editor.keys.ts","webpack:///apps/demo/src/main.ts","webpack:///libs/components/highlight-editor/highlight-editor.component.scss","webpack:///libs/components/highlight-editor/highlight-editor.component.ts","webpack:///dist/libs/lazy/loader/lazy.component.ts","webpack:///dist/libs/lazy/loader/lazy-module.component.ts","webpack:///dist/libs/lazy/loader/gewd-lazy-loader.module.ts","webpack:///dist/libs/lazy/loader/gewd-lazy-loader.ts","webpack:///libs/components/highlight-editor/highlight.service.ts","webpack:///libs/markdown/module/index.ts","webpack:///libs/components/highlight-editor/editor.functions.ts","webpack:///dist/libs/lazy/registry/registry.ts","webpack:///dist/libs/lazy/registry/gewd-lazy-registry.ts","webpack:///libs/markdown/module/render-markdown/render-markdown.component.html","webpack:///libs/mat-utils/material-icons/public_api.ts","webpack:///libs/components/highlight-editor/index.ts","webpack:///libs/components/highlight-editor/highlight-editor.component.html","webpack:///dist/libs/ng-utils/morphdom/morphdom.service.ts","webpack:///dist/libs/ng-utils/morphdom/morphdom.directive.ts","webpack:///dist/libs/ng-utils/morphdom/morphdom.module.ts","webpack:///dist/libs/ng-utils/morphdom/gewd-ng-utils-morphdom.ts","webpack:///apps/demo/src/app/example-panel/example-panel.component.css","webpack:///apps/demo/src/app/markdown.worker.ts","webpack:///libs/mat-utils/material-icons/register_icons.ts","webpack:///dist/libs/ng-utils/bootstrap-component/bootstrap-component.module.ts","webpack:///dist/libs/ng-utils/bootstrap-component/gewd-ng-utils-bootstrap-component.ts","webpack:///libs/markdown/module/render-markdown/render-markdown.component.scss","webpack:///libs/mat-utils/custom-form-control/index.ts","webpack:///libs/mat-utils/material-icons/index.ts","webpack:///apps/demo/src/app/app.component.ts","webpack:///libs/mat-utils/custom-form-control/custom-form-control.module.ts","webpack:///libs/mat-utils/custom-form-control/custom-form-control.component.ts","webpack:///libs/components/highlight-editor/highlight-editor.module.ts","webpack:///libs/markdown/module/markdown.module.ts","webpack:///dist/libs/markdown/utils/lazy.ts","webpack:///dist/libs/markdown/utils/simple-hash.ts","webpack:///dist/libs/markdown/utils/gewd-markdown-utils.ts","webpack:///dist/libs/markdown/service/markdown-cache.service.ts","webpack:///dist/libs/markdown/service/injection-token.ts","webpack:///dist/libs/markdown/service/markdown.service.ts","webpack:///dist/libs/markdown/service/gewd-markdown-service.ts","webpack:///apps/demo/src/app/md-cache-example.service.ts","webpack:///dist/libs/ng-utils/ng-error-overlay/ng-error/error-handler.service.ts","webpack:///dist/libs/ng-utils/ng-error-overlay/ng-error/ng-error.component.ts","webpack:///dist/libs/ng-utils/ng-error-overlay/ng-error/error-overlay/error-overlay.component.ts","webpack:///dist/libs/ng-utils/ng-error-overlay/ng-error/ng-error-overlay.module.ts","webpack:///dist/libs/ng-utils/ng-error-overlay/gewd-ng-utils-ng-error-overlay.ts","webpack:///dist/libs/ng-utils/dynamic-portal/portal-hub.service.ts","webpack:///dist/libs/ng-utils/dynamic-portal/dynamic-portal/dynamic-portal.component.ts","webpack:///dist/libs/ng-utils/dynamic-portal/portal-source.directive.ts","webpack:///dist/libs/ng-utils/dynamic-portal/dynamic-portal.module.ts","webpack:///dist/libs/ng-utils/dynamic-portal/gewd-ng-utils-dynamic-portal.ts","webpack:///libs/markdown/module/render-markdown/render-markdown.component.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["updateCssProps","element","cssProps","style","Object","entries","k","v","setProperty","toString","updateDynamicStyle","document","styleId","customCss","getStyleElement","replaceCss","head","getElementsByTagName","allStyles","styleIndex","length","styleInHeader","item","id","createElement","type","appendChild","styleTag","childNodes","forEach","child","removeChild","createTextNode","CssPropsService","ngZone","runOutsideAngular","body","Document","CSSPropsDirective","cssPropsService","updateElementVars","nativeElement","currentValue","CssPropsModule","ElementCssService","elementRef","environment","production","modules","ExamplePanelComponent","packageName","packageTitle","moduleName","componentName","lazyModuleComponent","moduleAlias","component","setComponent","selector","template","SimplePagerComponent","position","items","SimplePagerModule","REGISTORY_ICONS_PAIR_TOKEN","RegisterIconsModule","iconRegistry","sanitizer","registryIconsPairsArray","iconPair","useValue","ngModule","providers","provide","multi","declarations","imports","DEFAULT_PRISM_OPTIONS","assetPath","languageFileType","languageMap","ts","DEFAULT_MERMAID_OPTIONS","flowchart","useMaxWidth","htmlLabels","startOnLoad","theme","themeCSS","MarkdownToolbarComponent","markdown","Lazy","loader","cachedPromise","marked","Worker","markdownExampleLazy","then","MarkdownExampleModule","codeMirrorExampleLazy","CodemirrorExampleModule","lazyLoadExampleLazy","LazyloadExampleModule","componentsExampleLazy","ComponentsExampleModule","portalLazy","PortalModule","AppModule","withServerTransition","appId","forRoot","relativeLinkResolution","withLazy","moduleConfig","load","register","pathToIcons","iconArray","getWorker","options","prism","cs","highlightMarkdownCode","additionalPluginPaths","mermaidPath","mermaidOptions","useExisting","bootstrap","RenderMarkdownComponent","service","cache","showRawMd","useCache","allowMermaid","onLinkClick","_htmlToShow$","parsedHtml$","_markdown","value","next","compile","e","target","aHref","tagName","parentElement","event","link","getCached","cachedMarkdown","bypassSecurityTrustHtml","compileMarkdown","parsedHtml","saveCached","console","error","MarkdownModule","KEY_BACKSPACE","KEY_DELETE","KEY_ENTER","KEY_ESCAPE","KEY_TAB","KEY_ARROW_UP","KEY_ARROW_DOWN","KEY_ARROW_LEFT","KEY_ARROW_RIGHT","KEY_SHIFT","KEY_ALT","KEY_CTRL","KEY_META","KEY_CAPS_LOCK","ALL_CHARS_REGEX","IGNORE_KEY_EVENTS","addEventListener","bootstrapModule","moduleRef","applicationRef","injector","get","componentRef","components","err","window","HighlightEditorComponent","cd","morphService","language","debounceTime","useTabs","spaceWidth","changed","value$","language$","debounce$","showHighlighedCode$","allCharsRegex","focussed$","lastKeyTriggered$","_destroyed$","updateLinesAmount","pipe","debounceTimeInterval","subscribe","code","lastKeyEvent","highlightToPreTag","emit","complete","markForCheck","lines","split","textarea","key","match","includes","handledTab","selectionStart","selectionEnd","applyToTextarea","textChanged","result","newValue","newSelectionStart","newSelectionEnd","codeToHighlight","morphElement","highlightArea","childrenOnly","highlightCode","innerHighlighed","addedBeginNewLine","addedEndNewLine","startsWith","endsWith","blur","focus","changeDetection","OnPush","LazyComponent","resolver","componentCreated","componentLoading","componentInstance","unsubForOutputs$","detectChanges","importComponent","LazyComponents","getValue","imported","keys","theComp","componentFactory","resolveComponentFactory","targetContainer","clear","createComponent","changeDetectorRef","instance","setInputs","setOutputs","changes","unsubOutputs","componentInputs","inputs","inputKey","componentOutputs","outputs","outputKey","emitter","read","LazyModuleComponent","angularCompiler","showError","alreadySettingComponent","moduleInDictionary","LazyModuleComponents","loadedModule","importedModule","compileModuleAndAllComponentsAsync","factory","ngModuleFactory","create","componentFactories","moduleFactory","getComponents","componentInfo","find","cf","name","componentType","componentFactoryResolver","changedAndDifferent","change","previousValue","REGISTORY_LAZY_LOADED_MODULE_TOKEN","GewdLazyLoaderModule","registerLazyLoads","lazyInfo","RegisterLazyModuleComponent","map","PrismOptionsInjectorToken","HighlightService","markdownOptions","prismOptions","platformId","wrappedWorker","init","workerProxy","initPrism","lang","highlight","providedIn","handleTab","startSelection","endSelection","spaceLength","backwards","shiftKey","valueToWork","padEnd","textValueUntilStart","substr","textValueFromStart","preventDefault","DynamicLoaderRegistry","lazyImport","MorphdomService","newElementContent","MorphdomDirective","done","morphDom","MorphdomModule","module","exports","registerIcons","icon","addSvgIcon","bypassSecurityTrustResourceUrl","BOOTSTRAP_COMPONENT_TOKEN","bootstrapComponent","appRef","bootstrapConfig","domElement","elementName","append","ref","attachView","hostView","BootstrapComponentModule","bootstrapConfigs","AppComponent","http","markDownReadmeMD$","responseType","ngErrorOverlay$","matUtilsReadmeMD$","editorLanguage$","editorExample$","aForm","group","errorSource","subString","$event","currentPrismExample","trim","updateValueChanged","CustomFormControlModule","CustomFormControlComponent","formBuilder","_focusMonitor","_elementRef","_formField","ngControl","onChange","_","onTouched","stateChangeSubject","stateChanges","valueAccessor","_value","focused","empty","stopMonitoring","ids","controlElement","setAttribute","join","val","fn","isDisabled","disabled","HighlightEditorModule","simpleHash","str","hash","i","chr","charCodeAt","MarkdownCacheService","rawMarkdown","Promise","resolve","renderedMarkdown","raw","rendered","MarkdownOptionsInjectorToken","compiledRegex","renderId","MarkdownService","canTriggerMermaidLoad","mermaidAddedToPage","mermaidCacheKey","mermaidConfig","assign","triggerMermaid","parsedMarkdown","triggerMermaidLoadScript","mermaidInstance","mermaid","matched","innerContent","cleanUpMermaidRaw","getCachedPart","cached","errorStr","parse","render","saveCachedPart","replace","mermaidRaw","_mermaidNode","hidden","reject","scriptTag","src","onload","initialize","parseError","MdCacheExampleService","enabled","createInstance","localForageCache","ready","setItem","getItem","DEFAULT_CONFIG","zIndex","ignoreErrors","NG_ERROR_CONFIG_TOKEN","ErrorHandlerService","config","error$","ev","handleError","message","stack","NgErrorComponent","errorService","showIndex","visible$","errors$","a","c","slice","filter","_destroy$","ErrorOverlayComponent","errorStack","NgErrorOverlayModule","PortalSourceAction","PortalHubService","templateSourceSubject","templateSourceHub","templateRef","DynamicPortalComponent","hub","key$","templateToShow$","getTemplate$","checkKeyAndPushTemplate","PortalSourceDirective","keyChange","unregisterTemplate","registerTemplate","DynamicPortalModule","webpackEmptyAsyncContext","req","Error"],"mappings":"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","file":"main-es5.js","sourcesContent":["export * from './custom-form-control.module';\nexport * from './custom-form-control.component';\n","export function updateCssProps (\n  element: HTMLElement,\n  cssProps: any\n) {\n  const { style } = element;\n  for (const [k, v] of Object.entries(cssProps)) {\n    style.setProperty(k, v.toString(), 'important');\n  }\n}\n","// Todo use @gewd/utils for that?\n\nexport function updateDynamicStyle(\n  document: Document,\n  styleId: string,\n  customCss: string\n) {\n  const style = getStyleElement(document, styleId);\n\n  replaceCss(document, style, customCss);\n}\n\nexport function getStyleElement(\n  document: Document,\n  styleId: string,\n): HTMLStyleElement {\n  const head = document.getElementsByTagName('head')[0];\n  const allStyles = head.getElementsByTagName('style');\n  let style: HTMLStyleElement = null;\n\n  for (let styleIndex = 0; styleIndex < allStyles.length; styleIndex++) {\n    const styleInHeader = allStyles.item(styleIndex);\n\n    if (styleInHeader.id === styleId) {\n      style = styleInHeader;\n      break;\n    }\n  }\n\n  if (style == null) {\n    style = document.createElement('style');\n    style.id = styleId;\n    style.type = 'text/css';\n    head.appendChild(style);\n  }\n\n  return style;\n}\n\nexport function replaceCss(\n  document: Document,\n  styleTag: HTMLStyleElement,\n  customCss: string\n) {\n  if (styleTag.childNodes.length > 0) {\n    styleTag.childNodes.forEach(child => {\n      styleTag.removeChild(child);\n    })\n  }\n\n  styleTag.appendChild(document.createTextNode(customCss));\n}\n","import { Inject, Injectable, NgZone } from '@angular/core';\nimport { DOCUMENT } from '@angular/common';\nimport { updateCssProps } from './update-css-props';\nimport { updateDynamicStyle } from './update-dynamic-style';\n\n/** @dynamic - allows Document in ngc build */\n@Injectable({\n  providedIn: 'root'\n})\nexport class CssPropsService {\n  constructor (\n    @Inject(DOCUMENT) private document: Document,\n    private ngZone: NgZone\n  ) { }\n\n  public updateCustomCss(styleId: string, customCss: string) {\n    this.ngZone.runOutsideAngular(() => {\n      updateDynamicStyle(this.document, styleId, customCss);\n    });\n  }\n\n  public updateDocumentVars(cssProps: any) {\n    this.ngZone.runOutsideAngular(() => {\n      updateCssProps(this.document.body, cssProps);\n    });\n  }\n\n  public updateElementVars(element: HTMLElement, cssProps: any) {\n    this.ngZone.runOutsideAngular(() => {\n      updateCssProps(element, cssProps);\n    });\n  }\n}\n","import { Directive, ElementRef, Input, OnChanges, SimpleChanges } from '@angular/core';\nimport { CssPropsService } from './css-props.service';\n\n/*\n * Workaround for setting CSS custom properties:\n * https://github.com/angular/angular/issues/9343\n *\n * Cannot work for any style properties.\n */\n@Directive({\n  selector: '[cssProps]',\n})\nexport class CSSPropsDirective implements OnChanges {\n\n  @Input() cssProps: any;\n\n  constructor(private element: ElementRef<HTMLElement>,\n              private cssPropsService: CssPropsService) {\n  }\n\n  ngOnChanges({cssProps}: SimpleChanges) {\n    this.cssPropsService.updateElementVars(\n      this.element.nativeElement,\n      cssProps.currentValue\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CSSPropsDirective } from './css-props.directive';\n\n/** @dynamic - allows Document in ngc build */\n@NgModule({\n  declarations: [CSSPropsDirective],\n  imports: [\n    CommonModule\n  ],\n})\nexport class CssPropsModule {\n}\n","import { ElementRef, Injectable } from '@angular/core';\nimport { CssPropsService } from './css-props.service';\n\n@Injectable()\nexport class ElementCssService {\n  constructor (\n    private cssPropsService: CssPropsService,\n    private elementRef: ElementRef<HTMLElement>\n  ) { }\n\n  public updateElementVars(cssProps: any) {\n    this.cssPropsService.updateElementVars(this.elementRef.nativeElement, cssProps);\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false,\n  modules: [\n    // NgInspectModule\n  ]\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import {Component, Input, OnInit} from '@angular/core';\nimport {LazyModuleComponent} from \"@gewd/lazy/loader\";\n\n@Component({\n  selector: 'gewd-example-panel',\n  templateUrl: './example-panel.component.html',\n  styleUrls: ['./example-panel.component.css']\n})\nexport class ExamplePanelComponent implements OnInit {\n\n  @Input()\n  packageName = '';\n\n  @Input()\n  packageTitle = '';\n\n  @Input()\n  moduleName = '';\n\n  @Input()\n  componentName = '';\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  applyLazyModuleInputs(lazyModuleComponent: LazyModuleComponent) {\n    lazyModuleComponent.moduleAlias = this.moduleName;\n    lazyModuleComponent.component = this.componentName;\n    lazyModuleComponent.setComponent();\n  }\n}\n","export default \"/*\\n * Remove template code below\\n */\\n:host {\\n  display: block;\\n  font-family: sans-serif;\\n  min-width: 300px;\\n  max-width: 600px;\\n  margin: 50px auto;\\n}\\n.dynamic-portal-border {\\n  background: darkgreen;\\n  padding: 5px;\\n  margin: 15px 0;\\n  border: 2px dashed green;\\n  display: block;\\n}\\n.npm-link {\\n  height: 20px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2FwcC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7RUFBQTtBQUdBO0VBQ0UsY0FBQTtFQUNBLHVCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxnQkFBQTtFQUNBLGlCQUFBO0FBQ0Y7QUFFQTtFQUNFLHFCQUFBO0VBQ0EsWUFBQTtFQUNBLGNBQUE7RUFDQSx3QkFBQTtFQUNBLGNBQUE7QUFDRjtBQUVBO0VBQ0UsWUFBQTtBQUNGIiwiZmlsZSI6ImFwcC5jb21wb25lbnQuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBSZW1vdmUgdGVtcGxhdGUgY29kZSBiZWxvd1xuICovXG46aG9zdCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBmb250LWZhbWlseTogc2Fucy1zZXJpZjtcbiAgbWluLXdpZHRoOiAzMDBweDtcbiAgbWF4LXdpZHRoOiA2MDBweDtcbiAgbWFyZ2luOiA1MHB4IGF1dG87XG59XG5cbi5keW5hbWljLXBvcnRhbC1ib3JkZXIge1xuICBiYWNrZ3JvdW5kOiBkYXJrZ3JlZW47XG4gIHBhZGRpbmc6IDVweDtcbiAgbWFyZ2luOiAxNXB4IDA7XG4gIGJvcmRlcjogMnB4IGRhc2hlZCBncmVlbjtcbiAgZGlzcGxheTogYmxvY2s7XG59XG5cbi5ucG0tbGluayB7XG4gIGhlaWdodDogMjBweDtcbn1cbiJdfQ== */\";","export * from './markdown.module';\nexport * from './render-markdown/render-markdown.component';\n","export * from './highlight.service';\nexport * from './highlight-editor.component';\nexport * from './editor.functions';\nexport * from './editor.keys';\nexport * from './highlight-editor.module';\n\n","import { Component, ContentChild, Input, OnInit, TemplateRef } from '@angular/core';\n\n@Component({\n  selector: 'simple-pager',\n  templateUrl: './simple-pager.component.html',\n  styleUrls: ['./simple-pager.component.scss']\n})\nexport class SimplePagerComponent implements OnInit {\n\n  @ContentChild(TemplateRef)\n  templateRef: TemplateRef<any>;\n\n  @Input()\n  items: any[];\n\n  public position = 0;\n\n  constructor() { }\n\n  ngOnInit(): void {\n  }\n\n  selectPrev () {\n    if (this.position === 0) {\n      return;\n    }\n\n    this.position--;\n  }\n\n  selectNext () {\n    if (this.position === (this.items.length - 1)) {\n      return;\n    }\n\n    this.position++;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { SimplePagerComponent } from './simple-pager.component';\n\n@NgModule({\n  declarations: [SimplePagerComponent],\n  exports: [\n    SimplePagerComponent\n  ],\n  imports: [\n    CommonModule,\n  ]\n})\nexport class SimplePagerModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n","import { Inject, InjectionToken, ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { registerIcons, RegistryIconsPair } from './register_icons';\nimport { MatIconRegistry } from '@angular/material/icon';\nimport { DomSanitizer } from '@angular/platform-browser';\n\nexport const REGISTORY_ICONS_PAIR_TOKEN = new InjectionToken<RegistryIconsPair>('@gewd/mat-utils/RegistryIconsPair');\n\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule\n  ]\n})\nexport class RegisterIconsModule {\n  static register (useValue: RegistryIconsPair): ModuleWithProviders<RegisterIconsModule> {\n    return {\n      ngModule: RegisterIconsModule,\n      providers: [\n        { provide: REGISTORY_ICONS_PAIR_TOKEN, useValue, multi: true }\n      ]\n    };\n  }\n\n  constructor (iconRegistry: MatIconRegistry,\n               sanitizer: DomSanitizer,\n               @Inject(REGISTORY_ICONS_PAIR_TOKEN) registryIconsPairsArray: RegistryIconsPair[]) {\n    for (const iconPair of registryIconsPairsArray) {\n      registerIcons(iconRegistry, sanitizer, iconPair);\n    }\n  }\n}\n","import { PrismOptions } from './worker.interface';\n\nexport const DEFAULT_PRISM_OPTIONS: PrismOptions = {\n  assetPath: './assets/prism/',\n  languageFileType: 'js',\n  languageMap: {\n    ts: 'typescript'\n  }\n};\n\n// https://mermaid-js.github.io/mermaid/#/mermaidAPI?id=mermaidapi-configuration-defaults\nexport const DEFAULT_MERMAID_OPTIONS = {\n  flowchart: {\n    useMaxWidth: true,\n    htmlLabels: true\n  },\n  startOnLoad: false,\n  theme: 'neutral',\n  themeCSS:'.label { font-family: Source Sans Pro,Helvetica Neue,Arial,sans-serif !important; font-size: 15px; } .label foreignObject { overflow: visible; }'\n};\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n","import { Component, Injectable } from '@angular/core';\nimport { RenderMarkdownComponent } from '@gewd/markdown/module';\n\n@Component({\n  template: ``,\n  selector: 'gewd-markdown-toolbar'\n})\nexport class MarkdownToolbarComponent {\n  constructor (private markdown: RenderMarkdownComponent) {\n  }\n}\n","export default \"<mat-expansion-panel (opened)=\\\"applyLazyModuleInputs(lazyModuleComponent)\\\">\\n  <mat-expansion-panel-header>\\n    <a [href]=\\\"'https://www.npmjs.com/package/' + packageName\\\" rel=\\\"nofollow\\\"\\n       class=\\\"npm-link\\\">\\n      <img [src]=\\\"'https://img.shields.io/npm/v/' + packageName + '.svg?'\\\"\\n           [alt]=\\\"packageName + ' NPM Version'\\\">\\n    </a>\\n    &nbsp;- {{ packageTitle }}\\n  </mat-expansion-panel-header>\\n\\n  <gewd-lazy-module-component\\n    #lazyModuleComponent>\\n    <mat-progress-bar isLoading mode=\\\"indeterminate\\\" color=\\\"accent\\\"></mat-progress-bar>\\n  </gewd-lazy-module-component>\\n</mat-expansion-panel>\\n\";","export default \"<h2>Open Dev-Tools to see the network calls.</h2>\\n\\n<gewd-example-panel packageName=\\\"@gewd/markdown\\\"\\n                    packageTitle=\\\"Markdown\\\"\\n                    moduleName=\\\"markdown-example\\\"\\n                    componentName=\\\"MarkdownExample\\\">\\n\\n</gewd-example-panel>\\n\\n<br/>\\n\\n<gewd-example-panel packageName=\\\"@gewd/components\\\"\\n                    packageTitle=\\\"CodeMirror\\\"\\n                    moduleName=\\\"codemirror-example\\\"\\n                    componentName=\\\"CodeMirrorExample\\\">\\n\\n</gewd-example-panel>\\n\\n<br/>\\n\\n<gewd-example-panel packageName=\\\"@gewd/lazy\\\"\\n                    packageTitle=\\\"Lazy Components\\\"\\n                    moduleName=\\\"lazyload-example\\\"\\n                    componentName=\\\"LazyLoadExample\\\">\\n\\n</gewd-example-panel>\\n\\n<br/>\\n\\n\\n<gewd-example-panel packageName=\\\"@gewd/components\\\"\\n                    packageTitle=\\\"Components\\\"\\n                    moduleName=\\\"components-example\\\"\\n                    componentName=\\\"ComponentsExample\\\">\\n\\n</gewd-example-panel>\\n\\n<br/>\\n\\n<mat-expansion-panel>\\n  <mat-expansion-panel-header>\\n    <a href=\\\"https://www.npmjs.com/package/@gewd/ng-utils\\\" rel=\\\"nofollow\\\"\\n       class=\\\"npm-link\\\">\\n      <img src=\\\"https://img.shields.io/npm/v/@gewd/ng-utils.svg?\\\"\\n           alt=\\\"Gewd NG-Utils NPM Version\\\">\\n    </a>\\n    &nbsp;- Dynamic Portal Component\\n  </mat-expansion-panel-header>\\n\\n  <dynamic-portal key=\\\"portalKey\\\" class=\\\"dynamic-portal-border\\\">\\n    Dynamic Portal Placeholder\\n  </dynamic-portal>\\n\\n  <br/>\\n\\n  <gewd-lazy-module-component\\n    #lazyPortalModuleComponent\\n    [componentInputs]=\\\"{ testProp: 'Binding value', portalKey: 'portalKey' }\\\"\\n  >\\n    <button mat-raised-button color=\\\"primary\\\"\\n            (click)=\\\"setLazyPortalModuleComp(lazyPortalModuleComponent)\\\">\\n      Load Lazy Module-Component: Test Module-Comp <br/> (this button as content will be replaced)\\n    </button>\\n  </gewd-lazy-module-component>\\n</mat-expansion-panel>\\n\\n<br/>\\n\\n<mat-expansion-panel>\\n  <mat-expansion-panel-header>\\n    <a href=\\\"https://www.npmjs.com/package/@gewd/ng-utils\\\" rel=\\\"nofollow\\\"\\n       class=\\\"npm-link\\\">\\n      <img src=\\\"https://img.shields.io/npm/v/@gewd/ng-utils.svg?\\\"\\n           alt=\\\"Gewd NG-Utils NPM Version\\\">\\n    </a>\\n    &nbsp;- NgErrorOverlay\\n  </mat-expansion-panel-header>\\n\\n  <gewd-markdown [markdown]=\\\"ngErrorOverlay$ | async\\\">\\n\\n  </gewd-markdown>\\n\\n  <button (click)=\\\"makeError()\\\">Trigger an error</button>\\n</mat-expansion-panel>\\n\\n<br/>\\n\\n<mat-expansion-panel>\\n  <mat-expansion-panel-header>\\n    <a href=\\\"https://www.npmjs.com/package/@gewd/mat-utils\\\" rel=\\\"nofollow\\\"\\n       class=\\\"npm-link\\\">\\n      <img src=\\\"https://img.shields.io/npm/v/@gewd/mat-utils.svg?\\\"\\n           alt=\\\"Gewd Mat-Utils NPM Version\\\">\\n    </a>\\n    &nbsp;- Material Utils\\n  </mat-expansion-panel-header>\\n\\n  <gewd-markdown [markdown]=\\\"matUtilsReadmeMD$ | async\\\">\\n\\n  </gewd-markdown>\\n\\n  <mat-icon svgIcon=\\\"add\\\"></mat-icon>\\n</mat-expansion-panel>\\n\\n\\n<br/>\\n\\n<mat-expansion-panel (opened)=\\\"openedEditorPanel()\\\">\\n  <mat-expansion-panel-header>\\n    <a href=\\\"https://www.npmjs.com/package/@gewd/components\\\" rel=\\\"nofollow\\\"\\n       class=\\\"npm-link\\\">\\n      <img src=\\\"https://img.shields.io/npm/v/@gewd/components.svg?\\\"\\n           alt=\\\"Gewd Components NPM Version\\\">\\n    </a>\\n    &nbsp;- PrismEditor\\n  </mat-expansion-panel-header>\\n\\n  <mat-form-field>\\n    <mat-select placeholder=\\\"Examples\\\" [value]=\\\"currentPrismExample\\\"\\n                (valueChange)=\\\"updateValueChanged($event)\\\">\\n      <mat-option value=\\\"empty\\\">Empty</mat-option>\\n      <mat-option value=\\\"readme_md\\\">Markdown Readme</mat-option>\\n      <mat-option value=\\\"ts_example\\\">TypeScript</mat-option>\\n    </mat-select>\\n  </mat-form-field>\\n\\n  <mat-form-field>\\n    <input matInput placeholder=\\\"Render debounce-time\\\"\\n           value=\\\"200\\\" type=\\\"number\\\"\\n           #renderDebounce>\\n  </mat-form-field>\\n\\n\\n  <mat-form-field>\\n    <input matInput placeholder=\\\"Editor Height (px)\\\"\\n           value=\\\"100\\\" type=\\\"number\\\"\\n           #editorHeight>\\n  </mat-form-field>\\n\\n  <gewd-prism-editor [value]=\\\"editorExample$ | async\\\"\\n                     [language]=\\\"editorLanguage$ | async\\\"\\n                     [debounceTime]=\\\"+renderDebounce.value\\\"\\n                     [style.--editor-min-height.px]=\\\"editorHeight.value\\\"\\n                     #prismEditor>\\n  </gewd-prism-editor>\\n\\n  <br/>\\n\\n  <h4>Mat-Form-Field Example</h4>\\n\\n  <form [formGroup]=\\\"aForm\\\">\\n\\n    <mat-form-field style=\\\"width: 100%\\\">\\n\\n      <gewd-custom-form-control placeholder=\\\"test\\\"\\n                                formControlName=\\\"editor\\\"\\n                                #customFormControl\\n      >\\n        <gewd-prism-editor [value]=\\\"editorExample$ | async\\\"\\n                           [language]=\\\"editorLanguage$ | async\\\"\\n                           [debounceTime]=\\\"+renderDebounce.value\\\"\\n                           [style.--editor-min-height.px]=\\\"editorHeight.value\\\"\\n                           (value$)=\\\"customFormControl.value = $event\\\"\\n                           (focussed$)=\\\"customFormControl.focused = $event\\\" #editoe>\\n        </gewd-prism-editor>\\n      </gewd-custom-form-control>\\n    </mat-form-field>\\n  </form>\\n\\n\\n  Form Field Data:\\n  <hr>\\n  {{ aForm.value | json }}\\n</mat-expansion-panel>\\n\";","export class Lazy<T> {\n  private cachedPromise: Promise<T>;\n\n  static create<T>(loader: () => Promise<T>): Lazy<T> {\n    return new Lazy<T>(loader);\n  }\n\n  constructor (private loader: () => Promise<T>) {\n\n  }\n\n  public getValue (): Promise<T> {\n    if (this.cachedPromise) {\n      return this.cachedPromise;\n    }\n\n    return this.cachedPromise = this.loader();\n  }\n\n  public reset() {\n    this.cachedPromise = null;\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AppComponent } from './app.component';\nimport { MarkdownModule } from '@gewd/markdown';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { DEFAULT_PRISM_OPTIONS, MarkdownServiceOptions } from '@gewd/markdown/contracts';\n\nimport { GewdLazyLoaderModule } from '@gewd/lazy/loader';\nimport { MatButtonModule } from '@angular/material/button';\nimport { DynamicPortalModule } from '@gewd/ng-utils/dynamic-portal';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MarkdownCacheService, MarkdownOptionsInjectorToken } from '@gewd/markdown/service';\nimport { MdCacheExampleService } from './md-cache-example.service';\nimport { RouterModule } from '@angular/router';\nimport { HttpClientModule } from '@angular/common/http';\nimport { MarkdownToolbarComponent } from './markdown-toolbar.component';\nimport { NgErrorOverlayModule } from '@gewd/ng-utils/ng-error-overlay';\nimport { environment } from '../environments/environment';\nimport { HighlightEditorModule } from '@gewd/components/highlight-editor';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatInputModule } from '@angular/material/input';\nimport { RegisterIconsModule } from '../../../../libs/mat-utils/material-icons';\nimport { MatIconModule } from '@angular/material/icon';\nimport { ExamplePanelComponent } from './example-panel/example-panel.component';\nimport { CustomFormControlModule } from '@gewd/mat-utils/custom-form-control';\nimport { Lazy } from '@gewd/lazy/utils';\n\nconst marked = () => new Worker('./markdown.worker.ts', { type: 'module' });\n\nconst markdownExampleLazy =new Lazy(() => import(/* webpackChunkName: \"markdown-example-module\" */ './examples/markdown-example/markdown-example.module')\n  .then(({MarkdownExampleModule}) => MarkdownExampleModule));\n\nconst codeMirrorExampleLazy =new Lazy(() => import(/* webpackChunkName: \"codemirror-example-module\" */ './examples/codemirror-example/codemirror-example.module')\n  .then(({CodemirrorExampleModule}) => CodemirrorExampleModule));\n\n\nconst lazyLoadExampleLazy =new Lazy(\n  () => import(/* webpackChunkName: \"lazyload-example-module\" */ './examples/lazyload-example/lazyload-example.module')\n    .then(({LazyloadExampleModule}) => LazyloadExampleModule)\n);\n\nconst componentsExampleLazy =new Lazy(\n  () => import(/* webpackChunkName: \"components-example-module\" */ './examples/components-example/components-example.module')\n    .then(({ComponentsExampleModule}) => ComponentsExampleModule)\n);\n\nconst portalLazy = new Lazy(\n  () => import(/* webpackChunkName: \"lazy-portal-module\" */ './examples/lazyload-example/lazy-wrapper/lazy-portal-source')\n    .then(({PortalModule}) => PortalModule)\n);\n\n@NgModule({\n  declarations: [AppComponent, MarkdownToolbarComponent, ExamplePanelComponent],\n  imports: [\n    BrowserModule.withServerTransition({appId: 'serverApp'}),\n    RouterModule.forRoot([], { relativeLinkResolution: 'legacy' }),\n    HttpClientModule,\n    MarkdownModule, FormsModule,\n    ReactiveFormsModule,\n    MatExpansionModule, MatTabsModule,\n    BrowserAnimationsModule,\n    GewdLazyLoaderModule.withLazy([\n      {\n        moduleName: 'markdown-example',\n        moduleConfig: {\n          load: markdownExampleLazy\n        }\n      },\n      {\n        moduleName: 'codemirror-example',\n        moduleConfig: {\n          load: codeMirrorExampleLazy\n        }\n      },\n      {\n        moduleName: 'lazyload-example',\n        moduleConfig: {\n          load: lazyLoadExampleLazy\n        }\n      },\n      {\n        moduleName: 'portal-module',\n        moduleConfig: {\n          load: portalLazy\n        }\n      },\n      {\n        moduleName: 'components-example',\n        moduleConfig: {\n          load: componentsExampleLazy\n        }\n      }\n    ]),\n    MatButtonModule,\n    DynamicPortalModule,\n    MatProgressBarModule,\n    NgErrorOverlayModule,\n    ...environment.modules,\n    HighlightEditorModule,\n    MatSelectModule,\n    MatInputModule,\n    CustomFormControlModule,\n    RegisterIconsModule.register({\n      pathToIcons: './assets/material_icons',\n      iconArray: [\n        'add',\n        'art_track',\n      ]\n    }),\n    MatIconModule\n  ],\n  providers: [\n    {\n      provide: MarkdownOptionsInjectorToken,\n      useValue: {\n        getWorker: marked,\n        options: {\n          prism: {\n            ...DEFAULT_PRISM_OPTIONS,\n\n            /** if needed **/\n            languageFileType: 'min.js',  // if you want to use the minified assets\n            languageMap: {               // alias to load the real file\n              ts: 'typescript',          // default\n              cs: 'csharp'               // additional\n            },\n            highlightMarkdownCode: true,\n            additionalPluginPaths: [\n              'assets/prism/prism-css-extras.min.js',  // needed for the inline color\n              'assets/prism/prism-plugin-inline-color.worker-func.js',\n              'assets/prism/prism-plugin-bracket-match.worker-func.js'\n            ]\n          }\n        },\n        mermaidPath: 'mermaid.min.js',\n        mermaidOptions: {\n          theme: 'neutral',\n        }\n      } as MarkdownServiceOptions\n    },\n    MdCacheExampleService,\n    {\n      provide: MarkdownCacheService,\n      useExisting: MdCacheExampleService\n    }\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n}\n","import { Component, ElementRef, EventEmitter, HostListener, Input, OnInit, Output } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { MarkdownCacheService, MarkdownService } from '@gewd/markdown/service';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\nexport interface MarkdownLinkClicked {\n  event: Event;\n  link: HTMLLinkElement;\n}\n\n@Component({\n  selector: 'gewd-markdown',\n  templateUrl: './render-markdown.component.html',\n  styleUrls: ['./render-markdown.component.scss']\n})\nexport class RenderMarkdownComponent implements OnInit {\n  @Input()\n  public showRawMd = false;\n\n  @Input()\n  public useCache = false;\n\n  @Input()\n  public allowMermaid = true;\n\n  @Input()\n  public mermaidTheme: string;\n\n  get markdown (): string {\n    return this._markdown;\n  }\n\n  @Input()\n  set markdown (value: string) {\n    if (this._markdown  !== value) {\n      this._markdown = value;\n      if (this.showRawMd) {\n        this._htmlToShow$.next(value);\n      }\n      this.compile();\n    }\n  }\n\n  @Output()\n  public onLinkClick = new EventEmitter<MarkdownLinkClicked>();\n\n  private _htmlToShow$ = new BehaviorSubject<string|SafeHtml>(\"\");\n  private _markdown: string;\n\n  public parsedHtml$: Observable<string|SafeHtml>;\n\n  constructor (private service: MarkdownService,\n               private element: ElementRef,\n               private sanitizer: DomSanitizer,\n               private cache: MarkdownCacheService) {\n    this.parsedHtml$ = this._htmlToShow$;\n  }\n\n  async ngOnInit() {\n    await this.compile();\n  }\n\n  @HostListener('click', ['$event'])\n  onClick(e: Event) {\n    let target = e.target as HTMLElement;\n\n    let aHref: HTMLLinkElement = null;\n\n    while (aHref == null && target != null) {\n      if (target.tagName === 'A') {\n        aHref = target as any;\n      }\n\n      target = target.parentElement;\n    }\n\n    if (aHref) {\n      this.onLinkClick.next({\n        event: e,\n        link: aHref\n      });\n    }\n  }\n\n  private async compile() {\n    try {\n      if (this.useCache) {\n        const cachedMarkdown = await this.cache.getCached(this._markdown);\n        if (!!cachedMarkdown) {\n          this._htmlToShow$.next(this.sanitizer.bypassSecurityTrustHtml(cachedMarkdown));\n          return;\n        }\n      }\n\n      const parsedHtml = await this.service.compileMarkdown(this._markdown, this.allowMermaid);\n\n      this._htmlToShow$.next(this.sanitizer.bypassSecurityTrustHtml(parsedHtml));\n\n      if (this.useCache) {\n        this.cache.saveCached(this._markdown, parsedHtml);\n      }\n    } catch (er) {\n      console.error(er);\n      this._htmlToShow$.next(er);\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RenderMarkdownComponent } from './render-markdown/render-markdown.component';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [RenderMarkdownComponent],\n  exports: [\n    RenderMarkdownComponent\n  ],\n  providers: []\n\n})\nexport class MarkdownModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n","export const KEY_BACKSPACE = \"Backspace\";\nexport const KEY_DELETE = \"Delete\";\nexport const KEY_ENTER  = \"Enter\";\nexport const KEY_ESCAPE  = \"Escape\";\nexport const KEY_TAB  = \"Tab\";\nexport const KEY_ARROW_UP = \"ArrowUp\";\nexport const KEY_ARROW_DOWN = \"ArrowDown\";\nexport const KEY_ARROW_LEFT = \"ArrowLeft\";\nexport const KEY_ARROW_RIGHT = \"ArrowRight\";\nexport const KEY_SHIFT = \"Shift\";\nexport const KEY_ALT = \"Alt\";\nexport const KEY_CTRL = \"Control\";\nexport const KEY_META = \"Meta\";\nexport const KEY_CAPS_LOCK = \"CapsLock\";\n\nexport const ALL_CHARS_REGEX = /^[1234567890a-zA-Z,;.:\\-_#+`?(){}|\\[\\]@]+$/;\n\nexport const IGNORE_KEY_EVENTS = [\n  KEY_ARROW_UP, KEY_ARROW_DOWN,\n  KEY_ARROW_LEFT, KEY_ARROW_RIGHT,\n  KEY_SHIFT, KEY_ALT, KEY_CTRL,\n  KEY_META, KEY_CAPS_LOCK, KEY_ESCAPE\n];\n","import { ApplicationRef, enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\nimport { enableDebugTools } from '@angular/platform-browser';\n\nif (environment.production) {\n  enableProdMode();\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  platformBrowserDynamic()\n    .bootstrapModule(AppModule)\n    .then(moduleRef => {\n      const applicationRef = moduleRef.injector.get(ApplicationRef);\n      const componentRef = applicationRef.components[0];\n      // allows to run `ng.profiler.timeChangeDetection();`\n      enableDebugTools(componentRef);\n    }).catch(err => window['console'].error(err));\n});\n\n\n","export default \":host {\\n  background: #2e2e2e;\\n  display: block;\\n  border: 1px solid lightgray;\\n  padding: 4px;\\n  --editor-min-height: 100px;\\n  --editor-max-height: 100px;\\n  --editor-font-size: 14px;\\n  --editor-line-height: 1.5;\\n  overflow-y: auto;\\n  min-height: var(--editor-min-height);\\n  max-height: var(--editor-max-height);\\n}\\n:host :host-context(.mat-form-field) {\\n  border: 0;\\n  padding: 0;\\n  background: inherit;\\n  width: 100%;\\n}\\n.editor {\\n  position: relative;\\n  padding: 0;\\n  -moz-tab-size: 2ch;\\n    -o-tab-size: 2ch;\\n       tab-size: 2ch;\\n  text-align: left;\\n  box-sizing: border-box;\\n  font-family: \\\"Fira code\\\", \\\"Fira Mono\\\", Consolas, Menlo, Courier, monospace;\\n  font-size: var(--editor-font-size);\\n  line-height: var(--editor-line-height);\\n  height: 100%;\\n}\\n/** shared styles */\\ntextarea, .highlight-area {\\n  margin: 0;\\n  border: 0;\\n  padding: 0;\\n  background: none;\\n  box-sizing: inherit;\\n  display: inherit;\\n  font-family: inherit;\\n  font-size: inherit;\\n  font-style: inherit;\\n  font-variant-ligatures: inherit;\\n  font-weight: inherit;\\n  letter-spacing: inherit;\\n  line-height: inherit;\\n  -moz-tab-size: inherit;\\n    -o-tab-size: inherit;\\n       tab-size: inherit;\\n  text-indent: inherit;\\n  text-rendering: inherit;\\n  text-transform: inherit;\\n  white-space: pre-wrap;\\n  word-break: keep-all;\\n  overflow-wrap: break-word;\\n  -webkit-font-smoothing: antialiased;\\n  min-height: var(--editor-min-height);\\n}\\ntextarea {\\n  outline: 0;\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  height: 100%;\\n  width: 100%;\\n  resize: none;\\n  overflow: hidden;\\n  caret-color: white;\\n  caret-shape: bar;\\n}\\ntextarea:focus {\\n  outline: none !important;\\n}\\n.highlight-area {\\n  position: relative;\\n  pointer-events: none;\\n}\\n.editor__no-debounce textarea {\\n  -webkit-text-fill-color: transparent;\\n}\\n:not(.editor__no-debounce):not(.visible-highlight) textarea {\\n  color: inherit;\\n}\\n:not(.editor__no-debounce):not(.visible-highlight) .highlight-area {\\n  opacity: 0;\\n}\\n:not(.editor__no-debounce).visible-highlight textarea {\\n  -webkit-text-fill-color: transparent;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2hpZ2hsaWdodC1lZGl0b3IuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxtQkFBQTtFQUNBLGNBQUE7RUFFQSwyQkFBQTtFQUNBLFlBQUE7RUFVQSwwQkFBQTtFQUNBLDBCQUFBO0VBQ0Esd0JBQUE7RUFDQSx5QkFBQTtFQUdBLGdCQUFBO0VBRUEsb0NBQUE7RUFDQSxvQ0FBQTtBQVpGO0FBTEU7RUFDRSxTQUFBO0VBQ0EsVUFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtBQU9KO0FBVUE7RUFDRSxrQkFBQTtFQUVBLFVBQUE7RUFFQSxrQkFBQTtJQUFBLGdCQUFBO09BQUEsYUFBQTtFQUVFLGdCQUFBO0VBQ0Esc0JBQUE7RUFFRiwwRUFBQTtFQUNBLGtDQUFBO0VBQ0Esc0NBQUE7RUFDQSxZQUFBO0FBWEY7QUFnQkEsbUJBQUE7QUFFQTtFQUNFLFNBQUE7RUFDQSxTQUFBO0VBQ0EsVUFBQTtFQUVBLGdCQUFBO0VBRUEsbUJBQUE7RUFDQSxnQkFBQTtFQUNBLG9CQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLCtCQUFBO0VBQ0Esb0JBQUE7RUFDQSx1QkFBQTtFQUNBLG9CQUFBO0VBQ0Esc0JBQUE7SUFBQSxvQkFBQTtPQUFBLGlCQUFBO0VBQ0Esb0JBQUE7RUFDQSx1QkFBQTtFQUNBLHVCQUFBO0VBRUEscUJBQUE7RUFDQSxvQkFBQTtFQUNBLHlCQUFBO0VBR0EsbUNBQUE7RUFHQSxvQ0FBQTtBQXJCRjtBQXdCQTtFQUNFLFVBQUE7RUFDQSxrQkFBQTtFQUNBLE1BQUE7RUFDQSxPQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0EsZ0JBQUE7RUFHQSxrQkFBQTtFQUNBLGdCQUFBO0FBdkJGO0FBeUJFO0VBQ0Usd0JBQUE7QUF2Qko7QUEyQkE7RUFDRSxrQkFBQTtFQUNBLG9CQUFBO0FBeEJGO0FBNkJFO0VBQ0Usb0NBQUE7QUExQko7QUFnQ0k7RUFDRSxjQUFBO0FBN0JOO0FBZ0NJO0VBQ0csVUFBQTtBQTlCUDtBQW1DSTtFQUNBLG9DQUFBO0FBakNKIiwiZmlsZSI6ImhpZ2hsaWdodC1lZGl0b3IuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gIGJhY2tncm91bmQ6ICMyZTJlMmU7XG4gIGRpc3BsYXk6IGJsb2NrO1xuXG4gIGJvcmRlcjogMXB4IHNvbGlkIGxpZ2h0Z3JheTtcbiAgcGFkZGluZzogNHB4O1xuXG4gIDpob3N0LWNvbnRleHQoLm1hdC1mb3JtLWZpZWxkKSB7XG4gICAgYm9yZGVyIDogMDtcbiAgICBwYWRkaW5nOiAwO1xuICAgIGJhY2tncm91bmQ6IGluaGVyaXQ7XG4gICAgd2lkdGg6IDEwMCU7XG4gIH1cblxuXG4gIC0tZWRpdG9yLW1pbi1oZWlnaHQ6IDEwMHB4O1xuICAtLWVkaXRvci1tYXgtaGVpZ2h0OiAxMDBweDtcbiAgLS1lZGl0b3ItZm9udC1zaXplOiAxNHB4O1xuICAtLWVkaXRvci1saW5lLWhlaWdodDogMS41O1xuXG5cbiAgb3ZlcmZsb3cteTogYXV0bztcblxuICBtaW4taGVpZ2h0OiB2YXIoLS1lZGl0b3ItbWluLWhlaWdodCk7XG4gIG1heC1oZWlnaHQ6IHZhcigtLWVkaXRvci1tYXgtaGVpZ2h0KTtcbn1cblxuXG4uZWRpdG9yIHtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuXG4gIHBhZGRpbmc6IDA7XG5cbiAgdGFiLXNpemU6IDJjaDtcblxuICAgIHRleHQtYWxpZ246IGxlZnQ7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcblxuICBmb250LWZhbWlseTogJ0ZpcmEgY29kZScsICdGaXJhIE1vbm8nLCBDb25zb2xhcywgTWVubG8sIENvdXJpZXIsIG1vbm9zcGFjZTtcbiAgZm9udC1zaXplOiB2YXIoLS1lZGl0b3ItZm9udC1zaXplKTtcbiAgbGluZS1oZWlnaHQ6IHZhcigtLWVkaXRvci1saW5lLWhlaWdodCk7XG4gIGhlaWdodDogMTAwJTtcblxuICAvL21pbi1oZWlnaHQ6IHZhcigtLWVkaXRvci1taW4taGVpZ2h0KTtcbn1cblxuLyoqIHNoYXJlZCBzdHlsZXMgKi9cblxudGV4dGFyZWEsIC5oaWdobGlnaHQtYXJlYSB7XG4gIG1hcmdpbjogMDtcbiAgYm9yZGVyOiAwO1xuICBwYWRkaW5nOjA7XG5cbiAgYmFja2dyb3VuZDogbm9uZTtcblxuICBib3gtc2l6aW5nOiBpbmhlcml0O1xuICBkaXNwbGF5OiBpbmhlcml0O1xuICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgZm9udC1zaXplOiBpbmhlcml0O1xuICBmb250LXN0eWxlOiBpbmhlcml0O1xuICBmb250LXZhcmlhbnQtbGlnYXR1cmVzOiBpbmhlcml0O1xuICBmb250LXdlaWdodDogaW5oZXJpdDtcbiAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7XG4gIGxpbmUtaGVpZ2h0OiBpbmhlcml0O1xuICB0YWItc2l6ZTogaW5oZXJpdDtcbiAgdGV4dC1pbmRlbnQ6IGluaGVyaXQ7XG4gIHRleHQtcmVuZGVyaW5nOiBpbmhlcml0O1xuICB0ZXh0LXRyYW5zZm9ybTogaW5oZXJpdDtcblxuICB3aGl0ZS1zcGFjZTogcHJlLXdyYXA7XG4gIHdvcmQtYnJlYWs6IGtlZXAtYWxsO1xuICBvdmVyZmxvdy13cmFwOiBicmVhay13b3JkO1xuXG4gIC8vIHRyYW5zaXRpb246IDIwbXMgY29sb3IsIG9wYWNpdHk7XG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xuXG5cbiAgbWluLWhlaWdodDogdmFyKC0tZWRpdG9yLW1pbi1oZWlnaHQpO1xufVxuXG50ZXh0YXJlYSB7XG4gIG91dGxpbmU6IDA7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICBoZWlnaHQ6IDEwMCU7XG4gIHdpZHRoOiAxMDAlO1xuICByZXNpemU6IG5vbmU7XG4gIG92ZXJmbG93OiBoaWRkZW47XG5cblxuICBjYXJldC1jb2xvcjogd2hpdGU7XG4gIGNhcmV0LXNoYXBlOiBiYXI7XG5cbiAgJjpmb2N1cyB7XG4gICAgb3V0bGluZTogbm9uZSAhaW1wb3J0YW50O1xuICB9XG59XG5cbi5oaWdobGlnaHQtYXJlYSB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XG5cbn1cblxuLmVkaXRvcl9fbm8tZGVib3VuY2Uge1xuICB0ZXh0YXJlYSB7XG4gICAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IHRyYW5zcGFyZW50O1xuICB9XG59XG5cbjpub3QoLmVkaXRvcl9fbm8tZGVib3VuY2UpIHtcbiAgJjpub3QoLnZpc2libGUtaGlnaGxpZ2h0KSB7XG4gICAgdGV4dGFyZWEge1xuICAgICAgY29sb3I6IGluaGVyaXQ7XG4gICAgfVxuXG4gICAgLmhpZ2hsaWdodC1hcmVhIHtcbiAgICAgICBvcGFjaXR5OiAwO1xuICAgIH1cbiAgfVxuXG4gICYudmlzaWJsZS1oaWdobGlnaHQge1xuICAgIHRleHRhcmVhIHtcbiAgICAtd2Via2l0LXRleHQtZmlsbC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgfVxuICB9XG59XG4iXX0= */\";","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  NgZone,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Output,\n  SimpleChanges,\n  ViewChild\n} from '@angular/core';\nimport { ElementCssService } from '@gewd/ng-utils/css-props';\nimport { HighlightService } from './highlight.service';\nimport { BehaviorSubject, combineLatest, Subject } from 'rxjs';\nimport { debounceTime, distinctUntilChanged, switchMap, takeUntil } from 'rxjs/operators';\nimport { MorphdomService } from '@gewd/ng-utils/morphdom';\nimport { handleTab, HandleTabResponse } from './editor.functions';\nimport { ALL_CHARS_REGEX, IGNORE_KEY_EVENTS, KEY_TAB } from './editor.keys';\n\n\n@Component({\n  selector: 'gewd-prism-editor',\n  templateUrl: './highlight-editor.component.html',\n  styleUrls: ['./highlight-editor.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    ElementCssService\n  ]\n})\nexport class HighlightEditorComponent implements OnInit, OnChanges, OnDestroy {\n\n  @Input()\n  public value = '';\n\n  @Input()\n  public language = '';\n\n  @Input()\n  public debounceTime = 600;\n\n  @Input()\n  public useTabs = false;\n\n  @Input()\n  public spaceWidth = 2;\n\n  @Output()\n  public changed = new EventEmitter<string>();\n\n  @Output()\n  public value$ = new BehaviorSubject(this.value);\n  public language$ = new BehaviorSubject(this.language);\n  public debounce$ = new BehaviorSubject(this.debounceTime);\n\n  public showHighlighedCode$ = new BehaviorSubject(false);\n\n  @Input()\n  public allCharsRegex = ALL_CHARS_REGEX;\n\n  @ViewChild('textarea')\n  public textarea: ElementRef<HTMLTextAreaElement>;\n\n  @ViewChild('highlightArea')\n  public highlightArea: ElementRef<HTMLPreElement>;\n\n  @Output()\n  focussed$ = new EventEmitter();\n\n  private lastKeyTriggered$ = new BehaviorSubject<KeyboardEvent>(null);\n  private _destroyed$ = new Subject();\n\n  constructor(private cd: ChangeDetectorRef,\n              private cssProps: ElementCssService,\n              private prism: HighlightService,\n              private ngZone: NgZone,\n              private morphService: MorphdomService) {\n  }\n\n  ngOnInit(): void {\n    this.updateLinesAmount();\n\n    // once the debounceTime changes\n    // recreate the observable\n    this.debounce$.pipe(\n      switchMap(debounceTimeInterval =>  combineLatest([\n        this.value$.pipe(\n          distinctUntilChanged(),\n        ),\n        this.language$.pipe(\n          distinctUntilChanged()\n        ),\n        this.lastKeyTriggered$.pipe(\n          distinctUntilChanged()\n        )\n      ]).pipe(\n          debounceTime(debounceTimeInterval),\n        )\n      ),\n      takeUntil(this._destroyed$),\n    ).subscribe(async ([code, language, lastKeyEvent]) => {\n      this.showHighlighedCode$.next(false);\n\n      await this.highlightToPreTag(code, language, lastKeyEvent)\n\n      this.showHighlighedCode$.next(true);\n\n      // incase multiple enters scroll the textarea one off, scroll back up\n      // this.textarea.nativeElement.scrollTo(0,0);\n    });\n\n    this.value$.pipe(\n      takeUntil(this._destroyed$),\n      distinctUntilChanged(),\n    ).subscribe(value => {\n      this.value = value;\n      this.changed.emit(value);\n    });\n\n    this.highlightToPreTag('\\n', null, null);\n  }\n\n  ngOnDestroy(): void {\n    this._destroyed$.next();\n    this._destroyed$.complete();\n  }\n\n  onChange(value: string) {\n    this.value$.next(value);\n\n    this.cd.markForCheck();\n  }\n\n  private updateLinesAmount () {\n    if (!this.value) {\n      return;\n    }\n\n    const lines = this.value.split('\\n').length;\n\n    this.cssProps.updateElementVars({\n      '--lines-amount': lines\n    });\n  }\n\n  ngOnChanges ({ value, language, debounceTime }: SimpleChanges): void {\n    if (value) {\n      this.value$.next(value.currentValue);\n    }\n\n    if (language) {\n      this.language$.next(language.currentValue);\n    }\n\n    if (debounceTime) {\n      this.debounce$.next(debounceTime.currentValue);\n    }\n  }\n\n  onKeyDown (event: KeyboardEvent, textarea: HTMLTextAreaElement) {\n    if (event.key.match(this.allCharsRegex) && !IGNORE_KEY_EVENTS.includes(event.key)) {\n      this.showHighlighedCode$.next(false);\n    }\n\n    this.value$.next(textarea.value);\n\n    if (event.key === KEY_TAB) {\n      const handledTab = handleTab(\n        event,\n        textarea.value,\n        textarea.selectionStart,\n        textarea.selectionEnd,\n        this.useTabs,\n        this.spaceWidth\n      );\n\n      this.applyToTextarea(handledTab);\n\n      if (handledTab.textChanged) {\n        this.showHighlighedCode$.next(false);\n      }\n    }\n\n\n  }\n\n  onKeyUp (event: KeyboardEvent, value: string) {\n    this.value$.next(value);\n    this.lastKeyTriggered$.next(event);\n  }\n\n  private applyToTextarea(result: HandleTabResponse) {\n    if (result.textChanged) {\n      this.textarea.nativeElement.value =result.newValue;\n      this.textarea.nativeElement.selectionStart =result.newSelectionStart;\n      this.textarea.nativeElement.selectionEnd =result.newSelectionEnd;\n    }\n  }\n\n  private async highlightToPreTag(\n    codeToHighlight: string,\n    language: string,\n    lastKeyEvent: KeyboardEvent\n  ) {\n    if (!codeToHighlight) {\n       this.morphService.morphElement(this.highlightArea,\n      `<pre>\\n</pre>`, {\n        childrenOnly: true\n      });\n\n      return '';\n    }\n\n    const innerHighlighed = await this.prism.highlightCode(codeToHighlight, language);\n\n    let addedBeginNewLine = '', addedEndNewLine = '';\n\n    // somehow if the new html starts with a newline\n    // its not added to the element\n    if (innerHighlighed.startsWith('\\n')) {\n      addedBeginNewLine = '\\n';\n    }\n\n    if (innerHighlighed.endsWith('\\n')) {\n      addedEndNewLine = '\\n';\n    }\n\n    this.morphService.morphElement(this.highlightArea,\n      `<pre>${addedBeginNewLine}${innerHighlighed}${addedEndNewLine}</pre>`, {\n        childrenOnly: true\n      });\n\n    if (lastKeyEvent) {\n      this.textarea.nativeElement.blur();\n      this.textarea.nativeElement.focus();\n    }\n\n    return innerHighlighed;\n  }\n}\n","import {\n  Component,\n  ChangeDetectionStrategy,\n  ViewChild,\n  ViewContainerRef,\n  ComponentFactoryResolver,\n  Injector, Input, OnChanges,\n  SimpleChanges, EventEmitter, OnDestroy, Output, ChangeDetectorRef, OnInit\n} from '@angular/core';\nimport {takeUntil} from 'rxjs/operators';\nimport {Subject} from 'rxjs';\nimport { DynamicLoaderRegistry } from '@gewd/lazy/registry';\nimport { InputMap, OutputMap } from '@gewd/lazy/contracts';\n\n@Component({\n  selector: 'gewd-lazy-component',\n  template: `\n    <ng-container #targetContainer>\n    </ng-container>\n\n    <ng-content *ngIf=\"!component\"></ng-content>\n    <ng-content *ngIf=\"componentLoading | async\"\n                select=\"[isLoading]\"></ng-content>\n  `,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class LazyComponent implements OnInit, OnChanges, OnDestroy {\n  @Input()\n  public component: string;\n\n  @Input()\n  public componentInputs: InputMap;\n\n  @Input()\n  public componentOutputs: OutputMap;\n\n  @ViewChild('targetContainer', {read: ViewContainerRef, static: true})\n  public targetContainer: ViewContainerRef;\n\n  @Output()\n  public componentCreated = new EventEmitter();\n  @Output()\n  public componentLoading = new EventEmitter();\n\n  private componentInstance = null;\n\n  private unsubForOutputs$ = new Subject();\n\n  constructor (private resolver: ComponentFactoryResolver,\n               private injector: Injector,\n               private cd: ChangeDetectorRef) {\n  }\n\n  async setComponent () {\n    if (!this.component) {\n      return;\n    }\n\n    this.componentLoading.emit(true);\n    this.cd.detectChanges();\n\n    // cached promise\n    const importComponent = DynamicLoaderRegistry.LazyComponents[this.component].getValue();\n\n    const imported = await importComponent;\n\n    const keys = Object.keys(imported);\n\n    // get the first object of the imported js-module\n    const theComp = imported[keys[0]];\n\n    const componentFactory = this.resolver.resolveComponentFactory(theComp);\n\n    // only have one dynamic component render\n    this.targetContainer.clear();\n\n    const componentRef = this.targetContainer.createComponent(componentFactory, 0, this.injector);\n    componentRef.changeDetectorRef.markForCheck();\n\n    this.componentLoading.emit(false);\n    this.componentCreated.emit(componentRef.instance);\n    this.componentInstance = componentRef.instance;\n    this.setInputs();\n    this.setOutputs();\n  }\n\n  ngOnChanges (changes: SimpleChanges): void {\n    if (changes['component']) {\n      this.setComponent();\n    }\n    if (changes['componentInputs']) {\n      this.setInputs();\n    }\n    if (changes['componentOutputs']) {\n      this.setOutputs();\n    }\n  }\n\n  ngOnDestroy () {\n    this.unsubOutputs();\n  }\n\n  private setInputs () {\n    // console.info('setInputs', this.componentInstance, this.componentInputs);\n    if (this.componentInstance && this.componentInputs) {\n      const inputs = Object.keys(this.componentInputs);\n\n      for (const inputKey of inputs) {\n        // console.info('set ', inputKey)\n        this.componentInstance[inputKey] = this.componentInputs[inputKey];\n      }\n    }\n  }\n\n  private unsubOutputs () {\n    this.unsubForOutputs$.next();\n  }\n\n  private setOutputs () {\n    this.unsubOutputs();\n\n    if (this.componentInstance && this.componentOutputs) {\n      const outputs = Object.keys(this.componentOutputs);\n\n      for (const outputKey of outputs) {\n        // console.info('subscribe to', outputKey);\n        if (this.componentInstance[outputKey]) {\n          const emitter = this.componentInstance[outputKey] as EventEmitter<any>;\n          emitter.pipe(\n            takeUntil(this.unsubForOutputs$),\n          ).subscribe(this.componentOutputs[outputKey]);\n        }\n      }\n    }\n  }\n\n  ngOnInit (): void {\n    this.setComponent();\n  }\n}\n","import {\n  Component,\n  ChangeDetectionStrategy,\n  ViewChild,\n  ViewContainerRef,\n  ComponentFactoryResolver,\n  Injector, Input, OnChanges,\n  SimpleChanges, EventEmitter, OnDestroy,\n  Compiler, Output, ChangeDetectorRef\n} from '@angular/core';\nimport {takeUntil} from 'rxjs/operators';\nimport {Subject} from 'rxjs';\nimport { DynamicLoaderRegistry } from '@gewd/lazy/registry';\nimport { InputMap, OutputMap } from '@gewd/lazy/contracts';\n\n@Component({\n  selector: 'gewd-lazy-module-component',\n  template: `\n    <ng-container #targetContainer></ng-container>\n    <ng-content *ngIf=\"!component || !moduleAlias\"></ng-content>\n    <ng-content *ngIf=\"componentLoading | async\"\n                select=\"[isLoading]\"></ng-content>\n    <span *ngIf=\"showError && error\" class=\"error\">{{error}}</span>\n  `,\n  styles: [`\n    .error {\n      color: red;\n    }\n  `],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class LazyModuleComponent implements OnChanges, OnDestroy {\n\n  @Input()\n  public moduleAlias: string;\n\n  @Input()\n  public component: string;\n\n  @Input()\n  public componentInputs: InputMap;\n\n  @Input()\n  public componentOutputs: OutputMap;\n\n  @ViewChild('targetContainer', {read: ViewContainerRef, static: true})\n  public targetContainer: ViewContainerRef;\n\n  @Output()\n  public componentCreated = new EventEmitter();\n\n  @Output()\n  public componentLoading = new EventEmitter();\n\n  @Input()\n  public showError = true;\n\n  public error: string;\n  private componentInstance = null;\n\n  private unsubForOutputs$ = new Subject();\n  private alreadySettingComponent = false;\n\n  constructor (private resolver: ComponentFactoryResolver,\n               private angularCompiler: Compiler,\n               private injector: Injector,\n               private cd: ChangeDetectorRef) {\n\n\n  }\n\n  async setComponent () {\n    if (!this.moduleAlias || !this.component || this.alreadySettingComponent) {\n      return;\n    }\n\n    this.error = '';\n\n    this.alreadySettingComponent = true;\n\n    const moduleInDictionary = DynamicLoaderRegistry.LazyModuleComponents[this.moduleAlias];\n\n    if (!moduleInDictionary) {\n      this.error = `Module ${this.moduleAlias} not registered`;\n      this.cd.markForCheck();\n      return;\n    }\n\n\n    this.componentLoading.emit(true);\n\n    if (!moduleInDictionary.loadedModule) {\n      // load and cache\n      moduleInDictionary.loadedModule = moduleInDictionary.load\n        .getValue()\n        .then(importedModule => {\n          return this.angularCompiler.compileModuleAndAllComponentsAsync(importedModule);\n        })\n        .then(factory => {\n          return {\n            ngModule: factory.ngModuleFactory.create(this.injector),\n            componentFactories: factory.componentFactories\n          };\n        });\n    }\n\n    const moduleFactory = await moduleInDictionary.loadedModule;\n\n    if (!moduleFactory.ngModule.instance.getComponents) {\n      this.error = `Module ${this.moduleAlias} does not have a getComponents-Method`;\n      this.cd.markForCheck();\n      return;\n    }\n\n    const components = moduleFactory.ngModule.instance.getComponents();\n\n    const componentInfo = components.find(cf => cf.name === this.component);\n\n    if (!componentInfo) {\n      this.error = `Component '${this.component}' does not exist in the 'getComponents'-Method`;\n      this.cd.markForCheck();\n      return;\n    }\n\n    const componentType = componentInfo.componentType;\n\n    const componentFactory = moduleFactory.ngModule.componentFactoryResolver.resolveComponentFactory(componentType);\n\n    // only have one dynamic component render\n    this.targetContainer.clear();\n\n    const componentRef = this.targetContainer.createComponent(componentFactory, 0, this.injector);\n    componentRef.changeDetectorRef.markForCheck();\n\n    this.componentLoading.emit(false);\n    this.componentCreated.emit(componentRef.instance);\n    this.componentInstance = componentRef.instance;\n    this.setInputs();\n    this.setOutputs();\n\n    this.alreadySettingComponent = false;\n    this.cd.detectChanges();\n  }\n\n  ngOnChanges (changes: SimpleChanges): void {\n    if (this.changedAndDifferent(changes, 'component')) {\n      // console.info('setting component because of component');\n      this.setComponent();\n    }\n    if (this.changedAndDifferent(changes, 'moduleAlias')) {\n      // console.info('setting component because of moduleAlias');\n      this.setComponent();\n    }\n    if (changes['componentInputs']) {\n      this.setInputs();\n    }\n    if (changes['componentOutputs']) {\n      this.setOutputs();\n    }\n  }\n\n  ngOnDestroy () {\n    this.unsubOutputs();\n  }\n\n  private changedAndDifferent(changes: SimpleChanges, name: string) {\n    const change = changes[name];\n\n    if (change && change.currentValue !== change.previousValue) {\n      return true;\n    }\n\n    return false;\n  }\n\n  private setInputs () {\n    if (this.componentInstance && this.componentInputs) {\n      const inputs = Object.keys(this.componentInputs);\n\n      for (const inputKey of inputs) {\n        this.componentInstance[inputKey] = this.componentInputs[inputKey];\n      }\n    }\n  }\n\n  private unsubOutputs () {\n    this.unsubForOutputs$.next();\n  }\n\n  private setOutputs () {\n    this.unsubOutputs();\n\n    if (this.componentInstance && this.componentOutputs) {\n      const outputs = Object.keys(this.componentOutputs);\n\n      for (const outputKey of outputs) {\n        if (this.componentInstance[outputKey]) {\n          const emitter = this.componentInstance[outputKey] as EventEmitter<any>;\n          emitter.pipe(\n            takeUntil(this.unsubForOutputs$),\n          ).subscribe(this.componentOutputs[outputKey]);\n        }\n      }\n    }\n  }\n}\n","import {Inject, InjectionToken, ModuleWithProviders, NgModule} from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LazyComponent } from './lazy.component';\nimport { LazyModuleComponent } from './lazy-module.component';\nimport {DynamicLoaderRegistry, LazyModuleComponentConfig} from \"@gewd/lazy/registry\";\n\nexport interface RegisterLazyLoaderModuleEntry {\n  moduleName: string,\n  moduleConfig: LazyModuleComponentConfig\n}\n\nexport const REGISTORY_LAZY_LOADED_MODULE_TOKEN = new InjectionToken<RegisterLazyLoaderModuleEntry>(\n  '@gewd/lazy-loader/LazyModuleComponentConfig'\n);\n\n\n@NgModule({\n  declarations: [\n    LazyComponent,\n    LazyModuleComponent\n  ],\n  exports: [\n    LazyComponent,\n    LazyModuleComponent\n  ],\n  imports: [\n    CommonModule\n  ]\n\n})\nexport class GewdLazyLoaderModule {\n  static withLazy (entries: RegisterLazyLoaderModuleEntry[]): ModuleWithProviders<GewdLazyLoaderModule> {\n    const providers = entries.map(useValue => {\n      return {\n        provide: REGISTORY_LAZY_LOADED_MODULE_TOKEN,\n        useValue,\n        multi: true\n      }\n    });\n\n    return {\n      ngModule: GewdLazyLoaderModule,\n      providers\n    };\n  }\n\n  constructor (@Inject(REGISTORY_LAZY_LOADED_MODULE_TOKEN)\n               registerLazyLoads: RegisterLazyLoaderModuleEntry[]) {\n    for (const lazyInfo of registerLazyLoads) {\n      DynamicLoaderRegistry.RegisterLazyModuleComponent(lazyInfo.moduleName, lazyInfo.moduleConfig);\n    }\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n","import { Inject, Injectable, InjectionToken, NgZone, Optional, PLATFORM_ID } from '@angular/core';\nimport { MarkdownServiceOptions, MarkdownWorker, PrismServiceOptions, PrismWorker } from '@gewd/markdown/contracts';\nimport { MarkdownOptionsInjectorToken } from '@gewd/markdown/service';\nimport { isPlatformBrowser } from '@angular/common';\nimport { Remote, wrap } from 'comlink';\n\nexport const PrismOptionsInjectorToken = new InjectionToken<PrismServiceOptions>('MarkdownOptionsInjectorToken');\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class HighlightService {\n  private workerProxy: Remote<PrismWorker>;\n\n  constructor(@Optional() @Inject(MarkdownOptionsInjectorToken)\n              readonly markdownOptions: MarkdownServiceOptions,\n              @Optional() @Inject(PrismOptionsInjectorToken)\n              readonly prismOptions: PrismServiceOptions,\n\n               @Inject(PLATFORM_ID) platformId: Object,\n              private ngZone: NgZone\n              ) {\n     if (isPlatformBrowser(platformId)) {\n       if (markdownOptions) {\n         const wrappedWorker = wrap<MarkdownWorker>(markdownOptions.getWorker());\n         wrappedWorker.init(markdownOptions.options);\n\n         this.workerProxy = wrappedWorker;\n       }\n\n       if (prismOptions) {\n         this.workerProxy  = wrap<PrismWorker>(prismOptions.getWorker());\n         this.workerProxy.initPrism(prismOptions.options);\n       }\n    }\n  }\n\n  public highlightCode (code: string, lang: string): Promise<string> {\n    if (!this.workerProxy) {\n      return;\n    }\n\n   return this.ngZone.runOutsideAngular(async () => {\n      // needed?\n      return await this.workerProxy.highlight(code, lang)\n    });\n  }\n}\n","export * from './public_api';\n","export interface HandleTabResponse {\n  textChanged: boolean;\n  newValue: string;\n  newSelectionStart: number;\n  newSelectionEnd: number;\n}\n\nexport function handleTab (event: KeyboardEvent,\n                           currentValue: string,\n                           startSelection: number,\n                           endSelection: number,\n                           useTabs = false,\n                           spaceLength = 2)\n  : HandleTabResponse {\n    const result: HandleTabResponse = {\n      textChanged: false,\n      newValue: '',\n      newSelectionStart: 0,\n      newSelectionEnd: 0\n    };\n\n    if (event.key !== \"Tab\") {\n      return result;\n    }\n\n    const backwards = event.shiftKey;\n\n    const valueToWork = useTabs\n      ? '\\t'\n      : ''.padEnd(spaceLength, ' ');\n\n    const textValueUntilStart = currentValue.substr(0, startSelection);\n    const textValueFromStart = currentValue.substr(endSelection);\n\n\n    if (backwards) {\n      if (textValueUntilStart.endsWith(valueToWork)) {\n        result.newValue = textValueUntilStart.substr(0, startSelection - valueToWork.length) + textValueFromStart;\n        result.newSelectionStart = result.newSelectionEnd = startSelection - valueToWork.length;\n\n        result.textChanged = true;\n      }\n    } else {\n      result.newValue = textValueUntilStart + valueToWork + textValueFromStart;\n      result.newSelectionStart = result.newSelectionEnd = startSelection + valueToWork.length;\n\n      result.textChanged = true;\n    }\n\n    event.preventDefault();\n\n    return result;\n}\n","import { ComponentFactory, NgModuleRef, Type } from '@angular/core';\nimport { Lazy } from '@gewd/lazy/utils';\nimport { LazyModule } from '@gewd/lazy/contracts';\n\ninterface LoadedModule {\n  ngModule: NgModuleRef<any>;\n  componentFactories: ComponentFactory<any>[];\n}\n\nexport interface LazyModuleComponentConfig {\n  load: Lazy<Type<LazyModule>>; // the external import call to get the module\n  loadedModule?: Promise<LoadedModule>; // cached\n}\n\nexport class DynamicLoaderRegistry {\n  // Registry + Cache\n  public static readonly LazyComponents: { [key: string]: Lazy<any> } = {};\n\n  public static RegisterLazyComponent(componentName: string, lazyImport: Lazy<any>) {\n    DynamicLoaderRegistry.LazyComponents[componentName] = lazyImport;\n  }\n\n  // Registry\n  public static readonly LazyModuleComponents: { [key: string]: LazyModuleComponentConfig } = {};\n\n  public static RegisterLazyModuleComponent(moduleName: string, lazyImport: LazyModuleComponentConfig) {\n    DynamicLoaderRegistry.LazyModuleComponents[moduleName] = lazyImport;\n  }\n\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n","export default \"<div class=\\\"above\\\">\\n  <ng-content select=\\\"[markdown__above]\\\"></ng-content>\\n</div>\\n<div [innerHTML]=\\\"parsedHtml$ | async\\\"></div>\\n<div class=\\\"below\\\">\\n  <ng-content select=\\\"[markdown__below]\\\"></ng-content>\\n</div>\\n\";","export {registerIcons} from \"./register_icons\";\nexport * from './register_icons.module';\n","export * from './public_api';\n","export default \"<div class=\\\"editor\\\"\\n     [class.visible-highlight]=\\\"showHighlighedCode$ | async\\\"\\n     [class.editor__no-debounce]=\\\"debounceTime === 0\\\">\\n\\n  <textarea #textarea [value]=\\\"value\\\"\\n            (change)=\\\"onChange(textarea.value)\\\"\\n            (keydown)=\\\"onKeyDown($event, textarea)\\\"\\n            (keyup)=\\\"onKeyUp($event, textarea.value)\\\"\\n            (focus)=\\\"focussed$.next(true)\\\"\\n            (blur)=\\\"focussed$.next(false)\\\"\\n            spellcheck=\\\"false\\\"\\n  ></textarea>\\n  <pre class=\\\"highlight-area\\\" #highlightArea></pre>\\n</div>\\n\\n\";","import { ElementRef, Injectable, NgZone } from '@angular/core';\n\nimport morphdom from 'morphdom';\n\nexport interface MorphDomOptions {\n  getNodeKey?: (node: Node) => any;\n  onBeforeNodeAdded?: (node: Node) => Node;\n  onNodeAdded?: (node: Node) => Node;\n  onBeforeElUpdated?: (fromEl: HTMLElement, toEl: HTMLElement) => boolean;\n  onElUpdated?: (el: HTMLElement) => void;\n  onBeforeNodeDiscarded?: (node: Node) => boolean;\n  onNodeDiscarded?: (node: Node) => void;\n  onBeforeElChildrenUpdated?: (fromEl: HTMLElement, toEl: HTMLElement) => boolean;\n  childrenOnly?: boolean;\n}\n\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MorphdomService {\n\n  constructor(private ngZone: NgZone) {\n\n  }\n\n  public morphElement(element: ElementRef<Element>,\n                      newElementContent: string,\n                      options: MorphDomOptions) {\n     this.ngZone.runOutsideAngular(() => {\n        morphdom(element.nativeElement,\n          newElementContent,\n          options\n        );\n      });\n  }\n}\n","import { Directive, ElementRef, EventEmitter, Input, OnChanges, Output, SimpleChanges } from '@angular/core';\nimport { MorphDomOptions, MorphdomService } from './morphdom.service';\n\n\n@Directive({\n  // tslint:disable-next-line:directive-selector\n  selector: '[morphDom]'\n})\nexport class MorphdomDirective implements OnChanges {\n\n  // tslint:disable-next-line:no-input-rename\n  @Input('morphDom')\n  public morphDom: string;\n\n  @Input()\n  public tagName = 'div';\n\n  @Input()\n  public options: MorphDomOptions;\n\n  @Output()\n  public done = new EventEmitter<ElementRef<Element>>();\n\n  constructor(private element: ElementRef<Element>,\n              private morphService: MorphdomService) {\n  }\n\n  ngOnChanges ({morphDom}: SimpleChanges): void {\n    if (morphDom && morphDom.currentValue) {\n      this.morphService.morphElement(this.element,\n        `<${this.tagName}>${morphDom.currentValue}</${this.tagName}>`,\n        this.options);\n\n      this.done.emit(this.element);\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { MorphdomDirective } from './morphdom.directive';\n\n\n@NgModule({\n  declarations: [MorphdomDirective],\n  exports: [\n    MorphdomDirective\n  ],\n  imports: [\n    CommonModule\n  ]\n})\nexport class MorphdomModule { }\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJleGFtcGxlLXBhbmVsLmNvbXBvbmVudC5jc3MifQ== */\";","module.exports = __webpack_public_path__ + \"0-es2015.worker.js\"","import {MatIconRegistry} from \"@angular/material/icon\";\nimport {DomSanitizer} from \"@angular/platform-browser\";\n\nexport interface RegistryIconsPair {\n  pathToIcons: string,\n  iconArray: string[]\n}\n\nexport function registerIcons(\n  iconRegistry: MatIconRegistry,\n  sanitizer: DomSanitizer,\n  iconPair: RegistryIconsPair\n  ) {\n  for (const icon of iconPair.iconArray) {\n    iconRegistry.addSvgIcon(icon, sanitizer.bypassSecurityTrustResourceUrl(\n      `${iconPair.pathToIcons}/${icon}.svg`\n    ));\n  }\n}\n","import {\n  ApplicationRef,\n  ComponentFactoryResolver,\n  Inject,\n  InjectionToken,\n  Injector,\n  ModuleWithProviders,\n  NgModule,\n  Type\n} from '@angular/core';\nimport { CommonModule, DOCUMENT } from '@angular/common';\n\nexport interface BootstrapComponentConfig {\n  elementName: string;\n  component: Type<any>;\n}\n\nexport const BOOTSTRAP_COMPONENT_TOKEN = new InjectionToken<BootstrapComponentConfig>('@gewd/ng-utils/BootstrapComponentConfig');\n\nexport function bootstrapComponent(\n  document: Document,\n  resolver: ComponentFactoryResolver,\n  injector: Injector,\n  appRef: ApplicationRef,\n  bootstrapConfig: BootstrapComponentConfig\n) {\n    const domElement = document.createElement(bootstrapConfig.elementName);\n\n    document.body.append(domElement);\n\n    const factory = resolver.resolveComponentFactory(bootstrapConfig.component);\n    const ref = factory.create(injector, [], domElement);\n\n    appRef.attachView(ref.hostView);\n}\n\n/** @dynamic - allows Document in ngc build */\n@NgModule({\n  declarations: [],\n  imports: [\n    CommonModule\n  ]\n})\nexport class BootstrapComponentModule {\n  static component (useValue: BootstrapComponentConfig): ModuleWithProviders<BootstrapComponentModule> {\n    return {\n      ngModule: BootstrapComponentModule,\n      providers: [\n        { provide: BOOTSTRAP_COMPONENT_TOKEN, useValue, multi: true }\n      ]\n    };\n  }\n\n  constructor (@Inject(DOCUMENT) document: Document,\n               resolver: ComponentFactoryResolver,\n               injector: Injector,\n               appRef: ApplicationRef,\n               @Inject(BOOTSTRAP_COMPONENT_TOKEN) bootstrapConfigs: BootstrapComponentConfig[]) {\n    for (const bootstrapConfig of bootstrapConfigs) {\n      bootstrapComponent(document, resolver, injector, appRef, bootstrapConfig);\n    }\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n","export default \":host ::ng-deep foreignObject {\\n  overflow: visible;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3JlbmRlci1tYXJrZG93bi5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFRTtFQUFnQixpQkFBQTtBQUFsQiIsImZpbGUiOiJyZW5kZXItbWFya2Rvd24uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCA6Om5nLWRlZXAge1xuICAvLyBmaXggbWVybWFpZCBvdmVyZmxvdyA6KVxuICBmb3JlaWduT2JqZWN0IHsgb3ZlcmZsb3c6IHZpc2libGU7IH1cbn1cbiJdfQ== */\";","export * from './public_api';\n","export * from './public_api';\n","import { ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\nimport { take } from 'rxjs/operators';\n// todo fix nx enforce module boundaries\nimport { LazyComponent, LazyModuleComponent } from '@gewd/lazy/loader';\nimport { HttpClient } from '@angular/common/http';\nimport { FormBuilder } from '@angular/forms';\n\n// TODO Splitup each panel functions/vars into its own component\n\n@Component({\n  selector: 'gewd-utils-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n  markDownReadmeMD$ = this.http.get('./assets/readme/markdown/README.md', {\n    responseType: 'text'\n  });\n\n  ngErrorOverlay$ = this.http.get('./assets/ng-error-overlay.md', {\n    responseType: 'text'\n  });\n\n  matUtilsReadmeMD$ = this.http.get('./assets/readme/mat-utils/README.md', {\n    responseType: 'text'\n  });\n\n\n  public currentPrismExample: string;\n\n  public editorLanguage$ = new BehaviorSubject('');\n  public editorExample$ = new BehaviorSubject('');\n\n  aForm =  new FormBuilder().group({'editor': ''});\n\n  constructor (private cd: ChangeDetectorRef,\n               private http: HttpClient) {\n  }\n\n  setLazyPortalModuleComp (lazyModuleComponent: LazyModuleComponent) {\n    lazyModuleComponent.moduleAlias = 'portal-module';\n    lazyModuleComponent.component = 'PortalModuleComp';\n    lazyModuleComponent.setComponent();\n  }\n\n  makeError () {\n    let errorSource: any;\n\n    errorSource.subString();\n  }\n\n  updateValueChanged ($event: string) {\n    this.currentPrismExample = $event;\n    switch($event ) {\n      case 'ts_example':\n      {\n        this.editorLanguage$.next('ts');\n\n        this.editorExample$.next(`\nimport { DynamicLoaderRegistry } from '@gewd/lazy/registry';\nimport { Lazy } from '@gewd/lazy/utils';\n\nDynamicLoaderRegistry.LazyComponents = {\n  'test-comp': new Lazy<any>(() => import('./lazy-wrapper/test-comp'))\n};\n\nDynamicLoaderRegistry.LazyModuleComponents = {\n\n  'test-module': {\n    load: new Lazy<any>(\n      () => import(/* webpackChunkName: \"lazy-test-module\" */ './lazy-wrapper/test-module-comp')\n      .then(({TestModule}) => TestModule)\n    )\n  },\n  'portal-module': {\n    load: new Lazy<any>(\n      () => import(/* webpackChunkName: \"lazy-portal-module\" */ './lazy-wrapper/lazy-portal-source')\n        .then(({PortalModule}) => PortalModule)\n    )\n  },\n};\n        `.trim())\n        break;\n      }\n      case 'readme_md': {\n        this.editorLanguage$.next('markdown');\n\n        this.markDownReadmeMD$.pipe(\n          take(1)\n        ).subscribe(value => {\n          this.editorExample$.next(value);\n        })\n\n        break;\n      }\n      default: {\n        this.editorExample$.next('');\n\n        break;\n      }\n    }\n  }\n\n  openedEditorPanel () {\n    if (!this.currentPrismExample) {\n      this.updateValueChanged('empty');\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CustomFormControlComponent } from './custom-form-control.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\n\n@NgModule({\n  declarations: [CustomFormControlComponent],\n  exports: [\n    CustomFormControlComponent\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule\n  ]\n})\nexport class CustomFormControlModule { }\n","import {\n  Component,\n  ElementRef,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  Optional,\n  Self,\n  SimpleChanges\n} from '@angular/core';\nimport { ControlValueAccessor, FormBuilder, NgControl } from '@angular/forms';\nimport { MatFormField, MatFormFieldControl } from '@angular/material/form-field';\nimport { Observable, Subject } from 'rxjs';\nimport { FocusMonitor } from '@angular/cdk/a11y';\n\n@Component({\n  selector: 'gewd-custom-form-control',\n  template: `<ng-content></ng-content>`,\n  providers: [\n    { provide: MatFormFieldControl, useExisting: CustomFormControlComponent }\n  ]\n})\nexport class CustomFormControlComponent implements OnInit, ControlValueAccessor, MatFormFieldControl<any>, OnDestroy, OnChanges {\n  get value(): any {\n    return this._value;\n  }\n\n  @Input()\n  set value(value: any) {\n    this._value = value;\n    this.stateChangeSubject.next();\n    if (this.onChange) {\n      this.onChange(value);\n    }\n  }\n\n  @Input('aria-describedby')\n  userAriaDescribedBy: string;\n\n  @Input()\n  placeholder: string;\n\n  @Input()\n  required: boolean;\n\n  @Input()\n  disabled: boolean;\n\n  private _value: any;\n\n  @Input()\n  focused: boolean;\n\n  get errorState(): boolean {\n    return false;\n  }\n\n  onChange = (_: any) => {\n  };\n  onTouched = () => {\n  };\n\n  get empty() {\n    return typeof this.value === 'number' ? false : !this.value;\n  }\n\n  get shouldLabelFloat() {\n    return this.focused || !this.empty;\n  }\n\n\n  constructor(\n    formBuilder: FormBuilder,\n    private _focusMonitor: FocusMonitor,\n    private _elementRef: ElementRef<HTMLElement>,\n    @Optional() public _formField: MatFormField,\n    @Optional() @Self() public ngControl: NgControl) {\n\n    if (this.ngControl != null) {\n      this.ngControl.valueAccessor = this;\n    }\n  }\n\n  ngOnInit(): void {\n  }\n\n  ngOnDestroy() {\n    this._focusMonitor.stopMonitoring(this._elementRef);\n  }\n\n  setDescribedByIds(ids: string[]) {\n    const controlElement = this._elementRef.nativeElement;\n    controlElement.setAttribute('aria-describedby', ids.join(' '));\n  }\n\n  onContainerClick() {\n\n  }\n\n  writeValue(val: any): void {\n    this._value = val;\n  }\n\n  registerOnChange(fn: any): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: any): void {\n    this.onTouched = fn;\n  }\n\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n  }\n\n  readonly autofilled: boolean;\n  readonly controlType: string;\n  readonly id: string;\n  readonly stateChangeSubject = new Subject<void>();\n  readonly stateChanges: Observable<void> = this.stateChangeSubject;\n\n\n  ngOnChanges({value}: SimpleChanges): void {\n    if (value && this.onChange) {\n      this.onChange(value.currentValue);\n      this.stateChangeSubject.next();\n    }\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HighlightEditorComponent } from './highlight-editor.component';\nimport { CssPropsModule } from '@gewd/ng-utils/css-props';\nimport { MorphdomModule } from '@gewd/ng-utils/morphdom';\n\n@NgModule({\n  declarations: [HighlightEditorComponent],\n  exports: [\n    HighlightEditorComponent\n  ],\n  imports: [\n    CommonModule,\n    CssPropsModule,\n    MorphdomModule\n  ]\n})\nexport class HighlightEditorModule { }\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RenderMarkdownComponent } from './render-markdown/render-markdown.component';\n\n@NgModule({\n  imports: [CommonModule],\n  declarations: [RenderMarkdownComponent],\n  exports: [\n    RenderMarkdownComponent\n  ],\n  providers: []\n\n})\nexport class MarkdownModule {}\n","export class Lazy<T> {\n  private cachedPromise: Promise<T>;\n\n  static create<T>(loader: () => Promise<T>): Lazy<T> {\n    return new Lazy<T>(loader);\n  }\n\n  constructor (private loader: () => Promise<T>) {\n\n  }\n\n  public getValue (): Promise<T> {\n    if (this.cachedPromise) {\n      return this.cachedPromise;\n    }\n\n    return this.cachedPromise = this.loader();\n  }\n\n}\n","export function simpleHash (str: string): string {\n  let hash = 0, i, chr;\n  if (!str || str.length === 0) return '';\n  for (i = 0; i < str.length; i++) {\n    chr = str.charCodeAt(i);\n    // tslint:disable-next-line:no-bitwise\n    hash = ((hash << 5) - hash) + chr;\n\n    // tslint:disable-next-line:no-bitwise\n    hash |= 0; // Convert to 32bit integer\n  }\n  return hash.toString(16);\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n","import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class MarkdownCacheService {\n  public getCached(rawMarkdown: string): Promise<string> {\n    return Promise.resolve('');\n  }\n\n  public saveCached(rawMarkdown: string, renderedMarkdown: string) {\n\n  }\n\n  public getCachedPart(type: string, raw: string): Promise<string> {\n    return Promise.resolve('');\n  }\n\n  public saveCachedPart(type: string, raw: string, rendered: string) {\n\n  }\n}\n","import { InjectionToken } from '@angular/core';\nimport { MarkdownServiceOptions } from '@gewd/markdown/contracts';\n\nexport const MarkdownOptionsInjectorToken = new InjectionToken<MarkdownServiceOptions>('MarkdownOptionsInjectorToken');\n","import { Inject, Injectable, PLATFORM_ID } from '@angular/core';\n\nimport { Remote, wrap } from 'comlink';\nimport { DEFAULT_MERMAID_OPTIONS, MarkdownServiceOptions, MarkdownWorker } from '@gewd/markdown/contracts';\nimport { MarkdownCacheService } from './markdown-cache.service';\nimport { DOCUMENT, isPlatformBrowser } from '@angular/common';\nimport { MarkdownOptionsInjectorToken } from './injection-token';\nimport { simpleHash } from '@gewd/markdown/utils';\n\n\nconst compiledRegex = /<div class=\"mermaid\">([\\s\\S]*?)<\\/div>/mg;\n\nlet renderId = 0;\n\n/** @dynamic - allows Document in ngc build */\n@Injectable({\n  providedIn: 'root'\n})\nexport class MarkdownService {\n  private canTriggerMermaidLoad = false;\n  private mermaidAddedToPage = false;\n  private workerProxy: Remote<MarkdownWorker>;\n  private mermaidCacheKey = '';\n  private mermaidConfig = Object.assign({},\n    DEFAULT_MERMAID_OPTIONS,\n    this.markdownOptions.mermaidOptions);\n\n\n  constructor (@Inject(MarkdownOptionsInjectorToken)\n               readonly markdownOptions: MarkdownServiceOptions,\n               private readonly cache: MarkdownCacheService,\n               @Inject(DOCUMENT)\n               private document: Document,\n               @Inject(PLATFORM_ID) platformId: Object\n  ) {\n    if (isPlatformBrowser(platformId)) {\n      this.workerProxy = wrap<MarkdownWorker>(markdownOptions.getWorker());\n      if (markdownOptions.options) {\n        this.workerProxy.init(markdownOptions.options);\n      }\n    }\n    if (markdownOptions.mermaidPath) {\n      this.canTriggerMermaidLoad = true;\n      this.mermaidCacheKey = `mermaid_${this.mermaidConfig.theme}_${simpleHash(this.mermaidConfig.themeCSS) }`\n    }\n  }\n\n  public async compileMarkdown (str: string, triggerMermaid = false): Promise<string> {\n    if (!this.workerProxy) {\n      return;\n    }\n\n    let parsedMarkdown = await this.workerProxy.compile(str);\n\n    if (triggerMermaid && parsedMarkdown.match(/class=\"mermaid\"/)) {\n      await this.triggerMermaidLoadScript();\n\n      const mermaidInstance = (window as any).mermaid;\n      if (mermaidInstance) {\n        const matched = parsedMarkdown.match(compiledRegex);\n\n        for (const mermaid of matched) {\n          const innerContent = this.cleanUpMermaidRaw(mermaid);\n\n          let rendered = '';\n\n          const cached = await this.cache.getCachedPart(this.mermaidCacheKey, innerContent);\n\n          if (!!cached) {\n            rendered = cached;\n          } else {\n            let errorStr = \"\";\n            try {\n              mermaidInstance.parse(innerContent);\n            } catch (e) {\n              errorStr = e.str;\n            }\n\n            if (!errorStr) {\n              rendered = mermaidInstance.render(`sub${renderId++}`, innerContent,\n                () => {\n                });\n              this.cache.saveCachedPart(this.mermaidCacheKey, innerContent, rendered);\n            } else {\n              rendered = `<pre>${errorStr}\\n${innerContent}</pre>`;\n            }\n          }\n\n          parsedMarkdown = parsedMarkdown.replace(mermaid, `<pre><code class=\"mermaid\">${rendered}</code></pre>`);\n        }\n      }\n    }\n\n    return parsedMarkdown;\n  }\n\n  private cleanUpMermaidRaw (mermaidRaw) {\n    return mermaidRaw\n      .replace(/&gt;/mg, '>')\n      .replace(/&lt;/mg, '<')\n      .replace('<div class=\"mermaid\">', '')\n      .replace('</div>', '');\n  }\n\n  private triggerMermaidLoadScript () {\n    if (!this.canTriggerMermaidLoad) {\n      return Promise.resolve();\n    }\n\n    if (this.canTriggerMermaidLoad && !this.mermaidAddedToPage) {\n      this.mermaidAddedToPage = true;\n      const _mermaidNode = this.document.createElement('div');\n      _mermaidNode.hidden = true;\n\n      this.document.body.appendChild(_mermaidNode);\n\n      return new Promise((resolve, reject) => {\n\n        const scriptTag = this.document.createElement('script');\n        scriptTag.src = this.markdownOptions.mermaidPath;\n        // trigger mermaid init\n        scriptTag.onload = () => {\n\n          const mermaid = (window as any).mermaid;\n          mermaid.initialize(this.mermaidConfig);\n\n          resolve();\n\n          mermaid.parseError = function(err) {\n            console.error('MarkdownService, Mermaid: ', err);\n          };\n        };\n\n        this.document.body.appendChild(scriptTag);\n      });\n    }\n\n    if (this.canTriggerMermaidLoad && this.mermaidAddedToPage) {\n      const mermaidInstance = (window as any).mermaid;\n      if (mermaidInstance) {\n        return Promise.resolve();\n      }\n\n      return Promise.reject();\n    }\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n","import { MarkdownCacheService } from '@gewd/markdown/service';\nimport { Inject, Injectable, PLATFORM_ID } from '@angular/core';\nimport * as localforage from 'localforage';\nimport { simpleHash } from '@gewd/markdown/utils';\nimport { isPlatformBrowser } from '@angular/common';\n\n@Injectable()\nexport class MdCacheExampleService extends MarkdownCacheService {\n  private localForageCache: LocalForage;\n  private enabled = true;\n\n  constructor (@Inject(PLATFORM_ID) platformId: Object) {\n    super();\n\n    // skip localforage calls during pre-render step\n    this.enabled = isPlatformBrowser(platformId);\n\n    if (this.enabled) {\n      this.createInstance();\n    }\n  }\n\n  async saveCachedPart (type: string, raw: string, rendered: string) {\n    if (!this.enabled) {\n      return;\n    }\n\n    await this.localForageCache.ready();\n    const hash = simpleHash(raw);\n\n    this.localForageCache.setItem(`${type}/${hash}`, rendered);\n  }\n\n  async getCachedPart (type: string, raw: string): Promise<string> {\n    if (!this.enabled) {\n      return;\n    }\n\n    await this.localForageCache.ready();\n    const hash = simpleHash(raw);\n\n    const result = await this.localForageCache.getItem<string>(`${type}/${hash}`);\n\n    return result;\n  }\n\n  async getCached (rawMarkdown: string): Promise<string> {\n    if (!this.enabled) {\n      return;\n    }\n\n    await this.localForageCache.ready();\n    const hash = simpleHash(rawMarkdown);\n\n    const result = await this.localForageCache.getItem<string>(hash);\n\n    return result;\n  }\n\n  async saveCached (rawMarkdown: string, renderedMarkdown: string) {\n    if (!this.enabled) {\n      return;\n    }\n\n    await this.localForageCache.ready();\n    const hash = simpleHash(rawMarkdown);\n    this.localForageCache.setItem(hash, renderedMarkdown)\n  }\n\n  private async createInstance() {\n    this.localForageCache = localforage.createInstance({\n      name: 'markdown-cache',\n    });\n  }\n}\n","import { ErrorHandler, Inject, Injectable, InjectionToken, Optional } from '@angular/core';\nimport { BehaviorSubject } from 'rxjs';\n\nexport interface ErrorInterface {\n  name: string;\n  message: string;\n  stack: string;\n}\n\nexport interface NgErrorConfig {\n  zIndex: number;\n  ignoreErrors: string[];\n}\n\nconst DEFAULT_CONFIG: NgErrorConfig = {\n  zIndex: 10000,\n  ignoreErrors: []\n};\n\nexport const NG_ERROR_CONFIG_TOKEN = new InjectionToken<NgErrorConfig>('@gewd/ng-utils/NgErrorConfig');\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ErrorHandlerService implements ErrorHandler {\n\n  public error$ = new BehaviorSubject<ErrorInterface>(null);\n\n  constructor(\n    @Optional() @Inject(NG_ERROR_CONFIG_TOKEN)\n    public readonly config: NgErrorConfig\n  ) {\n    this.config = Object.assign({}, DEFAULT_CONFIG, config);\n\n    window.addEventListener('error', ev => {\n      this.handleError(ev.error);\n    });\n  }\n\n  handleError (error: Error): void {\n    if (this.config.ignoreErrors.includes(error.name)) {\n      return;\n    }\n\n    this.error$.next({\n      name: error.name,\n      message: error.message,\n      stack: error.stack\n    });\n  }\n}\n","import { ChangeDetectorRef, Component, ElementRef, OnDestroy, OnInit } from '@angular/core';\nimport { ErrorHandlerService } from './error-handler.service';\nimport { BehaviorSubject, Subject } from 'rxjs';\nimport { map, scan, takeUntil } from 'rxjs/operators';\nimport { CssPropsService } from '@gewd/ng-utils/css-props';\n\n@Component({\n  selector: 'ng-error',\n  templateUrl: './ng-error.component.html',\n  styleUrls: ['./ng-error.component.scss']\n})\nexport class NgErrorComponent implements OnInit, OnDestroy {\n\n  public showIndex = 0;\n\n  public visible$ = new BehaviorSubject(false);\n\n  public errors$ = this.errorService.error$.pipe(\n    // add all errors to an array\n    // only keep the newest 10\n    scan((a, c) => [c, ...a].slice(0, 10), []),\n    map(value => value.filter(v => !!v))\n  );\n\n  private _destroy$ = new Subject();\n\n  constructor(private errorService: ErrorHandlerService,\n              private cd: ChangeDetectorRef,\n              private cssProps: CssPropsService,\n              private element: ElementRef<HTMLElement>) {\n    cssProps.updateElementVars(element.nativeElement, {\n      '--overlay-zindex': errorService.config.zIndex\n    })\n  }\n\n  ngOnInit(): void {\n    this.errors$.pipe(\n      takeUntil(this._destroy$)\n    ).subscribe(value => {\n      this.visible$.next(value.length > 0);\n      this.cd.markForCheck();\n    })\n  }\n\n  ngOnDestroy (): void {\n    this._destroy$.next();\n    this._destroy$.complete();\n  }\n\n  hide () {\n    this.visible$.next(false);\n  }\n}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { ErrorInterface } from '../error-handler.service';\nimport ErrorStackParser from 'error-stack-parser';\n\n@Component({\n  selector: 'error-overlay',\n  templateUrl: './error-overlay.component.html',\n  styleUrls: ['./error-overlay.component.scss']\n})\nexport class ErrorOverlayComponent implements OnInit {\n\n  @Input()\n  error: ErrorInterface;\n\n  public errorStack: any[];\n\n  constructor() { }\n\n  ngOnInit(): void {\n    this.errorStack = ErrorStackParser.parse(this.error);\n  }\n\n}\n","import { ErrorHandler, ModuleWithProviders, NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgErrorComponent } from './ng-error.component';\nimport { ErrorOverlayComponent } from './error-overlay/error-overlay.component';\nimport { ErrorHandlerService, NG_ERROR_CONFIG_TOKEN } from './error-handler.service';\nimport { BootstrapComponentConfig, BootstrapComponentModule } from '@gewd/ng-utils/bootstrap-component';\nimport { SimplePagerModule } from '@gewd/ng-utils/components';\nimport { DynamicPortalModule } from '@gewd/ng-utils/dynamic-portal';\n\n@NgModule({\n  declarations: [NgErrorComponent, ErrorOverlayComponent],\n  entryComponents: [NgErrorComponent],\n  imports: [\n    CommonModule,\n    BootstrapComponentModule.component({\n      elementName: 'ng-error',\n      component: NgErrorComponent\n    }),\n    SimplePagerModule,\n    DynamicPortalModule\n  ],\n  providers: [\n    ErrorHandlerService,\n    {provide: ErrorHandler, useExisting: ErrorHandlerService},\n  ]\n})\nexport class NgErrorOverlayModule {\n  static config (useValue: BootstrapComponentConfig): ModuleWithProviders<BootstrapComponentModule> {\n    return {\n      ngModule: NgErrorOverlayModule,\n      providers: [\n        { provide: NG_ERROR_CONFIG_TOKEN, useValue }\n      ]\n    };\n  }\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n\nexport {ErrorHandlerService as b,NG_ERROR_CONFIG_TOKEN as a} from './ng-error/error-handler.service';\nexport {ErrorOverlayComponent as c} from './ng-error/error-overlay/error-overlay.component';","import { Injectable, TemplateRef } from '@angular/core';\nimport { Subject } from 'rxjs';\nimport { filter, map, startWith } from 'rxjs/operators';\n\nexport const enum PortalSourceActionType {\n  Added,\n  Removed\n}\n\nexport class PortalSourceAction {\n  constructor (public type: PortalSourceActionType,\n               public key: string) {\n  }\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PortalHubService {\n  private templateSourceSubject = new Subject<PortalSourceAction>();\n  private templateSourceHub: { [key: string]: TemplateRef<any> } = {};\n\n  constructor () { }\n\n  public getTemplate$(key: string) {\n    return this.templateSourceSubject.pipe(\n      filter(a => a.key === key),\n      map(a => {\n        switch (a.type) {\n          case PortalSourceActionType.Added: {\n            return this.templateSourceHub[key];\n          }\n          case PortalSourceActionType.Removed: {\n            return null;\n          }\n        }\n      }),\n      startWith(this.templateSourceHub[key])\n    );\n  }\n\n  public registerTemplate (key: string, templateRef: TemplateRef<any>) {\n    if (this.templateSourceHub[key]) {\n      return;\n    }\n\n    this.templateSourceHub[key] = templateRef;\n    this.templateSourceSubject.next(new PortalSourceAction(PortalSourceActionType.Added, key));\n  }\n\n\n  public unregisterTemplate (key: string) {\n    if (!this.templateSourceHub[key]) {\n      return;\n    }\n\n    this.templateSourceHub[key] = null;\n    this.templateSourceSubject.next(new PortalSourceAction(PortalSourceActionType.Removed, key));\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  Component,\n  Input,\n  OnChanges,\n  OnDestroy,\n  OnInit,\n  SimpleChanges,\n  TemplateRef\n} from '@angular/core';\nimport { BehaviorSubject, Observable, Subscription } from 'rxjs';\nimport { PortalHubService } from '../portal-hub.service';\nimport { switchMap } from 'rxjs/operators';\n\n@Component({\n  selector: 'dynamic-portal',\n  templateUrl: './dynamic-portal.component.html',\n  styleUrls: ['./dynamic-portal.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DynamicPortalComponent implements OnInit, OnChanges, OnDestroy {\n  @Input()\n  key: string;\n\n  templateToShow$: Observable<TemplateRef<any>>;\n\n  private key$ = new BehaviorSubject('');\n\n  constructor (private hub: PortalHubService) {\n    this.templateToShow$ = this.key$.pipe(\n      switchMap(key => this.hub.getTemplate$(key))\n    );\n  }\n\n  ngOnInit () {\n    this.checkKeyAndPushTemplate();\n  }\n\n  ngOnChanges (changes: SimpleChanges): void {\n    if (changes['key']) {\n      this.checkKeyAndPushTemplate();\n    }\n  }\n\n  ngOnDestroy (): void {\n\n  }\n\n  private checkKeyAndPushTemplate () {\n    this.key$.next(this.key);\n  }\n}\n","import {Directive, Input, OnChanges, OnDestroy, OnInit, SimpleChanges, TemplateRef} from '@angular/core';\nimport { PortalHubService } from './portal-hub.service';\n\n@Directive({\n  selector: '[dynamicPortalSource]'\n})\nexport class PortalSourceDirective implements OnInit, OnDestroy, OnChanges {\n  @Input('dynamicPortalSource')\n  public key: string;\n\n  constructor (private templateRef: TemplateRef<any>,\n               private hub: PortalHubService) {\n  }\n\n  ngOnChanges (changes: SimpleChanges): void {\n    const keyChange = changes['key'];\n    if (keyChange) {\n      if (keyChange.previousValue) {\n        this.unregisterTemplate(keyChange.previousValue);\n      }\n\n      this.registerTemplate(keyChange.currentValue);\n    }\n  }\n\n  ngOnDestroy (): void {\n    this.unregisterTemplate(this.key);\n  }\n\n  ngOnInit (): void {\n    if (!this.key) {\n      return;\n    }\n\n    this.registerTemplate(this.key);\n  }\n\n  private registerTemplate (key: string) {\n    this.hub.registerTemplate(key, this.templateRef);\n  }\n\n  private unregisterTemplate (key: string) {\n    this.hub.unregisterTemplate(key);\n  }\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {DynamicPortalComponent} from './dynamic-portal/dynamic-portal.component';\nimport {PortalSourceDirective} from './portal-source.directive';\n\n@NgModule({\n  declarations: [DynamicPortalComponent, PortalSourceDirective],\n  exports: [\n    DynamicPortalComponent,\n    PortalSourceDirective\n  ],\n  imports: [\n    CommonModule\n  ],\n  providers: []\n})\nexport class DynamicPortalModule {\n}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public_api';\n","import { Component, ElementRef, EventEmitter, HostListener, Input, OnInit, Output } from '@angular/core';\nimport { BehaviorSubject, Observable } from 'rxjs';\nimport { MarkdownCacheService, MarkdownService } from '@gewd/markdown/service';\nimport { DomSanitizer, SafeHtml } from '@angular/platform-browser';\n\nexport interface MarkdownLinkClicked {\n  event: Event;\n  link: HTMLLinkElement;\n}\n\n@Component({\n  selector: 'gewd-markdown',\n  templateUrl: './render-markdown.component.html',\n  styleUrls: ['./render-markdown.component.scss']\n})\nexport class RenderMarkdownComponent implements OnInit {\n  @Input()\n  public showRawMd = false;\n\n  @Input()\n  public useCache = false;\n\n  @Input()\n  public allowMermaid = true;\n\n  @Input()\n  public mermaidTheme: string;\n\n  get markdown (): string {\n    return this._markdown;\n  }\n\n  @Input()\n  set markdown (value: string) {\n    if (this._markdown  !== value) {\n      this._markdown = value;\n      if (this.showRawMd) {\n        this._htmlToShow$.next(value);\n      }\n      this.compile();\n    }\n  }\n\n  @Output()\n  public onLinkClick = new EventEmitter<MarkdownLinkClicked>();\n\n  private _htmlToShow$ = new BehaviorSubject<string|SafeHtml>(\"\");\n  private _markdown: string;\n\n  public parsedHtml$: Observable<string|SafeHtml>;\n\n  constructor (private service: MarkdownService,\n               private element: ElementRef,\n               private sanitizer: DomSanitizer,\n               private cache: MarkdownCacheService) {\n    this.parsedHtml$ = this._htmlToShow$;\n  }\n\n  async ngOnInit() {\n    await this.compile();\n  }\n\n  @HostListener('click', ['$event'])\n  onClick(e: Event) {\n    let target = e.target as HTMLElement;\n\n    let aHref: HTMLLinkElement = null;\n\n    while (aHref == null && target != null) {\n      if (target.tagName === 'A') {\n        aHref = target as any;\n      }\n\n      target = target.parentElement;\n    }\n\n    if (aHref) {\n      this.onLinkClick.next({\n        event: e,\n        link: aHref\n      });\n    }\n  }\n\n  private async compile() {\n    try {\n      if (this.useCache) {\n        const cachedMarkdown = await this.cache.getCached(this._markdown);\n        if (!!cachedMarkdown) {\n          this._htmlToShow$.next(this.sanitizer.bypassSecurityTrustHtml(cachedMarkdown));\n          return;\n        }\n      }\n\n      const parsedHtml = await this.service.compileMarkdown(this._markdown, this.allowMermaid);\n\n      this._htmlToShow$.next(this.sanitizer.bypassSecurityTrustHtml(parsedHtml));\n\n      if (this.useCache) {\n        this.cache.saveCached(this._markdown, parsedHtml);\n      }\n    } catch (er) {\n      console.error(er);\n      this._htmlToShow$.next(er);\n    }\n  }\n}\n","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}