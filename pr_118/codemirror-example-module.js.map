{"version":3,"file":"codemirror-example-module.js","mappings":"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CA;AACA;AACA;AACA;AACA;AACAjwE,UAAU,CAACwvE,mBAAmB,GAAGA,mBAAmB;AACpD;AACA;AACA;AACA;AACA;AACA;AACAxvE,UAAU,CAACmiF,kBAAkB,GAAG5S,oBAAoB;AACpD;AACA;AACA;AACA;AACA;AACA;AACAvvE,UAAU,CAACsvE,uBAAuB,GAAGA,uBAAuB;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAtvE,UAAU,CAACmhB,WAAW,GAAGA,WAAW;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAnhB,UAAU,CAACw4B,YAAY,GAAGA,YAAY;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAx4B,UAAU,CAAC4wE,kBAAkB,GAAGA,kBAAkB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA5wE,UAAU,CAACo0B,aAAa,GAAGA,aAAa;AACxC;AACA;AACA;AACA;AACA;AACA;AACAp0B,UAAU,CAACgzC,SAAS,GAAGA,SAAS;AAChC;AACA;AACA;AACA;AACA;AACAhzC,UAAU,CAAC86F,QAAQ,GAAG,aAAa/2F,oDAAK,CAACoF,MAAM,CAAC;EAAEuD,OAAO,EAAE+3B,MAAM,IAAIA,MAAM,CAACxiC,MAAM,GAAGwiC,MAAM,CAAC,CAAC,CAAC,GAAG;AAAG,CAAC,CAAC;AACtG;AACA;AACA;AACA;AACAzkC,UAAU,CAACqa,iBAAiB,GAAGA,iBAAiB;AAChD;AACA;AACA;AACA;AACAra,UAAU,CAAC2wE,gBAAgB,GAAGA,gBAAgB;AAC9C;AACA;AACA;AACA;AACA3wE,UAAU,CAAC+8E,YAAY,GAAG,aAAa/8E,UAAU,CAACqa,iBAAiB,CAACtd,EAAE,CAAC;EAAE,OAAO,EAAE;AAAkB,CAAC,CAAC;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAiD,UAAU,CAACu4B,QAAQ,GAAG,aAAa70B,0DAAW,CAACyF,MAAM,CAAC,CAAC;AACvD;AACA,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AAE7lB,CAAC,CAAC,CAAC;EACZ;AACJ;AACA;EACIhuB,OAAO,EAAEguB,CAAC,CAAC,CAAC;EACZ;AACJ;AACA;EACIwmB,OAAO,EAAExmB,CAAC,CAAC,CAAC;EACZ;AACJ;AACA;EACIgU,IAAI;EACJ;AACJ;AACA;AACA;EACIg4E,YAAY,EAAEhsF,CAAC,CAACgU,IAAI,CAAC;EACrB;AACJ;AACA;AACA;EACIxW,UAAU,EAAEwC,CAAC,CAACgU,IAAI,CAAC;EACnB;AACJ;AACA;AACA;EACIg+B,qBAAqB,EAAEhyC,CAAC,CAACgU,IAAI,CAAC;EAC9B;AACJ;AACA;AACA;AACA;EACIiS,UAAU,EAAEqiE,GAAG,CAACE,cAAc,CAAC,CAAC;EAChC;AACJ;AACA;AACA;AACA;EACI92C,QAAQ,EAAE42C,GAAG,CAACE,cAAc,CAAC,CAAC;EAC9B;AACJ;AACA;AACA;AACA;AACA;EACI/2C,QAAQ,EAAE62C,GAAG,CAACE,cAAc,CAAC,CAAC;EAC9B;AACJ;AACA;AACA;AACA;EACI72C,QAAQ,EAAE22C,GAAG,CAACE,cAAc,CAAC,CAAC;EAC9B;AACJ;AACA;AACA;EACIriE,KAAK,EAAEmiE,GAAG,CAACE,cAAc,CAAC,CAAC;EAC3B;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;EACIxiE,OAAO,EAAEsiE,GAAG,CAACE,cAAc,CAAC;AAChC,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMyD,gBAAgB,GAAG12E,cAAc,CAAC,CACpC;EAAEkO,GAAG,EAAEnO,IAAI,CAACyP,IAAI;EAAEjkC,KAAK,EAAE;AAAW,CAAC,EACrC;EAAE2iC,GAAG,EAAEnO,IAAI,CAAC0P,OAAO;EAAElkC,KA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","sources":["./apps/demo/src/app/examples/codemirror-example/codemirror-example.component.ts","./apps/demo/src/app/examples/codemirror-example/codemirror-example.module.ts","./libs/components/codemirror/codemirror.component.ts","./libs/components/codemirror/codemirror.module.ts","./libs/components/codemirror/index.ts","./libs/components/codemirror/public_api.ts","./apps/demo/src/app/examples/codemirror-example/codemirror-example.component.css","./libs/components/codemirror/codemirror.component.scss","./node_modules/@codemirror/autocomplete/dist/index.js","./node_modules/@codemirror/commands/dist/index.js","./node_modules/@codemirror/lang-javascript/dist/index.js","./node_modules/@codemirror/language/dist/index.js","./node_modules/@codemirror/lint/dist/index.js","./node_modules/@codemirror/search/dist/index.js","./node_modules/@codemirror/state/dist/index.js","./node_modules/@codemirror/theme-one-dark/dist/index.js","./node_modules/@codemirror/view/dist/index.js","./node_modules/@lezer/common/dist/index.js","./node_modules/@lezer/highlight/dist/index.js","./node_modules/@lezer/javascript/dist/index.js","./node_modules/@lezer/lr/dist/index.js","./node_modules/codemirror/dist/index.js","./node_modules/crelt/index.js","./node_modules/style-mod/src/style-mod.js","./node_modules/w3c-keyname/index.js"],"sourcesContent":["import { ChangeDetectorRef, Component } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { emojiExampleList } from '../../example-emoji-list';\nimport { oneDark } from '@codemirror/theme-one-dark';\nimport { javascript } from '@codemirror/lang-javascript';\nimport { autocompletion, completionKeymap } from '@codemirror/autocomplete';\nimport { keymap } from '@codemirror/view';\nimport { Compartment, Extension } from '@codemirror/state';\nimport { basicSetup } from 'codemirror';\nimport { CodemirrorComponent } from '@gewd/components/codemirror';\n\nconst language = new Compartment();\n\nconst sharedExtensions: Extension[] = [\n  oneDark,\n\n  language.of(javascript({\n    typescript: true\n  }))\n];\n\n@Component({\n  selector: 'gewd-codemirror-example',\n  templateUrl: './codemirror-example.component.html',\n  styleUrls: ['./codemirror-example.component.css']\n})\nexport class CodemirrorExampleComponent {\n  private subscription: Subscription;\n\n  emojiList = emojiExampleList;\n\n  exampleJsText = `\nexport const some = 'string';\n\nexport function test() {\n   return 42;\n}\n  `.trim();\n\n  visibleJsCode = this.exampleJsText;\n\n  longExampleText = `\n// long code example\nexport const some = 'string';\n\nexport function test() {\n   return 42;\n}\n\nexport const some = 'string';\n\nexport function test() {\n   return 42;\n}\n\nexport const some = 'string';\n\nexport function test() {\n   return 42;\n}\n\nexport const some = 'string';\n\nexport function test() {\n   return 42;\n}\n  `.trim();\n\n  normalExtensions: Extension[] = [\n    ...sharedExtensions\n  ];\n\n  extensions: Extension[] = [\n    basicSetup,\n    // overrides first..\n\n    ...sharedExtensions,\n\n    autocompletion(),\n    keymap.of([\n      ...completionKeymap\n    ])\n  ];\n\n  constructor (private cd: ChangeDetectorRef) {\n  }\n\n  ngOnDestroy (): void {\n    this.subscription.unsubscribe();\n  }\n\n  updateCodemirror (codemirror: CodemirrorComponent, textarea: HTMLTextAreaElement): void {\n    codemirror.value = textarea.value;\n    this.cd.detectChanges();\n  }\n\n  insertText (codemirror: CodemirrorComponent): void {\n    codemirror.insertText(\n      codemirror.selectedRange.from,\n      codemirror.selectedRange.to,\n      'test'\n    );\n\n    codemirror.codeMirrorView.focus();\n  }\n\n  replaceCode (): void {\n    this.visibleJsCode = `\n      function thisIs() {\n        areplacedText.shouldWork();\n      }\n    `;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CodemirrorExampleComponent } from './codemirror-example.component';\nimport { LazyModule, LazyModuleComponentInfo } from '@gewd/lazy/contracts';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { HighlightEditorModule } from '@gewd/components/highlight-editor';\nimport { MarkdownModule } from '@gewd/markdown';\nimport { CodemirrorModule } from '@gewd/components/codemirror';\n\n\n@NgModule({\n  declarations: [CodemirrorExampleComponent],\n  imports: [\n    CommonModule,\n    MatTabsModule,\n    HighlightEditorModule,\n    MarkdownModule,\n    CodemirrorModule\n  ]\n})\nexport class CodemirrorExampleModule implements LazyModule {\n  getComponents (): LazyModuleComponentInfo[] {\n    return [\n      {\n        name: 'CodeMirrorExample',\n        componentType: CodemirrorExampleComponent\n      }\n    ];\n  }\n}\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { EditorView, keymap } from '@codemirror/view';\nimport { EditorState, Extension } from '@codemirror/state';\nimport { indentOnInput } from '@codemirror/language';\nimport { defaultKeymap, indentLess, indentMore } from '@codemirror/commands';\n\n@Component({\n  selector: 'gewd-codemirror',\n  template: '',\n  styleUrls: ['./codemirror.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CodemirrorComponent implements OnInit, OnChanges {\n\n  private _changedByValue = false;\n\n  // current value of the codemirror-editor\n  private _value = '';\n\n  get value () {\n    return this._value;\n  }\n\n  @Input()\n  set value (_val) {\n    this._updateValue(_val);\n  }\n\n  @Output()\n  public changed = new EventEmitter<string>();\n\n  @Input()\n  public codemirrorExtensions: Extension[];\n\n  @Input()\n  public editorState: EditorState;\n\n  @Output()\n  public codemirrorCreated = new EventEmitter();\n\n  public codeMirrorView: EditorView | null = null;\n\n  public selectedRange: {from: number, to: number} | null = null;\n\n  constructor(\n    private element: ElementRef<HTMLElement>,\n    private cd: ChangeDetectorRef\n  ) { }\n\n  ngOnInit(): void {\n    if (!this.editorState) {\n      this.editorState = this.createEditorState();\n    }\n\n    this.codeMirrorView = new EditorView({\n      state: this.editorState,\n      parent: this.element.nativeElement\n    });\n\n    this.codemirrorCreated.emit();\n  }\n\n  ngOnChanges({value, codemirrorExtensions, editorState}: SimpleChanges): void {\n    if (value) {\n      this._updateValue(value.currentValue);\n    }\n\n    if (codemirrorExtensions) {\n      this.replaceEditorState();\n    }\n\n    if (editorState) {\n      this.codeMirrorView?.setState(editorState.currentValue);\n    }\n  }\n\n  public insertText(from: number, to: number, text: string): void  {\n    const transaction = this.codeMirrorView?.state.update({\n      changes: {\n        from,\n        to,\n        insert: text\n      },\n      selection: {anchor: from + text.length},\n      scrollIntoView: true\n    });\n\n    if (transaction) {\n      this.codeMirrorView?.dispatch(transaction);\n    }\n  }\n\n  public replaceSelection(text: string): void  {\n    const selectionTransaction = this.codeMirrorView.state.replaceSelection(text);\n\n    this.codeMirrorView.dispatch(selectionTransaction);\n  }\n\n  private _updateValue(value: string) {\n    this._changedByValue = true;\n\n    if (this._value !== value) {\n      this.insertText(\n        0,\n        this.codeMirrorView?.state.doc.length,\n        value\n      );\n    }\n\n    this._value = value;\n\n    this._changedByValue = false;\n  }\n\n  private replaceEditorState(){\n    this.codeMirrorView?.setState(this.createEditorState());\n  }\n\n  private createEditorState () {\n    return EditorState.create({\n      doc: this.value,\n      extensions: [\n        ...this.codemirrorExtensions,\n\n        keymap.of([\n          ...defaultKeymap,\n          {\n            key: 'Tab',\n            preventDefault: true,\n            run: indentMore,\n          },\n          {\n            key: 'Shift-Tab',\n            preventDefault: true,\n            run: indentLess,\n          },\n        ]),\n\n        indentOnInput(),\n        // The basic setup needs to be at the end DUH\n        // basicSetup,\n        EditorState.changeFilter.of((tr) => {\n          if (tr.newSelection) {\n            const ranges = tr.newSelection.ranges;\n\n            if (ranges.length > 0) {\n              const range = ranges[0];\n\n              this.selectedRange = {\n                from: range.from,\n                to: range.to,\n              };\n              this.cd.markForCheck();\n            }\n          }\n\n          if (tr.docChanged && !this._changedByValue) {\n            this._value = tr.newDoc.toJSON().join('\\n');\n\n            this.changed.emit(this._value);\n          }\n\n          return true;\n        })\n      ]\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CodemirrorComponent } from './codemirror.component';\n\n@NgModule({\n  declarations: [CodemirrorComponent],\n  exports: [\n    CodemirrorComponent\n  ],\n  imports: [\n    CommonModule,\n  ],\n  providers: [\n\n  ]\n})\nexport class CodemirrorModule { }\n","export * from './public_api';\n","export * from './codemirror.component';\nexport * from './codemirror.module';\n\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb2RlbWlycm9yLWV4YW1wbGUuY29tcG9uZW50LmNzcyJ9 */`, \"\",{\"version\":3,\"sources\":[\"webpack://./apps/demo/src/app/examples/codemirror-example/codemirror-example.component.css\"],\"names\":[],\"mappings\":\";AACA,gLAAgL\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `:host ::ng-deep .cm-editor {\n  border: 1px solid lightgray !important;\n}\n:host ::ng-deep .cm-focused {\n  outline-color: gray !important;\n}\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvZGVtaXJyb3IuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxzQ0FBQTtBQUFKO0FBR0U7RUFDRSw4QkFBQTtBQURKIiwiZmlsZSI6ImNvZGVtaXJyb3IuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCA6Om5nLWRlZXAge1xuICAuY20tZWRpdG9yIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyYXkgIWltcG9ydGFudDtcbiAgfVxuXG4gIC5jbS1mb2N1c2VkIHtcbiAgICBvdXRsaW5lLWNvbG9yOiBncmF5ICFpbXBvcnRhbnQ7XG4gIH1cbn1cbiJdfQ== */`, \"\",{\"version\":3,\"sources\":[\"webpack://./libs/components/codemirror/codemirror.component.scss\"],\"names\":[],\"mappings\":\"AACE;EACE,sCAAA;AAAJ;AAGE;EACE,8BAAA;AADJ;AACA,weAAwe\",\"sourcesContent\":[\":host ::ng-deep {\\n  .cm-editor {\\n    border: 1px solid lightgray !important;\\n  }\\n\\n  .cm-focused {\\n    outline-color: gray !important;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","import { Annotation, StateEffect, EditorSelection, codePointAt, codePointSize, fromCodePoint, Facet, combineConfig, StateField, Prec, Text, MapMode, RangeValue, RangeSet, CharCategory } from '@codemirror/state';\nimport { Direction, logException, showTooltip, EditorView, ViewPlugin, getTooltip, Decoration, WidgetType, keymap } from '@codemirror/view';\nimport { syntaxTree, indentUnit } from '@codemirror/language';\n\n/**\nAn instance of this is passed to completion source functions.\n*/\nclass CompletionContext {\n    /**\n    Create a new completion context. (Mostly useful for testing\n    completion sources—in the editor, the extension will create\n    these for you.)\n    */\n    constructor(\n    /**\n    The editor state that the completion happens in.\n    */\n    state, \n    /**\n    The position at which the completion is happening.\n    */\n    pos, \n    /**\n    Indicates whether completion was activated explicitly, or\n    implicitly by typing. The usual way to respond to this is to\n    only return completions when either there is part of a\n    completable entity before the cursor, or `explicit` is true.\n    */\n    explicit) {\n        this.state = state;\n        this.pos = pos;\n        this.explicit = explicit;\n        /**\n        @internal\n        */\n        this.abortListeners = [];\n    }\n    /**\n    Get the extent, content, and (if there is a token) type of the\n    token before `this.pos`.\n    */\n    tokenBefore(types) {\n        let token = syntaxTree(this.state).resolveInner(this.pos, -1);\n        while (token && types.indexOf(token.name) < 0)\n            token = token.parent;\n        return token ? { from: token.from, to: this.pos,\n            text: this.state.sliceDoc(token.from, this.pos),\n            type: token.type } : null;\n    }\n    /**\n    Get the match of the given expression directly before the\n    cursor.\n    */\n    matchBefore(expr) {\n        let line = this.state.doc.lineAt(this.pos);\n        let start = Math.max(line.from, this.pos - 250);\n        let str = line.text.slice(start - line.from, this.pos - line.from);\n        let found = str.search(ensureAnchor(expr, false));\n        return found < 0 ? null : { from: start + found, to: this.pos, text: str.slice(found) };\n    }\n    /**\n    Yields true when the query has been aborted. Can be useful in\n    asynchronous queries to avoid doing work that will be ignored.\n    */\n    get aborted() { return this.abortListeners == null; }\n    /**\n    Allows you to register abort handlers, which will be called when\n    the query is\n    [aborted](https://codemirror.net/6/docs/ref/#autocomplete.CompletionContext.aborted).\n    */\n    addEventListener(type, listener) {\n        if (type == \"abort\" && this.abortListeners)\n            this.abortListeners.push(listener);\n    }\n}\nfunction toSet(chars) {\n    let flat = Object.keys(chars).join(\"\");\n    let words = /\\w/.test(flat);\n    if (words)\n        flat = flat.replace(/\\w/g, \"\");\n    return `[${words ? \"\\\\w\" : \"\"}${flat.replace(/[^\\w\\s]/g, \"\\\\$&\")}]`;\n}\nfunction prefixMatch(options) {\n    let first = Object.create(null), rest = Object.create(null);\n    for (let { label } of options) {\n        first[label[0]] = true;\n        for (let i = 1; i < label.length; i++)\n            rest[label[i]] = true;\n    }\n    let source = toSet(first) + toSet(rest) + \"*$\";\n    return [new RegExp(\"^\" + source), new RegExp(source)];\n}\n/**\nGiven a a fixed array of options, return an autocompleter that\ncompletes them.\n*/\nfunction completeFromList(list) {\n    let options = list.map(o => typeof o == \"string\" ? { label: o } : o);\n    let [validFor, match] = options.every(o => /^\\w+$/.test(o.label)) ? [/\\w*$/, /\\w+$/] : prefixMatch(options);\n    return (context) => {\n        let token = context.matchBefore(match);\n        return token || context.explicit ? { from: token ? token.from : context.pos, options, validFor } : null;\n    };\n}\n/**\nWrap the given completion source so that it will only fire when the\ncursor is in a syntax node with one of the given names.\n*/\nfunction ifIn(nodes, source) {\n    return (context) => {\n        for (let pos = syntaxTree(context.state).resolveInner(context.pos, -1); pos; pos = pos.parent) {\n            if (nodes.indexOf(pos.name) > -1)\n                return source(context);\n            if (pos.type.isTop)\n                break;\n        }\n        return null;\n    };\n}\n/**\nWrap the given completion source so that it will not fire when the\ncursor is in a syntax node with one of the given names.\n*/\nfunction ifNotIn(nodes, source) {\n    return (context) => {\n        for (let pos = syntaxTree(context.state).resolveInner(context.pos, -1); pos; pos = pos.parent) {\n            if (nodes.indexOf(pos.name) > -1)\n                return null;\n            if (pos.type.isTop)\n                break;\n        }\n        return source(context);\n    };\n}\nclass Option {\n    constructor(completion, source, match, score) {\n        this.completion = completion;\n        this.source = source;\n        this.match = match;\n        this.score = score;\n    }\n}\nfunction cur(state) { return state.selection.main.from; }\n// Make sure the given regexp has a $ at its end and, if `start` is\n// true, a ^ at its start.\nfunction ensureAnchor(expr, start) {\n    var _a;\n    let { source } = expr;\n    let addStart = start && source[0] != \"^\", addEnd = source[source.length - 1] != \"$\";\n    if (!addStart && !addEnd)\n        return expr;\n    return new RegExp(`${addStart ? \"^\" : \"\"}(?:${source})${addEnd ? \"$\" : \"\"}`, (_a = expr.flags) !== null && _a !== void 0 ? _a : (expr.ignoreCase ? \"i\" : \"\"));\n}\n/**\nThis annotation is added to transactions that are produced by\npicking a completion.\n*/\nconst pickedCompletion = /*@__PURE__*/Annotation.define();\n/**\nHelper function that returns a transaction spec which inserts a\ncompletion's text in the main selection range, and any other\nselection range that has the same text in front of it.\n*/\nfunction insertCompletionText(state, text, from, to) {\n    let { main } = state.selection, fromOff = from - main.from, toOff = to - main.from;\n    return Object.assign(Object.assign({}, state.changeByRange(range => {\n        if (range != main && from != to &&\n            state.sliceDoc(range.from + fromOff, range.from + toOff) != state.sliceDoc(from, to))\n            return { range };\n        return {\n            changes: { from: range.from + fromOff, to: to == main.from ? range.to : range.from + toOff, insert: text },\n            range: EditorSelection.cursor(range.from + fromOff + text.length)\n        };\n    })), { scrollIntoView: true, userEvent: \"input.complete\" });\n}\nconst SourceCache = /*@__PURE__*/new WeakMap();\nfunction asSource(source) {\n    if (!Array.isArray(source))\n        return source;\n    let known = SourceCache.get(source);\n    if (!known)\n        SourceCache.set(source, known = completeFromList(source));\n    return known;\n}\nconst startCompletionEffect = /*@__PURE__*/StateEffect.define();\nconst closeCompletionEffect = /*@__PURE__*/StateEffect.define();\n\n// A pattern matcher for fuzzy completion matching. Create an instance\n// once for a pattern, and then use that to match any number of\n// completions.\nclass FuzzyMatcher {\n    constructor(pattern) {\n        this.pattern = pattern;\n        this.chars = [];\n        this.folded = [];\n        // Buffers reused by calls to `match` to track matched character\n        // positions.\n        this.any = [];\n        this.precise = [];\n        this.byWord = [];\n        this.score = 0;\n        this.matched = [];\n        for (let p = 0; p < pattern.length;) {\n            let char = codePointAt(pattern, p), size = codePointSize(char);\n            this.chars.push(char);\n            let part = pattern.slice(p, p + size), upper = part.toUpperCase();\n            this.folded.push(codePointAt(upper == part ? part.toLowerCase() : upper, 0));\n            p += size;\n        }\n        this.astral = pattern.length != this.chars.length;\n    }\n    ret(score, matched) {\n        this.score = score;\n        this.matched = matched;\n        return true;\n    }\n    // Matches a given word (completion) against the pattern (input).\n    // Will return a boolean indicating whether there was a match and,\n    // on success, set `this.score` to the score, `this.matched` to an\n    // array of `from, to` pairs indicating the matched parts of `word`.\n    //\n    // The score is a number that is more negative the worse the match\n    // is. See `Penalty` above.\n    match(word) {\n        if (this.pattern.length == 0)\n            return this.ret(-100 /* Penalty.NotFull */, []);\n        if (word.length < this.pattern.length)\n            return false;\n        let { chars, folded, any, precise, byWord } = this;\n        // For single-character queries, only match when they occur right\n        // at the start\n        if (chars.length == 1) {\n            let first = codePointAt(word, 0), firstSize = codePointSize(first);\n            let score = firstSize == word.length ? 0 : -100 /* Penalty.NotFull */;\n            if (first == chars[0]) ;\n            else if (first == folded[0])\n                score += -200 /* Penalty.CaseFold */;\n            else\n                return false;\n            return this.ret(score, [0, firstSize]);\n        }\n        let direct = word.indexOf(this.pattern);\n        if (direct == 0)\n            return this.ret(word.length == this.pattern.length ? 0 : -100 /* Penalty.NotFull */, [0, this.pattern.length]);\n        let len = chars.length, anyTo = 0;\n        if (direct < 0) {\n            for (let i = 0, e = Math.min(word.length, 200); i < e && anyTo < len;) {\n                let next = codePointAt(word, i);\n                if (next == chars[anyTo] || next == folded[anyTo])\n                    any[anyTo++] = i;\n                i += codePointSize(next);\n            }\n            // No match, exit immediately\n            if (anyTo < len)\n                return false;\n        }\n        // This tracks the extent of the precise (non-folded, not\n        // necessarily adjacent) match\n        let preciseTo = 0;\n        // Tracks whether there is a match that hits only characters that\n        // appear to be starting words. `byWordFolded` is set to true when\n        // a case folded character is encountered in such a match\n        let byWordTo = 0, byWordFolded = false;\n        // If we've found a partial adjacent match, these track its state\n        let adjacentTo = 0, adjacentStart = -1, adjacentEnd = -1;\n        let hasLower = /[a-z]/.test(word), wordAdjacent = true;\n        // Go over the option's text, scanning for the various kinds of matches\n        for (let i = 0, e = Math.min(word.length, 200), prevType = 0 /* Tp.NonWord */; i < e && byWordTo < len;) {\n            let next = codePointAt(word, i);\n            if (direct < 0) {\n                if (preciseTo < len && next == chars[preciseTo])\n                    precise[preciseTo++] = i;\n                if (adjacentTo < len) {\n                    if (next == chars[adjacentTo] || next == folded[adjacentTo]) {\n                        if (adjacentTo == 0)\n                            adjacentStart = i;\n                        adjacentEnd = i + 1;\n                        adjacentTo++;\n                    }\n                    else {\n                        adjacentTo = 0;\n                    }\n                }\n            }\n            let ch, type = next < 0xff\n                ? (next >= 48 && next <= 57 || next >= 97 && next <= 122 ? 2 /* Tp.Lower */ : next >= 65 && next <= 90 ? 1 /* Tp.Upper */ : 0 /* Tp.NonWord */)\n                : ((ch = fromCodePoint(next)) != ch.toLowerCase() ? 1 /* Tp.Upper */ : ch != ch.toUpperCase() ? 2 /* Tp.Lower */ : 0 /* Tp.NonWord */);\n            if (!i || type == 1 /* Tp.Upper */ && hasLower || prevType == 0 /* Tp.NonWord */ && type != 0 /* Tp.NonWord */) {\n                if (chars[byWordTo] == next || (folded[byWordTo] == next && (byWordFolded = true)))\n                    byWord[byWordTo++] = i;\n                else if (byWord.length)\n                    wordAdjacent = false;\n            }\n            prevType = type;\n            i += codePointSize(next);\n        }\n        if (byWordTo == len && byWord[0] == 0 && wordAdjacent)\n            return this.result(-100 /* Penalty.ByWord */ + (byWordFolded ? -200 /* Penalty.CaseFold */ : 0), byWord, word);\n        if (adjacentTo == len && adjacentStart == 0)\n            return this.ret(-200 /* Penalty.CaseFold */ - word.length + (adjacentEnd == word.length ? 0 : -100 /* Penalty.NotFull */), [0, adjacentEnd]);\n        if (direct > -1)\n            return this.ret(-700 /* Penalty.NotStart */ - word.length, [direct, direct + this.pattern.length]);\n        if (adjacentTo == len)\n            return this.ret(-200 /* Penalty.CaseFold */ + -700 /* Penalty.NotStart */ - word.length, [adjacentStart, adjacentEnd]);\n        if (byWordTo == len)\n            return this.result(-100 /* Penalty.ByWord */ + (byWordFolded ? -200 /* Penalty.CaseFold */ : 0) + -700 /* Penalty.NotStart */ +\n                (wordAdjacent ? 0 : -1100 /* Penalty.Gap */), byWord, word);\n        return chars.length == 2 ? false\n            : this.result((any[0] ? -700 /* Penalty.NotStart */ : 0) + -200 /* Penalty.CaseFold */ + -1100 /* Penalty.Gap */, any, word);\n    }\n    result(score, positions, word) {\n        let result = [], i = 0;\n        for (let pos of positions) {\n            let to = pos + (this.astral ? codePointSize(codePointAt(word, pos)) : 1);\n            if (i && result[i - 1] == pos)\n                result[i - 1] = to;\n            else {\n                result[i++] = pos;\n                result[i++] = to;\n            }\n        }\n        return this.ret(score - word.length, result);\n    }\n}\n\nconst completionConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            activateOnTyping: true,\n            selectOnOpen: true,\n            override: null,\n            closeOnBlur: true,\n            maxRenderedOptions: 100,\n            defaultKeymap: true,\n            tooltipClass: () => \"\",\n            optionClass: () => \"\",\n            aboveCursor: false,\n            icons: true,\n            addToOptions: [],\n            positionInfo: defaultPositionInfo,\n            compareCompletions: (a, b) => a.label.localeCompare(b.label),\n            interactionDelay: 75\n        }, {\n            defaultKeymap: (a, b) => a && b,\n            closeOnBlur: (a, b) => a && b,\n            icons: (a, b) => a && b,\n            tooltipClass: (a, b) => c => joinClass(a(c), b(c)),\n            optionClass: (a, b) => c => joinClass(a(c), b(c)),\n            addToOptions: (a, b) => a.concat(b)\n        });\n    }\n});\nfunction joinClass(a, b) {\n    return a ? b ? a + \" \" + b : a : b;\n}\nfunction defaultPositionInfo(view, list, option, info, space, tooltip) {\n    let rtl = view.textDirection == Direction.RTL, left = rtl, narrow = false;\n    let side = \"top\", offset, maxWidth;\n    let spaceLeft = list.left - space.left, spaceRight = space.right - list.right;\n    let infoWidth = info.right - info.left, infoHeight = info.bottom - info.top;\n    if (left && spaceLeft < Math.min(infoWidth, spaceRight))\n        left = false;\n    else if (!left && spaceRight < Math.min(infoWidth, spaceLeft))\n        left = true;\n    if (infoWidth <= (left ? spaceLeft : spaceRight)) {\n        offset = Math.max(space.top, Math.min(option.top, space.bottom - infoHeight)) - list.top;\n        maxWidth = Math.min(400 /* Info.Width */, left ? spaceLeft : spaceRight);\n    }\n    else {\n        narrow = true;\n        maxWidth = Math.min(400 /* Info.Width */, (rtl ? list.right : space.right - list.left) - 30 /* Info.Margin */);\n        let spaceBelow = space.bottom - list.bottom;\n        if (spaceBelow >= infoHeight || spaceBelow > list.top) { // Below the completion\n            offset = option.bottom - list.top;\n        }\n        else { // Above it\n            side = \"bottom\";\n            offset = list.bottom - option.top;\n        }\n    }\n    let scaleY = (list.bottom - list.top) / tooltip.offsetHeight;\n    let scaleX = (list.right - list.left) / tooltip.offsetWidth;\n    return {\n        style: `${side}: ${offset / scaleY}px; max-width: ${maxWidth / scaleX}px`,\n        class: \"cm-completionInfo-\" + (narrow ? (rtl ? \"left-narrow\" : \"right-narrow\") : left ? \"left\" : \"right\")\n    };\n}\n\nfunction optionContent(config) {\n    let content = config.addToOptions.slice();\n    if (config.icons)\n        content.push({\n            render(completion) {\n                let icon = document.createElement(\"div\");\n                icon.classList.add(\"cm-completionIcon\");\n                if (completion.type)\n                    icon.classList.add(...completion.type.split(/\\s+/g).map(cls => \"cm-completionIcon-\" + cls));\n                icon.setAttribute(\"aria-hidden\", \"true\");\n                return icon;\n            },\n            position: 20\n        });\n    content.push({\n        render(completion, _s, match) {\n            let labelElt = document.createElement(\"span\");\n            labelElt.className = \"cm-completionLabel\";\n            let label = completion.displayLabel || completion.label, off = 0;\n            for (let j = 0; j < match.length;) {\n                let from = match[j++], to = match[j++];\n                if (from > off)\n                    labelElt.appendChild(document.createTextNode(label.slice(off, from)));\n                let span = labelElt.appendChild(document.createElement(\"span\"));\n                span.appendChild(document.createTextNode(label.slice(from, to)));\n                span.className = \"cm-completionMatchedText\";\n                off = to;\n            }\n            if (off < label.length)\n                labelElt.appendChild(document.createTextNode(label.slice(off)));\n            return labelElt;\n        },\n        position: 50\n    }, {\n        render(completion) {\n            if (!completion.detail)\n                return null;\n            let detailElt = document.createElement(\"span\");\n            detailElt.className = \"cm-completionDetail\";\n            detailElt.textContent = completion.detail;\n            return detailElt;\n        },\n        position: 80\n    });\n    return content.sort((a, b) => a.position - b.position).map(a => a.render);\n}\nfunction rangeAroundSelected(total, selected, max) {\n    if (total <= max)\n        return { from: 0, to: total };\n    if (selected < 0)\n        selected = 0;\n    if (selected <= (total >> 1)) {\n        let off = Math.floor(selected / max);\n        return { from: off * max, to: (off + 1) * max };\n    }\n    let off = Math.floor((total - selected) / max);\n    return { from: total - (off + 1) * max, to: total - off * max };\n}\nclass CompletionTooltip {\n    constructor(view, stateField, applyCompletion) {\n        this.view = view;\n        this.stateField = stateField;\n        this.applyCompletion = applyCompletion;\n        this.info = null;\n        this.infoDestroy = null;\n        this.placeInfoReq = {\n            read: () => this.measureInfo(),\n            write: (pos) => this.placeInfo(pos),\n            key: this\n        };\n        this.space = null;\n        this.currentClass = \"\";\n        let cState = view.state.field(stateField);\n        let { options, selected } = cState.open;\n        let config = view.state.facet(completionConfig);\n        this.optionContent = optionContent(config);\n        this.optionClass = config.optionClass;\n        this.tooltipClass = config.tooltipClass;\n        this.range = rangeAroundSelected(options.length, selected, config.maxRenderedOptions);\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-tooltip-autocomplete\";\n        this.updateTooltipClass(view.state);\n        this.dom.addEventListener(\"mousedown\", (e) => {\n            for (let dom = e.target, match; dom && dom != this.dom; dom = dom.parentNode) {\n                if (dom.nodeName == \"LI\" && (match = /-(\\d+)$/.exec(dom.id)) && +match[1] < options.length) {\n                    this.applyCompletion(view, options[+match[1]]);\n                    e.preventDefault();\n                    return;\n                }\n            }\n        });\n        this.dom.addEventListener(\"focusout\", (e) => {\n            let state = view.state.field(this.stateField, false);\n            if (state && state.tooltip && view.state.facet(completionConfig).closeOnBlur &&\n                e.relatedTarget != view.contentDOM)\n                view.dispatch({ effects: closeCompletionEffect.of(null) });\n        });\n        this.list = this.dom.appendChild(this.createListBox(options, cState.id, this.range));\n        this.list.addEventListener(\"scroll\", () => {\n            if (this.info)\n                this.view.requestMeasure(this.placeInfoReq);\n        });\n    }\n    mount() { this.updateSel(); }\n    update(update) {\n        var _a, _b, _c;\n        let cState = update.state.field(this.stateField);\n        let prevState = update.startState.field(this.stateField);\n        this.updateTooltipClass(update.state);\n        if (cState != prevState) {\n            this.updateSel();\n            if (((_a = cState.open) === null || _a === void 0 ? void 0 : _a.disabled) != ((_b = prevState.open) === null || _b === void 0 ? void 0 : _b.disabled))\n                this.dom.classList.toggle(\"cm-tooltip-autocomplete-disabled\", !!((_c = cState.open) === null || _c === void 0 ? void 0 : _c.disabled));\n        }\n    }\n    updateTooltipClass(state) {\n        let cls = this.tooltipClass(state);\n        if (cls != this.currentClass) {\n            for (let c of this.currentClass.split(\" \"))\n                if (c)\n                    this.dom.classList.remove(c);\n            for (let c of cls.split(\" \"))\n                if (c)\n                    this.dom.classList.add(c);\n            this.currentClass = cls;\n        }\n    }\n    positioned(space) {\n        this.space = space;\n        if (this.info)\n            this.view.requestMeasure(this.placeInfoReq);\n    }\n    updateSel() {\n        let cState = this.view.state.field(this.stateField), open = cState.open;\n        if (open.selected > -1 && open.selected < this.range.from || open.selected >= this.range.to) {\n            this.range = rangeAroundSelected(open.options.length, open.selected, this.view.state.facet(completionConfig).maxRenderedOptions);\n            this.list.remove();\n            this.list = this.dom.appendChild(this.createListBox(open.options, cState.id, this.range));\n            this.list.addEventListener(\"scroll\", () => {\n                if (this.info)\n                    this.view.requestMeasure(this.placeInfoReq);\n            });\n        }\n        if (this.updateSelectedOption(open.selected)) {\n            this.destroyInfo();\n            let { completion } = open.options[open.selected];\n            let { info } = completion;\n            if (!info)\n                return;\n            let infoResult = typeof info === \"string\" ? document.createTextNode(info) : info(completion);\n            if (!infoResult)\n                return;\n            if (\"then\" in infoResult) {\n                infoResult.then(obj => {\n                    if (obj && this.view.state.field(this.stateField, false) == cState)\n                        this.addInfoPane(obj, completion);\n                }).catch(e => logException(this.view.state, e, \"completion info\"));\n            }\n            else {\n                this.addInfoPane(infoResult, completion);\n            }\n        }\n    }\n    addInfoPane(content, completion) {\n        this.destroyInfo();\n        let wrap = this.info = document.createElement(\"div\");\n        wrap.className = \"cm-tooltip cm-completionInfo\";\n        if (content.nodeType != null) {\n            wrap.appendChild(content);\n            this.infoDestroy = null;\n        }\n        else {\n            let { dom, destroy } = content;\n            wrap.appendChild(dom);\n            this.infoDestroy = destroy || null;\n        }\n        this.dom.appendChild(wrap);\n        this.view.requestMeasure(this.placeInfoReq);\n    }\n    updateSelectedOption(selected) {\n        let set = null;\n        for (let opt = this.list.firstChild, i = this.range.from; opt; opt = opt.nextSibling, i++) {\n            if (opt.nodeName != \"LI\" || !opt.id) {\n                i--; // A section header\n            }\n            else if (i == selected) {\n                if (!opt.hasAttribute(\"aria-selected\")) {\n                    opt.setAttribute(\"aria-selected\", \"true\");\n                    set = opt;\n                }\n            }\n            else {\n                if (opt.hasAttribute(\"aria-selected\"))\n                    opt.removeAttribute(\"aria-selected\");\n            }\n        }\n        if (set)\n            scrollIntoView(this.list, set);\n        return set;\n    }\n    measureInfo() {\n        let sel = this.dom.querySelector(\"[aria-selected]\");\n        if (!sel || !this.info)\n            return null;\n        let listRect = this.dom.getBoundingClientRect();\n        let infoRect = this.info.getBoundingClientRect();\n        let selRect = sel.getBoundingClientRect();\n        let space = this.space;\n        if (!space) {\n            let win = this.dom.ownerDocument.defaultView || window;\n            space = { left: 0, top: 0, right: win.innerWidth, bottom: win.innerHeight };\n        }\n        if (selRect.top > Math.min(space.bottom, listRect.bottom) - 10 ||\n            selRect.bottom < Math.max(space.top, listRect.top) + 10)\n            return null;\n        return this.view.state.facet(completionConfig).positionInfo(this.view, listRect, selRect, infoRect, space, this.dom);\n    }\n    placeInfo(pos) {\n        if (this.info) {\n            if (pos) {\n                if (pos.style)\n                    this.info.style.cssText = pos.style;\n                this.info.className = \"cm-tooltip cm-completionInfo \" + (pos.class || \"\");\n            }\n            else {\n                this.info.style.cssText = \"top: -1e6px\";\n            }\n        }\n    }\n    createListBox(options, id, range) {\n        const ul = document.createElement(\"ul\");\n        ul.id = id;\n        ul.setAttribute(\"role\", \"listbox\");\n        ul.setAttribute(\"aria-expanded\", \"true\");\n        ul.setAttribute(\"aria-label\", this.view.state.phrase(\"Completions\"));\n        let curSection = null;\n        for (let i = range.from; i < range.to; i++) {\n            let { completion, match } = options[i], { section } = completion;\n            if (section) {\n                let name = typeof section == \"string\" ? section : section.name;\n                if (name != curSection && (i > range.from || range.from == 0)) {\n                    curSection = name;\n                    if (typeof section != \"string\" && section.header) {\n                        ul.appendChild(section.header(section));\n                    }\n                    else {\n                        let header = ul.appendChild(document.createElement(\"completion-section\"));\n                        header.textContent = name;\n                    }\n                }\n            }\n            const li = ul.appendChild(document.createElement(\"li\"));\n            li.id = id + \"-\" + i;\n            li.setAttribute(\"role\", \"option\");\n            let cls = this.optionClass(completion);\n            if (cls)\n                li.className = cls;\n            for (let source of this.optionContent) {\n                let node = source(completion, this.view.state, match);\n                if (node)\n                    li.appendChild(node);\n            }\n        }\n        if (range.from)\n            ul.classList.add(\"cm-completionListIncompleteTop\");\n        if (range.to < options.length)\n            ul.classList.add(\"cm-completionListIncompleteBottom\");\n        return ul;\n    }\n    destroyInfo() {\n        if (this.info) {\n            if (this.infoDestroy)\n                this.infoDestroy();\n            this.info.remove();\n            this.info = null;\n        }\n    }\n    destroy() {\n        this.destroyInfo();\n    }\n}\n// We allocate a new function instance every time the completion\n// changes to force redrawing/repositioning of the tooltip\nfunction completionTooltip(stateField, applyCompletion) {\n    return (view) => new CompletionTooltip(view, stateField, applyCompletion);\n}\nfunction scrollIntoView(container, element) {\n    let parent = container.getBoundingClientRect();\n    let self = element.getBoundingClientRect();\n    let scaleY = parent.height / container.offsetHeight;\n    if (self.top < parent.top)\n        container.scrollTop -= (parent.top - self.top) / scaleY;\n    else if (self.bottom > parent.bottom)\n        container.scrollTop += (self.bottom - parent.bottom) / scaleY;\n}\n\n// Used to pick a preferred option when two options with the same\n// label occur in the result.\nfunction score(option) {\n    return (option.boost || 0) * 100 + (option.apply ? 10 : 0) + (option.info ? 5 : 0) +\n        (option.type ? 1 : 0);\n}\nfunction sortOptions(active, state) {\n    let options = [];\n    let sections = null;\n    let addOption = (option) => {\n        options.push(option);\n        let { section } = option.completion;\n        if (section) {\n            if (!sections)\n                sections = [];\n            let name = typeof section == \"string\" ? section : section.name;\n            if (!sections.some(s => s.name == name))\n                sections.push(typeof section == \"string\" ? { name } : section);\n        }\n    };\n    for (let a of active)\n        if (a.hasResult()) {\n            let getMatch = a.result.getMatch;\n            if (a.result.filter === false) {\n                for (let option of a.result.options) {\n                    addOption(new Option(option, a.source, getMatch ? getMatch(option) : [], 1e9 - options.length));\n                }\n            }\n            else {\n                let matcher = new FuzzyMatcher(state.sliceDoc(a.from, a.to));\n                for (let option of a.result.options)\n                    if (matcher.match(option.label)) {\n                        let matched = !option.displayLabel ? matcher.matched : getMatch ? getMatch(option, matcher.matched) : [];\n                        addOption(new Option(option, a.source, matched, matcher.score + (option.boost || 0)));\n                    }\n            }\n        }\n    if (sections) {\n        let sectionOrder = Object.create(null), pos = 0;\n        let cmp = (a, b) => { var _a, _b; return ((_a = a.rank) !== null && _a !== void 0 ? _a : 1e9) - ((_b = b.rank) !== null && _b !== void 0 ? _b : 1e9) || (a.name < b.name ? -1 : 1); };\n        for (let s of sections.sort(cmp)) {\n            pos -= 1e5;\n            sectionOrder[s.name] = pos;\n        }\n        for (let option of options) {\n            let { section } = option.completion;\n            if (section)\n                option.score += sectionOrder[typeof section == \"string\" ? section : section.name];\n        }\n    }\n    let result = [], prev = null;\n    let compare = state.facet(completionConfig).compareCompletions;\n    for (let opt of options.sort((a, b) => (b.score - a.score) || compare(a.completion, b.completion))) {\n        let cur = opt.completion;\n        if (!prev || prev.label != cur.label || prev.detail != cur.detail ||\n            (prev.type != null && cur.type != null && prev.type != cur.type) ||\n            prev.apply != cur.apply || prev.boost != cur.boost)\n            result.push(opt);\n        else if (score(opt.completion) > score(prev))\n            result[result.length - 1] = opt;\n        prev = opt.completion;\n    }\n    return result;\n}\nclass CompletionDialog {\n    constructor(options, attrs, tooltip, timestamp, selected, disabled) {\n        this.options = options;\n        this.attrs = attrs;\n        this.tooltip = tooltip;\n        this.timestamp = timestamp;\n        this.selected = selected;\n        this.disabled = disabled;\n    }\n    setSelected(selected, id) {\n        return selected == this.selected || selected >= this.options.length ? this\n            : new CompletionDialog(this.options, makeAttrs(id, selected), this.tooltip, this.timestamp, selected, this.disabled);\n    }\n    static build(active, state, id, prev, conf) {\n        let options = sortOptions(active, state);\n        if (!options.length) {\n            return prev && active.some(a => a.state == 1 /* State.Pending */) ?\n                new CompletionDialog(prev.options, prev.attrs, prev.tooltip, prev.timestamp, prev.selected, true) : null;\n        }\n        let selected = state.facet(completionConfig).selectOnOpen ? 0 : -1;\n        if (prev && prev.selected != selected && prev.selected != -1) {\n            let selectedValue = prev.options[prev.selected].completion;\n            for (let i = 0; i < options.length; i++)\n                if (options[i].completion == selectedValue) {\n                    selected = i;\n                    break;\n                }\n        }\n        return new CompletionDialog(options, makeAttrs(id, selected), {\n            pos: active.reduce((a, b) => b.hasResult() ? Math.min(a, b.from) : a, 1e8),\n            create: completionTooltip(completionState, applyCompletion),\n            above: conf.aboveCursor,\n        }, prev ? prev.timestamp : Date.now(), selected, false);\n    }\n    map(changes) {\n        return new CompletionDialog(this.options, this.attrs, Object.assign(Object.assign({}, this.tooltip), { pos: changes.mapPos(this.tooltip.pos) }), this.timestamp, this.selected, this.disabled);\n    }\n}\nclass CompletionState {\n    constructor(active, id, open) {\n        this.active = active;\n        this.id = id;\n        this.open = open;\n    }\n    static start() {\n        return new CompletionState(none, \"cm-ac-\" + Math.floor(Math.random() * 2e6).toString(36), null);\n    }\n    update(tr) {\n        let { state } = tr, conf = state.facet(completionConfig);\n        let sources = conf.override ||\n            state.languageDataAt(\"autocomplete\", cur(state)).map(asSource);\n        let active = sources.map(source => {\n            let value = this.active.find(s => s.source == source) ||\n                new ActiveSource(source, this.active.some(a => a.state != 0 /* State.Inactive */) ? 1 /* State.Pending */ : 0 /* State.Inactive */);\n            return value.update(tr, conf);\n        });\n        if (active.length == this.active.length && active.every((a, i) => a == this.active[i]))\n            active = this.active;\n        let open = this.open;\n        if (open && tr.docChanged)\n            open = open.map(tr.changes);\n        if (tr.selection || active.some(a => a.hasResult() && tr.changes.touchesRange(a.from, a.to)) ||\n            !sameResults(active, this.active))\n            open = CompletionDialog.build(active, state, this.id, open, conf);\n        else if (open && open.disabled && !active.some(a => a.state == 1 /* State.Pending */))\n            open = null;\n        if (!open && active.every(a => a.state != 1 /* State.Pending */) && active.some(a => a.hasResult()))\n            active = active.map(a => a.hasResult() ? new ActiveSource(a.source, 0 /* State.Inactive */) : a);\n        for (let effect of tr.effects)\n            if (effect.is(setSelectedEffect))\n                open = open && open.setSelected(effect.value, this.id);\n        return active == this.active && open == this.open ? this : new CompletionState(active, this.id, open);\n    }\n    get tooltip() { return this.open ? this.open.tooltip : null; }\n    get attrs() { return this.open ? this.open.attrs : baseAttrs; }\n}\nfunction sameResults(a, b) {\n    if (a == b)\n        return true;\n    for (let iA = 0, iB = 0;;) {\n        while (iA < a.length && !a[iA].hasResult)\n            iA++;\n        while (iB < b.length && !b[iB].hasResult)\n            iB++;\n        let endA = iA == a.length, endB = iB == b.length;\n        if (endA || endB)\n            return endA == endB;\n        if (a[iA++].result != b[iB++].result)\n            return false;\n    }\n}\nconst baseAttrs = {\n    \"aria-autocomplete\": \"list\"\n};\nfunction makeAttrs(id, selected) {\n    let result = {\n        \"aria-autocomplete\": \"list\",\n        \"aria-haspopup\": \"listbox\",\n        \"aria-controls\": id\n    };\n    if (selected > -1)\n        result[\"aria-activedescendant\"] = id + \"-\" + selected;\n    return result;\n}\nconst none = [];\nfunction getUserEvent(tr) {\n    return tr.isUserEvent(\"input.type\") ? \"input\" : tr.isUserEvent(\"delete.backward\") ? \"delete\" : null;\n}\nclass ActiveSource {\n    constructor(source, state, explicitPos = -1) {\n        this.source = source;\n        this.state = state;\n        this.explicitPos = explicitPos;\n    }\n    hasResult() { return false; }\n    update(tr, conf) {\n        let event = getUserEvent(tr), value = this;\n        if (event)\n            value = value.handleUserEvent(tr, event, conf);\n        else if (tr.docChanged)\n            value = value.handleChange(tr);\n        else if (tr.selection && value.state != 0 /* State.Inactive */)\n            value = new ActiveSource(value.source, 0 /* State.Inactive */);\n        for (let effect of tr.effects) {\n            if (effect.is(startCompletionEffect))\n                value = new ActiveSource(value.source, 1 /* State.Pending */, effect.value ? cur(tr.state) : -1);\n            else if (effect.is(closeCompletionEffect))\n                value = new ActiveSource(value.source, 0 /* State.Inactive */);\n            else if (effect.is(setActiveEffect))\n                for (let active of effect.value)\n                    if (active.source == value.source)\n                        value = active;\n        }\n        return value;\n    }\n    handleUserEvent(tr, type, conf) {\n        return type == \"delete\" || !conf.activateOnTyping ? this.map(tr.changes) : new ActiveSource(this.source, 1 /* State.Pending */);\n    }\n    handleChange(tr) {\n        return tr.changes.touchesRange(cur(tr.startState)) ? new ActiveSource(this.source, 0 /* State.Inactive */) : this.map(tr.changes);\n    }\n    map(changes) {\n        return changes.empty || this.explicitPos < 0 ? this : new ActiveSource(this.source, this.state, changes.mapPos(this.explicitPos));\n    }\n}\nclass ActiveResult extends ActiveSource {\n    constructor(source, explicitPos, result, from, to) {\n        super(source, 2 /* State.Result */, explicitPos);\n        this.result = result;\n        this.from = from;\n        this.to = to;\n    }\n    hasResult() { return true; }\n    handleUserEvent(tr, type, conf) {\n        var _a;\n        let from = tr.changes.mapPos(this.from), to = tr.changes.mapPos(this.to, 1);\n        let pos = cur(tr.state);\n        if ((this.explicitPos < 0 ? pos <= from : pos < this.from) ||\n            pos > to ||\n            type == \"delete\" && cur(tr.startState) == this.from)\n            return new ActiveSource(this.source, type == \"input\" && conf.activateOnTyping ? 1 /* State.Pending */ : 0 /* State.Inactive */);\n        let explicitPos = this.explicitPos < 0 ? -1 : tr.changes.mapPos(this.explicitPos), updated;\n        if (checkValid(this.result.validFor, tr.state, from, to))\n            return new ActiveResult(this.source, explicitPos, this.result, from, to);\n        if (this.result.update &&\n            (updated = this.result.update(this.result, from, to, new CompletionContext(tr.state, pos, explicitPos >= 0))))\n            return new ActiveResult(this.source, explicitPos, updated, updated.from, (_a = updated.to) !== null && _a !== void 0 ? _a : cur(tr.state));\n        return new ActiveSource(this.source, 1 /* State.Pending */, explicitPos);\n    }\n    handleChange(tr) {\n        return tr.changes.touchesRange(this.from, this.to) ? new ActiveSource(this.source, 0 /* State.Inactive */) : this.map(tr.changes);\n    }\n    map(mapping) {\n        return mapping.empty ? this :\n            new ActiveResult(this.source, this.explicitPos < 0 ? -1 : mapping.mapPos(this.explicitPos), this.result, mapping.mapPos(this.from), mapping.mapPos(this.to, 1));\n    }\n}\nfunction checkValid(validFor, state, from, to) {\n    if (!validFor)\n        return false;\n    let text = state.sliceDoc(from, to);\n    return typeof validFor == \"function\" ? validFor(text, from, to, state) : ensureAnchor(validFor, true).test(text);\n}\nconst setActiveEffect = /*@__PURE__*/StateEffect.define({\n    map(sources, mapping) { return sources.map(s => s.map(mapping)); }\n});\nconst setSelectedEffect = /*@__PURE__*/StateEffect.define();\nconst completionState = /*@__PURE__*/StateField.define({\n    create() { return CompletionState.start(); },\n    update(value, tr) { return value.update(tr); },\n    provide: f => [\n        showTooltip.from(f, val => val.tooltip),\n        EditorView.contentAttributes.from(f, state => state.attrs)\n    ]\n});\nfunction applyCompletion(view, option) {\n    const apply = option.completion.apply || option.completion.label;\n    let result = view.state.field(completionState).active.find(a => a.source == option.source);\n    if (!(result instanceof ActiveResult))\n        return false;\n    if (typeof apply == \"string\")\n        view.dispatch(Object.assign(Object.assign({}, insertCompletionText(view.state, apply, result.from, result.to)), { annotations: pickedCompletion.of(option.completion) }));\n    else\n        apply(view, option.completion, result.from, result.to);\n    return true;\n}\n\n/**\nReturns a command that moves the completion selection forward or\nbackward by the given amount.\n*/\nfunction moveCompletionSelection(forward, by = \"option\") {\n    return (view) => {\n        let cState = view.state.field(completionState, false);\n        if (!cState || !cState.open || cState.open.disabled ||\n            Date.now() - cState.open.timestamp < view.state.facet(completionConfig).interactionDelay)\n            return false;\n        let step = 1, tooltip;\n        if (by == \"page\" && (tooltip = getTooltip(view, cState.open.tooltip)))\n            step = Math.max(2, Math.floor(tooltip.dom.offsetHeight /\n                tooltip.dom.querySelector(\"li\").offsetHeight) - 1);\n        let { length } = cState.open.options;\n        let selected = cState.open.selected > -1 ? cState.open.selected + step * (forward ? 1 : -1) : forward ? 0 : length - 1;\n        if (selected < 0)\n            selected = by == \"page\" ? 0 : length - 1;\n        else if (selected >= length)\n            selected = by == \"page\" ? length - 1 : 0;\n        view.dispatch({ effects: setSelectedEffect.of(selected) });\n        return true;\n    };\n}\n/**\nAccept the current completion.\n*/\nconst acceptCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (view.state.readOnly || !cState || !cState.open || cState.open.selected < 0 || cState.open.disabled ||\n        Date.now() - cState.open.timestamp < view.state.facet(completionConfig).interactionDelay)\n        return false;\n    return applyCompletion(view, cState.open.options[cState.open.selected]);\n};\n/**\nExplicitly start autocompletion.\n*/\nconst startCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (!cState)\n        return false;\n    view.dispatch({ effects: startCompletionEffect.of(true) });\n    return true;\n};\n/**\nClose the currently active completion.\n*/\nconst closeCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (!cState || !cState.active.some(a => a.state != 0 /* State.Inactive */))\n        return false;\n    view.dispatch({ effects: closeCompletionEffect.of(null) });\n    return true;\n};\nclass RunningQuery {\n    constructor(active, context) {\n        this.active = active;\n        this.context = context;\n        this.time = Date.now();\n        this.updates = [];\n        // Note that 'undefined' means 'not done yet', whereas 'null' means\n        // 'query returned null'.\n        this.done = undefined;\n    }\n}\nconst DebounceTime = 50, MaxUpdateCount = 50, MinAbortTime = 1000;\nconst completionPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.debounceUpdate = -1;\n        this.running = [];\n        this.debounceAccept = -1;\n        this.composing = 0 /* CompositionState.None */;\n        for (let active of view.state.field(completionState).active)\n            if (active.state == 1 /* State.Pending */)\n                this.startQuery(active);\n    }\n    update(update) {\n        let cState = update.state.field(completionState);\n        if (!update.selectionSet && !update.docChanged && update.startState.field(completionState) == cState)\n            return;\n        let doesReset = update.transactions.some(tr => {\n            return (tr.selection || tr.docChanged) && !getUserEvent(tr);\n        });\n        for (let i = 0; i < this.running.length; i++) {\n            let query = this.running[i];\n            if (doesReset ||\n                query.updates.length + update.transactions.length > MaxUpdateCount && Date.now() - query.time > MinAbortTime) {\n                for (let handler of query.context.abortListeners) {\n                    try {\n                        handler();\n                    }\n                    catch (e) {\n                        logException(this.view.state, e);\n                    }\n                }\n                query.context.abortListeners = null;\n                this.running.splice(i--, 1);\n            }\n            else {\n                query.updates.push(...update.transactions);\n            }\n        }\n        if (this.debounceUpdate > -1)\n            clearTimeout(this.debounceUpdate);\n        this.debounceUpdate = cState.active.some(a => a.state == 1 /* State.Pending */ && !this.running.some(q => q.active.source == a.source))\n            ? setTimeout(() => this.startUpdate(), DebounceTime) : -1;\n        if (this.composing != 0 /* CompositionState.None */)\n            for (let tr of update.transactions) {\n                if (getUserEvent(tr) == \"input\")\n                    this.composing = 2 /* CompositionState.Changed */;\n                else if (this.composing == 2 /* CompositionState.Changed */ && tr.selection)\n                    this.composing = 3 /* CompositionState.ChangedAndMoved */;\n            }\n    }\n    startUpdate() {\n        this.debounceUpdate = -1;\n        let { state } = this.view, cState = state.field(completionState);\n        for (let active of cState.active) {\n            if (active.state == 1 /* State.Pending */ && !this.running.some(r => r.active.source == active.source))\n                this.startQuery(active);\n        }\n    }\n    startQuery(active) {\n        let { state } = this.view, pos = cur(state);\n        let context = new CompletionContext(state, pos, active.explicitPos == pos);\n        let pending = new RunningQuery(active, context);\n        this.running.push(pending);\n        Promise.resolve(active.source(context)).then(result => {\n            if (!pending.context.aborted) {\n                pending.done = result || null;\n                this.scheduleAccept();\n            }\n        }, err => {\n            this.view.dispatch({ effects: closeCompletionEffect.of(null) });\n            logException(this.view.state, err);\n        });\n    }\n    scheduleAccept() {\n        if (this.running.every(q => q.done !== undefined))\n            this.accept();\n        else if (this.debounceAccept < 0)\n            this.debounceAccept = setTimeout(() => this.accept(), DebounceTime);\n    }\n    // For each finished query in this.running, try to create a result\n    // or, if appropriate, restart the query.\n    accept() {\n        var _a;\n        if (this.debounceAccept > -1)\n            clearTimeout(this.debounceAccept);\n        this.debounceAccept = -1;\n        let updated = [];\n        let conf = this.view.state.facet(completionConfig);\n        for (let i = 0; i < this.running.length; i++) {\n            let query = this.running[i];\n            if (query.done === undefined)\n                continue;\n            this.running.splice(i--, 1);\n            if (query.done) {\n                let active = new ActiveResult(query.active.source, query.active.explicitPos, query.done, query.done.from, (_a = query.done.to) !== null && _a !== void 0 ? _a : cur(query.updates.length ? query.updates[0].startState : this.view.state));\n                // Replay the transactions that happened since the start of\n                // the request and see if that preserves the result\n                for (let tr of query.updates)\n                    active = active.update(tr, conf);\n                if (active.hasResult()) {\n                    updated.push(active);\n                    continue;\n                }\n            }\n            let current = this.view.state.field(completionState).active.find(a => a.source == query.active.source);\n            if (current && current.state == 1 /* State.Pending */) {\n                if (query.done == null) {\n                    // Explicitly failed. Should clear the pending status if it\n                    // hasn't been re-set in the meantime.\n                    let active = new ActiveSource(query.active.source, 0 /* State.Inactive */);\n                    for (let tr of query.updates)\n                        active = active.update(tr, conf);\n                    if (active.state != 1 /* State.Pending */)\n                        updated.push(active);\n                }\n                else {\n                    // Cleared by subsequent transactions. Restart.\n                    this.startQuery(current);\n                }\n            }\n        }\n        if (updated.length)\n            this.view.dispatch({ effects: setActiveEffect.of(updated) });\n    }\n}, {\n    eventHandlers: {\n        blur(event) {\n            let state = this.view.state.field(completionState, false);\n            if (state && state.tooltip && this.view.state.facet(completionConfig).closeOnBlur) {\n                let dialog = state.open && getTooltip(this.view, state.open.tooltip);\n                if (!dialog || !dialog.dom.contains(event.relatedTarget))\n                    this.view.dispatch({ effects: closeCompletionEffect.of(null) });\n            }\n        },\n        compositionstart() {\n            this.composing = 1 /* CompositionState.Started */;\n        },\n        compositionend() {\n            if (this.composing == 3 /* CompositionState.ChangedAndMoved */) {\n                // Safari fires compositionend events synchronously, possibly\n                // from inside an update, so dispatch asynchronously to avoid reentrancy\n                setTimeout(() => this.view.dispatch({ effects: startCompletionEffect.of(false) }), 20);\n            }\n            this.composing = 0 /* CompositionState.None */;\n        }\n    }\n});\n\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-tooltip.cm-tooltip-autocomplete\": {\n        \"& > ul\": {\n            fontFamily: \"monospace\",\n            whiteSpace: \"nowrap\",\n            overflow: \"hidden auto\",\n            maxWidth_fallback: \"700px\",\n            maxWidth: \"min(700px, 95vw)\",\n            minWidth: \"250px\",\n            maxHeight: \"10em\",\n            height: \"100%\",\n            listStyle: \"none\",\n            margin: 0,\n            padding: 0,\n            \"& > li, & > completion-section\": {\n                padding: \"1px 3px\",\n                lineHeight: 1.2\n            },\n            \"& > li\": {\n                overflowX: \"hidden\",\n                textOverflow: \"ellipsis\",\n                cursor: \"pointer\"\n            },\n            \"& > completion-section\": {\n                display: \"list-item\",\n                borderBottom: \"1px solid silver\",\n                paddingLeft: \"0.5em\",\n                opacity: 0.7\n            }\n        }\n    },\n    \"&light .cm-tooltip-autocomplete ul li[aria-selected]\": {\n        background: \"#17c\",\n        color: \"white\",\n    },\n    \"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]\": {\n        background: \"#777\",\n    },\n    \"&dark .cm-tooltip-autocomplete ul li[aria-selected]\": {\n        background: \"#347\",\n        color: \"white\",\n    },\n    \"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]\": {\n        background: \"#444\",\n    },\n    \".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after\": {\n        content: '\"···\"',\n        opacity: 0.5,\n        display: \"block\",\n        textAlign: \"center\"\n    },\n    \".cm-tooltip.cm-completionInfo\": {\n        position: \"absolute\",\n        padding: \"3px 9px\",\n        width: \"max-content\",\n        maxWidth: `${400 /* Info.Width */}px`,\n        boxSizing: \"border-box\"\n    },\n    \".cm-completionInfo.cm-completionInfo-left\": { right: \"100%\" },\n    \".cm-completionInfo.cm-completionInfo-right\": { left: \"100%\" },\n    \".cm-completionInfo.cm-completionInfo-left-narrow\": { right: `${30 /* Info.Margin */}px` },\n    \".cm-completionInfo.cm-completionInfo-right-narrow\": { left: `${30 /* Info.Margin */}px` },\n    \"&light .cm-snippetField\": { backgroundColor: \"#00000022\" },\n    \"&dark .cm-snippetField\": { backgroundColor: \"#ffffff22\" },\n    \".cm-snippetFieldPosition\": {\n        verticalAlign: \"text-top\",\n        width: 0,\n        height: \"1.15em\",\n        display: \"inline-block\",\n        margin: \"0 -0.7px -.7em\",\n        borderLeft: \"1.4px dotted #888\"\n    },\n    \".cm-completionMatchedText\": {\n        textDecoration: \"underline\"\n    },\n    \".cm-completionDetail\": {\n        marginLeft: \"0.5em\",\n        fontStyle: \"italic\"\n    },\n    \".cm-completionIcon\": {\n        fontSize: \"90%\",\n        width: \".8em\",\n        display: \"inline-block\",\n        textAlign: \"center\",\n        paddingRight: \".6em\",\n        opacity: \"0.6\",\n        boxSizing: \"content-box\"\n    },\n    \".cm-completionIcon-function, .cm-completionIcon-method\": {\n        \"&:after\": { content: \"'ƒ'\" }\n    },\n    \".cm-completionIcon-class\": {\n        \"&:after\": { content: \"'○'\" }\n    },\n    \".cm-completionIcon-interface\": {\n        \"&:after\": { content: \"'◌'\" }\n    },\n    \".cm-completionIcon-variable\": {\n        \"&:after\": { content: \"'𝑥'\" }\n    },\n    \".cm-completionIcon-constant\": {\n        \"&:after\": { content: \"'𝐶'\" }\n    },\n    \".cm-completionIcon-type\": {\n        \"&:after\": { content: \"'𝑡'\" }\n    },\n    \".cm-completionIcon-enum\": {\n        \"&:after\": { content: \"'∪'\" }\n    },\n    \".cm-completionIcon-property\": {\n        \"&:after\": { content: \"'□'\" }\n    },\n    \".cm-completionIcon-keyword\": {\n        \"&:after\": { content: \"'🔑\\uFE0E'\" } // Disable emoji rendering\n    },\n    \".cm-completionIcon-namespace\": {\n        \"&:after\": { content: \"'▢'\" }\n    },\n    \".cm-completionIcon-text\": {\n        \"&:after\": { content: \"'abc'\", fontSize: \"50%\", verticalAlign: \"middle\" }\n    }\n});\n\nclass FieldPos {\n    constructor(field, line, from, to) {\n        this.field = field;\n        this.line = line;\n        this.from = from;\n        this.to = to;\n    }\n}\nclass FieldRange {\n    constructor(field, from, to) {\n        this.field = field;\n        this.from = from;\n        this.to = to;\n    }\n    map(changes) {\n        let from = changes.mapPos(this.from, -1, MapMode.TrackDel);\n        let to = changes.mapPos(this.to, 1, MapMode.TrackDel);\n        return from == null || to == null ? null : new FieldRange(this.field, from, to);\n    }\n}\nclass Snippet {\n    constructor(lines, fieldPositions) {\n        this.lines = lines;\n        this.fieldPositions = fieldPositions;\n    }\n    instantiate(state, pos) {\n        let text = [], lineStart = [pos];\n        let lineObj = state.doc.lineAt(pos), baseIndent = /^\\s*/.exec(lineObj.text)[0];\n        for (let line of this.lines) {\n            if (text.length) {\n                let indent = baseIndent, tabs = /^\\t*/.exec(line)[0].length;\n                for (let i = 0; i < tabs; i++)\n                    indent += state.facet(indentUnit);\n                lineStart.push(pos + indent.length - tabs);\n                line = indent + line.slice(tabs);\n            }\n            text.push(line);\n            pos += line.length + 1;\n        }\n        let ranges = this.fieldPositions.map(pos => new FieldRange(pos.field, lineStart[pos.line] + pos.from, lineStart[pos.line] + pos.to));\n        return { text, ranges };\n    }\n    static parse(template) {\n        let fields = [];\n        let lines = [], positions = [], m;\n        for (let line of template.split(/\\r\\n?|\\n/)) {\n            while (m = /[#$]\\{(?:(\\d+)(?::([^}]*))?|([^}]*))\\}/.exec(line)) {\n                let seq = m[1] ? +m[1] : null, name = m[2] || m[3] || \"\", found = -1;\n                for (let i = 0; i < fields.length; i++) {\n                    if (seq != null ? fields[i].seq == seq : name ? fields[i].name == name : false)\n                        found = i;\n                }\n                if (found < 0) {\n                    let i = 0;\n                    while (i < fields.length && (seq == null || (fields[i].seq != null && fields[i].seq < seq)))\n                        i++;\n                    fields.splice(i, 0, { seq, name });\n                    found = i;\n                    for (let pos of positions)\n                        if (pos.field >= found)\n                            pos.field++;\n                }\n                positions.push(new FieldPos(found, lines.length, m.index, m.index + name.length));\n                line = line.slice(0, m.index) + name + line.slice(m.index + m[0].length);\n            }\n            for (let esc; esc = /\\\\([{}])/.exec(line);) {\n                line = line.slice(0, esc.index) + esc[1] + line.slice(esc.index + esc[0].length);\n                for (let pos of positions)\n                    if (pos.line == lines.length && pos.from > esc.index) {\n                        pos.from--;\n                        pos.to--;\n                    }\n            }\n            lines.push(line);\n        }\n        return new Snippet(lines, positions);\n    }\n}\nlet fieldMarker = /*@__PURE__*/Decoration.widget({ widget: /*@__PURE__*/new class extends WidgetType {\n        toDOM() {\n            let span = document.createElement(\"span\");\n            span.className = \"cm-snippetFieldPosition\";\n            return span;\n        }\n        ignoreEvent() { return false; }\n    } });\nlet fieldRange = /*@__PURE__*/Decoration.mark({ class: \"cm-snippetField\" });\nclass ActiveSnippet {\n    constructor(ranges, active) {\n        this.ranges = ranges;\n        this.active = active;\n        this.deco = Decoration.set(ranges.map(r => (r.from == r.to ? fieldMarker : fieldRange).range(r.from, r.to)));\n    }\n    map(changes) {\n        let ranges = [];\n        for (let r of this.ranges) {\n            let mapped = r.map(changes);\n            if (!mapped)\n                return null;\n            ranges.push(mapped);\n        }\n        return new ActiveSnippet(ranges, this.active);\n    }\n    selectionInsideField(sel) {\n        return sel.ranges.every(range => this.ranges.some(r => r.field == this.active && r.from <= range.from && r.to >= range.to));\n    }\n}\nconst setActive = /*@__PURE__*/StateEffect.define({\n    map(value, changes) { return value && value.map(changes); }\n});\nconst moveToField = /*@__PURE__*/StateEffect.define();\nconst snippetState = /*@__PURE__*/StateField.define({\n    create() { return null; },\n    update(value, tr) {\n        for (let effect of tr.effects) {\n            if (effect.is(setActive))\n                return effect.value;\n            if (effect.is(moveToField) && value)\n                return new ActiveSnippet(value.ranges, effect.value);\n        }\n        if (value && tr.docChanged)\n            value = value.map(tr.changes);\n        if (value && tr.selection && !value.selectionInsideField(tr.selection))\n            value = null;\n        return value;\n    },\n    provide: f => EditorView.decorations.from(f, val => val ? val.deco : Decoration.none)\n});\nfunction fieldSelection(ranges, field) {\n    return EditorSelection.create(ranges.filter(r => r.field == field).map(r => EditorSelection.range(r.from, r.to)));\n}\n/**\nConvert a snippet template to a function that can\n[apply](https://codemirror.net/6/docs/ref/#autocomplete.Completion.apply) it. Snippets are written\nusing syntax like this:\n\n    \"for (let ${index} = 0; ${index} < ${end}; ${index}++) {\\n\\t${}\\n}\"\n\nEach `${}` placeholder (you may also use `#{}`) indicates a field\nthat the user can fill in. Its name, if any, will be the default\ncontent for the field.\n\nWhen the snippet is activated by calling the returned function,\nthe code is inserted at the given position. Newlines in the\ntemplate are indented by the indentation of the start line, plus\none [indent unit](https://codemirror.net/6/docs/ref/#language.indentUnit) per tab character after\nthe newline.\n\nOn activation, (all instances of) the first field are selected.\nThe user can move between fields with Tab and Shift-Tab as long as\nthe fields are active. Moving to the last field or moving the\ncursor out of the current field deactivates the fields.\n\nThe order of fields defaults to textual order, but you can add\nnumbers to placeholders (`${1}` or `${1:defaultText}`) to provide\na custom order.\n\nTo include a literal `{` or `}` in your template, put a backslash\nin front of it. This will be removed and the brace will not be\ninterpreted as indicating a placeholder.\n*/\nfunction snippet(template) {\n    let snippet = Snippet.parse(template);\n    return (editor, completion, from, to) => {\n        let { text, ranges } = snippet.instantiate(editor.state, from);\n        let spec = {\n            changes: { from, to, insert: Text.of(text) },\n            scrollIntoView: true,\n            annotations: completion ? pickedCompletion.of(completion) : undefined\n        };\n        if (ranges.length)\n            spec.selection = fieldSelection(ranges, 0);\n        if (ranges.length > 1) {\n            let active = new ActiveSnippet(ranges, 0);\n            let effects = spec.effects = [setActive.of(active)];\n            if (editor.state.field(snippetState, false) === undefined)\n                effects.push(StateEffect.appendConfig.of([snippetState, addSnippetKeymap, snippetPointerHandler, baseTheme]));\n        }\n        editor.dispatch(editor.state.update(spec));\n    };\n}\nfunction moveField(dir) {\n    return ({ state, dispatch }) => {\n        let active = state.field(snippetState, false);\n        if (!active || dir < 0 && active.active == 0)\n            return false;\n        let next = active.active + dir, last = dir > 0 && !active.ranges.some(r => r.field == next + dir);\n        dispatch(state.update({\n            selection: fieldSelection(active.ranges, next),\n            effects: setActive.of(last ? null : new ActiveSnippet(active.ranges, next)),\n            scrollIntoView: true\n        }));\n        return true;\n    };\n}\n/**\nA command that clears the active snippet, if any.\n*/\nconst clearSnippet = ({ state, dispatch }) => {\n    let active = state.field(snippetState, false);\n    if (!active)\n        return false;\n    dispatch(state.update({ effects: setActive.of(null) }));\n    return true;\n};\n/**\nMove to the next snippet field, if available.\n*/\nconst nextSnippetField = /*@__PURE__*/moveField(1);\n/**\nMove to the previous snippet field, if available.\n*/\nconst prevSnippetField = /*@__PURE__*/moveField(-1);\n/**\nCheck if there is an active snippet with a next field for\n`nextSnippetField` to move to.\n*/\nfunction hasNextSnippetField(state) {\n    let active = state.field(snippetState, false);\n    return !!(active && active.ranges.some(r => r.field == active.active + 1));\n}\n/**\nReturns true if there is an active snippet and a previous field\nfor `prevSnippetField` to move to.\n*/\nfunction hasPrevSnippetField(state) {\n    let active = state.field(snippetState, false);\n    return !!(active && active.active > 0);\n}\nconst defaultSnippetKeymap = [\n    { key: \"Tab\", run: nextSnippetField, shift: prevSnippetField },\n    { key: \"Escape\", run: clearSnippet }\n];\n/**\nA facet that can be used to configure the key bindings used by\nsnippets. The default binds Tab to\n[`nextSnippetField`](https://codemirror.net/6/docs/ref/#autocomplete.nextSnippetField), Shift-Tab to\n[`prevSnippetField`](https://codemirror.net/6/docs/ref/#autocomplete.prevSnippetField), and Escape\nto [`clearSnippet`](https://codemirror.net/6/docs/ref/#autocomplete.clearSnippet).\n*/\nconst snippetKeymap = /*@__PURE__*/Facet.define({\n    combine(maps) { return maps.length ? maps[0] : defaultSnippetKeymap; }\n});\nconst addSnippetKeymap = /*@__PURE__*/Prec.highest(/*@__PURE__*/keymap.compute([snippetKeymap], state => state.facet(snippetKeymap)));\n/**\nCreate a completion from a snippet. Returns an object with the\nproperties from `completion`, plus an `apply` function that\napplies the snippet.\n*/\nfunction snippetCompletion(template, completion) {\n    return Object.assign(Object.assign({}, completion), { apply: snippet(template) });\n}\nconst snippetPointerHandler = /*@__PURE__*/EditorView.domEventHandlers({\n    mousedown(event, view) {\n        let active = view.state.field(snippetState, false), pos;\n        if (!active || (pos = view.posAtCoords({ x: event.clientX, y: event.clientY })) == null)\n            return false;\n        let match = active.ranges.find(r => r.from <= pos && r.to >= pos);\n        if (!match || match.field == active.active)\n            return false;\n        view.dispatch({\n            selection: fieldSelection(active.ranges, match.field),\n            effects: setActive.of(active.ranges.some(r => r.field > match.field)\n                ? new ActiveSnippet(active.ranges, match.field) : null),\n            scrollIntoView: true\n        });\n        return true;\n    }\n});\n\nfunction wordRE(wordChars) {\n    let escaped = wordChars.replace(/[\\\\[.+*?(){|^$]/g, \"\\\\$&\");\n    try {\n        return new RegExp(`[\\\\p{Alphabetic}\\\\p{Number}_${escaped}]+`, \"ug\");\n    }\n    catch (_a) {\n        return new RegExp(`[\\w${escaped}]`, \"g\");\n    }\n}\nfunction mapRE(re, f) {\n    return new RegExp(f(re.source), re.unicode ? \"u\" : \"\");\n}\nconst wordCaches = /*@__PURE__*/Object.create(null);\nfunction wordCache(wordChars) {\n    return wordCaches[wordChars] || (wordCaches[wordChars] = new WeakMap);\n}\nfunction storeWords(doc, wordRE, result, seen, ignoreAt) {\n    for (let lines = doc.iterLines(), pos = 0; !lines.next().done;) {\n        let { value } = lines, m;\n        wordRE.lastIndex = 0;\n        while (m = wordRE.exec(value)) {\n            if (!seen[m[0]] && pos + m.index != ignoreAt) {\n                result.push({ type: \"text\", label: m[0] });\n                seen[m[0]] = true;\n                if (result.length >= 2000 /* C.MaxList */)\n                    return;\n            }\n        }\n        pos += value.length + 1;\n    }\n}\nfunction collectWords(doc, cache, wordRE, to, ignoreAt) {\n    let big = doc.length >= 1000 /* C.MinCacheLen */;\n    let cached = big && cache.get(doc);\n    if (cached)\n        return cached;\n    let result = [], seen = Object.create(null);\n    if (doc.children) {\n        let pos = 0;\n        for (let ch of doc.children) {\n            if (ch.length >= 1000 /* C.MinCacheLen */) {\n                for (let c of collectWords(ch, cache, wordRE, to - pos, ignoreAt - pos)) {\n                    if (!seen[c.label]) {\n                        seen[c.label] = true;\n                        result.push(c);\n                    }\n                }\n            }\n            else {\n                storeWords(ch, wordRE, result, seen, ignoreAt - pos);\n            }\n            pos += ch.length + 1;\n        }\n    }\n    else {\n        storeWords(doc, wordRE, result, seen, ignoreAt);\n    }\n    if (big && result.length < 2000 /* C.MaxList */)\n        cache.set(doc, result);\n    return result;\n}\n/**\nA completion source that will scan the document for words (using a\n[character categorizer](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer)), and\nreturn those as completions.\n*/\nconst completeAnyWord = context => {\n    let wordChars = context.state.languageDataAt(\"wordChars\", context.pos).join(\"\");\n    let re = wordRE(wordChars);\n    let token = context.matchBefore(mapRE(re, s => s + \"$\"));\n    if (!token && !context.explicit)\n        return null;\n    let from = token ? token.from : context.pos;\n    let options = collectWords(context.state.doc, wordCache(wordChars), re, 50000 /* C.Range */, from);\n    return { from, options, validFor: mapRE(re, s => \"^\" + s) };\n};\n\nconst defaults = {\n    brackets: [\"(\", \"[\", \"{\", \"'\", '\"'],\n    before: \")]}:;>\",\n    stringPrefixes: []\n};\nconst closeBracketEffect = /*@__PURE__*/StateEffect.define({\n    map(value, mapping) {\n        let mapped = mapping.mapPos(value, -1, MapMode.TrackAfter);\n        return mapped == null ? undefined : mapped;\n    }\n});\nconst closedBracket = /*@__PURE__*/new class extends RangeValue {\n};\nclosedBracket.startSide = 1;\nclosedBracket.endSide = -1;\nconst bracketState = /*@__PURE__*/StateField.define({\n    create() { return RangeSet.empty; },\n    update(value, tr) {\n        if (tr.selection) {\n            let lineStart = tr.state.doc.lineAt(tr.selection.main.head).from;\n            let prevLineStart = tr.startState.doc.lineAt(tr.startState.selection.main.head).from;\n            if (lineStart != tr.changes.mapPos(prevLineStart, -1))\n                value = RangeSet.empty;\n        }\n        value = value.map(tr.changes);\n        for (let effect of tr.effects)\n            if (effect.is(closeBracketEffect))\n                value = value.update({ add: [closedBracket.range(effect.value, effect.value + 1)] });\n        return value;\n    }\n});\n/**\nExtension to enable bracket-closing behavior. When a closeable\nbracket is typed, its closing bracket is immediately inserted\nafter the cursor. When closing a bracket directly in front of a\nclosing bracket inserted by the extension, the cursor moves over\nthat bracket.\n*/\nfunction closeBrackets() {\n    return [inputHandler, bracketState];\n}\nconst definedClosing = \"()[]{}<>\";\nfunction closing(ch) {\n    for (let i = 0; i < definedClosing.length; i += 2)\n        if (definedClosing.charCodeAt(i) == ch)\n            return definedClosing.charAt(i + 1);\n    return fromCodePoint(ch < 128 ? ch : ch + 1);\n}\nfunction config(state, pos) {\n    return state.languageDataAt(\"closeBrackets\", pos)[0] || defaults;\n}\nconst android = typeof navigator == \"object\" && /*@__PURE__*//Android\\b/.test(navigator.userAgent);\nconst inputHandler = /*@__PURE__*/EditorView.inputHandler.of((view, from, to, insert) => {\n    if ((android ? view.composing : view.compositionStarted) || view.state.readOnly)\n        return false;\n    let sel = view.state.selection.main;\n    if (insert.length > 2 || insert.length == 2 && codePointSize(codePointAt(insert, 0)) == 1 ||\n        from != sel.from || to != sel.to)\n        return false;\n    let tr = insertBracket(view.state, insert);\n    if (!tr)\n        return false;\n    view.dispatch(tr);\n    return true;\n});\n/**\nCommand that implements deleting a pair of matching brackets when\nthe cursor is between them.\n*/\nconst deleteBracketPair = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let conf = config(state, state.selection.main.head);\n    let tokens = conf.brackets || defaults.brackets;\n    let dont = null, changes = state.changeByRange(range => {\n        if (range.empty) {\n            let before = prevChar(state.doc, range.head);\n            for (let token of tokens) {\n                if (token == before && nextChar(state.doc, range.head) == closing(codePointAt(token, 0)))\n                    return { changes: { from: range.head - token.length, to: range.head + token.length },\n                        range: EditorSelection.cursor(range.head - token.length) };\n            }\n        }\n        return { range: dont = range };\n    });\n    if (!dont)\n        dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"delete.backward\" }));\n    return !dont;\n};\n/**\nClose-brackets related key bindings. Binds Backspace to\n[`deleteBracketPair`](https://codemirror.net/6/docs/ref/#autocomplete.deleteBracketPair).\n*/\nconst closeBracketsKeymap = [\n    { key: \"Backspace\", run: deleteBracketPair }\n];\n/**\nImplements the extension's behavior on text insertion. If the\ngiven string counts as a bracket in the language around the\nselection, and replacing the selection with it requires custom\nbehavior (inserting a closing version or skipping past a\npreviously-closed bracket), this function returns a transaction\nrepresenting that custom behavior. (You only need this if you want\nto programmatically insert brackets—the\n[`closeBrackets`](https://codemirror.net/6/docs/ref/#autocomplete.closeBrackets) extension will\ntake care of running this for user input.)\n*/\nfunction insertBracket(state, bracket) {\n    let conf = config(state, state.selection.main.head);\n    let tokens = conf.brackets || defaults.brackets;\n    for (let tok of tokens) {\n        let closed = closing(codePointAt(tok, 0));\n        if (bracket == tok)\n            return closed == tok ? handleSame(state, tok, tokens.indexOf(tok + tok + tok) > -1, conf)\n                : handleOpen(state, tok, closed, conf.before || defaults.before);\n        if (bracket == closed && closedBracketAt(state, state.selection.main.from))\n            return handleClose(state, tok, closed);\n    }\n    return null;\n}\nfunction closedBracketAt(state, pos) {\n    let found = false;\n    state.field(bracketState).between(0, state.doc.length, from => {\n        if (from == pos)\n            found = true;\n    });\n    return found;\n}\nfunction nextChar(doc, pos) {\n    let next = doc.sliceString(pos, pos + 2);\n    return next.slice(0, codePointSize(codePointAt(next, 0)));\n}\nfunction prevChar(doc, pos) {\n    let prev = doc.sliceString(pos - 2, pos);\n    return codePointSize(codePointAt(prev, 0)) == prev.length ? prev : prev.slice(1);\n}\nfunction handleOpen(state, open, close, closeBefore) {\n    let dont = null, changes = state.changeByRange(range => {\n        if (!range.empty)\n            return { changes: [{ insert: open, from: range.from }, { insert: close, from: range.to }],\n                effects: closeBracketEffect.of(range.to + open.length),\n                range: EditorSelection.range(range.anchor + open.length, range.head + open.length) };\n        let next = nextChar(state.doc, range.head);\n        if (!next || /\\s/.test(next) || closeBefore.indexOf(next) > -1)\n            return { changes: { insert: open + close, from: range.head },\n                effects: closeBracketEffect.of(range.head + open.length),\n                range: EditorSelection.cursor(range.head + open.length) };\n        return { range: dont = range };\n    });\n    return dont ? null : state.update(changes, {\n        scrollIntoView: true,\n        userEvent: \"input.type\"\n    });\n}\nfunction handleClose(state, _open, close) {\n    let dont = null, changes = state.changeByRange(range => {\n        if (range.empty && nextChar(state.doc, range.head) == close)\n            return { changes: { from: range.head, to: range.head + close.length, insert: close },\n                range: EditorSelection.cursor(range.head + close.length) };\n        return dont = { range };\n    });\n    return dont ? null : state.update(changes, {\n        scrollIntoView: true,\n        userEvent: \"input.type\"\n    });\n}\n// Handles cases where the open and close token are the same, and\n// possibly triple quotes (as in `\"\"\"abc\"\"\"`-style quoting).\nfunction handleSame(state, token, allowTriple, config) {\n    let stringPrefixes = config.stringPrefixes || defaults.stringPrefixes;\n    let dont = null, changes = state.changeByRange(range => {\n        if (!range.empty)\n            return { changes: [{ insert: token, from: range.from }, { insert: token, from: range.to }],\n                effects: closeBracketEffect.of(range.to + token.length),\n                range: EditorSelection.range(range.anchor + token.length, range.head + token.length) };\n        let pos = range.head, next = nextChar(state.doc, pos), start;\n        if (next == token) {\n            if (nodeStart(state, pos)) {\n                return { changes: { insert: token + token, from: pos },\n                    effects: closeBracketEffect.of(pos + token.length),\n                    range: EditorSelection.cursor(pos + token.length) };\n            }\n            else if (closedBracketAt(state, pos)) {\n                let isTriple = allowTriple && state.sliceDoc(pos, pos + token.length * 3) == token + token + token;\n                let content = isTriple ? token + token + token : token;\n                return { changes: { from: pos, to: pos + content.length, insert: content },\n                    range: EditorSelection.cursor(pos + content.length) };\n            }\n        }\n        else if (allowTriple && state.sliceDoc(pos - 2 * token.length, pos) == token + token &&\n            (start = canStartStringAt(state, pos - 2 * token.length, stringPrefixes)) > -1 &&\n            nodeStart(state, start)) {\n            return { changes: { insert: token + token + token + token, from: pos },\n                effects: closeBracketEffect.of(pos + token.length),\n                range: EditorSelection.cursor(pos + token.length) };\n        }\n        else if (state.charCategorizer(pos)(next) != CharCategory.Word) {\n            if (canStartStringAt(state, pos, stringPrefixes) > -1 && !probablyInString(state, pos, token, stringPrefixes))\n                return { changes: { insert: token + token, from: pos },\n                    effects: closeBracketEffect.of(pos + token.length),\n                    range: EditorSelection.cursor(pos + token.length) };\n        }\n        return { range: dont = range };\n    });\n    return dont ? null : state.update(changes, {\n        scrollIntoView: true,\n        userEvent: \"input.type\"\n    });\n}\nfunction nodeStart(state, pos) {\n    let tree = syntaxTree(state).resolveInner(pos + 1);\n    return tree.parent && tree.from == pos;\n}\nfunction probablyInString(state, pos, quoteToken, prefixes) {\n    let node = syntaxTree(state).resolveInner(pos, -1);\n    let maxPrefix = prefixes.reduce((m, p) => Math.max(m, p.length), 0);\n    for (let i = 0; i < 5; i++) {\n        let start = state.sliceDoc(node.from, Math.min(node.to, node.from + quoteToken.length + maxPrefix));\n        let quotePos = start.indexOf(quoteToken);\n        if (!quotePos || quotePos > -1 && prefixes.indexOf(start.slice(0, quotePos)) > -1) {\n            let first = node.firstChild;\n            while (first && first.from == node.from && first.to - first.from > quoteToken.length + quotePos) {\n                if (state.sliceDoc(first.to - quoteToken.length, first.to) == quoteToken)\n                    return false;\n                first = first.firstChild;\n            }\n            return true;\n        }\n        let parent = node.to == pos && node.parent;\n        if (!parent)\n            break;\n        node = parent;\n    }\n    return false;\n}\nfunction canStartStringAt(state, pos, prefixes) {\n    let charCat = state.charCategorizer(pos);\n    if (charCat(state.sliceDoc(pos - 1, pos)) != CharCategory.Word)\n        return pos;\n    for (let prefix of prefixes) {\n        let start = pos - prefix.length;\n        if (state.sliceDoc(start, pos) == prefix && charCat(state.sliceDoc(start - 1, start)) != CharCategory.Word)\n            return start;\n    }\n    return -1;\n}\n\n/**\nReturns an extension that enables autocompletion.\n*/\nfunction autocompletion(config = {}) {\n    return [\n        completionState,\n        completionConfig.of(config),\n        completionPlugin,\n        completionKeymapExt,\n        baseTheme\n    ];\n}\n/**\nBasic keybindings for autocompletion.\n\n - Ctrl-Space: [`startCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.startCompletion)\n - Escape: [`closeCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.closeCompletion)\n - ArrowDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true)`\n - ArrowUp: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(false)`\n - PageDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true, \"page\")`\n - PageDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true, \"page\")`\n - Enter: [`acceptCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.acceptCompletion)\n*/\nconst completionKeymap = [\n    { key: \"Ctrl-Space\", run: startCompletion },\n    { key: \"Escape\", run: closeCompletion },\n    { key: \"ArrowDown\", run: /*@__PURE__*/moveCompletionSelection(true) },\n    { key: \"ArrowUp\", run: /*@__PURE__*/moveCompletionSelection(false) },\n    { key: \"PageDown\", run: /*@__PURE__*/moveCompletionSelection(true, \"page\") },\n    { key: \"PageUp\", run: /*@__PURE__*/moveCompletionSelection(false, \"page\") },\n    { key: \"Enter\", run: acceptCompletion }\n];\nconst completionKeymapExt = /*@__PURE__*/Prec.highest(/*@__PURE__*/keymap.computeN([completionConfig], state => state.facet(completionConfig).defaultKeymap ? [completionKeymap] : []));\n/**\nGet the current completion status. When completions are available,\nthis will return `\"active\"`. When completions are pending (in the\nprocess of being queried), this returns `\"pending\"`. Otherwise, it\nreturns `null`.\n*/\nfunction completionStatus(state) {\n    let cState = state.field(completionState, false);\n    return cState && cState.active.some(a => a.state == 1 /* State.Pending */) ? \"pending\"\n        : cState && cState.active.some(a => a.state != 0 /* State.Inactive */) ? \"active\" : null;\n}\nconst completionArrayCache = /*@__PURE__*/new WeakMap;\n/**\nReturns the available completions as an array.\n*/\nfunction currentCompletions(state) {\n    var _a;\n    let open = (_a = state.field(completionState, false)) === null || _a === void 0 ? void 0 : _a.open;\n    if (!open || open.disabled)\n        return [];\n    let completions = completionArrayCache.get(open.options);\n    if (!completions)\n        completionArrayCache.set(open.options, completions = open.options.map(o => o.completion));\n    return completions;\n}\n/**\nReturn the currently selected completion, if any.\n*/\nfunction selectedCompletion(state) {\n    var _a;\n    let open = (_a = state.field(completionState, false)) === null || _a === void 0 ? void 0 : _a.open;\n    return open && !open.disabled && open.selected >= 0 ? open.options[open.selected].completion : null;\n}\n/**\nReturns the currently selected position in the active completion\nlist, or null if no completions are active.\n*/\nfunction selectedCompletionIndex(state) {\n    var _a;\n    let open = (_a = state.field(completionState, false)) === null || _a === void 0 ? void 0 : _a.open;\n    return open && !open.disabled && open.selected >= 0 ? open.selected : null;\n}\n/**\nCreate an effect that can be attached to a transaction to change\nthe currently selected completion.\n*/\nfunction setSelectedCompletion(index) {\n    return setSelectedEffect.of(index);\n}\n\nexport { CompletionContext, acceptCompletion, autocompletion, clearSnippet, closeBrackets, closeBracketsKeymap, closeCompletion, completeAnyWord, completeFromList, completionKeymap, completionStatus, currentCompletions, deleteBracketPair, hasNextSnippetField, hasPrevSnippetField, ifIn, ifNotIn, insertBracket, insertCompletionText, moveCompletionSelection, nextSnippetField, pickedCompletion, prevSnippetField, selectedCompletion, selectedCompletionIndex, setSelectedCompletion, snippet, snippetCompletion, snippetKeymap, startCompletion };\n","import { Annotation, Facet, combineConfig, StateField, EditorSelection, Transaction, ChangeSet, ChangeDesc, StateEffect, Text, findClusterBreak, countColumn, CharCategory } from '@codemirror/state';\nimport { EditorView, Direction } from '@codemirror/view';\nimport { IndentContext, getIndentation, indentString, matchBrackets, syntaxTree, getIndentUnit, indentUnit } from '@codemirror/language';\nimport { NodeProp } from '@lezer/common';\n\n/**\nComment or uncomment the current selection. Will use line comments\nif available, otherwise falling back to block comments.\n*/\nconst toggleComment = target => {\n    let { state } = target, line = state.doc.lineAt(state.selection.main.from), config = getConfig(target.state, line.from);\n    return config.line ? toggleLineComment(target) : config.block ? toggleBlockCommentByLine(target) : false;\n};\nfunction command(f, option) {\n    return ({ state, dispatch }) => {\n        if (state.readOnly)\n            return false;\n        let tr = f(option, state);\n        if (!tr)\n            return false;\n        dispatch(state.update(tr));\n        return true;\n    };\n}\n/**\nComment or uncomment the current selection using line comments.\nThe line comment syntax is taken from the\n[`commentTokens`](https://codemirror.net/6/docs/ref/#commands.CommentTokens) [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt).\n*/\nconst toggleLineComment = /*@__PURE__*/command(changeLineComment, 0 /* CommentOption.Toggle */);\n/**\nComment the current selection using line comments.\n*/\nconst lineComment = /*@__PURE__*/command(changeLineComment, 1 /* CommentOption.Comment */);\n/**\nUncomment the current selection using line comments.\n*/\nconst lineUncomment = /*@__PURE__*/command(changeLineComment, 2 /* CommentOption.Uncomment */);\n/**\nComment or uncomment the current selection using block comments.\nThe block comment syntax is taken from the\n[`commentTokens`](https://codemirror.net/6/docs/ref/#commands.CommentTokens) [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt).\n*/\nconst toggleBlockComment = /*@__PURE__*/command(changeBlockComment, 0 /* CommentOption.Toggle */);\n/**\nComment the current selection using block comments.\n*/\nconst blockComment = /*@__PURE__*/command(changeBlockComment, 1 /* CommentOption.Comment */);\n/**\nUncomment the current selection using block comments.\n*/\nconst blockUncomment = /*@__PURE__*/command(changeBlockComment, 2 /* CommentOption.Uncomment */);\n/**\nComment or uncomment the lines around the current selection using\nblock comments.\n*/\nconst toggleBlockCommentByLine = /*@__PURE__*/command((o, s) => changeBlockComment(o, s, selectedLineRanges(s)), 0 /* CommentOption.Toggle */);\nfunction getConfig(state, pos) {\n    let data = state.languageDataAt(\"commentTokens\", pos);\n    return data.length ? data[0] : {};\n}\nconst SearchMargin = 50;\n/**\nDetermines if the given range is block-commented in the given\nstate.\n*/\nfunction findBlockComment(state, { open, close }, from, to) {\n    let textBefore = state.sliceDoc(from - SearchMargin, from);\n    let textAfter = state.sliceDoc(to, to + SearchMargin);\n    let spaceBefore = /\\s*$/.exec(textBefore)[0].length, spaceAfter = /^\\s*/.exec(textAfter)[0].length;\n    let beforeOff = textBefore.length - spaceBefore;\n    if (textBefore.slice(beforeOff - open.length, beforeOff) == open &&\n        textAfter.slice(spaceAfter, spaceAfter + close.length) == close) {\n        return { open: { pos: from - spaceBefore, margin: spaceBefore && 1 },\n            close: { pos: to + spaceAfter, margin: spaceAfter && 1 } };\n    }\n    let startText, endText;\n    if (to - from <= 2 * SearchMargin) {\n        startText = endText = state.sliceDoc(from, to);\n    }\n    else {\n        startText = state.sliceDoc(from, from + SearchMargin);\n        endText = state.sliceDoc(to - SearchMargin, to);\n    }\n    let startSpace = /^\\s*/.exec(startText)[0].length, endSpace = /\\s*$/.exec(endText)[0].length;\n    let endOff = endText.length - endSpace - close.length;\n    if (startText.slice(startSpace, startSpace + open.length) == open &&\n        endText.slice(endOff, endOff + close.length) == close) {\n        return { open: { pos: from + startSpace + open.length,\n                margin: /\\s/.test(startText.charAt(startSpace + open.length)) ? 1 : 0 },\n            close: { pos: to - endSpace - close.length,\n                margin: /\\s/.test(endText.charAt(endOff - 1)) ? 1 : 0 } };\n    }\n    return null;\n}\nfunction selectedLineRanges(state) {\n    let ranges = [];\n    for (let r of state.selection.ranges) {\n        let fromLine = state.doc.lineAt(r.from);\n        let toLine = r.to <= fromLine.to ? fromLine : state.doc.lineAt(r.to);\n        let last = ranges.length - 1;\n        if (last >= 0 && ranges[last].to > fromLine.from)\n            ranges[last].to = toLine.to;\n        else\n            ranges.push({ from: fromLine.from + /^\\s*/.exec(fromLine.text)[0].length, to: toLine.to });\n    }\n    return ranges;\n}\n// Performs toggle, comment and uncomment of block comments in\n// languages that support them.\nfunction changeBlockComment(option, state, ranges = state.selection.ranges) {\n    let tokens = ranges.map(r => getConfig(state, r.from).block);\n    if (!tokens.every(c => c))\n        return null;\n    let comments = ranges.map((r, i) => findBlockComment(state, tokens[i], r.from, r.to));\n    if (option != 2 /* CommentOption.Uncomment */ && !comments.every(c => c)) {\n        return { changes: state.changes(ranges.map((range, i) => {\n                if (comments[i])\n                    return [];\n                return [{ from: range.from, insert: tokens[i].open + \" \" }, { from: range.to, insert: \" \" + tokens[i].close }];\n            })) };\n    }\n    else if (option != 1 /* CommentOption.Comment */ && comments.some(c => c)) {\n        let changes = [];\n        for (let i = 0, comment; i < comments.length; i++)\n            if (comment = comments[i]) {\n                let token = tokens[i], { open, close } = comment;\n                changes.push({ from: open.pos - token.open.length, to: open.pos + open.margin }, { from: close.pos - close.margin, to: close.pos + token.close.length });\n            }\n        return { changes };\n    }\n    return null;\n}\n// Performs toggle, comment and uncomment of line comments.\nfunction changeLineComment(option, state, ranges = state.selection.ranges) {\n    let lines = [];\n    let prevLine = -1;\n    for (let { from, to } of ranges) {\n        let startI = lines.length, minIndent = 1e9;\n        let token = getConfig(state, from).line;\n        if (!token)\n            continue;\n        for (let pos = from; pos <= to;) {\n            let line = state.doc.lineAt(pos);\n            if (line.from > prevLine && (from == to || to > line.from)) {\n                prevLine = line.from;\n                let indent = /^\\s*/.exec(line.text)[0].length;\n                let empty = indent == line.length;\n                let comment = line.text.slice(indent, indent + token.length) == token ? indent : -1;\n                if (indent < line.text.length && indent < minIndent)\n                    minIndent = indent;\n                lines.push({ line, comment, token, indent, empty, single: false });\n            }\n            pos = line.to + 1;\n        }\n        if (minIndent < 1e9)\n            for (let i = startI; i < lines.length; i++)\n                if (lines[i].indent < lines[i].line.text.length)\n                    lines[i].indent = minIndent;\n        if (lines.length == startI + 1)\n            lines[startI].single = true;\n    }\n    if (option != 2 /* CommentOption.Uncomment */ && lines.some(l => l.comment < 0 && (!l.empty || l.single))) {\n        let changes = [];\n        for (let { line, token, indent, empty, single } of lines)\n            if (single || !empty)\n                changes.push({ from: line.from + indent, insert: token + \" \" });\n        let changeSet = state.changes(changes);\n        return { changes: changeSet, selection: state.selection.map(changeSet, 1) };\n    }\n    else if (option != 1 /* CommentOption.Comment */ && lines.some(l => l.comment >= 0)) {\n        let changes = [];\n        for (let { line, comment, token } of lines)\n            if (comment >= 0) {\n                let from = line.from + comment, to = from + token.length;\n                if (line.text[to - line.from] == \" \")\n                    to++;\n                changes.push({ from, to });\n            }\n        return { changes };\n    }\n    return null;\n}\n\nconst fromHistory = /*@__PURE__*/Annotation.define();\n/**\nTransaction annotation that will prevent that transaction from\nbeing combined with other transactions in the undo history. Given\n`\"before\"`, it'll prevent merging with previous transactions. With\n`\"after\"`, subsequent transactions won't be combined with this\none. With `\"full\"`, the transaction is isolated on both sides.\n*/\nconst isolateHistory = /*@__PURE__*/Annotation.define();\n/**\nThis facet provides a way to register functions that, given a\ntransaction, provide a set of effects that the history should\nstore when inverting the transaction. This can be used to\nintegrate some kinds of effects in the history, so that they can\nbe undone (and redone again).\n*/\nconst invertedEffects = /*@__PURE__*/Facet.define();\nconst historyConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            minDepth: 100,\n            newGroupDelay: 500,\n            joinToEvent: (_t, isAdjacent) => isAdjacent,\n        }, {\n            minDepth: Math.max,\n            newGroupDelay: Math.min,\n            joinToEvent: (a, b) => (tr, adj) => a(tr, adj) || b(tr, adj)\n        });\n    }\n});\nfunction changeEnd(changes) {\n    let end = 0;\n    changes.iterChangedRanges((_, to) => end = to);\n    return end;\n}\nconst historyField_ = /*@__PURE__*/StateField.define({\n    create() {\n        return HistoryState.empty;\n    },\n    update(state, tr) {\n        let config = tr.state.facet(historyConfig);\n        let fromHist = tr.annotation(fromHistory);\n        if (fromHist) {\n            let selection = tr.docChanged ? EditorSelection.single(changeEnd(tr.changes)) : undefined;\n            let item = HistEvent.fromTransaction(tr, selection), from = fromHist.side;\n            let other = from == 0 /* BranchName.Done */ ? state.undone : state.done;\n            if (item)\n                other = updateBranch(other, other.length, config.minDepth, item);\n            else\n                other = addSelection(other, tr.startState.selection);\n            return new HistoryState(from == 0 /* BranchName.Done */ ? fromHist.rest : other, from == 0 /* BranchName.Done */ ? other : fromHist.rest);\n        }\n        let isolate = tr.annotation(isolateHistory);\n        if (isolate == \"full\" || isolate == \"before\")\n            state = state.isolate();\n        if (tr.annotation(Transaction.addToHistory) === false)\n            return !tr.changes.empty ? state.addMapping(tr.changes.desc) : state;\n        let event = HistEvent.fromTransaction(tr);\n        let time = tr.annotation(Transaction.time), userEvent = tr.annotation(Transaction.userEvent);\n        if (event)\n            state = state.addChanges(event, time, userEvent, config, tr);\n        else if (tr.selection)\n            state = state.addSelection(tr.startState.selection, time, userEvent, config.newGroupDelay);\n        if (isolate == \"full\" || isolate == \"after\")\n            state = state.isolate();\n        return state;\n    },\n    toJSON(value) {\n        return { done: value.done.map(e => e.toJSON()), undone: value.undone.map(e => e.toJSON()) };\n    },\n    fromJSON(json) {\n        return new HistoryState(json.done.map(HistEvent.fromJSON), json.undone.map(HistEvent.fromJSON));\n    }\n});\n/**\nCreate a history extension with the given configuration.\n*/\nfunction history(config = {}) {\n    return [\n        historyField_,\n        historyConfig.of(config),\n        EditorView.domEventHandlers({\n            beforeinput(e, view) {\n                let command = e.inputType == \"historyUndo\" ? undo : e.inputType == \"historyRedo\" ? redo : null;\n                if (!command)\n                    return false;\n                e.preventDefault();\n                return command(view);\n            }\n        })\n    ];\n}\n/**\nThe state field used to store the history data. Should probably\nonly be used when you want to\n[serialize](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) or\n[deserialize](https://codemirror.net/6/docs/ref/#state.EditorState^fromJSON) state objects in a way\nthat preserves history.\n*/\nconst historyField = historyField_;\nfunction cmd(side, selection) {\n    return function ({ state, dispatch }) {\n        if (!selection && state.readOnly)\n            return false;\n        let historyState = state.field(historyField_, false);\n        if (!historyState)\n            return false;\n        let tr = historyState.pop(side, state, selection);\n        if (!tr)\n            return false;\n        dispatch(tr);\n        return true;\n    };\n}\n/**\nUndo a single group of history events. Returns false if no group\nwas available.\n*/\nconst undo = /*@__PURE__*/cmd(0 /* BranchName.Done */, false);\n/**\nRedo a group of history events. Returns false if no group was\navailable.\n*/\nconst redo = /*@__PURE__*/cmd(1 /* BranchName.Undone */, false);\n/**\nUndo a change or selection change.\n*/\nconst undoSelection = /*@__PURE__*/cmd(0 /* BranchName.Done */, true);\n/**\nRedo a change or selection change.\n*/\nconst redoSelection = /*@__PURE__*/cmd(1 /* BranchName.Undone */, true);\nfunction depth(side) {\n    return function (state) {\n        let histState = state.field(historyField_, false);\n        if (!histState)\n            return 0;\n        let branch = side == 0 /* BranchName.Done */ ? histState.done : histState.undone;\n        return branch.length - (branch.length && !branch[0].changes ? 1 : 0);\n    };\n}\n/**\nThe amount of undoable change events available in a given state.\n*/\nconst undoDepth = /*@__PURE__*/depth(0 /* BranchName.Done */);\n/**\nThe amount of redoable change events available in a given state.\n*/\nconst redoDepth = /*@__PURE__*/depth(1 /* BranchName.Undone */);\n// History events store groups of changes or effects that need to be\n// undone/redone together.\nclass HistEvent {\n    constructor(\n    // The changes in this event. Normal events hold at least one\n    // change or effect. But it may be necessary to store selection\n    // events before the first change, in which case a special type of\n    // instance is created which doesn't hold any changes, with\n    // changes == startSelection == undefined\n    changes, \n    // The effects associated with this event\n    effects, \n    // Accumulated mapping (from addToHistory==false) that should be\n    // applied to events below this one.\n    mapped, \n    // The selection before this event\n    startSelection, \n    // Stores selection changes after this event, to be used for\n    // selection undo/redo.\n    selectionsAfter) {\n        this.changes = changes;\n        this.effects = effects;\n        this.mapped = mapped;\n        this.startSelection = startSelection;\n        this.selectionsAfter = selectionsAfter;\n    }\n    setSelAfter(after) {\n        return new HistEvent(this.changes, this.effects, this.mapped, this.startSelection, after);\n    }\n    toJSON() {\n        var _a, _b, _c;\n        return {\n            changes: (_a = this.changes) === null || _a === void 0 ? void 0 : _a.toJSON(),\n            mapped: (_b = this.mapped) === null || _b === void 0 ? void 0 : _b.toJSON(),\n            startSelection: (_c = this.startSelection) === null || _c === void 0 ? void 0 : _c.toJSON(),\n            selectionsAfter: this.selectionsAfter.map(s => s.toJSON())\n        };\n    }\n    static fromJSON(json) {\n        return new HistEvent(json.changes && ChangeSet.fromJSON(json.changes), [], json.mapped && ChangeDesc.fromJSON(json.mapped), json.startSelection && EditorSelection.fromJSON(json.startSelection), json.selectionsAfter.map(EditorSelection.fromJSON));\n    }\n    // This does not check `addToHistory` and such, it assumes the\n    // transaction needs to be converted to an item. Returns null when\n    // there are no changes or effects in the transaction.\n    static fromTransaction(tr, selection) {\n        let effects = none;\n        for (let invert of tr.startState.facet(invertedEffects)) {\n            let result = invert(tr);\n            if (result.length)\n                effects = effects.concat(result);\n        }\n        if (!effects.length && tr.changes.empty)\n            return null;\n        return new HistEvent(tr.changes.invert(tr.startState.doc), effects, undefined, selection || tr.startState.selection, none);\n    }\n    static selection(selections) {\n        return new HistEvent(undefined, none, undefined, undefined, selections);\n    }\n}\nfunction updateBranch(branch, to, maxLen, newEvent) {\n    let start = to + 1 > maxLen + 20 ? to - maxLen - 1 : 0;\n    let newBranch = branch.slice(start, to);\n    newBranch.push(newEvent);\n    return newBranch;\n}\nfunction isAdjacent(a, b) {\n    let ranges = [], isAdjacent = false;\n    a.iterChangedRanges((f, t) => ranges.push(f, t));\n    b.iterChangedRanges((_f, _t, f, t) => {\n        for (let i = 0; i < ranges.length;) {\n            let from = ranges[i++], to = ranges[i++];\n            if (t >= from && f <= to)\n                isAdjacent = true;\n        }\n    });\n    return isAdjacent;\n}\nfunction eqSelectionShape(a, b) {\n    return a.ranges.length == b.ranges.length &&\n        a.ranges.filter((r, i) => r.empty != b.ranges[i].empty).length === 0;\n}\nfunction conc(a, b) {\n    return !a.length ? b : !b.length ? a : a.concat(b);\n}\nconst none = [];\nconst MaxSelectionsPerEvent = 200;\nfunction addSelection(branch, selection) {\n    if (!branch.length) {\n        return [HistEvent.selection([selection])];\n    }\n    else {\n        let lastEvent = branch[branch.length - 1];\n        let sels = lastEvent.selectionsAfter.slice(Math.max(0, lastEvent.selectionsAfter.length - MaxSelectionsPerEvent));\n        if (sels.length && sels[sels.length - 1].eq(selection))\n            return branch;\n        sels.push(selection);\n        return updateBranch(branch, branch.length - 1, 1e9, lastEvent.setSelAfter(sels));\n    }\n}\n// Assumes the top item has one or more selectionAfter values\nfunction popSelection(branch) {\n    let last = branch[branch.length - 1];\n    let newBranch = branch.slice();\n    newBranch[branch.length - 1] = last.setSelAfter(last.selectionsAfter.slice(0, last.selectionsAfter.length - 1));\n    return newBranch;\n}\n// Add a mapping to the top event in the given branch. If this maps\n// away all the changes and effects in that item, drop it and\n// propagate the mapping to the next item.\nfunction addMappingToBranch(branch, mapping) {\n    if (!branch.length)\n        return branch;\n    let length = branch.length, selections = none;\n    while (length) {\n        let event = mapEvent(branch[length - 1], mapping, selections);\n        if (event.changes && !event.changes.empty || event.effects.length) { // Event survived mapping\n            let result = branch.slice(0, length);\n            result[length - 1] = event;\n            return result;\n        }\n        else { // Drop this event, since there's no changes or effects left\n            mapping = event.mapped;\n            length--;\n            selections = event.selectionsAfter;\n        }\n    }\n    return selections.length ? [HistEvent.selection(selections)] : none;\n}\nfunction mapEvent(event, mapping, extraSelections) {\n    let selections = conc(event.selectionsAfter.length ? event.selectionsAfter.map(s => s.map(mapping)) : none, extraSelections);\n    // Change-less events don't store mappings (they are always the last event in a branch)\n    if (!event.changes)\n        return HistEvent.selection(selections);\n    let mappedChanges = event.changes.map(mapping), before = mapping.mapDesc(event.changes, true);\n    let fullMapping = event.mapped ? event.mapped.composeDesc(before) : before;\n    return new HistEvent(mappedChanges, StateEffect.mapEffects(event.effects, mapping), fullMapping, event.startSelection.map(before), selections);\n}\nconst joinableUserEvent = /^(input\\.type|delete)($|\\.)/;\nclass HistoryState {\n    constructor(done, undone, prevTime = 0, prevUserEvent = undefined) {\n        this.done = done;\n        this.undone = undone;\n        this.prevTime = prevTime;\n        this.prevUserEvent = prevUserEvent;\n    }\n    isolate() {\n        return this.prevTime ? new HistoryState(this.done, this.undone) : this;\n    }\n    addChanges(event, time, userEvent, config, tr) {\n        let done = this.done, lastEvent = done[done.length - 1];\n        if (lastEvent && lastEvent.changes && !lastEvent.changes.empty && event.changes &&\n            (!userEvent || joinableUserEvent.test(userEvent)) &&\n            ((!lastEvent.selectionsAfter.length &&\n                time - this.prevTime < config.newGroupDelay &&\n                config.joinToEvent(tr, isAdjacent(lastEvent.changes, event.changes))) ||\n                // For compose (but not compose.start) events, always join with previous event\n                userEvent == \"input.type.compose\")) {\n            done = updateBranch(done, done.length - 1, config.minDepth, new HistEvent(event.changes.compose(lastEvent.changes), conc(event.effects, lastEvent.effects), lastEvent.mapped, lastEvent.startSelection, none));\n        }\n        else {\n            done = updateBranch(done, done.length, config.minDepth, event);\n        }\n        return new HistoryState(done, none, time, userEvent);\n    }\n    addSelection(selection, time, userEvent, newGroupDelay) {\n        let last = this.done.length ? this.done[this.done.length - 1].selectionsAfter : none;\n        if (last.length > 0 &&\n            time - this.prevTime < newGroupDelay &&\n            userEvent == this.prevUserEvent && userEvent && /^select($|\\.)/.test(userEvent) &&\n            eqSelectionShape(last[last.length - 1], selection))\n            return this;\n        return new HistoryState(addSelection(this.done, selection), this.undone, time, userEvent);\n    }\n    addMapping(mapping) {\n        return new HistoryState(addMappingToBranch(this.done, mapping), addMappingToBranch(this.undone, mapping), this.prevTime, this.prevUserEvent);\n    }\n    pop(side, state, selection) {\n        let branch = side == 0 /* BranchName.Done */ ? this.done : this.undone;\n        if (branch.length == 0)\n            return null;\n        let event = branch[branch.length - 1];\n        if (selection && event.selectionsAfter.length) {\n            return state.update({\n                selection: event.selectionsAfter[event.selectionsAfter.length - 1],\n                annotations: fromHistory.of({ side, rest: popSelection(branch) }),\n                userEvent: side == 0 /* BranchName.Done */ ? \"select.undo\" : \"select.redo\",\n                scrollIntoView: true\n            });\n        }\n        else if (!event.changes) {\n            return null;\n        }\n        else {\n            let rest = branch.length == 1 ? none : branch.slice(0, branch.length - 1);\n            if (event.mapped)\n                rest = addMappingToBranch(rest, event.mapped);\n            return state.update({\n                changes: event.changes,\n                selection: event.startSelection,\n                effects: event.effects,\n                annotations: fromHistory.of({ side, rest }),\n                filter: false,\n                userEvent: side == 0 /* BranchName.Done */ ? \"undo\" : \"redo\",\n                scrollIntoView: true\n            });\n        }\n    }\n}\nHistoryState.empty = /*@__PURE__*/new HistoryState(none, none);\n/**\nDefault key bindings for the undo history.\n\n- Mod-z: [`undo`](https://codemirror.net/6/docs/ref/#commands.undo).\n- Mod-y (Mod-Shift-z on macOS) + Ctrl-Shift-z on Linux: [`redo`](https://codemirror.net/6/docs/ref/#commands.redo).\n- Mod-u: [`undoSelection`](https://codemirror.net/6/docs/ref/#commands.undoSelection).\n- Alt-u (Mod-Shift-u on macOS): [`redoSelection`](https://codemirror.net/6/docs/ref/#commands.redoSelection).\n*/\nconst historyKeymap = [\n    { key: \"Mod-z\", run: undo, preventDefault: true },\n    { key: \"Mod-y\", mac: \"Mod-Shift-z\", run: redo, preventDefault: true },\n    { linux: \"Ctrl-Shift-z\", run: redo, preventDefault: true },\n    { key: \"Mod-u\", run: undoSelection, preventDefault: true },\n    { key: \"Alt-u\", mac: \"Mod-Shift-u\", run: redoSelection, preventDefault: true }\n];\n\nfunction updateSel(sel, by) {\n    return EditorSelection.create(sel.ranges.map(by), sel.mainIndex);\n}\nfunction setSel(state, selection) {\n    return state.update({ selection, scrollIntoView: true, userEvent: \"select\" });\n}\nfunction moveSel({ state, dispatch }, how) {\n    let selection = updateSel(state.selection, how);\n    if (selection.eq(state.selection))\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n}\nfunction rangeEnd(range, forward) {\n    return EditorSelection.cursor(forward ? range.to : range.from);\n}\nfunction cursorByChar(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveByChar(range, forward) : rangeEnd(range, forward));\n}\nfunction ltrAtCursor(view) {\n    return view.textDirectionAt(view.state.selection.main.head) == Direction.LTR;\n}\n/**\nMove the selection one character to the left (which is backward in\nleft-to-right text, forward in right-to-left text).\n*/\nconst cursorCharLeft = view => cursorByChar(view, !ltrAtCursor(view));\n/**\nMove the selection one character to the right.\n*/\nconst cursorCharRight = view => cursorByChar(view, ltrAtCursor(view));\n/**\nMove the selection one character forward.\n*/\nconst cursorCharForward = view => cursorByChar(view, true);\n/**\nMove the selection one character backward.\n*/\nconst cursorCharBackward = view => cursorByChar(view, false);\nfunction cursorByGroup(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveByGroup(range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection to the left across one group of word or\nnon-word (but also non-space) characters.\n*/\nconst cursorGroupLeft = view => cursorByGroup(view, !ltrAtCursor(view));\n/**\nMove the selection one group to the right.\n*/\nconst cursorGroupRight = view => cursorByGroup(view, ltrAtCursor(view));\n/**\nMove the selection one group forward.\n*/\nconst cursorGroupForward = view => cursorByGroup(view, true);\n/**\nMove the selection one group backward.\n*/\nconst cursorGroupBackward = view => cursorByGroup(view, false);\nconst segmenter = typeof Intl != \"undefined\" && Intl.Segmenter ?\n    /*@__PURE__*/new (Intl.Segmenter)(undefined, { granularity: \"word\" }) : null;\nfunction moveBySubword(view, range, forward) {\n    let categorize = view.state.charCategorizer(range.from);\n    let cat = CharCategory.Space, pos = range.from, steps = 0;\n    let done = false, sawUpper = false, sawLower = false;\n    let step = (next) => {\n        if (done)\n            return false;\n        pos += forward ? next.length : -next.length;\n        let nextCat = categorize(next), ahead;\n        if (nextCat == CharCategory.Word && next.charCodeAt(0) < 128 && /[\\W_]/.test(next))\n            nextCat = -1; // Treat word punctuation specially\n        if (cat == CharCategory.Space)\n            cat = nextCat;\n        if (cat != nextCat)\n            return false;\n        if (cat == CharCategory.Word) {\n            if (next.toLowerCase() == next) {\n                if (!forward && sawUpper)\n                    return false;\n                sawLower = true;\n            }\n            else if (sawLower) {\n                if (forward)\n                    return false;\n                done = true;\n            }\n            else {\n                if (sawUpper && forward && categorize(ahead = view.state.sliceDoc(pos, pos + 1)) == CharCategory.Word &&\n                    ahead.toLowerCase() == ahead)\n                    return false;\n                sawUpper = true;\n            }\n        }\n        steps++;\n        return true;\n    };\n    let end = view.moveByChar(range, forward, start => {\n        step(start);\n        return step;\n    });\n    if (segmenter && cat == CharCategory.Word && end.from == range.from + steps * (forward ? 1 : -1)) {\n        let from = Math.min(range.head, end.head), to = Math.max(range.head, end.head);\n        let skipped = view.state.sliceDoc(from, to);\n        if (skipped.length > 1 && /[\\u4E00-\\uffff]/.test(skipped)) {\n            let segments = Array.from(segmenter.segment(skipped));\n            if (segments.length > 1) {\n                if (forward)\n                    return EditorSelection.cursor(range.head + segments[1].index, -1);\n                return EditorSelection.cursor(end.head + segments[segments.length - 1].index, 1);\n            }\n        }\n    }\n    return end;\n}\nfunction cursorBySubword(view, forward) {\n    return moveSel(view, range => range.empty ? moveBySubword(view, range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection one group or camel-case subword forward.\n*/\nconst cursorSubwordForward = view => cursorBySubword(view, true);\n/**\nMove the selection one group or camel-case subword backward.\n*/\nconst cursorSubwordBackward = view => cursorBySubword(view, false);\nfunction interestingNode(state, node, bracketProp) {\n    if (node.type.prop(bracketProp))\n        return true;\n    let len = node.to - node.from;\n    return len && (len > 2 || /[^\\s,.;:]/.test(state.sliceDoc(node.from, node.to))) || node.firstChild;\n}\nfunction moveBySyntax(state, start, forward) {\n    let pos = syntaxTree(state).resolveInner(start.head);\n    let bracketProp = forward ? NodeProp.closedBy : NodeProp.openedBy;\n    // Scan forward through child nodes to see if there's an interesting\n    // node ahead.\n    for (let at = start.head;;) {\n        let next = forward ? pos.childAfter(at) : pos.childBefore(at);\n        if (!next)\n            break;\n        if (interestingNode(state, next, bracketProp))\n            pos = next;\n        else\n            at = forward ? next.to : next.from;\n    }\n    let bracket = pos.type.prop(bracketProp), match, newPos;\n    if (bracket && (match = forward ? matchBrackets(state, pos.from, 1) : matchBrackets(state, pos.to, -1)) && match.matched)\n        newPos = forward ? match.end.to : match.end.from;\n    else\n        newPos = forward ? pos.to : pos.from;\n    return EditorSelection.cursor(newPos, forward ? -1 : 1);\n}\n/**\nMove the cursor over the next syntactic element to the left.\n*/\nconst cursorSyntaxLeft = view => moveSel(view, range => moveBySyntax(view.state, range, !ltrAtCursor(view)));\n/**\nMove the cursor over the next syntactic element to the right.\n*/\nconst cursorSyntaxRight = view => moveSel(view, range => moveBySyntax(view.state, range, ltrAtCursor(view)));\nfunction cursorByLine(view, forward) {\n    return moveSel(view, range => {\n        if (!range.empty)\n            return rangeEnd(range, forward);\n        let moved = view.moveVertically(range, forward);\n        return moved.head != range.head ? moved : view.moveToLineBoundary(range, forward);\n    });\n}\n/**\nMove the selection one line up.\n*/\nconst cursorLineUp = view => cursorByLine(view, false);\n/**\nMove the selection one line down.\n*/\nconst cursorLineDown = view => cursorByLine(view, true);\nfunction pageInfo(view) {\n    let selfScroll = view.scrollDOM.clientHeight < view.scrollDOM.scrollHeight - 2;\n    let marginTop = 0, marginBottom = 0, height;\n    if (selfScroll) {\n        for (let source of view.state.facet(EditorView.scrollMargins)) {\n            let margins = source(view);\n            if (margins === null || margins === void 0 ? void 0 : margins.top)\n                marginTop = Math.max(margins === null || margins === void 0 ? void 0 : margins.top, marginTop);\n            if (margins === null || margins === void 0 ? void 0 : margins.bottom)\n                marginBottom = Math.max(margins === null || margins === void 0 ? void 0 : margins.bottom, marginBottom);\n        }\n        height = view.scrollDOM.clientHeight - marginTop - marginBottom;\n    }\n    else {\n        height = (view.dom.ownerDocument.defaultView || window).innerHeight;\n    }\n    return { marginTop, marginBottom, selfScroll,\n        height: Math.max(view.defaultLineHeight, height - 5) };\n}\nfunction cursorByPage(view, forward) {\n    let page = pageInfo(view);\n    let { state } = view, selection = updateSel(state.selection, range => {\n        return range.empty ? view.moveVertically(range, forward, page.height)\n            : rangeEnd(range, forward);\n    });\n    if (selection.eq(state.selection))\n        return false;\n    let effect;\n    if (page.selfScroll) {\n        let startPos = view.coordsAtPos(state.selection.main.head);\n        let scrollRect = view.scrollDOM.getBoundingClientRect();\n        let scrollTop = scrollRect.top + page.marginTop, scrollBottom = scrollRect.bottom - page.marginBottom;\n        if (startPos && startPos.top > scrollTop && startPos.bottom < scrollBottom)\n            effect = EditorView.scrollIntoView(selection.main.head, { y: \"start\", yMargin: startPos.top - scrollTop });\n    }\n    view.dispatch(setSel(state, selection), { effects: effect });\n    return true;\n}\n/**\nMove the selection one page up.\n*/\nconst cursorPageUp = view => cursorByPage(view, false);\n/**\nMove the selection one page down.\n*/\nconst cursorPageDown = view => cursorByPage(view, true);\nfunction moveByLineBoundary(view, start, forward) {\n    let line = view.lineBlockAt(start.head), moved = view.moveToLineBoundary(start, forward);\n    if (moved.head == start.head && moved.head != (forward ? line.to : line.from))\n        moved = view.moveToLineBoundary(start, forward, false);\n    if (!forward && moved.head == line.from && line.length) {\n        let space = /^\\s*/.exec(view.state.sliceDoc(line.from, Math.min(line.from + 100, line.to)))[0].length;\n        if (space && start.head != line.from + space)\n            moved = EditorSelection.cursor(line.from + space);\n    }\n    return moved;\n}\n/**\nMove the selection to the next line wrap point, or to the end of\nthe line if there isn't one left on this line.\n*/\nconst cursorLineBoundaryForward = view => moveSel(view, range => moveByLineBoundary(view, range, true));\n/**\nMove the selection to previous line wrap point, or failing that to\nthe start of the line. If the line is indented, and the cursor\nisn't already at the end of the indentation, this will move to the\nend of the indentation instead of the start of the line.\n*/\nconst cursorLineBoundaryBackward = view => moveSel(view, range => moveByLineBoundary(view, range, false));\n/**\nMove the selection one line wrap point to the left.\n*/\nconst cursorLineBoundaryLeft = view => moveSel(view, range => moveByLineBoundary(view, range, !ltrAtCursor(view)));\n/**\nMove the selection one line wrap point to the right.\n*/\nconst cursorLineBoundaryRight = view => moveSel(view, range => moveByLineBoundary(view, range, ltrAtCursor(view)));\n/**\nMove the selection to the start of the line.\n*/\nconst cursorLineStart = view => moveSel(view, range => EditorSelection.cursor(view.lineBlockAt(range.head).from, 1));\n/**\nMove the selection to the end of the line.\n*/\nconst cursorLineEnd = view => moveSel(view, range => EditorSelection.cursor(view.lineBlockAt(range.head).to, -1));\nfunction toMatchingBracket(state, dispatch, extend) {\n    let found = false, selection = updateSel(state.selection, range => {\n        let matching = matchBrackets(state, range.head, -1)\n            || matchBrackets(state, range.head, 1)\n            || (range.head > 0 && matchBrackets(state, range.head - 1, 1))\n            || (range.head < state.doc.length && matchBrackets(state, range.head + 1, -1));\n        if (!matching || !matching.end)\n            return range;\n        found = true;\n        let head = matching.start.from == range.head ? matching.end.to : matching.end.from;\n        return extend ? EditorSelection.range(range.anchor, head) : EditorSelection.cursor(head);\n    });\n    if (!found)\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n}\n/**\nMove the selection to the bracket matching the one it is currently\non, if any.\n*/\nconst cursorMatchingBracket = ({ state, dispatch }) => toMatchingBracket(state, dispatch, false);\n/**\nExtend the selection to the bracket matching the one the selection\nhead is currently on, if any.\n*/\nconst selectMatchingBracket = ({ state, dispatch }) => toMatchingBracket(state, dispatch, true);\nfunction extendSel(view, how) {\n    let selection = updateSel(view.state.selection, range => {\n        let head = how(range);\n        return EditorSelection.range(range.anchor, head.head, head.goalColumn, head.bidiLevel || undefined);\n    });\n    if (selection.eq(view.state.selection))\n        return false;\n    view.dispatch(setSel(view.state, selection));\n    return true;\n}\nfunction selectByChar(view, forward) {\n    return extendSel(view, range => view.moveByChar(range, forward));\n}\n/**\nMove the selection head one character to the left, while leaving\nthe anchor in place.\n*/\nconst selectCharLeft = view => selectByChar(view, !ltrAtCursor(view));\n/**\nMove the selection head one character to the right.\n*/\nconst selectCharRight = view => selectByChar(view, ltrAtCursor(view));\n/**\nMove the selection head one character forward.\n*/\nconst selectCharForward = view => selectByChar(view, true);\n/**\nMove the selection head one character backward.\n*/\nconst selectCharBackward = view => selectByChar(view, false);\nfunction selectByGroup(view, forward) {\n    return extendSel(view, range => view.moveByGroup(range, forward));\n}\n/**\nMove the selection head one [group](https://codemirror.net/6/docs/ref/#commands.cursorGroupLeft) to\nthe left.\n*/\nconst selectGroupLeft = view => selectByGroup(view, !ltrAtCursor(view));\n/**\nMove the selection head one group to the right.\n*/\nconst selectGroupRight = view => selectByGroup(view, ltrAtCursor(view));\n/**\nMove the selection head one group forward.\n*/\nconst selectGroupForward = view => selectByGroup(view, true);\n/**\nMove the selection head one group backward.\n*/\nconst selectGroupBackward = view => selectByGroup(view, false);\nfunction selectBySubword(view, forward) {\n    return extendSel(view, range => moveBySubword(view, range, forward));\n}\n/**\nMove the selection head one group or camel-case subword forward.\n*/\nconst selectSubwordForward = view => selectBySubword(view, true);\n/**\nMove the selection head one group or subword backward.\n*/\nconst selectSubwordBackward = view => selectBySubword(view, false);\n/**\nMove the selection head over the next syntactic element to the left.\n*/\nconst selectSyntaxLeft = view => extendSel(view, range => moveBySyntax(view.state, range, !ltrAtCursor(view)));\n/**\nMove the selection head over the next syntactic element to the right.\n*/\nconst selectSyntaxRight = view => extendSel(view, range => moveBySyntax(view.state, range, ltrAtCursor(view)));\nfunction selectByLine(view, forward) {\n    return extendSel(view, range => view.moveVertically(range, forward));\n}\n/**\nMove the selection head one line up.\n*/\nconst selectLineUp = view => selectByLine(view, false);\n/**\nMove the selection head one line down.\n*/\nconst selectLineDown = view => selectByLine(view, true);\nfunction selectByPage(view, forward) {\n    return extendSel(view, range => view.moveVertically(range, forward, pageInfo(view).height));\n}\n/**\nMove the selection head one page up.\n*/\nconst selectPageUp = view => selectByPage(view, false);\n/**\nMove the selection head one page down.\n*/\nconst selectPageDown = view => selectByPage(view, true);\n/**\nMove the selection head to the next line boundary.\n*/\nconst selectLineBoundaryForward = view => extendSel(view, range => moveByLineBoundary(view, range, true));\n/**\nMove the selection head to the previous line boundary.\n*/\nconst selectLineBoundaryBackward = view => extendSel(view, range => moveByLineBoundary(view, range, false));\n/**\nMove the selection head one line boundary to the left.\n*/\nconst selectLineBoundaryLeft = view => extendSel(view, range => moveByLineBoundary(view, range, !ltrAtCursor(view)));\n/**\nMove the selection head one line boundary to the right.\n*/\nconst selectLineBoundaryRight = view => extendSel(view, range => moveByLineBoundary(view, range, ltrAtCursor(view)));\n/**\nMove the selection head to the start of the line.\n*/\nconst selectLineStart = view => extendSel(view, range => EditorSelection.cursor(view.lineBlockAt(range.head).from));\n/**\nMove the selection head to the end of the line.\n*/\nconst selectLineEnd = view => extendSel(view, range => EditorSelection.cursor(view.lineBlockAt(range.head).to));\n/**\nMove the selection to the start of the document.\n*/\nconst cursorDocStart = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: 0 }));\n    return true;\n};\n/**\nMove the selection to the end of the document.\n*/\nconst cursorDocEnd = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.doc.length }));\n    return true;\n};\n/**\nMove the selection head to the start of the document.\n*/\nconst selectDocStart = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.selection.main.anchor, head: 0 }));\n    return true;\n};\n/**\nMove the selection head to the end of the document.\n*/\nconst selectDocEnd = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.selection.main.anchor, head: state.doc.length }));\n    return true;\n};\n/**\nSelect the entire document.\n*/\nconst selectAll = ({ state, dispatch }) => {\n    dispatch(state.update({ selection: { anchor: 0, head: state.doc.length }, userEvent: \"select\" }));\n    return true;\n};\n/**\nExpand the selection to cover entire lines.\n*/\nconst selectLine = ({ state, dispatch }) => {\n    let ranges = selectedLineBlocks(state).map(({ from, to }) => EditorSelection.range(from, Math.min(to + 1, state.doc.length)));\n    dispatch(state.update({ selection: EditorSelection.create(ranges), userEvent: \"select\" }));\n    return true;\n};\n/**\nSelect the next syntactic construct that is larger than the\nselection. Note that this will only work insofar as the language\n[provider](https://codemirror.net/6/docs/ref/#language.language) you use builds up a full\nsyntax tree.\n*/\nconst selectParentSyntax = ({ state, dispatch }) => {\n    let selection = updateSel(state.selection, range => {\n        var _a;\n        let context = syntaxTree(state).resolveInner(range.head, 1);\n        while (!((context.from < range.from && context.to >= range.to) ||\n            (context.to > range.to && context.from <= range.from) ||\n            !((_a = context.parent) === null || _a === void 0 ? void 0 : _a.parent)))\n            context = context.parent;\n        return EditorSelection.range(context.to, context.from);\n    });\n    dispatch(setSel(state, selection));\n    return true;\n};\n/**\nSimplify the current selection. When multiple ranges are selected,\nreduce it to its main range. Otherwise, if the selection is\nnon-empty, convert it to a cursor selection.\n*/\nconst simplifySelection = ({ state, dispatch }) => {\n    let cur = state.selection, selection = null;\n    if (cur.ranges.length > 1)\n        selection = EditorSelection.create([cur.main]);\n    else if (!cur.main.empty)\n        selection = EditorSelection.create([EditorSelection.cursor(cur.main.head)]);\n    if (!selection)\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n};\nfunction deleteBy(target, by) {\n    if (target.state.readOnly)\n        return false;\n    let event = \"delete.selection\", { state } = target;\n    let changes = state.changeByRange(range => {\n        let { from, to } = range;\n        if (from == to) {\n            let towards = by(from);\n            if (towards < from) {\n                event = \"delete.backward\";\n                towards = skipAtomic(target, towards, false);\n            }\n            else if (towards > from) {\n                event = \"delete.forward\";\n                towards = skipAtomic(target, towards, true);\n            }\n            from = Math.min(from, towards);\n            to = Math.max(to, towards);\n        }\n        else {\n            from = skipAtomic(target, from, false);\n            to = skipAtomic(target, to, true);\n        }\n        return from == to ? { range } : { changes: { from, to }, range: EditorSelection.cursor(from) };\n    });\n    if (changes.changes.empty)\n        return false;\n    target.dispatch(state.update(changes, {\n        scrollIntoView: true,\n        userEvent: event,\n        effects: event == \"delete.selection\" ? EditorView.announce.of(state.phrase(\"Selection deleted\")) : undefined\n    }));\n    return true;\n}\nfunction skipAtomic(target, pos, forward) {\n    if (target instanceof EditorView)\n        for (let ranges of target.state.facet(EditorView.atomicRanges).map(f => f(target)))\n            ranges.between(pos, pos, (from, to) => {\n                if (from < pos && to > pos)\n                    pos = forward ? to : from;\n            });\n    return pos;\n}\nconst deleteByChar = (target, forward) => deleteBy(target, pos => {\n    let { state } = target, line = state.doc.lineAt(pos), before, targetPos;\n    if (!forward && pos > line.from && pos < line.from + 200 &&\n        !/[^ \\t]/.test(before = line.text.slice(0, pos - line.from))) {\n        if (before[before.length - 1] == \"\\t\")\n            return pos - 1;\n        let col = countColumn(before, state.tabSize), drop = col % getIndentUnit(state) || getIndentUnit(state);\n        for (let i = 0; i < drop && before[before.length - 1 - i] == \" \"; i++)\n            pos--;\n        targetPos = pos;\n    }\n    else {\n        targetPos = findClusterBreak(line.text, pos - line.from, forward, forward) + line.from;\n        if (targetPos == pos && line.number != (forward ? state.doc.lines : 1))\n            targetPos += forward ? 1 : -1;\n    }\n    return targetPos;\n});\n/**\nDelete the selection, or, for cursor selections, the character\nbefore the cursor.\n*/\nconst deleteCharBackward = view => deleteByChar(view, false);\n/**\nDelete the selection or the character after the cursor.\n*/\nconst deleteCharForward = view => deleteByChar(view, true);\nconst deleteByGroup = (target, forward) => deleteBy(target, start => {\n    let pos = start, { state } = target, line = state.doc.lineAt(pos);\n    let categorize = state.charCategorizer(pos);\n    for (let cat = null;;) {\n        if (pos == (forward ? line.to : line.from)) {\n            if (pos == start && line.number != (forward ? state.doc.lines : 1))\n                pos += forward ? 1 : -1;\n            break;\n        }\n        let next = findClusterBreak(line.text, pos - line.from, forward) + line.from;\n        let nextChar = line.text.slice(Math.min(pos, next) - line.from, Math.max(pos, next) - line.from);\n        let nextCat = categorize(nextChar);\n        if (cat != null && nextCat != cat)\n            break;\n        if (nextChar != \" \" || pos != start)\n            cat = nextCat;\n        pos = next;\n    }\n    return pos;\n});\n/**\nDelete the selection or backward until the end of the next\n[group](https://codemirror.net/6/docs/ref/#view.EditorView.moveByGroup), only skipping groups of\nwhitespace when they consist of a single space.\n*/\nconst deleteGroupBackward = target => deleteByGroup(target, false);\n/**\nDelete the selection or forward until the end of the next group.\n*/\nconst deleteGroupForward = target => deleteByGroup(target, true);\n/**\nDelete the selection, or, if it is a cursor selection, delete to\nthe end of the line. If the cursor is directly at the end of the\nline, delete the line break after it.\n*/\nconst deleteToLineEnd = view => deleteBy(view, pos => {\n    let lineEnd = view.lineBlockAt(pos).to;\n    return pos < lineEnd ? lineEnd : Math.min(view.state.doc.length, pos + 1);\n});\n/**\nDelete the selection, or, if it is a cursor selection, delete to\nthe start of the line. If the cursor is directly at the start of the\nline, delete the line break before it.\n*/\nconst deleteToLineStart = view => deleteBy(view, pos => {\n    let lineStart = view.lineBlockAt(pos).from;\n    return pos > lineStart ? lineStart : Math.max(0, pos - 1);\n});\n/**\nDelete all whitespace directly before a line end from the\ndocument.\n*/\nconst deleteTrailingWhitespace = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = [];\n    for (let pos = 0, prev = \"\", iter = state.doc.iter();;) {\n        iter.next();\n        if (iter.lineBreak || iter.done) {\n            let trailing = prev.search(/\\s+$/);\n            if (trailing > -1)\n                changes.push({ from: pos - (prev.length - trailing), to: pos });\n            if (iter.done)\n                break;\n            prev = \"\";\n        }\n        else {\n            prev = iter.value;\n        }\n        pos += iter.value.length;\n    }\n    if (!changes.length)\n        return false;\n    dispatch(state.update({ changes, userEvent: \"delete\" }));\n    return true;\n};\n/**\nReplace each selection range with a line break, leaving the cursor\non the line before the break.\n*/\nconst splitLine = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = state.changeByRange(range => {\n        return { changes: { from: range.from, to: range.to, insert: Text.of([\"\", \"\"]) },\n            range: EditorSelection.cursor(range.from) };\n    });\n    dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\n/**\nFlip the characters before and after the cursor(s).\n*/\nconst transposeChars = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = state.changeByRange(range => {\n        if (!range.empty || range.from == 0 || range.from == state.doc.length)\n            return { range };\n        let pos = range.from, line = state.doc.lineAt(pos);\n        let from = pos == line.from ? pos - 1 : findClusterBreak(line.text, pos - line.from, false) + line.from;\n        let to = pos == line.to ? pos + 1 : findClusterBreak(line.text, pos - line.from, true) + line.from;\n        return { changes: { from, to, insert: state.doc.slice(pos, to).append(state.doc.slice(from, pos)) },\n            range: EditorSelection.cursor(to) };\n    });\n    if (changes.changes.empty)\n        return false;\n    dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"move.character\" }));\n    return true;\n};\nfunction selectedLineBlocks(state) {\n    let blocks = [], upto = -1;\n    for (let range of state.selection.ranges) {\n        let startLine = state.doc.lineAt(range.from), endLine = state.doc.lineAt(range.to);\n        if (!range.empty && range.to == endLine.from)\n            endLine = state.doc.lineAt(range.to - 1);\n        if (upto >= startLine.number) {\n            let prev = blocks[blocks.length - 1];\n            prev.to = endLine.to;\n            prev.ranges.push(range);\n        }\n        else {\n            blocks.push({ from: startLine.from, to: endLine.to, ranges: [range] });\n        }\n        upto = endLine.number + 1;\n    }\n    return blocks;\n}\nfunction moveLine(state, dispatch, forward) {\n    if (state.readOnly)\n        return false;\n    let changes = [], ranges = [];\n    for (let block of selectedLineBlocks(state)) {\n        if (forward ? block.to == state.doc.length : block.from == 0)\n            continue;\n        let nextLine = state.doc.lineAt(forward ? block.to + 1 : block.from - 1);\n        let size = nextLine.length + 1;\n        if (forward) {\n            changes.push({ from: block.to, to: nextLine.to }, { from: block.from, insert: nextLine.text + state.lineBreak });\n            for (let r of block.ranges)\n                ranges.push(EditorSelection.range(Math.min(state.doc.length, r.anchor + size), Math.min(state.doc.length, r.head + size)));\n        }\n        else {\n            changes.push({ from: nextLine.from, to: block.from }, { from: block.to, insert: state.lineBreak + nextLine.text });\n            for (let r of block.ranges)\n                ranges.push(EditorSelection.range(r.anchor - size, r.head - size));\n        }\n    }\n    if (!changes.length)\n        return false;\n    dispatch(state.update({\n        changes,\n        scrollIntoView: true,\n        selection: EditorSelection.create(ranges, state.selection.mainIndex),\n        userEvent: \"move.line\"\n    }));\n    return true;\n}\n/**\nMove the selected lines up one line.\n*/\nconst moveLineUp = ({ state, dispatch }) => moveLine(state, dispatch, false);\n/**\nMove the selected lines down one line.\n*/\nconst moveLineDown = ({ state, dispatch }) => moveLine(state, dispatch, true);\nfunction copyLine(state, dispatch, forward) {\n    if (state.readOnly)\n        return false;\n    let changes = [];\n    for (let block of selectedLineBlocks(state)) {\n        if (forward)\n            changes.push({ from: block.from, insert: state.doc.slice(block.from, block.to) + state.lineBreak });\n        else\n            changes.push({ from: block.to, insert: state.lineBreak + state.doc.slice(block.from, block.to) });\n    }\n    dispatch(state.update({ changes, scrollIntoView: true, userEvent: \"input.copyline\" }));\n    return true;\n}\n/**\nCreate a copy of the selected lines. Keep the selection in the top copy.\n*/\nconst copyLineUp = ({ state, dispatch }) => copyLine(state, dispatch, false);\n/**\nCreate a copy of the selected lines. Keep the selection in the bottom copy.\n*/\nconst copyLineDown = ({ state, dispatch }) => copyLine(state, dispatch, true);\n/**\nDelete selected lines.\n*/\nconst deleteLine = view => {\n    if (view.state.readOnly)\n        return false;\n    let { state } = view, changes = state.changes(selectedLineBlocks(state).map(({ from, to }) => {\n        if (from > 0)\n            from--;\n        else if (to < state.doc.length)\n            to++;\n        return { from, to };\n    }));\n    let selection = updateSel(state.selection, range => view.moveVertically(range, true)).map(changes);\n    view.dispatch({ changes, selection, scrollIntoView: true, userEvent: \"delete.line\" });\n    return true;\n};\n/**\nReplace the selection with a newline.\n*/\nconst insertNewline = ({ state, dispatch }) => {\n    dispatch(state.update(state.replaceSelection(state.lineBreak), { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\nfunction isBetweenBrackets(state, pos) {\n    if (/\\(\\)|\\[\\]|\\{\\}/.test(state.sliceDoc(pos - 1, pos + 1)))\n        return { from: pos, to: pos };\n    let context = syntaxTree(state).resolveInner(pos);\n    let before = context.childBefore(pos), after = context.childAfter(pos), closedBy;\n    if (before && after && before.to <= pos && after.from >= pos &&\n        (closedBy = before.type.prop(NodeProp.closedBy)) && closedBy.indexOf(after.name) > -1 &&\n        state.doc.lineAt(before.to).from == state.doc.lineAt(after.from).from &&\n        !/\\S/.test(state.sliceDoc(before.to, after.from)))\n        return { from: before.to, to: after.from };\n    return null;\n}\n/**\nReplace the selection with a newline and indent the newly created\nline(s). If the current line consists only of whitespace, this\nwill also delete that whitespace. When the cursor is between\nmatching brackets, an additional newline will be inserted after\nthe cursor.\n*/\nconst insertNewlineAndIndent = /*@__PURE__*/newlineAndIndent(false);\n/**\nCreate a blank, indented line below the current line.\n*/\nconst insertBlankLine = /*@__PURE__*/newlineAndIndent(true);\nfunction newlineAndIndent(atEof) {\n    return ({ state, dispatch }) => {\n        if (state.readOnly)\n            return false;\n        let changes = state.changeByRange(range => {\n            let { from, to } = range, line = state.doc.lineAt(from);\n            let explode = !atEof && from == to && isBetweenBrackets(state, from);\n            if (atEof)\n                from = to = (to <= line.to ? line : state.doc.lineAt(to)).to;\n            let cx = new IndentContext(state, { simulateBreak: from, simulateDoubleBreak: !!explode });\n            let indent = getIndentation(cx, from);\n            if (indent == null)\n                indent = countColumn(/^\\s*/.exec(state.doc.lineAt(from).text)[0], state.tabSize);\n            while (to < line.to && /\\s/.test(line.text[to - line.from]))\n                to++;\n            if (explode)\n                ({ from, to } = explode);\n            else if (from > line.from && from < line.from + 100 && !/\\S/.test(line.text.slice(0, from)))\n                from = line.from;\n            let insert = [\"\", indentString(state, indent)];\n            if (explode)\n                insert.push(indentString(state, cx.lineIndent(line.from, -1)));\n            return { changes: { from, to, insert: Text.of(insert) },\n                range: EditorSelection.cursor(from + 1 + insert[1].length) };\n        });\n        dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"input\" }));\n        return true;\n    };\n}\nfunction changeBySelectedLine(state, f) {\n    let atLine = -1;\n    return state.changeByRange(range => {\n        let changes = [];\n        for (let pos = range.from; pos <= range.to;) {\n            let line = state.doc.lineAt(pos);\n            if (line.number > atLine && (range.empty || range.to > line.from)) {\n                f(line, changes, range);\n                atLine = line.number;\n            }\n            pos = line.to + 1;\n        }\n        let changeSet = state.changes(changes);\n        return { changes,\n            range: EditorSelection.range(changeSet.mapPos(range.anchor, 1), changeSet.mapPos(range.head, 1)) };\n    });\n}\n/**\nAuto-indent the selected lines. This uses the [indentation service\nfacet](https://codemirror.net/6/docs/ref/#language.indentService) as source for auto-indent\ninformation.\n*/\nconst indentSelection = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let updated = Object.create(null);\n    let context = new IndentContext(state, { overrideIndentation: start => {\n            let found = updated[start];\n            return found == null ? -1 : found;\n        } });\n    let changes = changeBySelectedLine(state, (line, changes, range) => {\n        let indent = getIndentation(context, line.from);\n        if (indent == null)\n            return;\n        if (!/\\S/.test(line.text))\n            indent = 0;\n        let cur = /^\\s*/.exec(line.text)[0];\n        let norm = indentString(state, indent);\n        if (cur != norm || range.from < line.from + cur.length) {\n            updated[line.from] = indent;\n            changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n        }\n    });\n    if (!changes.changes.empty)\n        dispatch(state.update(changes, { userEvent: \"indent\" }));\n    return true;\n};\n/**\nAdd a [unit](https://codemirror.net/6/docs/ref/#language.indentUnit) of indentation to all selected\nlines.\n*/\nconst indentMore = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    dispatch(state.update(changeBySelectedLine(state, (line, changes) => {\n        changes.push({ from: line.from, insert: state.facet(indentUnit) });\n    }), { userEvent: \"input.indent\" }));\n    return true;\n};\n/**\nRemove a [unit](https://codemirror.net/6/docs/ref/#language.indentUnit) of indentation from all\nselected lines.\n*/\nconst indentLess = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    dispatch(state.update(changeBySelectedLine(state, (line, changes) => {\n        let space = /^\\s*/.exec(line.text)[0];\n        if (!space)\n            return;\n        let col = countColumn(space, state.tabSize), keep = 0;\n        let insert = indentString(state, Math.max(0, col - getIndentUnit(state)));\n        while (keep < space.length && keep < insert.length && space.charCodeAt(keep) == insert.charCodeAt(keep))\n            keep++;\n        changes.push({ from: line.from + keep, to: line.from + space.length, insert: insert.slice(keep) });\n    }), { userEvent: \"delete.dedent\" }));\n    return true;\n};\n/**\nInsert a tab character at the cursor or, if something is selected,\nuse [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore) to indent the entire\nselection.\n*/\nconst insertTab = ({ state, dispatch }) => {\n    if (state.selection.ranges.some(r => !r.empty))\n        return indentMore({ state, dispatch });\n    dispatch(state.update(state.replaceSelection(\"\\t\"), { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\n/**\nArray of key bindings containing the Emacs-style bindings that are\navailable on macOS by default.\n\n - Ctrl-b: [`cursorCharLeft`](https://codemirror.net/6/docs/ref/#commands.cursorCharLeft) ([`selectCharLeft`](https://codemirror.net/6/docs/ref/#commands.selectCharLeft) with Shift)\n - Ctrl-f: [`cursorCharRight`](https://codemirror.net/6/docs/ref/#commands.cursorCharRight) ([`selectCharRight`](https://codemirror.net/6/docs/ref/#commands.selectCharRight) with Shift)\n - Ctrl-p: [`cursorLineUp`](https://codemirror.net/6/docs/ref/#commands.cursorLineUp) ([`selectLineUp`](https://codemirror.net/6/docs/ref/#commands.selectLineUp) with Shift)\n - Ctrl-n: [`cursorLineDown`](https://codemirror.net/6/docs/ref/#commands.cursorLineDown) ([`selectLineDown`](https://codemirror.net/6/docs/ref/#commands.selectLineDown) with Shift)\n - Ctrl-a: [`cursorLineStart`](https://codemirror.net/6/docs/ref/#commands.cursorLineStart) ([`selectLineStart`](https://codemirror.net/6/docs/ref/#commands.selectLineStart) with Shift)\n - Ctrl-e: [`cursorLineEnd`](https://codemirror.net/6/docs/ref/#commands.cursorLineEnd) ([`selectLineEnd`](https://codemirror.net/6/docs/ref/#commands.selectLineEnd) with Shift)\n - Ctrl-d: [`deleteCharForward`](https://codemirror.net/6/docs/ref/#commands.deleteCharForward)\n - Ctrl-h: [`deleteCharBackward`](https://codemirror.net/6/docs/ref/#commands.deleteCharBackward)\n - Ctrl-k: [`deleteToLineEnd`](https://codemirror.net/6/docs/ref/#commands.deleteToLineEnd)\n - Ctrl-Alt-h: [`deleteGroupBackward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupBackward)\n - Ctrl-o: [`splitLine`](https://codemirror.net/6/docs/ref/#commands.splitLine)\n - Ctrl-t: [`transposeChars`](https://codemirror.net/6/docs/ref/#commands.transposeChars)\n - Ctrl-v: [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown)\n - Alt-v: [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp)\n*/\nconst emacsStyleKeymap = [\n    { key: \"Ctrl-b\", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },\n    { key: \"Ctrl-f\", run: cursorCharRight, shift: selectCharRight },\n    { key: \"Ctrl-p\", run: cursorLineUp, shift: selectLineUp },\n    { key: \"Ctrl-n\", run: cursorLineDown, shift: selectLineDown },\n    { key: \"Ctrl-a\", run: cursorLineStart, shift: selectLineStart },\n    { key: \"Ctrl-e\", run: cursorLineEnd, shift: selectLineEnd },\n    { key: \"Ctrl-d\", run: deleteCharForward },\n    { key: \"Ctrl-h\", run: deleteCharBackward },\n    { key: \"Ctrl-k\", run: deleteToLineEnd },\n    { key: \"Ctrl-Alt-h\", run: deleteGroupBackward },\n    { key: \"Ctrl-o\", run: splitLine },\n    { key: \"Ctrl-t\", run: transposeChars },\n    { key: \"Ctrl-v\", run: cursorPageDown },\n];\n/**\nAn array of key bindings closely sticking to platform-standard or\nwidely used bindings. (This includes the bindings from\n[`emacsStyleKeymap`](https://codemirror.net/6/docs/ref/#commands.emacsStyleKeymap), with their `key`\nproperty changed to `mac`.)\n\n - ArrowLeft: [`cursorCharLeft`](https://codemirror.net/6/docs/ref/#commands.cursorCharLeft) ([`selectCharLeft`](https://codemirror.net/6/docs/ref/#commands.selectCharLeft) with Shift)\n - ArrowRight: [`cursorCharRight`](https://codemirror.net/6/docs/ref/#commands.cursorCharRight) ([`selectCharRight`](https://codemirror.net/6/docs/ref/#commands.selectCharRight) with Shift)\n - Ctrl-ArrowLeft (Alt-ArrowLeft on macOS): [`cursorGroupLeft`](https://codemirror.net/6/docs/ref/#commands.cursorGroupLeft) ([`selectGroupLeft`](https://codemirror.net/6/docs/ref/#commands.selectGroupLeft) with Shift)\n - Ctrl-ArrowRight (Alt-ArrowRight on macOS): [`cursorGroupRight`](https://codemirror.net/6/docs/ref/#commands.cursorGroupRight) ([`selectGroupRight`](https://codemirror.net/6/docs/ref/#commands.selectGroupRight) with Shift)\n - Cmd-ArrowLeft (on macOS): [`cursorLineStart`](https://codemirror.net/6/docs/ref/#commands.cursorLineStart) ([`selectLineStart`](https://codemirror.net/6/docs/ref/#commands.selectLineStart) with Shift)\n - Cmd-ArrowRight (on macOS): [`cursorLineEnd`](https://codemirror.net/6/docs/ref/#commands.cursorLineEnd) ([`selectLineEnd`](https://codemirror.net/6/docs/ref/#commands.selectLineEnd) with Shift)\n - ArrowUp: [`cursorLineUp`](https://codemirror.net/6/docs/ref/#commands.cursorLineUp) ([`selectLineUp`](https://codemirror.net/6/docs/ref/#commands.selectLineUp) with Shift)\n - ArrowDown: [`cursorLineDown`](https://codemirror.net/6/docs/ref/#commands.cursorLineDown) ([`selectLineDown`](https://codemirror.net/6/docs/ref/#commands.selectLineDown) with Shift)\n - Cmd-ArrowUp (on macOS): [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart) ([`selectDocStart`](https://codemirror.net/6/docs/ref/#commands.selectDocStart) with Shift)\n - Cmd-ArrowDown (on macOS): [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd) ([`selectDocEnd`](https://codemirror.net/6/docs/ref/#commands.selectDocEnd) with Shift)\n - Ctrl-ArrowUp (on macOS): [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp) ([`selectPageUp`](https://codemirror.net/6/docs/ref/#commands.selectPageUp) with Shift)\n - Ctrl-ArrowDown (on macOS): [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown) ([`selectPageDown`](https://codemirror.net/6/docs/ref/#commands.selectPageDown) with Shift)\n - PageUp: [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp) ([`selectPageUp`](https://codemirror.net/6/docs/ref/#commands.selectPageUp) with Shift)\n - PageDown: [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown) ([`selectPageDown`](https://codemirror.net/6/docs/ref/#commands.selectPageDown) with Shift)\n - Home: [`cursorLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.cursorLineBoundaryBackward) ([`selectLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.selectLineBoundaryBackward) with Shift)\n - End: [`cursorLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.cursorLineBoundaryForward) ([`selectLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.selectLineBoundaryForward) with Shift)\n - Ctrl-Home (Cmd-Home on macOS): [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart) ([`selectDocStart`](https://codemirror.net/6/docs/ref/#commands.selectDocStart) with Shift)\n - Ctrl-End (Cmd-Home on macOS): [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd) ([`selectDocEnd`](https://codemirror.net/6/docs/ref/#commands.selectDocEnd) with Shift)\n - Enter: [`insertNewlineAndIndent`](https://codemirror.net/6/docs/ref/#commands.insertNewlineAndIndent)\n - Ctrl-a (Cmd-a on macOS): [`selectAll`](https://codemirror.net/6/docs/ref/#commands.selectAll)\n - Backspace: [`deleteCharBackward`](https://codemirror.net/6/docs/ref/#commands.deleteCharBackward)\n - Delete: [`deleteCharForward`](https://codemirror.net/6/docs/ref/#commands.deleteCharForward)\n - Ctrl-Backspace (Alt-Backspace on macOS): [`deleteGroupBackward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupBackward)\n - Ctrl-Delete (Alt-Delete on macOS): [`deleteGroupForward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupForward)\n - Cmd-Backspace (macOS): [`deleteToLineStart`](https://codemirror.net/6/docs/ref/#commands.deleteToLineStart).\n - Cmd-Delete (macOS): [`deleteToLineEnd`](https://codemirror.net/6/docs/ref/#commands.deleteToLineEnd).\n*/\nconst standardKeymap = /*@__PURE__*/[\n    { key: \"ArrowLeft\", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },\n    { key: \"Mod-ArrowLeft\", mac: \"Alt-ArrowLeft\", run: cursorGroupLeft, shift: selectGroupLeft, preventDefault: true },\n    { mac: \"Cmd-ArrowLeft\", run: cursorLineBoundaryLeft, shift: selectLineBoundaryLeft, preventDefault: true },\n    { key: \"ArrowRight\", run: cursorCharRight, shift: selectCharRight, preventDefault: true },\n    { key: \"Mod-ArrowRight\", mac: \"Alt-ArrowRight\", run: cursorGroupRight, shift: selectGroupRight, preventDefault: true },\n    { mac: \"Cmd-ArrowRight\", run: cursorLineBoundaryRight, shift: selectLineBoundaryRight, preventDefault: true },\n    { key: \"ArrowUp\", run: cursorLineUp, shift: selectLineUp, preventDefault: true },\n    { mac: \"Cmd-ArrowUp\", run: cursorDocStart, shift: selectDocStart },\n    { mac: \"Ctrl-ArrowUp\", run: cursorPageUp, shift: selectPageUp },\n    { key: \"ArrowDown\", run: cursorLineDown, shift: selectLineDown, preventDefault: true },\n    { mac: \"Cmd-ArrowDown\", run: cursorDocEnd, shift: selectDocEnd },\n    { mac: \"Ctrl-ArrowDown\", run: cursorPageDown, shift: selectPageDown },\n    { key: \"PageUp\", run: cursorPageUp, shift: selectPageUp },\n    { key: \"PageDown\", run: cursorPageDown, shift: selectPageDown },\n    { key: \"Home\", run: cursorLineBoundaryBackward, shift: selectLineBoundaryBackward, preventDefault: true },\n    { key: \"Mod-Home\", run: cursorDocStart, shift: selectDocStart },\n    { key: \"End\", run: cursorLineBoundaryForward, shift: selectLineBoundaryForward, preventDefault: true },\n    { key: \"Mod-End\", run: cursorDocEnd, shift: selectDocEnd },\n    { key: \"Enter\", run: insertNewlineAndIndent },\n    { key: \"Mod-a\", run: selectAll },\n    { key: \"Backspace\", run: deleteCharBackward, shift: deleteCharBackward },\n    { key: \"Delete\", run: deleteCharForward },\n    { key: \"Mod-Backspace\", mac: \"Alt-Backspace\", run: deleteGroupBackward },\n    { key: \"Mod-Delete\", mac: \"Alt-Delete\", run: deleteGroupForward },\n    { mac: \"Mod-Backspace\", run: deleteToLineStart },\n    { mac: \"Mod-Delete\", run: deleteToLineEnd }\n].concat(/*@__PURE__*/emacsStyleKeymap.map(b => ({ mac: b.key, run: b.run, shift: b.shift })));\n/**\nThe default keymap. Includes all bindings from\n[`standardKeymap`](https://codemirror.net/6/docs/ref/#commands.standardKeymap) plus the following:\n\n- Alt-ArrowLeft (Ctrl-ArrowLeft on macOS): [`cursorSyntaxLeft`](https://codemirror.net/6/docs/ref/#commands.cursorSyntaxLeft) ([`selectSyntaxLeft`](https://codemirror.net/6/docs/ref/#commands.selectSyntaxLeft) with Shift)\n- Alt-ArrowRight (Ctrl-ArrowRight on macOS): [`cursorSyntaxRight`](https://codemirror.net/6/docs/ref/#commands.cursorSyntaxRight) ([`selectSyntaxRight`](https://codemirror.net/6/docs/ref/#commands.selectSyntaxRight) with Shift)\n- Alt-ArrowUp: [`moveLineUp`](https://codemirror.net/6/docs/ref/#commands.moveLineUp)\n- Alt-ArrowDown: [`moveLineDown`](https://codemirror.net/6/docs/ref/#commands.moveLineDown)\n- Shift-Alt-ArrowUp: [`copyLineUp`](https://codemirror.net/6/docs/ref/#commands.copyLineUp)\n- Shift-Alt-ArrowDown: [`copyLineDown`](https://codemirror.net/6/docs/ref/#commands.copyLineDown)\n- Escape: [`simplifySelection`](https://codemirror.net/6/docs/ref/#commands.simplifySelection)\n- Ctrl-Enter (Cmd-Enter on macOS): [`insertBlankLine`](https://codemirror.net/6/docs/ref/#commands.insertBlankLine)\n- Alt-l (Ctrl-l on macOS): [`selectLine`](https://codemirror.net/6/docs/ref/#commands.selectLine)\n- Ctrl-i (Cmd-i on macOS): [`selectParentSyntax`](https://codemirror.net/6/docs/ref/#commands.selectParentSyntax)\n- Ctrl-[ (Cmd-[ on macOS): [`indentLess`](https://codemirror.net/6/docs/ref/#commands.indentLess)\n- Ctrl-] (Cmd-] on macOS): [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore)\n- Ctrl-Alt-\\\\ (Cmd-Alt-\\\\ on macOS): [`indentSelection`](https://codemirror.net/6/docs/ref/#commands.indentSelection)\n- Shift-Ctrl-k (Shift-Cmd-k on macOS): [`deleteLine`](https://codemirror.net/6/docs/ref/#commands.deleteLine)\n- Shift-Ctrl-\\\\ (Shift-Cmd-\\\\ on macOS): [`cursorMatchingBracket`](https://codemirror.net/6/docs/ref/#commands.cursorMatchingBracket)\n- Ctrl-/ (Cmd-/ on macOS): [`toggleComment`](https://codemirror.net/6/docs/ref/#commands.toggleComment).\n- Shift-Alt-a: [`toggleBlockComment`](https://codemirror.net/6/docs/ref/#commands.toggleBlockComment).\n*/\nconst defaultKeymap = /*@__PURE__*/[\n    { key: \"Alt-ArrowLeft\", mac: \"Ctrl-ArrowLeft\", run: cursorSyntaxLeft, shift: selectSyntaxLeft },\n    { key: \"Alt-ArrowRight\", mac: \"Ctrl-ArrowRight\", run: cursorSyntaxRight, shift: selectSyntaxRight },\n    { key: \"Alt-ArrowUp\", run: moveLineUp },\n    { key: \"Shift-Alt-ArrowUp\", run: copyLineUp },\n    { key: \"Alt-ArrowDown\", run: moveLineDown },\n    { key: \"Shift-Alt-ArrowDown\", run: copyLineDown },\n    { key: \"Escape\", run: simplifySelection },\n    { key: \"Mod-Enter\", run: insertBlankLine },\n    { key: \"Alt-l\", mac: \"Ctrl-l\", run: selectLine },\n    { key: \"Mod-i\", run: selectParentSyntax, preventDefault: true },\n    { key: \"Mod-[\", run: indentLess },\n    { key: \"Mod-]\", run: indentMore },\n    { key: \"Mod-Alt-\\\\\", run: indentSelection },\n    { key: \"Shift-Mod-k\", run: deleteLine },\n    { key: \"Shift-Mod-\\\\\", run: cursorMatchingBracket },\n    { key: \"Mod-/\", run: toggleComment },\n    { key: \"Alt-A\", run: toggleBlockComment }\n].concat(standardKeymap);\n/**\nA binding that binds Tab to [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore) and\nShift-Tab to [`indentLess`](https://codemirror.net/6/docs/ref/#commands.indentLess).\nPlease see the [Tab example](../../examples/tab/) before using\nthis.\n*/\nconst indentWithTab = { key: \"Tab\", run: indentMore, shift: indentLess };\n\nexport { blockComment, blockUncomment, copyLineDown, copyLineUp, cursorCharBackward, cursorCharForward, cursorCharLeft, cursorCharRight, cursorDocEnd, cursorDocStart, cursorGroupBackward, cursorGroupForward, cursorGroupLeft, cursorGroupRight, cursorLineBoundaryBackward, cursorLineBoundaryForward, cursorLineBoundaryLeft, cursorLineBoundaryRight, cursorLineDown, cursorLineEnd, cursorLineStart, cursorLineUp, cursorMatchingBracket, cursorPageDown, cursorPageUp, cursorSubwordBackward, cursorSubwordForward, cursorSyntaxLeft, cursorSyntaxRight, defaultKeymap, deleteCharBackward, deleteCharForward, deleteGroupBackward, deleteGroupForward, deleteLine, deleteToLineEnd, deleteToLineStart, deleteTrailingWhitespace, emacsStyleKeymap, history, historyField, historyKeymap, indentLess, indentMore, indentSelection, indentWithTab, insertBlankLine, insertNewline, insertNewlineAndIndent, insertTab, invertedEffects, isolateHistory, lineComment, lineUncomment, moveLineDown, moveLineUp, redo, redoDepth, redoSelection, selectAll, selectCharBackward, selectCharForward, selectCharLeft, selectCharRight, selectDocEnd, selectDocStart, selectGroupBackward, selectGroupForward, selectGroupLeft, selectGroupRight, selectLine, selectLineBoundaryBackward, selectLineBoundaryForward, selectLineBoundaryLeft, selectLineBoundaryRight, selectLineDown, selectLineEnd, selectLineStart, selectLineUp, selectMatchingBracket, selectPageDown, selectPageUp, selectParentSyntax, selectSubwordBackward, selectSubwordForward, selectSyntaxLeft, selectSyntaxRight, simplifySelection, splitLine, standardKeymap, toggleBlockComment, toggleBlockCommentByLine, toggleComment, toggleLineComment, transposeChars, undo, undoDepth, undoSelection };\n","import { parser } from '@lezer/javascript';\nimport { syntaxTree, LRLanguage, indentNodeProp, continuedIndent, flatIndent, delimitedIndent, foldNodeProp, foldInside, defineLanguageFacet, sublanguageProp, LanguageSupport } from '@codemirror/language';\nimport { EditorSelection } from '@codemirror/state';\nimport { EditorView } from '@codemirror/view';\nimport { snippetCompletion, ifNotIn, completeFromList } from '@codemirror/autocomplete';\nimport { NodeWeakMap, IterMode } from '@lezer/common';\n\n/**\nA collection of JavaScript-related\n[snippets](https://codemirror.net/6/docs/ref/#autocomplete.snippet).\n*/\nconst snippets = [\n    /*@__PURE__*/snippetCompletion(\"function ${name}(${params}) {\\n\\t${}\\n}\", {\n        label: \"function\",\n        detail: \"definition\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\\n\\t${}\\n}\", {\n        label: \"for\",\n        detail: \"loop\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"for (let ${name} of ${collection}) {\\n\\t${}\\n}\", {\n        label: \"for\",\n        detail: \"of loop\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"do {\\n\\t${}\\n} while (${})\", {\n        label: \"do\",\n        detail: \"loop\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"while (${}) {\\n\\t${}\\n}\", {\n        label: \"while\",\n        detail: \"loop\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"try {\\n\\t${}\\n} catch (${error}) {\\n\\t${}\\n}\", {\n        label: \"try\",\n        detail: \"/ catch block\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"if (${}) {\\n\\t${}\\n}\", {\n        label: \"if\",\n        detail: \"block\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"if (${}) {\\n\\t${}\\n} else {\\n\\t${}\\n}\", {\n        label: \"if\",\n        detail: \"/ else block\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"class ${name} {\\n\\tconstructor(${params}) {\\n\\t\\t${}\\n\\t}\\n}\", {\n        label: \"class\",\n        detail: \"definition\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"import {${names}} from \\\"${module}\\\"\\n${}\", {\n        label: \"import\",\n        detail: \"named\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"import ${name} from \\\"${module}\\\"\\n${}\", {\n        label: \"import\",\n        detail: \"default\",\n        type: \"keyword\"\n    })\n];\n/**\nA collection of snippet completions for TypeScript. Includes the\nJavaScript [snippets](https://codemirror.net/6/docs/ref/#lang-javascript.snippets).\n*/\nconst typescriptSnippets = /*@__PURE__*/snippets.concat([\n    /*@__PURE__*/snippetCompletion(\"interface ${name} {\\n\\t${}\\n}\", {\n        label: \"interface\",\n        detail: \"definition\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"type ${name} = ${type}\", {\n        label: \"type\",\n        detail: \"definition\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"enum ${name} {\\n\\t${}\\n}\", {\n        label: \"enum\",\n        detail: \"definition\",\n        type: \"keyword\"\n    })\n]);\n\nconst cache = /*@__PURE__*/new NodeWeakMap();\nconst ScopeNodes = /*@__PURE__*/new Set([\n    \"Script\", \"Block\",\n    \"FunctionExpression\", \"FunctionDeclaration\", \"ArrowFunction\", \"MethodDeclaration\",\n    \"ForStatement\"\n]);\nfunction defID(type) {\n    return (node, def) => {\n        let id = node.node.getChild(\"VariableDefinition\");\n        if (id)\n            def(id, type);\n        return true;\n    };\n}\nconst functionContext = [\"FunctionDeclaration\"];\nconst gatherCompletions = {\n    FunctionDeclaration: /*@__PURE__*/defID(\"function\"),\n    ClassDeclaration: /*@__PURE__*/defID(\"class\"),\n    ClassExpression: () => true,\n    EnumDeclaration: /*@__PURE__*/defID(\"constant\"),\n    TypeAliasDeclaration: /*@__PURE__*/defID(\"type\"),\n    NamespaceDeclaration: /*@__PURE__*/defID(\"namespace\"),\n    VariableDefinition(node, def) { if (!node.matchContext(functionContext))\n        def(node, \"variable\"); },\n    TypeDefinition(node, def) { def(node, \"type\"); },\n    __proto__: null\n};\nfunction getScope(doc, node) {\n    let cached = cache.get(node);\n    if (cached)\n        return cached;\n    let completions = [], top = true;\n    function def(node, type) {\n        let name = doc.sliceString(node.from, node.to);\n        completions.push({ label: name, type });\n    }\n    node.cursor(IterMode.IncludeAnonymous).iterate(node => {\n        if (top) {\n            top = false;\n        }\n        else if (node.name) {\n            let gather = gatherCompletions[node.name];\n            if (gather && gather(node, def) || ScopeNodes.has(node.name))\n                return false;\n        }\n        else if (node.to - node.from > 8192) {\n            // Allow caching for bigger internal nodes\n            for (let c of getScope(doc, node.node))\n                completions.push(c);\n            return false;\n        }\n    });\n    cache.set(node, completions);\n    return completions;\n}\nconst Identifier = /^[\\w$\\xa1-\\uffff][\\w$\\d\\xa1-\\uffff]*$/;\nconst dontComplete = [\n    \"TemplateString\", \"String\", \"RegExp\",\n    \"LineComment\", \"BlockComment\",\n    \"VariableDefinition\", \"TypeDefinition\", \"Label\",\n    \"PropertyDefinition\", \"PropertyName\",\n    \"PrivatePropertyDefinition\", \"PrivatePropertyName\",\n    \".\", \"?.\"\n];\n/**\nCompletion source that looks up locally defined names in\nJavaScript code.\n*/\nfunction localCompletionSource(context) {\n    let inner = syntaxTree(context.state).resolveInner(context.pos, -1);\n    if (dontComplete.indexOf(inner.name) > -1)\n        return null;\n    let isWord = inner.name == \"VariableName\" ||\n        inner.to - inner.from < 20 && Identifier.test(context.state.sliceDoc(inner.from, inner.to));\n    if (!isWord && !context.explicit)\n        return null;\n    let options = [];\n    for (let pos = inner; pos; pos = pos.parent) {\n        if (ScopeNodes.has(pos.name))\n            options = options.concat(getScope(context.state.doc, pos));\n    }\n    return {\n        options,\n        from: isWord ? inner.from : context.pos,\n        validFor: Identifier\n    };\n}\nfunction pathFor(read, member, name) {\n    var _a;\n    let path = [];\n    for (;;) {\n        let obj = member.firstChild, prop;\n        if ((obj === null || obj === void 0 ? void 0 : obj.name) == \"VariableName\") {\n            path.push(read(obj));\n            return { path: path.reverse(), name };\n        }\n        else if ((obj === null || obj === void 0 ? void 0 : obj.name) == \"MemberExpression\" && ((_a = (prop = obj.lastChild)) === null || _a === void 0 ? void 0 : _a.name) == \"PropertyName\") {\n            path.push(read(prop));\n            member = obj;\n        }\n        else {\n            return null;\n        }\n    }\n}\n/**\nHelper function for defining JavaScript completion sources. It\nreturns the completable name and object path for a completion\ncontext, or null if no name/property completion should happen at\nthat position. For example, when completing after `a.b.c` it will\nreturn `{path: [\"a\", \"b\"], name: \"c\"}`. When completing after `x`\nit will return `{path: [], name: \"x\"}`. When not in a property or\nname, it will return null if `context.explicit` is false, and\n`{path: [], name: \"\"}` otherwise.\n*/\nfunction completionPath(context) {\n    let read = (node) => context.state.doc.sliceString(node.from, node.to);\n    let inner = syntaxTree(context.state).resolveInner(context.pos, -1);\n    if (inner.name == \"PropertyName\") {\n        return pathFor(read, inner.parent, read(inner));\n    }\n    else if ((inner.name == \".\" || inner.name == \"?.\") && inner.parent.name == \"MemberExpression\") {\n        return pathFor(read, inner.parent, \"\");\n    }\n    else if (dontComplete.indexOf(inner.name) > -1) {\n        return null;\n    }\n    else if (inner.name == \"VariableName\" || inner.to - inner.from < 20 && Identifier.test(read(inner))) {\n        return { path: [], name: read(inner) };\n    }\n    else if (inner.name == \"MemberExpression\") {\n        return pathFor(read, inner, \"\");\n    }\n    else {\n        return context.explicit ? { path: [], name: \"\" } : null;\n    }\n}\nfunction enumeratePropertyCompletions(obj, top) {\n    let options = [], seen = new Set;\n    for (let depth = 0;; depth++) {\n        for (let name of (Object.getOwnPropertyNames || Object.keys)(obj)) {\n            if (!/^[a-zA-Z_$\\xaa-\\uffdc][\\w$\\xaa-\\uffdc]*$/.test(name) || seen.has(name))\n                continue;\n            seen.add(name);\n            let value;\n            try {\n                value = obj[name];\n            }\n            catch (_) {\n                continue;\n            }\n            options.push({\n                label: name,\n                type: typeof value == \"function\" ? (/^[A-Z]/.test(name) ? \"class\" : top ? \"function\" : \"method\")\n                    : top ? \"variable\" : \"property\",\n                boost: -depth\n            });\n        }\n        let next = Object.getPrototypeOf(obj);\n        if (!next)\n            return options;\n        obj = next;\n    }\n}\n/**\nDefines a [completion source](https://codemirror.net/6/docs/ref/#autocomplete.CompletionSource) that\ncompletes from the given scope object (for example `globalThis`).\nWill enter properties of the object when completing properties on\na directly-named path.\n*/\nfunction scopeCompletionSource(scope) {\n    let cache = new Map;\n    return (context) => {\n        let path = completionPath(context);\n        if (!path)\n            return null;\n        let target = scope;\n        for (let step of path.path) {\n            target = target[step];\n            if (!target)\n                return null;\n        }\n        let options = cache.get(target);\n        if (!options)\n            cache.set(target, options = enumeratePropertyCompletions(target, !path.path.length));\n        return {\n            from: context.pos - path.name.length,\n            options,\n            validFor: Identifier\n        };\n    };\n}\n\n/**\nA language provider based on the [Lezer JavaScript\nparser](https://github.com/lezer-parser/javascript), extended with\nhighlighting and indentation information.\n*/\nconst javascriptLanguage = /*@__PURE__*/LRLanguage.define({\n    name: \"javascript\",\n    parser: /*@__PURE__*/parser.configure({\n        props: [\n            /*@__PURE__*/indentNodeProp.add({\n                IfStatement: /*@__PURE__*/continuedIndent({ except: /^\\s*({|else\\b)/ }),\n                TryStatement: /*@__PURE__*/continuedIndent({ except: /^\\s*({|catch\\b|finally\\b)/ }),\n                LabeledStatement: flatIndent,\n                SwitchBody: context => {\n                    let after = context.textAfter, closed = /^\\s*\\}/.test(after), isCase = /^\\s*(case|default)\\b/.test(after);\n                    return context.baseIndent + (closed ? 0 : isCase ? 1 : 2) * context.unit;\n                },\n                Block: /*@__PURE__*/delimitedIndent({ closing: \"}\" }),\n                ArrowFunction: cx => cx.baseIndent + cx.unit,\n                \"TemplateString BlockComment\": () => null,\n                \"Statement Property\": /*@__PURE__*/continuedIndent({ except: /^{/ }),\n                JSXElement(context) {\n                    let closed = /^\\s*<\\//.test(context.textAfter);\n                    return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);\n                },\n                JSXEscape(context) {\n                    let closed = /\\s*\\}/.test(context.textAfter);\n                    return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);\n                },\n                \"JSXOpenTag JSXSelfClosingTag\"(context) {\n                    return context.column(context.node.from) + context.unit;\n                }\n            }),\n            /*@__PURE__*/foldNodeProp.add({\n                \"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType\": foldInside,\n                BlockComment(tree) { return { from: tree.from + 2, to: tree.to - 2 }; }\n            })\n        ]\n    }),\n    languageData: {\n        closeBrackets: { brackets: [\"(\", \"[\", \"{\", \"'\", '\"', \"`\"] },\n        commentTokens: { line: \"//\", block: { open: \"/*\", close: \"*/\" } },\n        indentOnInput: /^\\s*(?:case |default:|\\{|\\}|<\\/)$/,\n        wordChars: \"$\"\n    }\n});\nconst jsxSublanguage = {\n    test: node => /^JSX/.test(node.name),\n    facet: /*@__PURE__*/defineLanguageFacet({ commentTokens: { block: { open: \"{/*\", close: \"*/}\" } } })\n};\n/**\nA language provider for TypeScript.\n*/\nconst typescriptLanguage = /*@__PURE__*/javascriptLanguage.configure({ dialect: \"ts\" }, \"typescript\");\n/**\nLanguage provider for JSX.\n*/\nconst jsxLanguage = /*@__PURE__*/javascriptLanguage.configure({\n    dialect: \"jsx\",\n    props: [/*@__PURE__*/sublanguageProp.add(n => n.isTop ? [jsxSublanguage] : undefined)]\n});\n/**\nLanguage provider for JSX + TypeScript.\n*/\nconst tsxLanguage = /*@__PURE__*/javascriptLanguage.configure({\n    dialect: \"jsx ts\",\n    props: [/*@__PURE__*/sublanguageProp.add(n => n.isTop ? [jsxSublanguage] : undefined)]\n}, \"typescript\");\nlet kwCompletion = (name) => ({ label: name, type: \"keyword\" });\nconst keywords = /*@__PURE__*/\"break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield\".split(\" \").map(kwCompletion);\nconst typescriptKeywords = /*@__PURE__*/keywords.concat(/*@__PURE__*/[\"declare\", \"implements\", \"private\", \"protected\", \"public\"].map(kwCompletion));\n/**\nJavaScript support. Includes [snippet](https://codemirror.net/6/docs/ref/#lang-javascript.snippets)\ncompletion.\n*/\nfunction javascript(config = {}) {\n    let lang = config.jsx ? (config.typescript ? tsxLanguage : jsxLanguage)\n        : config.typescript ? typescriptLanguage : javascriptLanguage;\n    let completions = config.typescript ? typescriptSnippets.concat(typescriptKeywords) : snippets.concat(keywords);\n    return new LanguageSupport(lang, [\n        javascriptLanguage.data.of({\n            autocomplete: ifNotIn(dontComplete, completeFromList(completions))\n        }),\n        javascriptLanguage.data.of({\n            autocomplete: localCompletionSource\n        }),\n        config.jsx ? autoCloseTags : [],\n    ]);\n}\nfunction findOpenTag(node) {\n    for (;;) {\n        if (node.name == \"JSXOpenTag\" || node.name == \"JSXSelfClosingTag\" || node.name == \"JSXFragmentTag\")\n            return node;\n        if (node.name == \"JSXEscape\" || !node.parent)\n            return null;\n        node = node.parent;\n    }\n}\nfunction elementName(doc, tree, max = doc.length) {\n    for (let ch = tree === null || tree === void 0 ? void 0 : tree.firstChild; ch; ch = ch.nextSibling) {\n        if (ch.name == \"JSXIdentifier\" || ch.name == \"JSXBuiltin\" || ch.name == \"JSXNamespacedName\" ||\n            ch.name == \"JSXMemberExpression\")\n            return doc.sliceString(ch.from, Math.min(ch.to, max));\n    }\n    return \"\";\n}\nconst android = typeof navigator == \"object\" && /*@__PURE__*//Android\\b/.test(navigator.userAgent);\n/**\nExtension that will automatically insert JSX close tags when a `>` or\n`/` is typed.\n*/\nconst autoCloseTags = /*@__PURE__*/EditorView.inputHandler.of((view, from, to, text, defaultInsert) => {\n    if ((android ? view.composing : view.compositionStarted) || view.state.readOnly ||\n        from != to || (text != \">\" && text != \"/\") ||\n        !javascriptLanguage.isActiveAt(view.state, from, -1))\n        return false;\n    let base = defaultInsert(), { state } = base;\n    let closeTags = state.changeByRange(range => {\n        var _a;\n        let { head } = range, around = syntaxTree(state).resolveInner(head - 1, -1), name;\n        if (around.name == \"JSXStartTag\")\n            around = around.parent;\n        if (state.doc.sliceString(head - 1, head) != text || around.name == \"JSXAttributeValue\" && around.to > head) ;\n        else if (text == \">\" && around.name == \"JSXFragmentTag\") {\n            return { range, changes: { from: head, insert: `</>` } };\n        }\n        else if (text == \"/\" && around.name == \"JSXStartCloseTag\") {\n            let empty = around.parent, base = empty.parent;\n            if (base && empty.from == head - 2 &&\n                ((name = elementName(state.doc, base.firstChild, head)) || ((_a = base.firstChild) === null || _a === void 0 ? void 0 : _a.name) == \"JSXFragmentTag\")) {\n                let insert = `${name}>`;\n                return { range: EditorSelection.cursor(head + insert.length, -1), changes: { from: head, insert } };\n            }\n        }\n        else if (text == \">\") {\n            let openTag = findOpenTag(around);\n            if (openTag &&\n                !/^\\/?>|^<\\//.test(state.doc.sliceString(head, head + 2)) &&\n                (name = elementName(state.doc, openTag, head)))\n                return { range, changes: { from: head, insert: `</${name}>` } };\n        }\n        return { range };\n    });\n    if (closeTags.changes.empty)\n        return false;\n    view.dispatch([\n        base,\n        state.update(closeTags, { userEvent: \"input.complete\", scrollIntoView: true })\n    ]);\n    return true;\n});\n\n/**\nConnects an [ESLint](https://eslint.org/) linter to CodeMirror's\n[lint](https://codemirror.net/6/docs/ref/#lint) integration. `eslint` should be an instance of the\n[`Linter`](https://eslint.org/docs/developer-guide/nodejs-api#linter)\nclass, and `config` an optional ESLint configuration. The return\nvalue of this function can be passed to [`linter`](https://codemirror.net/6/docs/ref/#lint.linter)\nto create a JavaScript linting extension.\n\nNote that ESLint targets node, and is tricky to run in the\nbrowser. The\n[eslint-linter-browserify](https://github.com/UziTech/eslint-linter-browserify)\npackage may help with that (see\n[example](https://github.com/UziTech/eslint-linter-browserify/blob/master/example/script.js)).\n*/\nfunction esLint(eslint, config) {\n    if (!config) {\n        config = {\n            parserOptions: { ecmaVersion: 2019, sourceType: \"module\" },\n            env: { browser: true, node: true, es6: true, es2015: true, es2017: true, es2020: true },\n            rules: {}\n        };\n        eslint.getRules().forEach((desc, name) => {\n            if (desc.meta.docs.recommended)\n                config.rules[name] = 2;\n        });\n    }\n    return (view) => {\n        let { state } = view, found = [];\n        for (let { from, to } of javascriptLanguage.findRegions(state)) {\n            let fromLine = state.doc.lineAt(from), offset = { line: fromLine.number - 1, col: from - fromLine.from, pos: from };\n            for (let d of eslint.verify(state.sliceDoc(from, to), config))\n                found.push(translateDiagnostic(d, state.doc, offset));\n        }\n        return found;\n    };\n}\nfunction mapPos(line, col, doc, offset) {\n    return doc.line(line + offset.line).from + col + (line == 1 ? offset.col - 1 : -1);\n}\nfunction translateDiagnostic(input, doc, offset) {\n    let start = mapPos(input.line, input.column, doc, offset);\n    let result = {\n        from: start,\n        to: input.endLine != null && input.endColumn != 1 ? mapPos(input.endLine, input.endColumn, doc, offset) : start,\n        message: input.message,\n        source: input.ruleId ? \"eslint:\" + input.ruleId : \"eslint\",\n        severity: input.severity == 1 ? \"warning\" : \"error\",\n    };\n    if (input.fix) {\n        let { range, text } = input.fix, from = range[0] + offset.pos - start, to = range[1] + offset.pos - start;\n        result.actions = [{\n                name: \"fix\",\n                apply(view, start) {\n                    view.dispatch({ changes: { from: start + from, to: start + to, insert: text }, scrollIntoView: true });\n                }\n            }];\n    }\n    return result;\n}\n\nexport { autoCloseTags, completionPath, esLint, javascript, javascriptLanguage, jsxLanguage, localCompletionSource, scopeCompletionSource, snippets, tsxLanguage, typescriptLanguage, typescriptSnippets };\n","import { NodeProp, Tree, IterMode, TreeFragment, Parser, NodeType, NodeSet } from '@lezer/common';\nimport { StateEffect, StateField, Facet, EditorState, countColumn, combineConfig, RangeSet, RangeSetBuilder, Prec } from '@codemirror/state';\nimport { ViewPlugin, logException, EditorView, Decoration, WidgetType, gutter, GutterMarker } from '@codemirror/view';\nimport { tags, tagHighlighter, highlightTree, styleTags } from '@lezer/highlight';\nimport { StyleModule } from 'style-mod';\n\nvar _a;\n/**\nNode prop stored in a parser's top syntax node to provide the\nfacet that stores language-specific data for that language.\n*/\nconst languageDataProp = /*@__PURE__*/new NodeProp();\n/**\nHelper function to define a facet (to be added to the top syntax\nnode(s) for a language via\n[`languageDataProp`](https://codemirror.net/6/docs/ref/#language.languageDataProp)), that will be\nused to associate language data with the language. You\nprobably only need this when subclassing\n[`Language`](https://codemirror.net/6/docs/ref/#language.Language).\n*/\nfunction defineLanguageFacet(baseData) {\n    return Facet.define({\n        combine: baseData ? values => values.concat(baseData) : undefined\n    });\n}\n/**\nSyntax node prop used to register sublanguages. Should be added to\nthe top level node type for the language.\n*/\nconst sublanguageProp = /*@__PURE__*/new NodeProp();\n/**\nA language object manages parsing and per-language\n[metadata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt). Parse data is\nmanaged as a [Lezer](https://lezer.codemirror.net) tree. The class\ncan be used directly, via the [`LRLanguage`](https://codemirror.net/6/docs/ref/#language.LRLanguage)\nsubclass for [Lezer](https://lezer.codemirror.net/) LR parsers, or\nvia the [`StreamLanguage`](https://codemirror.net/6/docs/ref/#language.StreamLanguage) subclass\nfor stream parsers.\n*/\nclass Language {\n    /**\n    Construct a language object. If you need to invoke this\n    directly, first define a data facet with\n    [`defineLanguageFacet`](https://codemirror.net/6/docs/ref/#language.defineLanguageFacet), and then\n    configure your parser to [attach](https://codemirror.net/6/docs/ref/#language.languageDataProp) it\n    to the language's outer syntax node.\n    */\n    constructor(\n    /**\n    The [language data](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt) facet\n    used for this language.\n    */\n    data, parser, extraExtensions = [], \n    /**\n    A language name.\n    */\n    name = \"\") {\n        this.data = data;\n        this.name = name;\n        // Kludge to define EditorState.tree as a debugging helper,\n        // without the EditorState package actually knowing about\n        // languages and lezer trees.\n        if (!EditorState.prototype.hasOwnProperty(\"tree\"))\n            Object.defineProperty(EditorState.prototype, \"tree\", { get() { return syntaxTree(this); } });\n        this.parser = parser;\n        this.extension = [\n            language.of(this),\n            EditorState.languageData.of((state, pos, side) => {\n                let top = topNodeAt(state, pos, side), data = top.type.prop(languageDataProp);\n                if (!data)\n                    return [];\n                let base = state.facet(data), sub = top.type.prop(sublanguageProp);\n                if (sub) {\n                    let innerNode = top.resolve(pos - top.from, side);\n                    for (let sublang of sub)\n                        if (sublang.test(innerNode, state)) {\n                            let data = state.facet(sublang.facet);\n                            return sublang.type == \"replace\" ? data : data.concat(base);\n                        }\n                }\n                return base;\n            })\n        ].concat(extraExtensions);\n    }\n    /**\n    Query whether this language is active at the given position.\n    */\n    isActiveAt(state, pos, side = -1) {\n        return topNodeAt(state, pos, side).type.prop(languageDataProp) == this.data;\n    }\n    /**\n    Find the document regions that were parsed using this language.\n    The returned regions will _include_ any nested languages rooted\n    in this language, when those exist.\n    */\n    findRegions(state) {\n        let lang = state.facet(language);\n        if ((lang === null || lang === void 0 ? void 0 : lang.data) == this.data)\n            return [{ from: 0, to: state.doc.length }];\n        if (!lang || !lang.allowsNesting)\n            return [];\n        let result = [];\n        let explore = (tree, from) => {\n            if (tree.prop(languageDataProp) == this.data) {\n                result.push({ from, to: from + tree.length });\n                return;\n            }\n            let mount = tree.prop(NodeProp.mounted);\n            if (mount) {\n                if (mount.tree.prop(languageDataProp) == this.data) {\n                    if (mount.overlay)\n                        for (let r of mount.overlay)\n                            result.push({ from: r.from + from, to: r.to + from });\n                    else\n                        result.push({ from: from, to: from + tree.length });\n                    return;\n                }\n                else if (mount.overlay) {\n                    let size = result.length;\n                    explore(mount.tree, mount.overlay[0].from + from);\n                    if (result.length > size)\n                        return;\n                }\n            }\n            for (let i = 0; i < tree.children.length; i++) {\n                let ch = tree.children[i];\n                if (ch instanceof Tree)\n                    explore(ch, tree.positions[i] + from);\n            }\n        };\n        explore(syntaxTree(state), 0);\n        return result;\n    }\n    /**\n    Indicates whether this language allows nested languages. The\n    default implementation returns true.\n    */\n    get allowsNesting() { return true; }\n}\n/**\n@internal\n*/\nLanguage.setState = /*@__PURE__*/StateEffect.define();\nfunction topNodeAt(state, pos, side) {\n    let topLang = state.facet(language), tree = syntaxTree(state).topNode;\n    if (!topLang || topLang.allowsNesting) {\n        for (let node = tree; node; node = node.enter(pos, side, IterMode.ExcludeBuffers))\n            if (node.type.isTop)\n                tree = node;\n    }\n    return tree;\n}\n/**\nA subclass of [`Language`](https://codemirror.net/6/docs/ref/#language.Language) for use with Lezer\n[LR parsers](https://lezer.codemirror.net/docs/ref#lr.LRParser)\nparsers.\n*/\nclass LRLanguage extends Language {\n    constructor(data, parser, name) {\n        super(data, parser, [], name);\n        this.parser = parser;\n    }\n    /**\n    Define a language from a parser.\n    */\n    static define(spec) {\n        let data = defineLanguageFacet(spec.languageData);\n        return new LRLanguage(data, spec.parser.configure({\n            props: [languageDataProp.add(type => type.isTop ? data : undefined)]\n        }), spec.name);\n    }\n    /**\n    Create a new instance of this language with a reconfigured\n    version of its parser and optionally a new name.\n    */\n    configure(options, name) {\n        return new LRLanguage(this.data, this.parser.configure(options), name || this.name);\n    }\n    get allowsNesting() { return this.parser.hasWrappers(); }\n}\n/**\nGet the syntax tree for a state, which is the current (possibly\nincomplete) parse tree of the active\n[language](https://codemirror.net/6/docs/ref/#language.Language), or the empty tree if there is no\nlanguage available.\n*/\nfunction syntaxTree(state) {\n    let field = state.field(Language.state, false);\n    return field ? field.tree : Tree.empty;\n}\n/**\nTry to get a parse tree that spans at least up to `upto`. The\nmethod will do at most `timeout` milliseconds of work to parse\nup to that point if the tree isn't already available.\n*/\nfunction ensureSyntaxTree(state, upto, timeout = 50) {\n    var _a;\n    let parse = (_a = state.field(Language.state, false)) === null || _a === void 0 ? void 0 : _a.context;\n    if (!parse)\n        return null;\n    let oldVieport = parse.viewport;\n    parse.updateViewport({ from: 0, to: upto });\n    let result = parse.isDone(upto) || parse.work(timeout, upto) ? parse.tree : null;\n    parse.updateViewport(oldVieport);\n    return result;\n}\n/**\nQueries whether there is a full syntax tree available up to the\ngiven document position. If there isn't, the background parse\nprocess _might_ still be working and update the tree further, but\nthere is no guarantee of that—the parser will [stop\nworking](https://codemirror.net/6/docs/ref/#language.syntaxParserRunning) when it has spent a\ncertain amount of time or has moved beyond the visible viewport.\nAlways returns false if no language has been enabled.\n*/\nfunction syntaxTreeAvailable(state, upto = state.doc.length) {\n    var _a;\n    return ((_a = state.field(Language.state, false)) === null || _a === void 0 ? void 0 : _a.context.isDone(upto)) || false;\n}\n/**\nMove parsing forward, and update the editor state afterwards to\nreflect the new tree. Will work for at most `timeout`\nmilliseconds. Returns true if the parser managed get to the given\nposition in that time.\n*/\nfunction forceParsing(view, upto = view.viewport.to, timeout = 100) {\n    let success = ensureSyntaxTree(view.state, upto, timeout);\n    if (success != syntaxTree(view.state))\n        view.dispatch({});\n    return !!success;\n}\n/**\nTells you whether the language parser is planning to do more\nparsing work (in a `requestIdleCallback` pseudo-thread) or has\nstopped running, either because it parsed the entire document,\nbecause it spent too much time and was cut off, or because there\nis no language parser enabled.\n*/\nfunction syntaxParserRunning(view) {\n    var _a;\n    return ((_a = view.plugin(parseWorker)) === null || _a === void 0 ? void 0 : _a.isWorking()) || false;\n}\n/**\nLezer-style\n[`Input`](https://lezer.codemirror.net/docs/ref#common.Input)\nobject for a [`Text`](https://codemirror.net/6/docs/ref/#state.Text) object.\n*/\nclass DocInput {\n    /**\n    Create an input object for the given document.\n    */\n    constructor(doc) {\n        this.doc = doc;\n        this.cursorPos = 0;\n        this.string = \"\";\n        this.cursor = doc.iter();\n    }\n    get length() { return this.doc.length; }\n    syncTo(pos) {\n        this.string = this.cursor.next(pos - this.cursorPos).value;\n        this.cursorPos = pos + this.string.length;\n        return this.cursorPos - this.string.length;\n    }\n    chunk(pos) {\n        this.syncTo(pos);\n        return this.string;\n    }\n    get lineChunks() { return true; }\n    read(from, to) {\n        let stringStart = this.cursorPos - this.string.length;\n        if (from < stringStart || to >= this.cursorPos)\n            return this.doc.sliceString(from, to);\n        else\n            return this.string.slice(from - stringStart, to - stringStart);\n    }\n}\nlet currentContext = null;\n/**\nA parse context provided to parsers working on the editor content.\n*/\nclass ParseContext {\n    constructor(parser, \n    /**\n    The current editor state.\n    */\n    state, \n    /**\n    Tree fragments that can be reused by incremental re-parses.\n    */\n    fragments = [], \n    /**\n    @internal\n    */\n    tree, \n    /**\n    @internal\n    */\n    treeLen, \n    /**\n    The current editor viewport (or some overapproximation\n    thereof). Intended to be used for opportunistically avoiding\n    work (in which case\n    [`skipUntilInView`](https://codemirror.net/6/docs/ref/#language.ParseContext.skipUntilInView)\n    should be called to make sure the parser is restarted when the\n    skipped region becomes visible).\n    */\n    viewport, \n    /**\n    @internal\n    */\n    skipped, \n    /**\n    This is where skipping parsers can register a promise that,\n    when resolved, will schedule a new parse. It is cleared when\n    the parse worker picks up the promise. @internal\n    */\n    scheduleOn) {\n        this.parser = parser;\n        this.state = state;\n        this.fragments = fragments;\n        this.tree = tree;\n        this.treeLen = treeLen;\n        this.viewport = viewport;\n        this.skipped = skipped;\n        this.scheduleOn = scheduleOn;\n        this.parse = null;\n        /**\n        @internal\n        */\n        this.tempSkipped = [];\n    }\n    /**\n    @internal\n    */\n    static create(parser, state, viewport) {\n        return new ParseContext(parser, state, [], Tree.empty, 0, viewport, [], null);\n    }\n    startParse() {\n        return this.parser.startParse(new DocInput(this.state.doc), this.fragments);\n    }\n    /**\n    @internal\n    */\n    work(until, upto) {\n        if (upto != null && upto >= this.state.doc.length)\n            upto = undefined;\n        if (this.tree != Tree.empty && this.isDone(upto !== null && upto !== void 0 ? upto : this.state.doc.length)) {\n            this.takeTree();\n            return true;\n        }\n        return this.withContext(() => {\n            var _a;\n            if (typeof until == \"number\") {\n                let endTime = Date.now() + until;\n                until = () => Date.now() > endTime;\n            }\n            if (!this.parse)\n                this.parse = this.startParse();\n            if (upto != null && (this.parse.stoppedAt == null || this.parse.stoppedAt > upto) &&\n                upto < this.state.doc.length)\n                this.parse.stopAt(upto);\n            for (;;) {\n                let done = this.parse.advance();\n                if (done) {\n                    this.fragments = this.withoutTempSkipped(TreeFragment.addTree(done, this.fragments, this.parse.stoppedAt != null));\n                    this.treeLen = (_a = this.parse.stoppedAt) !== null && _a !== void 0 ? _a : this.state.doc.length;\n                    this.tree = done;\n                    this.parse = null;\n                    if (this.treeLen < (upto !== null && upto !== void 0 ? upto : this.state.doc.length))\n                        this.parse = this.startParse();\n                    else\n                        return true;\n                }\n                if (until())\n                    return false;\n            }\n        });\n    }\n    /**\n    @internal\n    */\n    takeTree() {\n        let pos, tree;\n        if (this.parse && (pos = this.parse.parsedPos) >= this.treeLen) {\n            if (this.parse.stoppedAt == null || this.parse.stoppedAt > pos)\n                this.parse.stopAt(pos);\n            this.withContext(() => { while (!(tree = this.parse.advance())) { } });\n            this.treeLen = pos;\n            this.tree = tree;\n            this.fragments = this.withoutTempSkipped(TreeFragment.addTree(this.tree, this.fragments, true));\n            this.parse = null;\n        }\n    }\n    withContext(f) {\n        let prev = currentContext;\n        currentContext = this;\n        try {\n            return f();\n        }\n        finally {\n            currentContext = prev;\n        }\n    }\n    withoutTempSkipped(fragments) {\n        for (let r; r = this.tempSkipped.pop();)\n            fragments = cutFragments(fragments, r.from, r.to);\n        return fragments;\n    }\n    /**\n    @internal\n    */\n    changes(changes, newState) {\n        let { fragments, tree, treeLen, viewport, skipped } = this;\n        this.takeTree();\n        if (!changes.empty) {\n            let ranges = [];\n            changes.iterChangedRanges((fromA, toA, fromB, toB) => ranges.push({ fromA, toA, fromB, toB }));\n            fragments = TreeFragment.applyChanges(fragments, ranges);\n            tree = Tree.empty;\n            treeLen = 0;\n            viewport = { from: changes.mapPos(viewport.from, -1), to: changes.mapPos(viewport.to, 1) };\n            if (this.skipped.length) {\n                skipped = [];\n                for (let r of this.skipped) {\n                    let from = changes.mapPos(r.from, 1), to = changes.mapPos(r.to, -1);\n                    if (from < to)\n                        skipped.push({ from, to });\n                }\n            }\n        }\n        return new ParseContext(this.parser, newState, fragments, tree, treeLen, viewport, skipped, this.scheduleOn);\n    }\n    /**\n    @internal\n    */\n    updateViewport(viewport) {\n        if (this.viewport.from == viewport.from && this.viewport.to == viewport.to)\n            return false;\n        this.viewport = viewport;\n        let startLen = this.skipped.length;\n        for (let i = 0; i < this.skipped.length; i++) {\n            let { from, to } = this.skipped[i];\n            if (from < viewport.to && to > viewport.from) {\n                this.fragments = cutFragments(this.fragments, from, to);\n                this.skipped.splice(i--, 1);\n            }\n        }\n        if (this.skipped.length >= startLen)\n            return false;\n        this.reset();\n        return true;\n    }\n    /**\n    @internal\n    */\n    reset() {\n        if (this.parse) {\n            this.takeTree();\n            this.parse = null;\n        }\n    }\n    /**\n    Notify the parse scheduler that the given region was skipped\n    because it wasn't in view, and the parse should be restarted\n    when it comes into view.\n    */\n    skipUntilInView(from, to) {\n        this.skipped.push({ from, to });\n    }\n    /**\n    Returns a parser intended to be used as placeholder when\n    asynchronously loading a nested parser. It'll skip its input and\n    mark it as not-really-parsed, so that the next update will parse\n    it again.\n    \n    When `until` is given, a reparse will be scheduled when that\n    promise resolves.\n    */\n    static getSkippingParser(until) {\n        return new class extends Parser {\n            createParse(input, fragments, ranges) {\n                let from = ranges[0].from, to = ranges[ranges.length - 1].to;\n                let parser = {\n                    parsedPos: from,\n                    advance() {\n                        let cx = currentContext;\n                        if (cx) {\n                            for (let r of ranges)\n                                cx.tempSkipped.push(r);\n                            if (until)\n                                cx.scheduleOn = cx.scheduleOn ? Promise.all([cx.scheduleOn, until]) : until;\n                        }\n                        this.parsedPos = to;\n                        return new Tree(NodeType.none, [], [], to - from);\n                    },\n                    stoppedAt: null,\n                    stopAt() { }\n                };\n                return parser;\n            }\n        };\n    }\n    /**\n    @internal\n    */\n    isDone(upto) {\n        upto = Math.min(upto, this.state.doc.length);\n        let frags = this.fragments;\n        return this.treeLen >= upto && frags.length && frags[0].from == 0 && frags[0].to >= upto;\n    }\n    /**\n    Get the context for the current parse, or `null` if no editor\n    parse is in progress.\n    */\n    static get() { return currentContext; }\n}\nfunction cutFragments(fragments, from, to) {\n    return TreeFragment.applyChanges(fragments, [{ fromA: from, toA: to, fromB: from, toB: to }]);\n}\nclass LanguageState {\n    constructor(\n    // A mutable parse state that is used to preserve work done during\n    // the lifetime of a state when moving to the next state.\n    context) {\n        this.context = context;\n        this.tree = context.tree;\n    }\n    apply(tr) {\n        if (!tr.docChanged && this.tree == this.context.tree)\n            return this;\n        let newCx = this.context.changes(tr.changes, tr.state);\n        // If the previous parse wasn't done, go forward only up to its\n        // end position or the end of the viewport, to avoid slowing down\n        // state updates with parse work beyond the viewport.\n        let upto = this.context.treeLen == tr.startState.doc.length ? undefined\n            : Math.max(tr.changes.mapPos(this.context.treeLen), newCx.viewport.to);\n        if (!newCx.work(20 /* Apply */, upto))\n            newCx.takeTree();\n        return new LanguageState(newCx);\n    }\n    static init(state) {\n        let vpTo = Math.min(3000 /* InitViewport */, state.doc.length);\n        let parseState = ParseContext.create(state.facet(language).parser, state, { from: 0, to: vpTo });\n        if (!parseState.work(20 /* Apply */, vpTo))\n            parseState.takeTree();\n        return new LanguageState(parseState);\n    }\n}\nLanguage.state = /*@__PURE__*/StateField.define({\n    create: LanguageState.init,\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(Language.setState))\n                return e.value;\n        if (tr.startState.facet(language) != tr.state.facet(language))\n            return LanguageState.init(tr.state);\n        return value.apply(tr);\n    }\n});\nlet requestIdle = (callback) => {\n    let timeout = setTimeout(() => callback(), 500 /* MaxPause */);\n    return () => clearTimeout(timeout);\n};\nif (typeof requestIdleCallback != \"undefined\")\n    requestIdle = (callback) => {\n        let idle = -1, timeout = setTimeout(() => {\n            idle = requestIdleCallback(callback, { timeout: 500 /* MaxPause */ - 100 /* MinPause */ });\n        }, 100 /* MinPause */);\n        return () => idle < 0 ? clearTimeout(timeout) : cancelIdleCallback(idle);\n    };\nconst isInputPending = typeof navigator != \"undefined\" && ((_a = navigator.scheduling) === null || _a === void 0 ? void 0 : _a.isInputPending)\n    ? () => navigator.scheduling.isInputPending() : null;\nconst parseWorker = /*@__PURE__*/ViewPlugin.fromClass(class ParseWorker {\n    constructor(view) {\n        this.view = view;\n        this.working = null;\n        this.workScheduled = 0;\n        // End of the current time chunk\n        this.chunkEnd = -1;\n        // Milliseconds of budget left for this chunk\n        this.chunkBudget = -1;\n        this.work = this.work.bind(this);\n        this.scheduleWork();\n    }\n    update(update) {\n        let cx = this.view.state.field(Language.state).context;\n        if (cx.updateViewport(update.view.viewport) || this.view.viewport.to > cx.treeLen)\n            this.scheduleWork();\n        if (update.docChanged) {\n            if (this.view.hasFocus)\n                this.chunkBudget += 50 /* ChangeBonus */;\n            this.scheduleWork();\n        }\n        this.checkAsyncSchedule(cx);\n    }\n    scheduleWork() {\n        if (this.working)\n            return;\n        let { state } = this.view, field = state.field(Language.state);\n        if (field.tree != field.context.tree || !field.context.isDone(state.doc.length))\n            this.working = requestIdle(this.work);\n    }\n    work(deadline) {\n        this.working = null;\n        let now = Date.now();\n        if (this.chunkEnd < now && (this.chunkEnd < 0 || this.view.hasFocus)) { // Start a new chunk\n            this.chunkEnd = now + 30000 /* ChunkTime */;\n            this.chunkBudget = 3000 /* ChunkBudget */;\n        }\n        if (this.chunkBudget <= 0)\n            return; // No more budget\n        let { state, viewport: { to: vpTo } } = this.view, field = state.field(Language.state);\n        if (field.tree == field.context.tree && field.context.isDone(vpTo + 100000 /* MaxParseAhead */))\n            return;\n        let endTime = Date.now() + Math.min(this.chunkBudget, 100 /* Slice */, deadline && !isInputPending ? Math.max(25 /* MinSlice */, deadline.timeRemaining() - 5) : 1e9);\n        let viewportFirst = field.context.treeLen < vpTo && state.doc.length > vpTo + 1000;\n        let done = field.context.work(() => {\n            return isInputPending && isInputPending() || Date.now() > endTime;\n        }, vpTo + (viewportFirst ? 0 : 100000 /* MaxParseAhead */));\n        this.chunkBudget -= Date.now() - now;\n        if (done || this.chunkBudget <= 0) {\n            field.context.takeTree();\n            this.view.dispatch({ effects: Language.setState.of(new LanguageState(field.context)) });\n        }\n        if (this.chunkBudget > 0 && !(done && !viewportFirst))\n            this.scheduleWork();\n        this.checkAsyncSchedule(field.context);\n    }\n    checkAsyncSchedule(cx) {\n        if (cx.scheduleOn) {\n            this.workScheduled++;\n            cx.scheduleOn\n                .then(() => this.scheduleWork())\n                .catch(err => logException(this.view.state, err))\n                .then(() => this.workScheduled--);\n            cx.scheduleOn = null;\n        }\n    }\n    destroy() {\n        if (this.working)\n            this.working();\n    }\n    isWorking() {\n        return !!(this.working || this.workScheduled > 0);\n    }\n}, {\n    eventHandlers: { focus() { this.scheduleWork(); } }\n});\n/**\nThe facet used to associate a language with an editor state. Used\nby `Language` object's `extension` property (so you don't need to\nmanually wrap your languages in this). Can be used to access the\ncurrent language on a state.\n*/\nconst language = /*@__PURE__*/Facet.define({\n    combine(languages) { return languages.length ? languages[0] : null; },\n    enables: language => [\n        Language.state,\n        parseWorker,\n        EditorView.contentAttributes.compute([language], state => {\n            let lang = state.facet(language);\n            return lang && lang.name ? { \"data-language\": lang.name } : {};\n        })\n    ]\n});\n/**\nThis class bundles a [language](https://codemirror.net/6/docs/ref/#language.Language) with an\noptional set of supporting extensions. Language packages are\nencouraged to export a function that optionally takes a\nconfiguration object and returns a `LanguageSupport` instance, as\nthe main way for client code to use the package.\n*/\nclass LanguageSupport {\n    /**\n    Create a language support object.\n    */\n    constructor(\n    /**\n    The language object.\n    */\n    language, \n    /**\n    An optional set of supporting extensions. When nesting a\n    language in another language, the outer language is encouraged\n    to include the supporting extensions for its inner languages\n    in its own set of support extensions.\n    */\n    support = []) {\n        this.language = language;\n        this.support = support;\n        this.extension = [language, support];\n    }\n}\n/**\nLanguage descriptions are used to store metadata about languages\nand to dynamically load them. Their main role is finding the\nappropriate language for a filename or dynamically loading nested\nparsers.\n*/\nclass LanguageDescription {\n    constructor(\n    /**\n    The name of this language.\n    */\n    name, \n    /**\n    Alternative names for the mode (lowercased, includes `this.name`).\n    */\n    alias, \n    /**\n    File extensions associated with this language.\n    */\n    extensions, \n    /**\n    Optional filename pattern that should be associated with this\n    language.\n    */\n    filename, loadFunc, \n    /**\n    If the language has been loaded, this will hold its value.\n    */\n    support = undefined) {\n        this.name = name;\n        this.alias = alias;\n        this.extensions = extensions;\n        this.filename = filename;\n        this.loadFunc = loadFunc;\n        this.support = support;\n        this.loading = null;\n    }\n    /**\n    Start loading the the language. Will return a promise that\n    resolves to a [`LanguageSupport`](https://codemirror.net/6/docs/ref/#language.LanguageSupport)\n    object when the language successfully loads.\n    */\n    load() {\n        return this.loading || (this.loading = this.loadFunc().then(support => this.support = support, err => { this.loading = null; throw err; }));\n    }\n    /**\n    Create a language description.\n    */\n    static of(spec) {\n        let { load, support } = spec;\n        if (!load) {\n            if (!support)\n                throw new RangeError(\"Must pass either 'load' or 'support' to LanguageDescription.of\");\n            load = () => Promise.resolve(support);\n        }\n        return new LanguageDescription(spec.name, (spec.alias || []).concat(spec.name).map(s => s.toLowerCase()), spec.extensions || [], spec.filename, load, support);\n    }\n    /**\n    Look for a language in the given array of descriptions that\n    matches the filename. Will first match\n    [`filename`](https://codemirror.net/6/docs/ref/#language.LanguageDescription.filename) patterns,\n    and then [extensions](https://codemirror.net/6/docs/ref/#language.LanguageDescription.extensions),\n    and return the first language that matches.\n    */\n    static matchFilename(descs, filename) {\n        for (let d of descs)\n            if (d.filename && d.filename.test(filename))\n                return d;\n        let ext = /\\.([^.]+)$/.exec(filename);\n        if (ext)\n            for (let d of descs)\n                if (d.extensions.indexOf(ext[1]) > -1)\n                    return d;\n        return null;\n    }\n    /**\n    Look for a language whose name or alias matches the the given\n    name (case-insensitively). If `fuzzy` is true, and no direct\n    matchs is found, this'll also search for a language whose name\n    or alias occurs in the string (for names shorter than three\n    characters, only when surrounded by non-word characters).\n    */\n    static matchLanguageName(descs, name, fuzzy = true) {\n        name = name.toLowerCase();\n        for (let d of descs)\n            if (d.alias.some(a => a == name))\n                return d;\n        if (fuzzy)\n            for (let d of descs)\n                for (let a of d.alias) {\n                    let found = name.indexOf(a);\n                    if (found > -1 && (a.length > 2 || !/\\w/.test(name[found - 1]) && !/\\w/.test(name[found + a.length])))\n                        return d;\n                }\n        return null;\n    }\n}\n\n/**\nFacet that defines a way to provide a function that computes the\nappropriate indentation depth, as a column number (see\n[`indentString`](https://codemirror.net/6/docs/ref/#language.indentString)), at the start of a given\nline. A return value of `null` indicates no indentation can be\ndetermined, and the line should inherit the indentation of the one\nabove it. A return value of `undefined` defers to the next indent\nservice.\n*/\nconst indentService = /*@__PURE__*/Facet.define();\n/**\nFacet for overriding the unit by which indentation happens. Should\nbe a string consisting either entirely of the same whitespace\ncharacter. When not set, this defaults to 2 spaces.\n*/\nconst indentUnit = /*@__PURE__*/Facet.define({\n    combine: values => {\n        if (!values.length)\n            return \"  \";\n        let unit = values[0];\n        if (!unit || /\\S/.test(unit) || Array.from(unit).some(e => e != unit[0]))\n            throw new Error(\"Invalid indent unit: \" + JSON.stringify(values[0]));\n        return unit;\n    }\n});\n/**\nReturn the _column width_ of an indent unit in the state.\nDetermined by the [`indentUnit`](https://codemirror.net/6/docs/ref/#language.indentUnit)\nfacet, and [`tabSize`](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) when that\ncontains tabs.\n*/\nfunction getIndentUnit(state) {\n    let unit = state.facet(indentUnit);\n    return unit.charCodeAt(0) == 9 ? state.tabSize * unit.length : unit.length;\n}\n/**\nCreate an indentation string that covers columns 0 to `cols`.\nWill use tabs for as much of the columns as possible when the\n[`indentUnit`](https://codemirror.net/6/docs/ref/#language.indentUnit) facet contains\ntabs.\n*/\nfunction indentString(state, cols) {\n    let result = \"\", ts = state.tabSize, ch = state.facet(indentUnit)[0];\n    if (ch == \"\\t\") {\n        while (cols >= ts) {\n            result += \"\\t\";\n            cols -= ts;\n        }\n        ch = \" \";\n    }\n    for (let i = 0; i < cols; i++)\n        result += ch;\n    return result;\n}\n/**\nGet the indentation, as a column number, at the given position.\nWill first consult any [indent services](https://codemirror.net/6/docs/ref/#language.indentService)\nthat are registered, and if none of those return an indentation,\nthis will check the syntax tree for the [indent node\nprop](https://codemirror.net/6/docs/ref/#language.indentNodeProp) and use that if found. Returns a\nnumber when an indentation could be determined, and null\notherwise.\n*/\nfunction getIndentation(context, pos) {\n    if (context instanceof EditorState)\n        context = new IndentContext(context);\n    for (let service of context.state.facet(indentService)) {\n        let result = service(context, pos);\n        if (result !== undefined)\n            return result;\n    }\n    let tree = syntaxTree(context.state);\n    return tree.length >= pos ? syntaxIndentation(context, tree, pos) : null;\n}\n/**\nCreate a change set that auto-indents all lines touched by the\ngiven document range.\n*/\nfunction indentRange(state, from, to) {\n    let updated = Object.create(null);\n    let context = new IndentContext(state, { overrideIndentation: start => { var _a; return (_a = updated[start]) !== null && _a !== void 0 ? _a : -1; } });\n    let changes = [];\n    for (let pos = from; pos <= to;) {\n        let line = state.doc.lineAt(pos);\n        pos = line.to + 1;\n        let indent = getIndentation(context, line.from);\n        if (indent == null)\n            continue;\n        if (!/\\S/.test(line.text))\n            indent = 0;\n        let cur = /^\\s*/.exec(line.text)[0];\n        let norm = indentString(state, indent);\n        if (cur != norm) {\n            updated[line.from] = indent;\n            changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n        }\n    }\n    return state.changes(changes);\n}\n/**\nIndentation contexts are used when calling [indentation\nservices](https://codemirror.net/6/docs/ref/#language.indentService). They provide helper utilities\nuseful in indentation logic, and can selectively override the\nindentation reported for some lines.\n*/\nclass IndentContext {\n    /**\n    Create an indent context.\n    */\n    constructor(\n    /**\n    The editor state.\n    */\n    state, \n    /**\n    @internal\n    */\n    options = {}) {\n        this.state = state;\n        this.options = options;\n        this.unit = getIndentUnit(state);\n    }\n    /**\n    Get a description of the line at the given position, taking\n    [simulated line\n    breaks](https://codemirror.net/6/docs/ref/#language.IndentContext.constructor^options.simulateBreak)\n    into account. If there is such a break at `pos`, the `bias`\n    argument determines whether the part of the line line before or\n    after the break is used.\n    */\n    lineAt(pos, bias = 1) {\n        let line = this.state.doc.lineAt(pos);\n        let { simulateBreak, simulateDoubleBreak } = this.options;\n        if (simulateBreak != null && simulateBreak >= line.from && simulateBreak <= line.to) {\n            if (simulateDoubleBreak && simulateBreak == pos)\n                return { text: \"\", from: pos };\n            else if (bias < 0 ? simulateBreak < pos : simulateBreak <= pos)\n                return { text: line.text.slice(simulateBreak - line.from), from: simulateBreak };\n            else\n                return { text: line.text.slice(0, simulateBreak - line.from), from: line.from };\n        }\n        return line;\n    }\n    /**\n    Get the text directly after `pos`, either the entire line\n    or the next 100 characters, whichever is shorter.\n    */\n    textAfterPos(pos, bias = 1) {\n        if (this.options.simulateDoubleBreak && pos == this.options.simulateBreak)\n            return \"\";\n        let { text, from } = this.lineAt(pos, bias);\n        return text.slice(pos - from, Math.min(text.length, pos + 100 - from));\n    }\n    /**\n    Find the column for the given position.\n    */\n    column(pos, bias = 1) {\n        let { text, from } = this.lineAt(pos, bias);\n        let result = this.countColumn(text, pos - from);\n        let override = this.options.overrideIndentation ? this.options.overrideIndentation(from) : -1;\n        if (override > -1)\n            result += override - this.countColumn(text, text.search(/\\S|$/));\n        return result;\n    }\n    /**\n    Find the column position (taking tabs into account) of the given\n    position in the given string.\n    */\n    countColumn(line, pos = line.length) {\n        return countColumn(line, this.state.tabSize, pos);\n    }\n    /**\n    Find the indentation column of the line at the given point.\n    */\n    lineIndent(pos, bias = 1) {\n        let { text, from } = this.lineAt(pos, bias);\n        let override = this.options.overrideIndentation;\n        if (override) {\n            let overriden = override(from);\n            if (overriden > -1)\n                return overriden;\n        }\n        return this.countColumn(text, text.search(/\\S|$/));\n    }\n    /**\n    Returns the [simulated line\n    break](https://codemirror.net/6/docs/ref/#language.IndentContext.constructor^options.simulateBreak)\n    for this context, if any.\n    */\n    get simulatedBreak() {\n        return this.options.simulateBreak || null;\n    }\n}\n/**\nA syntax tree node prop used to associate indentation strategies\nwith node types. Such a strategy is a function from an indentation\ncontext to a column number (see also\n[`indentString`](https://codemirror.net/6/docs/ref/#language.indentString)) or null, where null\nindicates that no definitive indentation can be determined.\n*/\nconst indentNodeProp = /*@__PURE__*/new NodeProp();\n// Compute the indentation for a given position from the syntax tree.\nfunction syntaxIndentation(cx, ast, pos) {\n    return indentFrom(ast.resolveInner(pos).enterUnfinishedNodesBefore(pos), pos, cx);\n}\nfunction ignoreClosed(cx) {\n    return cx.pos == cx.options.simulateBreak && cx.options.simulateDoubleBreak;\n}\nfunction indentStrategy(tree) {\n    let strategy = tree.type.prop(indentNodeProp);\n    if (strategy)\n        return strategy;\n    let first = tree.firstChild, close;\n    if (first && (close = first.type.prop(NodeProp.closedBy))) {\n        let last = tree.lastChild, closed = last && close.indexOf(last.name) > -1;\n        return cx => delimitedStrategy(cx, true, 1, undefined, closed && !ignoreClosed(cx) ? last.from : undefined);\n    }\n    return tree.parent == null ? topIndent : null;\n}\nfunction indentFrom(node, pos, base) {\n    for (; node; node = node.parent) {\n        let strategy = indentStrategy(node);\n        if (strategy)\n            return strategy(TreeIndentContext.create(base, pos, node));\n    }\n    return null;\n}\nfunction topIndent() { return 0; }\n/**\nObjects of this type provide context information and helper\nmethods to indentation functions registered on syntax nodes.\n*/\nclass TreeIndentContext extends IndentContext {\n    constructor(base, \n    /**\n    The position at which indentation is being computed.\n    */\n    pos, \n    /**\n    The syntax tree node to which the indentation strategy\n    applies.\n    */\n    node) {\n        super(base.state, base.options);\n        this.base = base;\n        this.pos = pos;\n        this.node = node;\n    }\n    /**\n    @internal\n    */\n    static create(base, pos, node) {\n        return new TreeIndentContext(base, pos, node);\n    }\n    /**\n    Get the text directly after `this.pos`, either the entire line\n    or the next 100 characters, whichever is shorter.\n    */\n    get textAfter() {\n        return this.textAfterPos(this.pos);\n    }\n    /**\n    Get the indentation at the reference line for `this.node`, which\n    is the line on which it starts, unless there is a node that is\n    _not_ a parent of this node covering the start of that line. If\n    so, the line at the start of that node is tried, again skipping\n    on if it is covered by another such node.\n    */\n    get baseIndent() {\n        return this.baseIndentFor(this.node);\n    }\n    /**\n    Get the indentation for the reference line of the given node\n    (see [`baseIndent`](https://codemirror.net/6/docs/ref/#language.TreeIndentContext.baseIndent)).\n    */\n    baseIndentFor(node) {\n        let line = this.state.doc.lineAt(node.from);\n        // Skip line starts that are covered by a sibling (or cousin, etc)\n        for (;;) {\n            let atBreak = node.resolve(line.from);\n            while (atBreak.parent && atBreak.parent.from == atBreak.from)\n                atBreak = atBreak.parent;\n            if (isParent(atBreak, node))\n                break;\n            line = this.state.doc.lineAt(atBreak.from);\n        }\n        return this.lineIndent(line.from);\n    }\n    /**\n    Continue looking for indentations in the node's parent nodes,\n    and return the result of that.\n    */\n    continue() {\n        let parent = this.node.parent;\n        return parent ? indentFrom(parent, this.pos, this.base) : 0;\n    }\n}\nfunction isParent(parent, of) {\n    for (let cur = of; cur; cur = cur.parent)\n        if (parent == cur)\n            return true;\n    return false;\n}\n// Check whether a delimited node is aligned (meaning there are\n// non-skipped nodes on the same line as the opening delimiter). And\n// if so, return the opening token.\nfunction bracketedAligned(context) {\n    let tree = context.node;\n    let openToken = tree.childAfter(tree.from), last = tree.lastChild;\n    if (!openToken)\n        return null;\n    let sim = context.options.simulateBreak;\n    let openLine = context.state.doc.lineAt(openToken.from);\n    let lineEnd = sim == null || sim <= openLine.from ? openLine.to : Math.min(openLine.to, sim);\n    for (let pos = openToken.to;;) {\n        let next = tree.childAfter(pos);\n        if (!next || next == last)\n            return null;\n        if (!next.type.isSkipped)\n            return next.from < lineEnd ? openToken : null;\n        pos = next.to;\n    }\n}\n/**\nAn indentation strategy for delimited (usually bracketed) nodes.\nWill, by default, indent one unit more than the parent's base\nindent unless the line starts with a closing token. When `align`\nis true and there are non-skipped nodes on the node's opening\nline, the content of the node will be aligned with the end of the\nopening node, like this:\n\n    foo(bar,\n        baz)\n*/\nfunction delimitedIndent({ closing, align = true, units = 1 }) {\n    return (context) => delimitedStrategy(context, align, units, closing);\n}\nfunction delimitedStrategy(context, align, units, closing, closedAt) {\n    let after = context.textAfter, space = after.match(/^\\s*/)[0].length;\n    let closed = closing && after.slice(space, space + closing.length) == closing || closedAt == context.pos + space;\n    let aligned = align ? bracketedAligned(context) : null;\n    if (aligned)\n        return closed ? context.column(aligned.from) : context.column(aligned.to);\n    return context.baseIndent + (closed ? 0 : context.unit * units);\n}\n/**\nAn indentation strategy that aligns a node's content to its base\nindentation.\n*/\nconst flatIndent = (context) => context.baseIndent;\n/**\nCreates an indentation strategy that, by default, indents\ncontinued lines one unit more than the node's base indentation.\nYou can provide `except` to prevent indentation of lines that\nmatch a pattern (for example `/^else\\b/` in `if`/`else`\nconstructs), and you can change the amount of units used with the\n`units` option.\n*/\nfunction continuedIndent({ except, units = 1 } = {}) {\n    return (context) => {\n        let matchExcept = except && except.test(context.textAfter);\n        return context.baseIndent + (matchExcept ? 0 : units * context.unit);\n    };\n}\nconst DontIndentBeyond = 200;\n/**\nEnables reindentation on input. When a language defines an\n`indentOnInput` field in its [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt), which must hold a regular\nexpression, the line at the cursor will be reindented whenever new\ntext is typed and the input from the start of the line up to the\ncursor matches that regexp.\n\nTo avoid unneccesary reindents, it is recommended to start the\nregexp with `^` (usually followed by `\\s*`), and end it with `$`.\nFor example, `/^\\s*\\}$/` will reindent when a closing brace is\nadded at the start of a line.\n*/\nfunction indentOnInput() {\n    return EditorState.transactionFilter.of(tr => {\n        if (!tr.docChanged || !tr.isUserEvent(\"input.type\") && !tr.isUserEvent(\"input.complete\"))\n            return tr;\n        let rules = tr.startState.languageDataAt(\"indentOnInput\", tr.startState.selection.main.head);\n        if (!rules.length)\n            return tr;\n        let doc = tr.newDoc, { head } = tr.newSelection.main, line = doc.lineAt(head);\n        if (head > line.from + DontIndentBeyond)\n            return tr;\n        let lineStart = doc.sliceString(line.from, head);\n        if (!rules.some(r => r.test(lineStart)))\n            return tr;\n        let { state } = tr, last = -1, changes = [];\n        for (let { head } of state.selection.ranges) {\n            let line = state.doc.lineAt(head);\n            if (line.from == last)\n                continue;\n            last = line.from;\n            let indent = getIndentation(state, line.from);\n            if (indent == null)\n                continue;\n            let cur = /^\\s*/.exec(line.text)[0];\n            let norm = indentString(state, indent);\n            if (cur != norm)\n                changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n        }\n        return changes.length ? [tr, { changes, sequential: true }] : tr;\n    });\n}\n\n/**\nA facet that registers a code folding service. When called with\nthe extent of a line, such a function should return a foldable\nrange that starts on that line (but continues beyond it), if one\ncan be found.\n*/\nconst foldService = /*@__PURE__*/Facet.define();\n/**\nThis node prop is used to associate folding information with\nsyntax node types. Given a syntax node, it should check whether\nthat tree is foldable and return the range that can be collapsed\nwhen it is.\n*/\nconst foldNodeProp = /*@__PURE__*/new NodeProp();\n/**\n[Fold](https://codemirror.net/6/docs/ref/#language.foldNodeProp) function that folds everything but\nthe first and the last child of a syntax node. Useful for nodes\nthat start and end with delimiters.\n*/\nfunction foldInside(node) {\n    let first = node.firstChild, last = node.lastChild;\n    return first && first.to < last.from ? { from: first.to, to: last.type.isError ? node.to : last.from } : null;\n}\nfunction syntaxFolding(state, start, end) {\n    let tree = syntaxTree(state);\n    if (tree.length < end)\n        return null;\n    let inner = tree.resolveInner(end, 1);\n    let found = null;\n    for (let cur = inner; cur; cur = cur.parent) {\n        if (cur.to <= end || cur.from > end)\n            continue;\n        if (found && cur.from < start)\n            break;\n        let prop = cur.type.prop(foldNodeProp);\n        if (prop && (cur.to < tree.length - 50 || tree.length == state.doc.length || !isUnfinished(cur))) {\n            let value = prop(cur, state);\n            if (value && value.from <= end && value.from >= start && value.to > end)\n                found = value;\n        }\n    }\n    return found;\n}\nfunction isUnfinished(node) {\n    let ch = node.lastChild;\n    return ch && ch.to == node.to && ch.type.isError;\n}\n/**\nCheck whether the given line is foldable. First asks any fold\nservices registered through\n[`foldService`](https://codemirror.net/6/docs/ref/#language.foldService), and if none of them return\na result, tries to query the [fold node\nprop](https://codemirror.net/6/docs/ref/#language.foldNodeProp) of syntax nodes that cover the end\nof the line.\n*/\nfunction foldable(state, lineStart, lineEnd) {\n    for (let service of state.facet(foldService)) {\n        let result = service(state, lineStart, lineEnd);\n        if (result)\n            return result;\n    }\n    return syntaxFolding(state, lineStart, lineEnd);\n}\nfunction mapRange(range, mapping) {\n    let from = mapping.mapPos(range.from, 1), to = mapping.mapPos(range.to, -1);\n    return from >= to ? undefined : { from, to };\n}\n/**\nState effect that can be attached to a transaction to fold the\ngiven range. (You probably only need this in exceptional\ncircumstances—usually you'll just want to let\n[`foldCode`](https://codemirror.net/6/docs/ref/#language.foldCode) and the [fold\ngutter](https://codemirror.net/6/docs/ref/#language.foldGutter) create the transactions.)\n*/\nconst foldEffect = /*@__PURE__*/StateEffect.define({ map: mapRange });\n/**\nState effect that unfolds the given range (if it was folded).\n*/\nconst unfoldEffect = /*@__PURE__*/StateEffect.define({ map: mapRange });\nfunction selectedLines(view) {\n    let lines = [];\n    for (let { head } of view.state.selection.ranges) {\n        if (lines.some(l => l.from <= head && l.to >= head))\n            continue;\n        lines.push(view.lineBlockAt(head));\n    }\n    return lines;\n}\n/**\nThe state field that stores the folded ranges (as a [decoration\nset](https://codemirror.net/6/docs/ref/#view.DecorationSet)). Can be passed to\n[`EditorState.toJSON`](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) and\n[`fromJSON`](https://codemirror.net/6/docs/ref/#state.EditorState^fromJSON) to serialize the fold\nstate.\n*/\nconst foldState = /*@__PURE__*/StateField.define({\n    create() {\n        return Decoration.none;\n    },\n    update(folded, tr) {\n        folded = folded.map(tr.changes);\n        for (let e of tr.effects) {\n            if (e.is(foldEffect) && !foldExists(folded, e.value.from, e.value.to)) {\n                let { preparePlaceholder } = tr.state.facet(foldConfig);\n                let widget = !preparePlaceholder ? foldWidget :\n                    Decoration.replace({ widget: new PreparedFoldWidget(preparePlaceholder(tr.state, e.value)) });\n                folded = folded.update({ add: [widget.range(e.value.from, e.value.to)] });\n            }\n            else if (e.is(unfoldEffect)) {\n                folded = folded.update({ filter: (from, to) => e.value.from != from || e.value.to != to,\n                    filterFrom: e.value.from, filterTo: e.value.to });\n            }\n        }\n        // Clear folded ranges that cover the selection head\n        if (tr.selection) {\n            let onSelection = false, { head } = tr.selection.main;\n            folded.between(head, head, (a, b) => { if (a < head && b > head)\n                onSelection = true; });\n            if (onSelection)\n                folded = folded.update({\n                    filterFrom: head,\n                    filterTo: head,\n                    filter: (a, b) => b <= head || a >= head\n                });\n        }\n        return folded;\n    },\n    provide: f => EditorView.decorations.from(f),\n    toJSON(folded, state) {\n        let ranges = [];\n        folded.between(0, state.doc.length, (from, to) => { ranges.push(from, to); });\n        return ranges;\n    },\n    fromJSON(value) {\n        if (!Array.isArray(value) || value.length % 2)\n            throw new RangeError(\"Invalid JSON for fold state\");\n        let ranges = [];\n        for (let i = 0; i < value.length;) {\n            let from = value[i++], to = value[i++];\n            if (typeof from != \"number\" || typeof to != \"number\")\n                throw new RangeError(\"Invalid JSON for fold state\");\n            ranges.push(foldWidget.range(from, to));\n        }\n        return Decoration.set(ranges, true);\n    }\n});\n/**\nGet a [range set](https://codemirror.net/6/docs/ref/#state.RangeSet) containing the folded ranges\nin the given state.\n*/\nfunction foldedRanges(state) {\n    return state.field(foldState, false) || RangeSet.empty;\n}\nfunction findFold(state, from, to) {\n    var _a;\n    let found = null;\n    (_a = state.field(foldState, false)) === null || _a === void 0 ? void 0 : _a.between(from, to, (from, to) => {\n        if (!found || found.from > from)\n            found = { from, to };\n    });\n    return found;\n}\nfunction foldExists(folded, from, to) {\n    let found = false;\n    folded.between(from, from, (a, b) => { if (a == from && b == to)\n        found = true; });\n    return found;\n}\nfunction maybeEnable(state, other) {\n    return state.field(foldState, false) ? other : other.concat(StateEffect.appendConfig.of(codeFolding()));\n}\n/**\nFold the lines that are selected, if possible.\n*/\nconst foldCode = view => {\n    for (let line of selectedLines(view)) {\n        let range = foldable(view.state, line.from, line.to);\n        if (range) {\n            view.dispatch({ effects: maybeEnable(view.state, [foldEffect.of(range), announceFold(view, range)]) });\n            return true;\n        }\n    }\n    return false;\n};\n/**\nUnfold folded ranges on selected lines.\n*/\nconst unfoldCode = view => {\n    if (!view.state.field(foldState, false))\n        return false;\n    let effects = [];\n    for (let line of selectedLines(view)) {\n        let folded = findFold(view.state, line.from, line.to);\n        if (folded)\n            effects.push(unfoldEffect.of(folded), announceFold(view, folded, false));\n    }\n    if (effects.length)\n        view.dispatch({ effects });\n    return effects.length > 0;\n};\nfunction announceFold(view, range, fold = true) {\n    let lineFrom = view.state.doc.lineAt(range.from).number, lineTo = view.state.doc.lineAt(range.to).number;\n    return EditorView.announce.of(`${view.state.phrase(fold ? \"Folded lines\" : \"Unfolded lines\")} ${lineFrom} ${view.state.phrase(\"to\")} ${lineTo}.`);\n}\n/**\nFold all top-level foldable ranges. Note that, in most cases,\nfolding information will depend on the [syntax\ntree](https://codemirror.net/6/docs/ref/#language.syntaxTree), and folding everything may not work\nreliably when the document hasn't been fully parsed (either\nbecause the editor state was only just initialized, or because the\ndocument is so big that the parser decided not to parse it\nentirely).\n*/\nconst foldAll = view => {\n    let { state } = view, effects = [];\n    for (let pos = 0; pos < state.doc.length;) {\n        let line = view.lineBlockAt(pos), range = foldable(state, line.from, line.to);\n        if (range)\n            effects.push(foldEffect.of(range));\n        pos = (range ? view.lineBlockAt(range.to) : line).to + 1;\n    }\n    if (effects.length)\n        view.dispatch({ effects: maybeEnable(view.state, effects) });\n    return !!effects.length;\n};\n/**\nUnfold all folded code.\n*/\nconst unfoldAll = view => {\n    let field = view.state.field(foldState, false);\n    if (!field || !field.size)\n        return false;\n    let effects = [];\n    field.between(0, view.state.doc.length, (from, to) => { effects.push(unfoldEffect.of({ from, to })); });\n    view.dispatch({ effects });\n    return true;\n};\n// Find the foldable region containing the given line, if one exists\nfunction foldableContainer(view, lineBlock) {\n    // Look backwards through line blocks until we find a foldable region that\n    // intersects with the line\n    for (let line = lineBlock;;) {\n        let foldableRegion = foldable(view.state, line.from, line.to);\n        if (foldableRegion && foldableRegion.to > lineBlock.from)\n            return foldableRegion;\n        if (!line.from)\n            return null;\n        line = view.lineBlockAt(line.from - 1);\n    }\n}\n/**\nToggle folding at cursors. Unfolds if there is an existing fold\nstarting in that line, tries to find a foldable range around it\notherwise.\n*/\nconst toggleFold = (view) => {\n    let effects = [];\n    for (let line of selectedLines(view)) {\n        let folded = findFold(view.state, line.from, line.to);\n        if (folded) {\n            effects.push(unfoldEffect.of(folded), announceFold(view, folded, false));\n        }\n        else {\n            let foldRange = foldableContainer(view, line);\n            if (foldRange)\n                effects.push(foldEffect.of(foldRange), announceFold(view, foldRange));\n        }\n    }\n    if (effects.length > 0)\n        view.dispatch({ effects: maybeEnable(view.state, effects) });\n    return !!effects.length;\n};\n/**\nDefault fold-related key bindings.\n\n - Ctrl-Shift-[ (Cmd-Alt-[ on macOS): [`foldCode`](https://codemirror.net/6/docs/ref/#language.foldCode).\n - Ctrl-Shift-] (Cmd-Alt-] on macOS): [`unfoldCode`](https://codemirror.net/6/docs/ref/#language.unfoldCode).\n - Ctrl-Alt-[: [`foldAll`](https://codemirror.net/6/docs/ref/#language.foldAll).\n - Ctrl-Alt-]: [`unfoldAll`](https://codemirror.net/6/docs/ref/#language.unfoldAll).\n*/\nconst foldKeymap = [\n    { key: \"Ctrl-Shift-[\", mac: \"Cmd-Alt-[\", run: foldCode },\n    { key: \"Ctrl-Shift-]\", mac: \"Cmd-Alt-]\", run: unfoldCode },\n    { key: \"Ctrl-Alt-[\", run: foldAll },\n    { key: \"Ctrl-Alt-]\", run: unfoldAll }\n];\nconst defaultConfig = {\n    placeholderDOM: null,\n    preparePlaceholder: null,\n    placeholderText: \"…\"\n};\nconst foldConfig = /*@__PURE__*/Facet.define({\n    combine(values) { return combineConfig(values, defaultConfig); }\n});\n/**\nCreate an extension that configures code folding.\n*/\nfunction codeFolding(config) {\n    let result = [foldState, baseTheme$1];\n    if (config)\n        result.push(foldConfig.of(config));\n    return result;\n}\nfunction widgetToDOM(view, prepared) {\n    let { state } = view, conf = state.facet(foldConfig);\n    let onclick = (event) => {\n        let line = view.lineBlockAt(view.posAtDOM(event.target));\n        let folded = findFold(view.state, line.from, line.to);\n        if (folded)\n            view.dispatch({ effects: unfoldEffect.of(folded) });\n        event.preventDefault();\n    };\n    if (conf.placeholderDOM)\n        return conf.placeholderDOM(view, onclick, prepared);\n    let element = document.createElement(\"span\");\n    element.textContent = conf.placeholderText;\n    element.setAttribute(\"aria-label\", state.phrase(\"folded code\"));\n    element.title = state.phrase(\"unfold\");\n    element.className = \"cm-foldPlaceholder\";\n    element.onclick = onclick;\n    return element;\n}\nconst foldWidget = /*@__PURE__*/Decoration.replace({ widget: /*@__PURE__*/new class extends WidgetType {\n        toDOM(view) { return widgetToDOM(view, null); }\n    } });\nclass PreparedFoldWidget extends WidgetType {\n    constructor(value) {\n        super();\n        this.value = value;\n    }\n    eq(other) { return this.value == other.value; }\n    toDOM(view) { return widgetToDOM(view, this.value); }\n}\nconst foldGutterDefaults = {\n    openText: \"⌄\",\n    closedText: \"›\",\n    markerDOM: null,\n    domEventHandlers: {},\n    foldingChanged: () => false\n};\nclass FoldMarker extends GutterMarker {\n    constructor(config, open) {\n        super();\n        this.config = config;\n        this.open = open;\n    }\n    eq(other) { return this.config == other.config && this.open == other.open; }\n    toDOM(view) {\n        if (this.config.markerDOM)\n            return this.config.markerDOM(this.open);\n        let span = document.createElement(\"span\");\n        span.textContent = this.open ? this.config.openText : this.config.closedText;\n        span.title = view.state.phrase(this.open ? \"Fold line\" : \"Unfold line\");\n        return span;\n    }\n}\n/**\nCreate an extension that registers a fold gutter, which shows a\nfold status indicator before foldable lines (which can be clicked\nto fold or unfold the line).\n*/\nfunction foldGutter(config = {}) {\n    let fullConfig = Object.assign(Object.assign({}, foldGutterDefaults), config);\n    let canFold = new FoldMarker(fullConfig, true), canUnfold = new FoldMarker(fullConfig, false);\n    let markers = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.from = view.viewport.from;\n            this.markers = this.buildMarkers(view);\n        }\n        update(update) {\n            if (update.docChanged || update.viewportChanged ||\n                update.startState.facet(language) != update.state.facet(language) ||\n                update.startState.field(foldState, false) != update.state.field(foldState, false) ||\n                syntaxTree(update.startState) != syntaxTree(update.state) ||\n                fullConfig.foldingChanged(update))\n                this.markers = this.buildMarkers(update.view);\n        }\n        buildMarkers(view) {\n            let builder = new RangeSetBuilder();\n            for (let line of view.viewportLineBlocks) {\n                let mark = findFold(view.state, line.from, line.to) ? canUnfold\n                    : foldable(view.state, line.from, line.to) ? canFold : null;\n                if (mark)\n                    builder.add(line.from, line.from, mark);\n            }\n            return builder.finish();\n        }\n    });\n    let { domEventHandlers } = fullConfig;\n    return [\n        markers,\n        gutter({\n            class: \"cm-foldGutter\",\n            markers(view) { var _a; return ((_a = view.plugin(markers)) === null || _a === void 0 ? void 0 : _a.markers) || RangeSet.empty; },\n            initialSpacer() {\n                return new FoldMarker(fullConfig, false);\n            },\n            domEventHandlers: Object.assign(Object.assign({}, domEventHandlers), { click: (view, line, event) => {\n                    if (domEventHandlers.click && domEventHandlers.click(view, line, event))\n                        return true;\n                    let folded = findFold(view.state, line.from, line.to);\n                    if (folded) {\n                        view.dispatch({ effects: unfoldEffect.of(folded) });\n                        return true;\n                    }\n                    let range = foldable(view.state, line.from, line.to);\n                    if (range) {\n                        view.dispatch({ effects: foldEffect.of(range) });\n                        return true;\n                    }\n                    return false;\n                } })\n        }),\n        codeFolding()\n    ];\n}\nconst baseTheme$1 = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-foldPlaceholder\": {\n        backgroundColor: \"#eee\",\n        border: \"1px solid #ddd\",\n        color: \"#888\",\n        borderRadius: \".2em\",\n        margin: \"0 1px\",\n        padding: \"0 1px\",\n        cursor: \"pointer\"\n    },\n    \".cm-foldGutter span\": {\n        padding: \"0 1px\",\n        cursor: \"pointer\"\n    }\n});\n\n/**\nA highlight style associates CSS styles with higlighting\n[tags](https://lezer.codemirror.net/docs/ref#highlight.Tag).\n*/\nclass HighlightStyle {\n    constructor(\n    /**\n    The tag styles used to create this highlight style.\n    */\n    specs, options) {\n        this.specs = specs;\n        let modSpec;\n        function def(spec) {\n            let cls = StyleModule.newName();\n            (modSpec || (modSpec = Object.create(null)))[\".\" + cls] = spec;\n            return cls;\n        }\n        const all = typeof options.all == \"string\" ? options.all : options.all ? def(options.all) : undefined;\n        const scopeOpt = options.scope;\n        this.scope = scopeOpt instanceof Language ? (type) => type.prop(languageDataProp) == scopeOpt.data\n            : scopeOpt ? (type) => type == scopeOpt : undefined;\n        this.style = tagHighlighter(specs.map(style => ({\n            tag: style.tag,\n            class: style.class || def(Object.assign({}, style, { tag: null }))\n        })), {\n            all,\n        }).style;\n        this.module = modSpec ? new StyleModule(modSpec) : null;\n        this.themeType = options.themeType;\n    }\n    /**\n    Create a highlighter style that associates the given styles to\n    the given tags. The specs must be objects that hold a style tag\n    or array of tags in their `tag` property, and either a single\n    `class` property providing a static CSS class (for highlighter\n    that rely on external styling), or a\n    [`style-mod`](https://github.com/marijnh/style-mod#documentation)-style\n    set of CSS properties (which define the styling for those tags).\n    \n    The CSS rules created for a highlighter will be emitted in the\n    order of the spec's properties. That means that for elements that\n    have multiple tags associated with them, styles defined further\n    down in the list will have a higher CSS precedence than styles\n    defined earlier.\n    */\n    static define(specs, options) {\n        return new HighlightStyle(specs, options || {});\n    }\n}\nconst highlighterFacet = /*@__PURE__*/Facet.define();\nconst fallbackHighlighter = /*@__PURE__*/Facet.define({\n    combine(values) { return values.length ? [values[0]] : null; }\n});\nfunction getHighlighters(state) {\n    let main = state.facet(highlighterFacet);\n    return main.length ? main : state.facet(fallbackHighlighter);\n}\n/**\nWrap a highlighter in an editor extension that uses it to apply\nsyntax highlighting to the editor content.\n\nWhen multiple (non-fallback) styles are provided, the styling\napplied is the union of the classes they emit.\n*/\nfunction syntaxHighlighting(highlighter, options) {\n    let ext = [treeHighlighter], themeType;\n    if (highlighter instanceof HighlightStyle) {\n        if (highlighter.module)\n            ext.push(EditorView.styleModule.of(highlighter.module));\n        themeType = highlighter.themeType;\n    }\n    if (options === null || options === void 0 ? void 0 : options.fallback)\n        ext.push(fallbackHighlighter.of(highlighter));\n    else if (themeType)\n        ext.push(highlighterFacet.computeN([EditorView.darkTheme], state => {\n            return state.facet(EditorView.darkTheme) == (themeType == \"dark\") ? [highlighter] : [];\n        }));\n    else\n        ext.push(highlighterFacet.of(highlighter));\n    return ext;\n}\n/**\nReturns the CSS classes (if any) that the highlighters active in\nthe state would assign to the given style\n[tags](https://lezer.codemirror.net/docs/ref#highlight.Tag) and\n(optional) language\n[scope](https://codemirror.net/6/docs/ref/#language.HighlightStyle^define^options.scope).\n*/\nfunction highlightingFor(state, tags, scope) {\n    let highlighters = getHighlighters(state);\n    let result = null;\n    if (highlighters)\n        for (let highlighter of highlighters) {\n            if (!highlighter.scope || scope && highlighter.scope(scope)) {\n                let cls = highlighter.style(tags);\n                if (cls)\n                    result = result ? result + \" \" + cls : cls;\n            }\n        }\n    return result;\n}\nclass TreeHighlighter {\n    constructor(view) {\n        this.markCache = Object.create(null);\n        this.tree = syntaxTree(view.state);\n        this.decorations = this.buildDeco(view, getHighlighters(view.state));\n    }\n    update(update) {\n        let tree = syntaxTree(update.state), highlighters = getHighlighters(update.state);\n        let styleChange = highlighters != getHighlighters(update.startState);\n        if (tree.length < update.view.viewport.to && !styleChange && tree.type == this.tree.type) {\n            this.decorations = this.decorations.map(update.changes);\n        }\n        else if (tree != this.tree || update.viewportChanged || styleChange) {\n            this.tree = tree;\n            this.decorations = this.buildDeco(update.view, highlighters);\n        }\n    }\n    buildDeco(view, highlighters) {\n        if (!highlighters || !this.tree.length)\n            return Decoration.none;\n        let builder = new RangeSetBuilder();\n        for (let { from, to } of view.visibleRanges) {\n            highlightTree(this.tree, highlighters, (from, to, style) => {\n                builder.add(from, to, this.markCache[style] || (this.markCache[style] = Decoration.mark({ class: style })));\n            }, from, to);\n        }\n        return builder.finish();\n    }\n}\nconst treeHighlighter = /*@__PURE__*/Prec.high(/*@__PURE__*/ViewPlugin.fromClass(TreeHighlighter, {\n    decorations: v => v.decorations\n}));\n/**\nA default highlight style (works well with light themes).\n*/\nconst defaultHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n    { tag: tags.meta,\n        color: \"#404740\" },\n    { tag: tags.link,\n        textDecoration: \"underline\" },\n    { tag: tags.heading,\n        textDecoration: \"underline\",\n        fontWeight: \"bold\" },\n    { tag: tags.emphasis,\n        fontStyle: \"italic\" },\n    { tag: tags.strong,\n        fontWeight: \"bold\" },\n    { tag: tags.strikethrough,\n        textDecoration: \"line-through\" },\n    { tag: tags.keyword,\n        color: \"#708\" },\n    { tag: [tags.atom, tags.bool, tags.url, tags.contentSeparator, tags.labelName],\n        color: \"#219\" },\n    { tag: [tags.literal, tags.inserted],\n        color: \"#164\" },\n    { tag: [tags.string, tags.deleted],\n        color: \"#a11\" },\n    { tag: [tags.regexp, tags.escape, /*@__PURE__*/tags.special(tags.string)],\n        color: \"#e40\" },\n    { tag: /*@__PURE__*/tags.definition(tags.variableName),\n        color: \"#00f\" },\n    { tag: /*@__PURE__*/tags.local(tags.variableName),\n        color: \"#30a\" },\n    { tag: [tags.typeName, tags.namespace],\n        color: \"#085\" },\n    { tag: tags.className,\n        color: \"#167\" },\n    { tag: [/*@__PURE__*/tags.special(tags.variableName), tags.macroName],\n        color: \"#256\" },\n    { tag: /*@__PURE__*/tags.definition(tags.propertyName),\n        color: \"#00c\" },\n    { tag: tags.comment,\n        color: \"#940\" },\n    { tag: tags.invalid,\n        color: \"#f00\" }\n]);\n\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \"&.cm-focused .cm-matchingBracket\": { backgroundColor: \"#328c8252\" },\n    \"&.cm-focused .cm-nonmatchingBracket\": { backgroundColor: \"#bb555544\" }\n});\nconst DefaultScanDist = 10000, DefaultBrackets = \"()[]{}\";\nconst bracketMatchingConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            afterCursor: true,\n            brackets: DefaultBrackets,\n            maxScanDistance: DefaultScanDist,\n            renderMatch: defaultRenderMatch\n        });\n    }\n});\nconst matchingMark = /*@__PURE__*/Decoration.mark({ class: \"cm-matchingBracket\" }), nonmatchingMark = /*@__PURE__*/Decoration.mark({ class: \"cm-nonmatchingBracket\" });\nfunction defaultRenderMatch(match) {\n    let decorations = [];\n    let mark = match.matched ? matchingMark : nonmatchingMark;\n    decorations.push(mark.range(match.start.from, match.start.to));\n    if (match.end)\n        decorations.push(mark.range(match.end.from, match.end.to));\n    return decorations;\n}\nconst bracketMatchingState = /*@__PURE__*/StateField.define({\n    create() { return Decoration.none; },\n    update(deco, tr) {\n        if (!tr.docChanged && !tr.selection)\n            return deco;\n        let decorations = [];\n        let config = tr.state.facet(bracketMatchingConfig);\n        for (let range of tr.state.selection.ranges) {\n            if (!range.empty)\n                continue;\n            let match = matchBrackets(tr.state, range.head, -1, config)\n                || (range.head > 0 && matchBrackets(tr.state, range.head - 1, 1, config))\n                || (config.afterCursor &&\n                    (matchBrackets(tr.state, range.head, 1, config) ||\n                        (range.head < tr.state.doc.length && matchBrackets(tr.state, range.head + 1, -1, config))));\n            if (match)\n                decorations = decorations.concat(config.renderMatch(match, tr.state));\n        }\n        return Decoration.set(decorations, true);\n    },\n    provide: f => EditorView.decorations.from(f)\n});\nconst bracketMatchingUnique = [\n    bracketMatchingState,\n    baseTheme\n];\n/**\nCreate an extension that enables bracket matching. Whenever the\ncursor is next to a bracket, that bracket and the one it matches\nare highlighted. Or, when no matching bracket is found, another\nhighlighting style is used to indicate this.\n*/\nfunction bracketMatching(config = {}) {\n    return [bracketMatchingConfig.of(config), bracketMatchingUnique];\n}\n/**\nWhen larger syntax nodes, such as HTML tags, are marked as\nopening/closing, it can be a bit messy to treat the whole node as\na matchable bracket. This node prop allows you to define, for such\na node, a ‘handle’—the part of the node that is highlighted, and\nthat the cursor must be on to activate highlighting in the first\nplace.\n*/\nconst bracketMatchingHandle = /*@__PURE__*/new NodeProp();\nfunction matchingNodes(node, dir, brackets) {\n    let byProp = node.prop(dir < 0 ? NodeProp.openedBy : NodeProp.closedBy);\n    if (byProp)\n        return byProp;\n    if (node.name.length == 1) {\n        let index = brackets.indexOf(node.name);\n        if (index > -1 && index % 2 == (dir < 0 ? 1 : 0))\n            return [brackets[index + dir]];\n    }\n    return null;\n}\nfunction findHandle(node) {\n    let hasHandle = node.type.prop(bracketMatchingHandle);\n    return hasHandle ? hasHandle(node.node) : node;\n}\n/**\nFind the matching bracket for the token at `pos`, scanning\ndirection `dir`. Only the `brackets` and `maxScanDistance`\nproperties are used from `config`, if given. Returns null if no\nbracket was found at `pos`, or a match result otherwise.\n*/\nfunction matchBrackets(state, pos, dir, config = {}) {\n    let maxScanDistance = config.maxScanDistance || DefaultScanDist, brackets = config.brackets || DefaultBrackets;\n    let tree = syntaxTree(state), node = tree.resolveInner(pos, dir);\n    for (let cur = node; cur; cur = cur.parent) {\n        let matches = matchingNodes(cur.type, dir, brackets);\n        if (matches && cur.from < cur.to) {\n            let handle = findHandle(cur);\n            if (handle && (dir > 0 ? pos >= handle.from && pos < handle.to : pos > handle.from && pos <= handle.to))\n                return matchMarkedBrackets(state, pos, dir, cur, handle, matches, brackets);\n        }\n    }\n    return matchPlainBrackets(state, pos, dir, tree, node.type, maxScanDistance, brackets);\n}\nfunction matchMarkedBrackets(_state, _pos, dir, token, handle, matching, brackets) {\n    let parent = token.parent, firstToken = { from: handle.from, to: handle.to };\n    let depth = 0, cursor = parent === null || parent === void 0 ? void 0 : parent.cursor();\n    if (cursor && (dir < 0 ? cursor.childBefore(token.from) : cursor.childAfter(token.to)))\n        do {\n            if (dir < 0 ? cursor.to <= token.from : cursor.from >= token.to) {\n                if (depth == 0 && matching.indexOf(cursor.type.name) > -1 && cursor.from < cursor.to) {\n                    let endHandle = findHandle(cursor);\n                    return { start: firstToken, end: endHandle ? { from: endHandle.from, to: endHandle.to } : undefined, matched: true };\n                }\n                else if (matchingNodes(cursor.type, dir, brackets)) {\n                    depth++;\n                }\n                else if (matchingNodes(cursor.type, -dir, brackets)) {\n                    if (depth == 0) {\n                        let endHandle = findHandle(cursor);\n                        return {\n                            start: firstToken,\n                            end: endHandle && endHandle.from < endHandle.to ? { from: endHandle.from, to: endHandle.to } : undefined,\n                            matched: false\n                        };\n                    }\n                    depth--;\n                }\n            }\n        } while (dir < 0 ? cursor.prevSibling() : cursor.nextSibling());\n    return { start: firstToken, matched: false };\n}\nfunction matchPlainBrackets(state, pos, dir, tree, tokenType, maxScanDistance, brackets) {\n    let startCh = dir < 0 ? state.sliceDoc(pos - 1, pos) : state.sliceDoc(pos, pos + 1);\n    let bracket = brackets.indexOf(startCh);\n    if (bracket < 0 || (bracket % 2 == 0) != (dir > 0))\n        return null;\n    let startToken = { from: dir < 0 ? pos - 1 : pos, to: dir > 0 ? pos + 1 : pos };\n    let iter = state.doc.iterRange(pos, dir > 0 ? state.doc.length : 0), depth = 0;\n    for (let distance = 0; !(iter.next()).done && distance <= maxScanDistance;) {\n        let text = iter.value;\n        if (dir < 0)\n            distance += text.length;\n        let basePos = pos + distance * dir;\n        for (let pos = dir > 0 ? 0 : text.length - 1, end = dir > 0 ? text.length : -1; pos != end; pos += dir) {\n            let found = brackets.indexOf(text[pos]);\n            if (found < 0 || tree.resolveInner(basePos + pos, 1).type != tokenType)\n                continue;\n            if ((found % 2 == 0) == (dir > 0)) {\n                depth++;\n            }\n            else if (depth == 1) { // Closing\n                return { start: startToken, end: { from: basePos + pos, to: basePos + pos + 1 }, matched: (found >> 1) == (bracket >> 1) };\n            }\n            else {\n                depth--;\n            }\n        }\n        if (dir > 0)\n            distance += text.length;\n    }\n    return iter.done ? { start: startToken, matched: false } : null;\n}\n\n// Counts the column offset in a string, taking tabs into account.\n// Used mostly to find indentation.\nfunction countCol(string, end, tabSize, startIndex = 0, startValue = 0) {\n    if (end == null) {\n        end = string.search(/[^\\s\\u00a0]/);\n        if (end == -1)\n            end = string.length;\n    }\n    let n = startValue;\n    for (let i = startIndex; i < end; i++) {\n        if (string.charCodeAt(i) == 9)\n            n += tabSize - (n % tabSize);\n        else\n            n++;\n    }\n    return n;\n}\n/**\nEncapsulates a single line of input. Given to stream syntax code,\nwhich uses it to tokenize the content.\n*/\nclass StringStream {\n    /**\n    Create a stream.\n    */\n    constructor(\n    /**\n    The line.\n    */\n    string, tabSize, \n    /**\n    The current indent unit size.\n    */\n    indentUnit, overrideIndent) {\n        this.string = string;\n        this.tabSize = tabSize;\n        this.indentUnit = indentUnit;\n        this.overrideIndent = overrideIndent;\n        /**\n        The current position on the line.\n        */\n        this.pos = 0;\n        /**\n        The start position of the current token.\n        */\n        this.start = 0;\n        this.lastColumnPos = 0;\n        this.lastColumnValue = 0;\n    }\n    /**\n    True if we are at the end of the line.\n    */\n    eol() { return this.pos >= this.string.length; }\n    /**\n    True if we are at the start of the line.\n    */\n    sol() { return this.pos == 0; }\n    /**\n    Get the next code unit after the current position, or undefined\n    if we're at the end of the line.\n    */\n    peek() { return this.string.charAt(this.pos) || undefined; }\n    /**\n    Read the next code unit and advance `this.pos`.\n    */\n    next() {\n        if (this.pos < this.string.length)\n            return this.string.charAt(this.pos++);\n    }\n    /**\n    Match the next character against the given string, regular\n    expression, or predicate. Consume and return it if it matches.\n    */\n    eat(match) {\n        let ch = this.string.charAt(this.pos);\n        let ok;\n        if (typeof match == \"string\")\n            ok = ch == match;\n        else\n            ok = ch && (match instanceof RegExp ? match.test(ch) : match(ch));\n        if (ok) {\n            ++this.pos;\n            return ch;\n        }\n    }\n    /**\n    Continue matching characters that match the given string,\n    regular expression, or predicate function. Return true if any\n    characters were consumed.\n    */\n    eatWhile(match) {\n        let start = this.pos;\n        while (this.eat(match)) { }\n        return this.pos > start;\n    }\n    /**\n    Consume whitespace ahead of `this.pos`. Return true if any was\n    found.\n    */\n    eatSpace() {\n        let start = this.pos;\n        while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos)))\n            ++this.pos;\n        return this.pos > start;\n    }\n    /**\n    Move to the end of the line.\n    */\n    skipToEnd() { this.pos = this.string.length; }\n    /**\n    Move to directly before the given character, if found on the\n    current line.\n    */\n    skipTo(ch) {\n        let found = this.string.indexOf(ch, this.pos);\n        if (found > -1) {\n            this.pos = found;\n            return true;\n        }\n    }\n    /**\n    Move back `n` characters.\n    */\n    backUp(n) { this.pos -= n; }\n    /**\n    Get the column position at `this.pos`.\n    */\n    column() {\n        if (this.lastColumnPos < this.start) {\n            this.lastColumnValue = countCol(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n            this.lastColumnPos = this.start;\n        }\n        return this.lastColumnValue;\n    }\n    /**\n    Get the indentation column of the current line.\n    */\n    indentation() {\n        var _a;\n        return (_a = this.overrideIndent) !== null && _a !== void 0 ? _a : countCol(this.string, null, this.tabSize);\n    }\n    /**\n    Match the input against the given string or regular expression\n    (which should start with a `^`). Return true or the regexp match\n    if it matches.\n    \n    Unless `consume` is set to `false`, this will move `this.pos`\n    past the matched text.\n    \n    When matching a string `caseInsensitive` can be set to true to\n    make the match case-insensitive.\n    */\n    match(pattern, consume, caseInsensitive) {\n        if (typeof pattern == \"string\") {\n            let cased = (str) => caseInsensitive ? str.toLowerCase() : str;\n            let substr = this.string.substr(this.pos, pattern.length);\n            if (cased(substr) == cased(pattern)) {\n                if (consume !== false)\n                    this.pos += pattern.length;\n                return true;\n            }\n            else\n                return null;\n        }\n        else {\n            let match = this.string.slice(this.pos).match(pattern);\n            if (match && match.index > 0)\n                return null;\n            if (match && consume !== false)\n                this.pos += match[0].length;\n            return match;\n        }\n    }\n    /**\n    Get the current token.\n    */\n    current() { return this.string.slice(this.start, this.pos); }\n}\n\nfunction fullParser(spec) {\n    return {\n        name: spec.name || \"\",\n        token: spec.token,\n        blankLine: spec.blankLine || (() => { }),\n        startState: spec.startState || (() => true),\n        copyState: spec.copyState || defaultCopyState,\n        indent: spec.indent || (() => null),\n        languageData: spec.languageData || {},\n        tokenTable: spec.tokenTable || noTokens\n    };\n}\nfunction defaultCopyState(state) {\n    if (typeof state != \"object\")\n        return state;\n    let newState = {};\n    for (let prop in state) {\n        let val = state[prop];\n        newState[prop] = (val instanceof Array ? val.slice() : val);\n    }\n    return newState;\n}\nconst IndentedFrom = /*@__PURE__*/new WeakMap();\n/**\nA [language](https://codemirror.net/6/docs/ref/#language.Language) class based on a CodeMirror\n5-style [streaming parser](https://codemirror.net/6/docs/ref/#language.StreamParser).\n*/\nclass StreamLanguage extends Language {\n    constructor(parser) {\n        let data = defineLanguageFacet(parser.languageData);\n        let p = fullParser(parser), self;\n        let impl = new class extends Parser {\n            createParse(input, fragments, ranges) {\n                return new Parse(self, input, fragments, ranges);\n            }\n        };\n        super(data, impl, [indentService.of((cx, pos) => this.getIndent(cx, pos))], parser.name);\n        this.topNode = docID(data);\n        self = this;\n        this.streamParser = p;\n        this.stateAfter = new NodeProp({ perNode: true });\n        this.tokenTable = parser.tokenTable ? new TokenTable(p.tokenTable) : defaultTokenTable;\n    }\n    /**\n    Define a stream language.\n    */\n    static define(spec) { return new StreamLanguage(spec); }\n    getIndent(cx, pos) {\n        let tree = syntaxTree(cx.state), at = tree.resolve(pos);\n        while (at && at.type != this.topNode)\n            at = at.parent;\n        if (!at)\n            return null;\n        let from = undefined;\n        let { overrideIndentation } = cx.options;\n        if (overrideIndentation) {\n            from = IndentedFrom.get(cx.state);\n            if (from != null && from < pos - 1e4)\n                from = undefined;\n        }\n        let start = findState(this, tree, 0, at.from, from !== null && from !== void 0 ? from : pos), statePos, state;\n        if (start) {\n            state = start.state;\n            statePos = start.pos + 1;\n        }\n        else {\n            state = this.streamParser.startState(cx.unit);\n            statePos = 0;\n        }\n        if (pos - statePos > 10000 /* MaxIndentScanDist */)\n            return null;\n        while (statePos < pos) {\n            let line = cx.state.doc.lineAt(statePos), end = Math.min(pos, line.to);\n            if (line.length) {\n                let indentation = overrideIndentation ? overrideIndentation(line.from) : -1;\n                let stream = new StringStream(line.text, cx.state.tabSize, cx.unit, indentation < 0 ? undefined : indentation);\n                while (stream.pos < end - line.from)\n                    readToken(this.streamParser.token, stream, state);\n            }\n            else {\n                this.streamParser.blankLine(state, cx.unit);\n            }\n            if (end == pos)\n                break;\n            statePos = line.to + 1;\n        }\n        let line = cx.lineAt(pos);\n        if (overrideIndentation && from == null)\n            IndentedFrom.set(cx.state, line.from);\n        return this.streamParser.indent(state, /^\\s*(.*)/.exec(line.text)[1], cx);\n    }\n    get allowsNesting() { return false; }\n}\nfunction findState(lang, tree, off, startPos, before) {\n    let state = off >= startPos && off + tree.length <= before && tree.prop(lang.stateAfter);\n    if (state)\n        return { state: lang.streamParser.copyState(state), pos: off + tree.length };\n    for (let i = tree.children.length - 1; i >= 0; i--) {\n        let child = tree.children[i], pos = off + tree.positions[i];\n        let found = child instanceof Tree && pos < before && findState(lang, child, pos, startPos, before);\n        if (found)\n            return found;\n    }\n    return null;\n}\nfunction cutTree(lang, tree, from, to, inside) {\n    if (inside && from <= 0 && to >= tree.length)\n        return tree;\n    if (!inside && tree.type == lang.topNode)\n        inside = true;\n    for (let i = tree.children.length - 1; i >= 0; i--) {\n        let pos = tree.positions[i], child = tree.children[i], inner;\n        if (pos < to && child instanceof Tree) {\n            if (!(inner = cutTree(lang, child, from - pos, to - pos, inside)))\n                break;\n            return !inside ? inner\n                : new Tree(tree.type, tree.children.slice(0, i).concat(inner), tree.positions.slice(0, i + 1), pos + inner.length);\n        }\n    }\n    return null;\n}\nfunction findStartInFragments(lang, fragments, startPos, editorState) {\n    for (let f of fragments) {\n        let from = f.from + (f.openStart ? 25 : 0), to = f.to - (f.openEnd ? 25 : 0);\n        let found = from <= startPos && to > startPos && findState(lang, f.tree, 0 - f.offset, startPos, to), tree;\n        if (found && (tree = cutTree(lang, f.tree, startPos + f.offset, found.pos + f.offset, false)))\n            return { state: found.state, tree };\n    }\n    return { state: lang.streamParser.startState(editorState ? getIndentUnit(editorState) : 4), tree: Tree.empty };\n}\nclass Parse {\n    constructor(lang, input, fragments, ranges) {\n        this.lang = lang;\n        this.input = input;\n        this.fragments = fragments;\n        this.ranges = ranges;\n        this.stoppedAt = null;\n        this.chunks = [];\n        this.chunkPos = [];\n        this.chunk = [];\n        this.chunkReused = undefined;\n        this.rangeIndex = 0;\n        this.to = ranges[ranges.length - 1].to;\n        let context = ParseContext.get(), from = ranges[0].from;\n        let { state, tree } = findStartInFragments(lang, fragments, from, context === null || context === void 0 ? void 0 : context.state);\n        this.state = state;\n        this.parsedPos = this.chunkStart = from + tree.length;\n        for (let i = 0; i < tree.children.length; i++) {\n            this.chunks.push(tree.children[i]);\n            this.chunkPos.push(tree.positions[i]);\n        }\n        if (context && this.parsedPos < context.viewport.from - 100000 /* MaxDistanceBeforeViewport */) {\n            this.state = this.lang.streamParser.startState(getIndentUnit(context.state));\n            context.skipUntilInView(this.parsedPos, context.viewport.from);\n            this.parsedPos = context.viewport.from;\n        }\n        this.moveRangeIndex();\n    }\n    advance() {\n        let context = ParseContext.get();\n        let parseEnd = this.stoppedAt == null ? this.to : Math.min(this.to, this.stoppedAt);\n        let end = Math.min(parseEnd, this.chunkStart + 2048 /* ChunkSize */);\n        if (context)\n            end = Math.min(end, context.viewport.to);\n        while (this.parsedPos < end)\n            this.parseLine(context);\n        if (this.chunkStart < this.parsedPos)\n            this.finishChunk();\n        if (this.parsedPos >= parseEnd)\n            return this.finish();\n        if (context && this.parsedPos >= context.viewport.to) {\n            context.skipUntilInView(this.parsedPos, parseEnd);\n            return this.finish();\n        }\n        return null;\n    }\n    stopAt(pos) {\n        this.stoppedAt = pos;\n    }\n    lineAfter(pos) {\n        let chunk = this.input.chunk(pos);\n        if (!this.input.lineChunks) {\n            let eol = chunk.indexOf(\"\\n\");\n            if (eol > -1)\n                chunk = chunk.slice(0, eol);\n        }\n        else if (chunk == \"\\n\") {\n            chunk = \"\";\n        }\n        return pos + chunk.length <= this.to ? chunk : chunk.slice(0, this.to - pos);\n    }\n    nextLine() {\n        let from = this.parsedPos, line = this.lineAfter(from), end = from + line.length;\n        for (let index = this.rangeIndex;;) {\n            let rangeEnd = this.ranges[index].to;\n            if (rangeEnd >= end)\n                break;\n            line = line.slice(0, rangeEnd - (end - line.length));\n            index++;\n            if (index == this.ranges.length)\n                break;\n            let rangeStart = this.ranges[index].from;\n            let after = this.lineAfter(rangeStart);\n            line += after;\n            end = rangeStart + after.length;\n        }\n        return { line, end };\n    }\n    skipGapsTo(pos, offset, side) {\n        for (;;) {\n            let end = this.ranges[this.rangeIndex].to, offPos = pos + offset;\n            if (side > 0 ? end > offPos : end >= offPos)\n                break;\n            let start = this.ranges[++this.rangeIndex].from;\n            offset += start - end;\n        }\n        return offset;\n    }\n    moveRangeIndex() {\n        while (this.ranges[this.rangeIndex].to < this.parsedPos)\n            this.rangeIndex++;\n    }\n    emitToken(id, from, to, size, offset) {\n        if (this.ranges.length > 1) {\n            offset = this.skipGapsTo(from, offset, 1);\n            from += offset;\n            let len0 = this.chunk.length;\n            offset = this.skipGapsTo(to, offset, -1);\n            to += offset;\n            size += this.chunk.length - len0;\n        }\n        this.chunk.push(id, from, to, size);\n        return offset;\n    }\n    parseLine(context) {\n        let { line, end } = this.nextLine(), offset = 0, { streamParser } = this.lang;\n        let stream = new StringStream(line, context ? context.state.tabSize : 4, context ? getIndentUnit(context.state) : 2);\n        if (stream.eol()) {\n            streamParser.blankLine(this.state, stream.indentUnit);\n        }\n        else {\n            while (!stream.eol()) {\n                let token = readToken(streamParser.token, stream, this.state);\n                if (token)\n                    offset = this.emitToken(this.lang.tokenTable.resolve(token), this.parsedPos + stream.start, this.parsedPos + stream.pos, 4, offset);\n                if (stream.start > 10000 /* MaxLineLength */)\n                    break;\n            }\n        }\n        this.parsedPos = end;\n        this.moveRangeIndex();\n        if (this.parsedPos < this.to)\n            this.parsedPos++;\n    }\n    finishChunk() {\n        let tree = Tree.build({\n            buffer: this.chunk,\n            start: this.chunkStart,\n            length: this.parsedPos - this.chunkStart,\n            nodeSet,\n            topID: 0,\n            maxBufferLength: 2048 /* ChunkSize */,\n            reused: this.chunkReused\n        });\n        tree = new Tree(tree.type, tree.children, tree.positions, tree.length, [[this.lang.stateAfter, this.lang.streamParser.copyState(this.state)]]);\n        this.chunks.push(tree);\n        this.chunkPos.push(this.chunkStart - this.ranges[0].from);\n        this.chunk = [];\n        this.chunkReused = undefined;\n        this.chunkStart = this.parsedPos;\n    }\n    finish() {\n        return new Tree(this.lang.topNode, this.chunks, this.chunkPos, this.parsedPos - this.ranges[0].from).balance();\n    }\n}\nfunction readToken(token, stream, state) {\n    stream.start = stream.pos;\n    for (let i = 0; i < 10; i++) {\n        let result = token(stream, state);\n        if (stream.pos > stream.start)\n            return result;\n    }\n    throw new Error(\"Stream parser failed to advance stream.\");\n}\nconst noTokens = /*@__PURE__*/Object.create(null);\nconst typeArray = [NodeType.none];\nconst nodeSet = /*@__PURE__*/new NodeSet(typeArray);\nconst warned = [];\nconst defaultTable = /*@__PURE__*/Object.create(null);\nfor (let [legacyName, name] of [\n    [\"variable\", \"variableName\"],\n    [\"variable-2\", \"variableName.special\"],\n    [\"string-2\", \"string.special\"],\n    [\"def\", \"variableName.definition\"],\n    [\"tag\", \"tagName\"],\n    [\"attribute\", \"attributeName\"],\n    [\"type\", \"typeName\"],\n    [\"builtin\", \"variableName.standard\"],\n    [\"qualifier\", \"modifier\"],\n    [\"error\", \"invalid\"],\n    [\"header\", \"heading\"],\n    [\"property\", \"propertyName\"]\n])\n    defaultTable[legacyName] = /*@__PURE__*/createTokenType(noTokens, name);\nclass TokenTable {\n    constructor(extra) {\n        this.extra = extra;\n        this.table = Object.assign(Object.create(null), defaultTable);\n    }\n    resolve(tag) {\n        return !tag ? 0 : this.table[tag] || (this.table[tag] = createTokenType(this.extra, tag));\n    }\n}\nconst defaultTokenTable = /*@__PURE__*/new TokenTable(noTokens);\nfunction warnForPart(part, msg) {\n    if (warned.indexOf(part) > -1)\n        return;\n    warned.push(part);\n    console.warn(msg);\n}\nfunction createTokenType(extra, tagStr) {\n    let tag = null;\n    for (let part of tagStr.split(\".\")) {\n        let value = (extra[part] || tags[part]);\n        if (!value) {\n            warnForPart(part, `Unknown highlighting tag ${part}`);\n        }\n        else if (typeof value == \"function\") {\n            if (!tag)\n                warnForPart(part, `Modifier ${part} used at start of tag`);\n            else\n                tag = value(tag);\n        }\n        else {\n            if (tag)\n                warnForPart(part, `Tag ${part} used as modifier`);\n            else\n                tag = value;\n        }\n    }\n    if (!tag)\n        return 0;\n    let name = tagStr.replace(/ /g, \"_\"), type = NodeType.define({\n        id: typeArray.length,\n        name,\n        props: [styleTags({ [name]: tag })]\n    });\n    typeArray.push(type);\n    return type.id;\n}\nfunction docID(data) {\n    let type = NodeType.define({ id: typeArray.length, name: \"Document\", props: [languageDataProp.add(() => data)], top: true });\n    typeArray.push(type);\n    return type;\n}\n\nexport { DocInput, HighlightStyle, IndentContext, LRLanguage, Language, LanguageDescription, LanguageSupport, ParseContext, StreamLanguage, StringStream, TreeIndentContext, bracketMatching, bracketMatchingHandle, codeFolding, continuedIndent, defaultHighlightStyle, defineLanguageFacet, delimitedIndent, ensureSyntaxTree, flatIndent, foldAll, foldCode, foldEffect, foldGutter, foldInside, foldKeymap, foldNodeProp, foldService, foldState, foldable, foldedRanges, forceParsing, getIndentUnit, getIndentation, highlightingFor, indentNodeProp, indentOnInput, indentRange, indentService, indentString, indentUnit, language, languageDataProp, matchBrackets, sublanguageProp, syntaxHighlighting, syntaxParserRunning, syntaxTree, syntaxTreeAvailable, toggleFold, unfoldAll, unfoldCode, unfoldEffect };\n","import { Decoration, showPanel, EditorView, ViewPlugin, logException, gutter, showTooltip, hoverTooltip, getPanel, WidgetType, GutterMarker } from '@codemirror/view';\nimport { StateEffect, StateField, Facet, combineConfig, RangeSet } from '@codemirror/state';\nimport elt from 'crelt';\n\nclass SelectedDiagnostic {\n    constructor(from, to, diagnostic) {\n        this.from = from;\n        this.to = to;\n        this.diagnostic = diagnostic;\n    }\n}\nclass LintState {\n    constructor(diagnostics, panel, selected) {\n        this.diagnostics = diagnostics;\n        this.panel = panel;\n        this.selected = selected;\n    }\n    static init(diagnostics, panel, state) {\n        // Filter the list of diagnostics for which to create markers\n        let markedDiagnostics = diagnostics;\n        let diagnosticFilter = state.facet(lintConfig).markerFilter;\n        if (diagnosticFilter)\n            markedDiagnostics = diagnosticFilter(markedDiagnostics);\n        let ranges = Decoration.set(markedDiagnostics.map((d) => {\n            // For zero-length ranges or ranges covering only a line break, create a widget\n            return d.from == d.to || (d.from == d.to - 1 && state.doc.lineAt(d.from).to == d.from)\n                ? Decoration.widget({\n                    widget: new DiagnosticWidget(d),\n                    diagnostic: d\n                }).range(d.from)\n                : Decoration.mark({\n                    attributes: { class: \"cm-lintRange cm-lintRange-\" + d.severity + (d.markClass ? \" \" + d.markClass : \"\") },\n                    diagnostic: d\n                }).range(d.from, d.to);\n        }), true);\n        return new LintState(ranges, panel, findDiagnostic(ranges));\n    }\n}\nfunction findDiagnostic(diagnostics, diagnostic = null, after = 0) {\n    let found = null;\n    diagnostics.between(after, 1e9, (from, to, { spec }) => {\n        if (diagnostic && spec.diagnostic != diagnostic)\n            return;\n        found = new SelectedDiagnostic(from, to, spec.diagnostic);\n        return false;\n    });\n    return found;\n}\nfunction hideTooltip(tr, tooltip) {\n    let line = tr.startState.doc.lineAt(tooltip.pos);\n    return !!(tr.effects.some(e => e.is(setDiagnosticsEffect)) || tr.changes.touchesRange(line.from, line.to));\n}\nfunction maybeEnableLint(state, effects) {\n    return state.field(lintState, false) ? effects : effects.concat(StateEffect.appendConfig.of(lintExtensions));\n}\n/**\nReturns a transaction spec which updates the current set of\ndiagnostics, and enables the lint extension if if wasn't already\nactive.\n*/\nfunction setDiagnostics(state, diagnostics) {\n    return {\n        effects: maybeEnableLint(state, [setDiagnosticsEffect.of(diagnostics)])\n    };\n}\n/**\nThe state effect that updates the set of active diagnostics. Can\nbe useful when writing an extension that needs to track these.\n*/\nconst setDiagnosticsEffect = /*@__PURE__*/StateEffect.define();\nconst togglePanel = /*@__PURE__*/StateEffect.define();\nconst movePanelSelection = /*@__PURE__*/StateEffect.define();\nconst lintState = /*@__PURE__*/StateField.define({\n    create() {\n        return new LintState(Decoration.none, null, null);\n    },\n    update(value, tr) {\n        if (tr.docChanged) {\n            let mapped = value.diagnostics.map(tr.changes), selected = null;\n            if (value.selected) {\n                let selPos = tr.changes.mapPos(value.selected.from, 1);\n                selected = findDiagnostic(mapped, value.selected.diagnostic, selPos) || findDiagnostic(mapped, null, selPos);\n            }\n            value = new LintState(mapped, value.panel, selected);\n        }\n        for (let effect of tr.effects) {\n            if (effect.is(setDiagnosticsEffect)) {\n                value = LintState.init(effect.value, value.panel, tr.state);\n            }\n            else if (effect.is(togglePanel)) {\n                value = new LintState(value.diagnostics, effect.value ? LintPanel.open : null, value.selected);\n            }\n            else if (effect.is(movePanelSelection)) {\n                value = new LintState(value.diagnostics, value.panel, effect.value);\n            }\n        }\n        return value;\n    },\n    provide: f => [showPanel.from(f, val => val.panel),\n        EditorView.decorations.from(f, s => s.diagnostics)]\n});\n/**\nReturns the number of active lint diagnostics in the given state.\n*/\nfunction diagnosticCount(state) {\n    let lint = state.field(lintState, false);\n    return lint ? lint.diagnostics.size : 0;\n}\nconst activeMark = /*@__PURE__*/Decoration.mark({ class: \"cm-lintRange cm-lintRange-active\" });\nfunction lintTooltip(view, pos, side) {\n    let { diagnostics } = view.state.field(lintState);\n    let found = [], stackStart = 2e8, stackEnd = 0;\n    diagnostics.between(pos - (side < 0 ? 1 : 0), pos + (side > 0 ? 1 : 0), (from, to, { spec }) => {\n        if (pos >= from && pos <= to &&\n            (from == to || ((pos > from || side > 0) && (pos < to || side < 0)))) {\n            found.push(spec.diagnostic);\n            stackStart = Math.min(from, stackStart);\n            stackEnd = Math.max(to, stackEnd);\n        }\n    });\n    let diagnosticFilter = view.state.facet(lintConfig).tooltipFilter;\n    if (diagnosticFilter)\n        found = diagnosticFilter(found);\n    if (!found.length)\n        return null;\n    return {\n        pos: stackStart,\n        end: stackEnd,\n        above: view.state.doc.lineAt(stackStart).to < stackEnd,\n        create() {\n            return { dom: diagnosticsTooltip(view, found) };\n        }\n    };\n}\nfunction diagnosticsTooltip(view, diagnostics) {\n    return elt(\"ul\", { class: \"cm-tooltip-lint\" }, diagnostics.map(d => renderDiagnostic(view, d, false)));\n}\n/**\nCommand to open and focus the lint panel.\n*/\nconst openLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        view.dispatch({ effects: maybeEnableLint(view.state, [togglePanel.of(true)]) });\n    let panel = getPanel(view, LintPanel.open);\n    if (panel)\n        panel.dom.querySelector(\".cm-panel-lint ul\").focus();\n    return true;\n};\n/**\nCommand to close the lint panel, when open.\n*/\nconst closeLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        return false;\n    view.dispatch({ effects: togglePanel.of(false) });\n    return true;\n};\n/**\nMove the selection to the next diagnostic.\n*/\nconst nextDiagnostic = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field)\n        return false;\n    let sel = view.state.selection.main, next = field.diagnostics.iter(sel.to + 1);\n    if (!next.value) {\n        next = field.diagnostics.iter(0);\n        if (!next.value || next.from == sel.from && next.to == sel.to)\n            return false;\n    }\n    view.dispatch({ selection: { anchor: next.from, head: next.to }, scrollIntoView: true });\n    return true;\n};\n/**\nMove the selection to the previous diagnostic.\n*/\nconst previousDiagnostic = (view) => {\n    let { state } = view, field = state.field(lintState, false);\n    if (!field)\n        return false;\n    let sel = state.selection.main;\n    let prevFrom, prevTo, lastFrom, lastTo;\n    field.diagnostics.between(0, state.doc.length, (from, to) => {\n        if (to < sel.to && (prevFrom == null || prevFrom < from)) {\n            prevFrom = from;\n            prevTo = to;\n        }\n        if (lastFrom == null || from > lastFrom) {\n            lastFrom = from;\n            lastTo = to;\n        }\n    });\n    if (lastFrom == null || prevFrom == null && lastFrom == sel.from)\n        return false;\n    view.dispatch({ selection: { anchor: prevFrom !== null && prevFrom !== void 0 ? prevFrom : lastFrom, head: prevTo !== null && prevTo !== void 0 ? prevTo : lastTo }, scrollIntoView: true });\n    return true;\n};\n/**\nA set of default key bindings for the lint functionality.\n\n- Ctrl-Shift-m (Cmd-Shift-m on macOS): [`openLintPanel`](https://codemirror.net/6/docs/ref/#lint.openLintPanel)\n- F8: [`nextDiagnostic`](https://codemirror.net/6/docs/ref/#lint.nextDiagnostic)\n*/\nconst lintKeymap = [\n    { key: \"Mod-Shift-m\", run: openLintPanel, preventDefault: true },\n    { key: \"F8\", run: nextDiagnostic }\n];\nconst lintPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.timeout = -1;\n        this.set = true;\n        let { delay } = view.state.facet(lintConfig);\n        this.lintTime = Date.now() + delay;\n        this.run = this.run.bind(this);\n        this.timeout = setTimeout(this.run, delay);\n    }\n    run() {\n        let now = Date.now();\n        if (now < this.lintTime - 10) {\n            this.timeout = setTimeout(this.run, this.lintTime - now);\n        }\n        else {\n            this.set = false;\n            let { state } = this.view, { sources } = state.facet(lintConfig);\n            Promise.all(sources.map(source => Promise.resolve(source(this.view)))).then(annotations => {\n                let all = annotations.reduce((a, b) => a.concat(b));\n                if (this.view.state.doc == state.doc)\n                    this.view.dispatch(setDiagnostics(this.view.state, all));\n            }, error => { logException(this.view.state, error); });\n        }\n    }\n    update(update) {\n        let config = update.state.facet(lintConfig);\n        if (update.docChanged || config != update.startState.facet(lintConfig) ||\n            config.needsRefresh && config.needsRefresh(update)) {\n            this.lintTime = Date.now() + config.delay;\n            if (!this.set) {\n                this.set = true;\n                this.timeout = setTimeout(this.run, config.delay);\n            }\n        }\n    }\n    force() {\n        if (this.set) {\n            this.lintTime = Date.now();\n            this.run();\n        }\n    }\n    destroy() {\n        clearTimeout(this.timeout);\n    }\n});\nconst lintConfig = /*@__PURE__*/Facet.define({\n    combine(input) {\n        return Object.assign({ sources: input.map(i => i.source) }, combineConfig(input.map(i => i.config), {\n            delay: 750,\n            markerFilter: null,\n            tooltipFilter: null,\n            needsRefresh: null\n        }, {\n            needsRefresh: (a, b) => !a ? b : !b ? a : u => a(u) || b(u)\n        }));\n    }\n});\n/**\nGiven a diagnostic source, this function returns an extension that\nenables linting with that source. It will be called whenever the\neditor is idle (after its content changed).\n*/\nfunction linter(source, config = {}) {\n    return [\n        lintConfig.of({ source, config }),\n        lintPlugin,\n        lintExtensions\n    ];\n}\n/**\nForces any linters [configured](https://codemirror.net/6/docs/ref/#lint.linter) to run when the\neditor is idle to run right away.\n*/\nfunction forceLinting(view) {\n    let plugin = view.plugin(lintPlugin);\n    if (plugin)\n        plugin.force();\n}\nfunction assignKeys(actions) {\n    let assigned = [];\n    if (actions)\n        actions: for (let { name } of actions) {\n            for (let i = 0; i < name.length; i++) {\n                let ch = name[i];\n                if (/[a-zA-Z]/.test(ch) && !assigned.some(c => c.toLowerCase() == ch.toLowerCase())) {\n                    assigned.push(ch);\n                    continue actions;\n                }\n            }\n            assigned.push(\"\");\n        }\n    return assigned;\n}\nfunction renderDiagnostic(view, diagnostic, inPanel) {\n    var _a;\n    let keys = inPanel ? assignKeys(diagnostic.actions) : [];\n    return elt(\"li\", { class: \"cm-diagnostic cm-diagnostic-\" + diagnostic.severity }, elt(\"span\", { class: \"cm-diagnosticText\" }, diagnostic.renderMessage ? diagnostic.renderMessage() : diagnostic.message), (_a = diagnostic.actions) === null || _a === void 0 ? void 0 : _a.map((action, i) => {\n        let fired = false, click = (e) => {\n            e.preventDefault();\n            if (fired)\n                return;\n            fired = true;\n            let found = findDiagnostic(view.state.field(lintState).diagnostics, diagnostic);\n            if (found)\n                action.apply(view, found.from, found.to);\n        };\n        let { name } = action, keyIndex = keys[i] ? name.indexOf(keys[i]) : -1;\n        let nameElt = keyIndex < 0 ? name : [name.slice(0, keyIndex),\n            elt(\"u\", name.slice(keyIndex, keyIndex + 1)),\n            name.slice(keyIndex + 1)];\n        return elt(\"button\", {\n            type: \"button\",\n            class: \"cm-diagnosticAction\",\n            onclick: click,\n            onmousedown: click,\n            \"aria-label\": ` Action: ${name}${keyIndex < 0 ? \"\" : ` (access key \"${keys[i]})\"`}.`\n        }, nameElt);\n    }), diagnostic.source && elt(\"div\", { class: \"cm-diagnosticSource\" }, diagnostic.source));\n}\nclass DiagnosticWidget extends WidgetType {\n    constructor(diagnostic) {\n        super();\n        this.diagnostic = diagnostic;\n    }\n    eq(other) { return other.diagnostic == this.diagnostic; }\n    toDOM() {\n        return elt(\"span\", { class: \"cm-lintPoint cm-lintPoint-\" + this.diagnostic.severity });\n    }\n}\nclass PanelItem {\n    constructor(view, diagnostic) {\n        this.diagnostic = diagnostic;\n        this.id = \"item_\" + Math.floor(Math.random() * 0xffffffff).toString(16);\n        this.dom = renderDiagnostic(view, diagnostic, true);\n        this.dom.id = this.id;\n        this.dom.setAttribute(\"role\", \"option\");\n    }\n}\nclass LintPanel {\n    constructor(view) {\n        this.view = view;\n        this.items = [];\n        let onkeydown = (event) => {\n            if (event.keyCode == 27) { // Escape\n                closeLintPanel(this.view);\n                this.view.focus();\n            }\n            else if (event.keyCode == 38 || event.keyCode == 33) { // ArrowUp, PageUp\n                this.moveSelection((this.selectedIndex - 1 + this.items.length) % this.items.length);\n            }\n            else if (event.keyCode == 40 || event.keyCode == 34) { // ArrowDown, PageDown\n                this.moveSelection((this.selectedIndex + 1) % this.items.length);\n            }\n            else if (event.keyCode == 36) { // Home\n                this.moveSelection(0);\n            }\n            else if (event.keyCode == 35) { // End\n                this.moveSelection(this.items.length - 1);\n            }\n            else if (event.keyCode == 13) { // Enter\n                this.view.focus();\n            }\n            else if (event.keyCode >= 65 && event.keyCode <= 90 && this.selectedIndex >= 0) { // A-Z\n                let { diagnostic } = this.items[this.selectedIndex], keys = assignKeys(diagnostic.actions);\n                for (let i = 0; i < keys.length; i++)\n                    if (keys[i].toUpperCase().charCodeAt(0) == event.keyCode) {\n                        let found = findDiagnostic(this.view.state.field(lintState).diagnostics, diagnostic);\n                        if (found)\n                            diagnostic.actions[i].apply(view, found.from, found.to);\n                    }\n            }\n            else {\n                return;\n            }\n            event.preventDefault();\n        };\n        let onclick = (event) => {\n            for (let i = 0; i < this.items.length; i++) {\n                if (this.items[i].dom.contains(event.target))\n                    this.moveSelection(i);\n            }\n        };\n        this.list = elt(\"ul\", {\n            tabIndex: 0,\n            role: \"listbox\",\n            \"aria-label\": this.view.state.phrase(\"Diagnostics\"),\n            onkeydown,\n            onclick\n        });\n        this.dom = elt(\"div\", { class: \"cm-panel-lint\" }, this.list, elt(\"button\", {\n            type: \"button\",\n            name: \"close\",\n            \"aria-label\": this.view.state.phrase(\"close\"),\n            onclick: () => closeLintPanel(this.view)\n        }, \"×\"));\n        this.update();\n    }\n    get selectedIndex() {\n        let selected = this.view.state.field(lintState).selected;\n        if (!selected)\n            return -1;\n        for (let i = 0; i < this.items.length; i++)\n            if (this.items[i].diagnostic == selected.diagnostic)\n                return i;\n        return -1;\n    }\n    update() {\n        let { diagnostics, selected } = this.view.state.field(lintState);\n        let i = 0, needsSync = false, newSelectedItem = null;\n        diagnostics.between(0, this.view.state.doc.length, (_start, _end, { spec }) => {\n            let found = -1, item;\n            for (let j = i; j < this.items.length; j++)\n                if (this.items[j].diagnostic == spec.diagnostic) {\n                    found = j;\n                    break;\n                }\n            if (found < 0) {\n                item = new PanelItem(this.view, spec.diagnostic);\n                this.items.splice(i, 0, item);\n                needsSync = true;\n            }\n            else {\n                item = this.items[found];\n                if (found > i) {\n                    this.items.splice(i, found - i);\n                    needsSync = true;\n                }\n            }\n            if (selected && item.diagnostic == selected.diagnostic) {\n                if (!item.dom.hasAttribute(\"aria-selected\")) {\n                    item.dom.setAttribute(\"aria-selected\", \"true\");\n                    newSelectedItem = item;\n                }\n            }\n            else if (item.dom.hasAttribute(\"aria-selected\")) {\n                item.dom.removeAttribute(\"aria-selected\");\n            }\n            i++;\n        });\n        while (i < this.items.length && !(this.items.length == 1 && this.items[0].diagnostic.from < 0)) {\n            needsSync = true;\n            this.items.pop();\n        }\n        if (this.items.length == 0) {\n            this.items.push(new PanelItem(this.view, {\n                from: -1, to: -1,\n                severity: \"info\",\n                message: this.view.state.phrase(\"No diagnostics\")\n            }));\n            needsSync = true;\n        }\n        if (newSelectedItem) {\n            this.list.setAttribute(\"aria-activedescendant\", newSelectedItem.id);\n            this.view.requestMeasure({\n                key: this,\n                read: () => ({ sel: newSelectedItem.dom.getBoundingClientRect(), panel: this.list.getBoundingClientRect() }),\n                write: ({ sel, panel }) => {\n                    let scaleY = panel.height / this.list.offsetHeight;\n                    if (sel.top < panel.top)\n                        this.list.scrollTop -= (panel.top - sel.top) / scaleY;\n                    else if (sel.bottom > panel.bottom)\n                        this.list.scrollTop += (sel.bottom - panel.bottom) / scaleY;\n                }\n            });\n        }\n        else if (this.selectedIndex < 0) {\n            this.list.removeAttribute(\"aria-activedescendant\");\n        }\n        if (needsSync)\n            this.sync();\n    }\n    sync() {\n        let domPos = this.list.firstChild;\n        function rm() {\n            let prev = domPos;\n            domPos = prev.nextSibling;\n            prev.remove();\n        }\n        for (let item of this.items) {\n            if (item.dom.parentNode == this.list) {\n                while (domPos != item.dom)\n                    rm();\n                domPos = item.dom.nextSibling;\n            }\n            else {\n                this.list.insertBefore(item.dom, domPos);\n            }\n        }\n        while (domPos)\n            rm();\n    }\n    moveSelection(selectedIndex) {\n        if (this.selectedIndex < 0)\n            return;\n        let field = this.view.state.field(lintState);\n        let selection = findDiagnostic(field.diagnostics, this.items[selectedIndex].diagnostic);\n        if (!selection)\n            return;\n        this.view.dispatch({\n            selection: { anchor: selection.from, head: selection.to },\n            scrollIntoView: true,\n            effects: movePanelSelection.of(selection)\n        });\n    }\n    static open(view) { return new LintPanel(view); }\n}\nfunction svg(content, attrs = `viewBox=\"0 0 40 40\"`) {\n    return `url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" ${attrs}>${encodeURIComponent(content)}</svg>')`;\n}\nfunction underline(color) {\n    return svg(`<path d=\"m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0\" stroke=\"${color}\" fill=\"none\" stroke-width=\".7\"/>`, `width=\"6\" height=\"3\"`);\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-diagnostic\": {\n        padding: \"3px 6px 3px 8px\",\n        marginLeft: \"-1px\",\n        display: \"block\",\n        whiteSpace: \"pre-wrap\"\n    },\n    \".cm-diagnostic-error\": { borderLeft: \"5px solid #d11\" },\n    \".cm-diagnostic-warning\": { borderLeft: \"5px solid orange\" },\n    \".cm-diagnostic-info\": { borderLeft: \"5px solid #999\" },\n    \".cm-diagnostic-hint\": { borderLeft: \"5px solid #66d\" },\n    \".cm-diagnosticAction\": {\n        font: \"inherit\",\n        border: \"none\",\n        padding: \"2px 4px\",\n        backgroundColor: \"#444\",\n        color: \"white\",\n        borderRadius: \"3px\",\n        marginLeft: \"8px\",\n        cursor: \"pointer\"\n    },\n    \".cm-diagnosticSource\": {\n        fontSize: \"70%\",\n        opacity: .7\n    },\n    \".cm-lintRange\": {\n        backgroundPosition: \"left bottom\",\n        backgroundRepeat: \"repeat-x\",\n        paddingBottom: \"0.7px\",\n    },\n    \".cm-lintRange-error\": { backgroundImage: /*@__PURE__*/underline(\"#d11\") },\n    \".cm-lintRange-warning\": { backgroundImage: /*@__PURE__*/underline(\"orange\") },\n    \".cm-lintRange-info\": { backgroundImage: /*@__PURE__*/underline(\"#999\") },\n    \".cm-lintRange-hint\": { backgroundImage: /*@__PURE__*/underline(\"#66d\") },\n    \".cm-lintRange-active\": { backgroundColor: \"#ffdd9980\" },\n    \".cm-tooltip-lint\": {\n        padding: 0,\n        margin: 0\n    },\n    \".cm-lintPoint\": {\n        position: \"relative\",\n        \"&:after\": {\n            content: '\"\"',\n            position: \"absolute\",\n            bottom: 0,\n            left: \"-2px\",\n            borderLeft: \"3px solid transparent\",\n            borderRight: \"3px solid transparent\",\n            borderBottom: \"4px solid #d11\"\n        }\n    },\n    \".cm-lintPoint-warning\": {\n        \"&:after\": { borderBottomColor: \"orange\" }\n    },\n    \".cm-lintPoint-info\": {\n        \"&:after\": { borderBottomColor: \"#999\" }\n    },\n    \".cm-lintPoint-hint\": {\n        \"&:after\": { borderBottomColor: \"#66d\" }\n    },\n    \".cm-panel.cm-panel-lint\": {\n        position: \"relative\",\n        \"& ul\": {\n            maxHeight: \"100px\",\n            overflowY: \"auto\",\n            \"& [aria-selected]\": {\n                backgroundColor: \"#ddd\",\n                \"& u\": { textDecoration: \"underline\" }\n            },\n            \"&:focus [aria-selected]\": {\n                background_fallback: \"#bdf\",\n                backgroundColor: \"Highlight\",\n                color_fallback: \"white\",\n                color: \"HighlightText\"\n            },\n            \"& u\": { textDecoration: \"none\" },\n            padding: 0,\n            margin: 0\n        },\n        \"& [name=close]\": {\n            position: \"absolute\",\n            top: \"0\",\n            right: \"2px\",\n            background: \"inherit\",\n            border: \"none\",\n            font: \"inherit\",\n            padding: 0,\n            margin: 0\n        }\n    }\n});\nfunction severityWeight(sev) {\n    return sev == \"error\" ? 4 : sev == \"warning\" ? 3 : sev == \"info\" ? 2 : 1;\n}\nclass LintGutterMarker extends GutterMarker {\n    constructor(diagnostics) {\n        super();\n        this.diagnostics = diagnostics;\n        this.severity = diagnostics.reduce((max, d) => severityWeight(max) < severityWeight(d.severity) ? d.severity : max, \"hint\");\n    }\n    toDOM(view) {\n        let elt = document.createElement(\"div\");\n        elt.className = \"cm-lint-marker cm-lint-marker-\" + this.severity;\n        let diagnostics = this.diagnostics;\n        let diagnosticsFilter = view.state.facet(lintGutterConfig).tooltipFilter;\n        if (diagnosticsFilter)\n            diagnostics = diagnosticsFilter(diagnostics);\n        if (diagnostics.length)\n            elt.onmouseover = () => gutterMarkerMouseOver(view, elt, diagnostics);\n        return elt;\n    }\n}\nfunction trackHoverOn(view, marker) {\n    let mousemove = (event) => {\n        let rect = marker.getBoundingClientRect();\n        if (event.clientX > rect.left - 10 /* Hover.Margin */ && event.clientX < rect.right + 10 /* Hover.Margin */ &&\n            event.clientY > rect.top - 10 /* Hover.Margin */ && event.clientY < rect.bottom + 10 /* Hover.Margin */)\n            return;\n        for (let target = event.target; target; target = target.parentNode) {\n            if (target.nodeType == 1 && target.classList.contains(\"cm-tooltip-lint\"))\n                return;\n        }\n        window.removeEventListener(\"mousemove\", mousemove);\n        if (view.state.field(lintGutterTooltip))\n            view.dispatch({ effects: setLintGutterTooltip.of(null) });\n    };\n    window.addEventListener(\"mousemove\", mousemove);\n}\nfunction gutterMarkerMouseOver(view, marker, diagnostics) {\n    function hovered() {\n        let line = view.elementAtHeight(marker.getBoundingClientRect().top + 5 - view.documentTop);\n        const linePos = view.coordsAtPos(line.from);\n        if (linePos) {\n            view.dispatch({ effects: setLintGutterTooltip.of({\n                    pos: line.from,\n                    above: false,\n                    create() {\n                        return {\n                            dom: diagnosticsTooltip(view, diagnostics),\n                            getCoords: () => marker.getBoundingClientRect()\n                        };\n                    }\n                }) });\n        }\n        marker.onmouseout = marker.onmousemove = null;\n        trackHoverOn(view, marker);\n    }\n    let { hoverTime } = view.state.facet(lintGutterConfig);\n    let hoverTimeout = setTimeout(hovered, hoverTime);\n    marker.onmouseout = () => {\n        clearTimeout(hoverTimeout);\n        marker.onmouseout = marker.onmousemove = null;\n    };\n    marker.onmousemove = () => {\n        clearTimeout(hoverTimeout);\n        hoverTimeout = setTimeout(hovered, hoverTime);\n    };\n}\nfunction markersForDiagnostics(doc, diagnostics) {\n    let byLine = Object.create(null);\n    for (let diagnostic of diagnostics) {\n        let line = doc.lineAt(diagnostic.from);\n        (byLine[line.from] || (byLine[line.from] = [])).push(diagnostic);\n    }\n    let markers = [];\n    for (let line in byLine) {\n        markers.push(new LintGutterMarker(byLine[line]).range(+line));\n    }\n    return RangeSet.of(markers, true);\n}\nconst lintGutterExtension = /*@__PURE__*/gutter({\n    class: \"cm-gutter-lint\",\n    markers: view => view.state.field(lintGutterMarkers),\n});\nconst lintGutterMarkers = /*@__PURE__*/StateField.define({\n    create() {\n        return RangeSet.empty;\n    },\n    update(markers, tr) {\n        markers = markers.map(tr.changes);\n        let diagnosticFilter = tr.state.facet(lintGutterConfig).markerFilter;\n        for (let effect of tr.effects) {\n            if (effect.is(setDiagnosticsEffect)) {\n                let diagnostics = effect.value;\n                if (diagnosticFilter)\n                    diagnostics = diagnosticFilter(diagnostics || []);\n                markers = markersForDiagnostics(tr.state.doc, diagnostics.slice(0));\n            }\n        }\n        return markers;\n    }\n});\nconst setLintGutterTooltip = /*@__PURE__*/StateEffect.define();\nconst lintGutterTooltip = /*@__PURE__*/StateField.define({\n    create() { return null; },\n    update(tooltip, tr) {\n        if (tooltip && tr.docChanged)\n            tooltip = hideTooltip(tr, tooltip) ? null : Object.assign(Object.assign({}, tooltip), { pos: tr.changes.mapPos(tooltip.pos) });\n        return tr.effects.reduce((t, e) => e.is(setLintGutterTooltip) ? e.value : t, tooltip);\n    },\n    provide: field => showTooltip.from(field)\n});\nconst lintGutterTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-gutter-lint\": {\n        width: \"1.4em\",\n        \"& .cm-gutterElement\": {\n            padding: \".2em\"\n        }\n    },\n    \".cm-lint-marker\": {\n        width: \"1em\",\n        height: \"1em\"\n    },\n    \".cm-lint-marker-info\": {\n        content: /*@__PURE__*/svg(`<path fill=\"#aaf\" stroke=\"#77e\" stroke-width=\"6\" stroke-linejoin=\"round\" d=\"M5 5L35 5L35 35L5 35Z\"/>`)\n    },\n    \".cm-lint-marker-warning\": {\n        content: /*@__PURE__*/svg(`<path fill=\"#fe8\" stroke=\"#fd7\" stroke-width=\"6\" stroke-linejoin=\"round\" d=\"M20 6L37 35L3 35Z\"/>`),\n    },\n    \".cm-lint-marker-error\": {\n        content: /*@__PURE__*/svg(`<circle cx=\"20\" cy=\"20\" r=\"15\" fill=\"#f87\" stroke=\"#f43\" stroke-width=\"6\"/>`)\n    },\n});\nconst lintExtensions = [\n    lintState,\n    /*@__PURE__*/EditorView.decorations.compute([lintState], state => {\n        let { selected, panel } = state.field(lintState);\n        return !selected || !panel || selected.from == selected.to ? Decoration.none : Decoration.set([\n            activeMark.range(selected.from, selected.to)\n        ]);\n    }),\n    /*@__PURE__*/hoverTooltip(lintTooltip, { hideOn: hideTooltip }),\n    baseTheme\n];\nconst lintGutterConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            hoverTime: 300 /* Hover.Time */,\n            markerFilter: null,\n            tooltipFilter: null\n        });\n    }\n});\n/**\nReturns an extension that installs a gutter showing markers for\neach line that has diagnostics, which can be hovered over to see\nthe diagnostics.\n*/\nfunction lintGutter(config = {}) {\n    return [lintGutterConfig.of(config), lintGutterMarkers, lintGutterExtension, lintGutterTheme, lintGutterTooltip];\n}\n/**\nIterate over the marked diagnostics for the given editor state,\ncalling `f` for each of them. Note that, if the document changed\nsince the diagnostics were created, the `Diagnostic` object will\nhold the original outdated position, whereas the `to` and `from`\narguments hold the diagnostic's current position.\n*/\nfunction forEachDiagnostic(state, f) {\n    let lState = state.field(lintState, false);\n    if (lState && lState.diagnostics.size)\n        for (let iter = RangeSet.iter([lState.diagnostics]); iter.value; iter.next())\n            f(iter.value.spec.diagnostic, iter.from, iter.to);\n}\n\nexport { closeLintPanel, diagnosticCount, forEachDiagnostic, forceLinting, lintGutter, lintKeymap, linter, nextDiagnostic, openLintPanel, previousDiagnostic, setDiagnostics, setDiagnosticsEffect };\n","import { showPanel, EditorView, getPanel, Decoration, ViewPlugin, runScopeHandlers } from '@codemirror/view';\nimport { codePointAt, fromCodePoint, codePointSize, StateEffect, StateField, EditorSelection, Facet, combineConfig, CharCategory, RangeSetBuilder, Prec, EditorState, findClusterBreak } from '@codemirror/state';\nimport elt from 'crelt';\n\nconst basicNormalize = typeof String.prototype.normalize == \"function\"\n    ? x => x.normalize(\"NFKD\") : x => x;\n/**\nA search cursor provides an iterator over text matches in a\ndocument.\n*/\nclass SearchCursor {\n    /**\n    Create a text cursor. The query is the search string, `from` to\n    `to` provides the region to search.\n    \n    When `normalize` is given, it will be called, on both the query\n    string and the content it is matched against, before comparing.\n    You can, for example, create a case-insensitive search by\n    passing `s => s.toLowerCase()`.\n    \n    Text is always normalized with\n    [`.normalize(\"NFKD\")`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize)\n    (when supported).\n    */\n    constructor(text, query, from = 0, to = text.length, normalize, test) {\n        this.test = test;\n        /**\n        The current match (only holds a meaningful value after\n        [`next`](https://codemirror.net/6/docs/ref/#search.SearchCursor.next) has been called and when\n        `done` is false).\n        */\n        this.value = { from: 0, to: 0 };\n        /**\n        Whether the end of the iterated region has been reached.\n        */\n        this.done = false;\n        this.matches = [];\n        this.buffer = \"\";\n        this.bufferPos = 0;\n        this.iter = text.iterRange(from, to);\n        this.bufferStart = from;\n        this.normalize = normalize ? x => normalize(basicNormalize(x)) : basicNormalize;\n        this.query = this.normalize(query);\n    }\n    peek() {\n        if (this.bufferPos == this.buffer.length) {\n            this.bufferStart += this.buffer.length;\n            this.iter.next();\n            if (this.iter.done)\n                return -1;\n            this.bufferPos = 0;\n            this.buffer = this.iter.value;\n        }\n        return codePointAt(this.buffer, this.bufferPos);\n    }\n    /**\n    Look for the next match. Updates the iterator's\n    [`value`](https://codemirror.net/6/docs/ref/#search.SearchCursor.value) and\n    [`done`](https://codemirror.net/6/docs/ref/#search.SearchCursor.done) properties. Should be called\n    at least once before using the cursor.\n    */\n    next() {\n        while (this.matches.length)\n            this.matches.pop();\n        return this.nextOverlapping();\n    }\n    /**\n    The `next` method will ignore matches that partially overlap a\n    previous match. This method behaves like `next`, but includes\n    such matches.\n    */\n    nextOverlapping() {\n        for (;;) {\n            let next = this.peek();\n            if (next < 0) {\n                this.done = true;\n                return this;\n            }\n            let str = fromCodePoint(next), start = this.bufferStart + this.bufferPos;\n            this.bufferPos += codePointSize(next);\n            let norm = this.normalize(str);\n            for (let i = 0, pos = start;; i++) {\n                let code = norm.charCodeAt(i);\n                let match = this.match(code, pos);\n                if (i == norm.length - 1) {\n                    if (match) {\n                        this.value = match;\n                        return this;\n                    }\n                    break;\n                }\n                if (pos == start && i < str.length && str.charCodeAt(i) == code)\n                    pos++;\n            }\n        }\n    }\n    match(code, pos) {\n        let match = null;\n        for (let i = 0; i < this.matches.length; i += 2) {\n            let index = this.matches[i], keep = false;\n            if (this.query.charCodeAt(index) == code) {\n                if (index == this.query.length - 1) {\n                    match = { from: this.matches[i + 1], to: pos + 1 };\n                }\n                else {\n                    this.matches[i]++;\n                    keep = true;\n                }\n            }\n            if (!keep) {\n                this.matches.splice(i, 2);\n                i -= 2;\n            }\n        }\n        if (this.query.charCodeAt(0) == code) {\n            if (this.query.length == 1)\n                match = { from: pos, to: pos + 1 };\n            else\n                this.matches.push(1, pos);\n        }\n        if (match && this.test && !this.test(match.from, match.to, this.buffer, this.bufferStart))\n            match = null;\n        return match;\n    }\n}\nif (typeof Symbol != \"undefined\")\n    SearchCursor.prototype[Symbol.iterator] = function () { return this; };\n\nconst empty = { from: -1, to: -1, match: /*@__PURE__*//.*/.exec(\"\") };\nconst baseFlags = \"gm\" + (/x/.unicode == null ? \"\" : \"u\");\n/**\nThis class is similar to [`SearchCursor`](https://codemirror.net/6/docs/ref/#search.SearchCursor)\nbut searches for a regular expression pattern instead of a plain\nstring.\n*/\nclass RegExpCursor {\n    /**\n    Create a cursor that will search the given range in the given\n    document. `query` should be the raw pattern (as you'd pass it to\n    `new RegExp`).\n    */\n    constructor(text, query, options, from = 0, to = text.length) {\n        this.text = text;\n        this.to = to;\n        this.curLine = \"\";\n        /**\n        Set to `true` when the cursor has reached the end of the search\n        range.\n        */\n        this.done = false;\n        /**\n        Will contain an object with the extent of the match and the\n        match object when [`next`](https://codemirror.net/6/docs/ref/#search.RegExpCursor.next)\n        sucessfully finds a match.\n        */\n        this.value = empty;\n        if (/\\\\[sWDnr]|\\n|\\r|\\[\\^/.test(query))\n            return new MultilineRegExpCursor(text, query, options, from, to);\n        this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\n        this.test = options === null || options === void 0 ? void 0 : options.test;\n        this.iter = text.iter();\n        let startLine = text.lineAt(from);\n        this.curLineStart = startLine.from;\n        this.matchPos = toCharEnd(text, from);\n        this.getLine(this.curLineStart);\n    }\n    getLine(skip) {\n        this.iter.next(skip);\n        if (this.iter.lineBreak) {\n            this.curLine = \"\";\n        }\n        else {\n            this.curLine = this.iter.value;\n            if (this.curLineStart + this.curLine.length > this.to)\n                this.curLine = this.curLine.slice(0, this.to - this.curLineStart);\n            this.iter.next();\n        }\n    }\n    nextLine() {\n        this.curLineStart = this.curLineStart + this.curLine.length + 1;\n        if (this.curLineStart > this.to)\n            this.curLine = \"\";\n        else\n            this.getLine(0);\n    }\n    /**\n    Move to the next match, if there is one.\n    */\n    next() {\n        for (let off = this.matchPos - this.curLineStart;;) {\n            this.re.lastIndex = off;\n            let match = this.matchPos <= this.to && this.re.exec(this.curLine);\n            if (match) {\n                let from = this.curLineStart + match.index, to = from + match[0].length;\n                this.matchPos = toCharEnd(this.text, to + (from == to ? 1 : 0));\n                if (from == this.curLineStart + this.curLine.length)\n                    this.nextLine();\n                if ((from < to || from > this.value.to) && (!this.test || this.test(from, to, match))) {\n                    this.value = { from, to, match };\n                    return this;\n                }\n                off = this.matchPos - this.curLineStart;\n            }\n            else if (this.curLineStart + this.curLine.length < this.to) {\n                this.nextLine();\n                off = 0;\n            }\n            else {\n                this.done = true;\n                return this;\n            }\n        }\n    }\n}\nconst flattened = /*@__PURE__*/new WeakMap();\n// Reusable (partially) flattened document strings\nclass FlattenedDoc {\n    constructor(from, text) {\n        this.from = from;\n        this.text = text;\n    }\n    get to() { return this.from + this.text.length; }\n    static get(doc, from, to) {\n        let cached = flattened.get(doc);\n        if (!cached || cached.from >= to || cached.to <= from) {\n            let flat = new FlattenedDoc(from, doc.sliceString(from, to));\n            flattened.set(doc, flat);\n            return flat;\n        }\n        if (cached.from == from && cached.to == to)\n            return cached;\n        let { text, from: cachedFrom } = cached;\n        if (cachedFrom > from) {\n            text = doc.sliceString(from, cachedFrom) + text;\n            cachedFrom = from;\n        }\n        if (cached.to < to)\n            text += doc.sliceString(cached.to, to);\n        flattened.set(doc, new FlattenedDoc(cachedFrom, text));\n        return new FlattenedDoc(from, text.slice(from - cachedFrom, to - cachedFrom));\n    }\n}\nclass MultilineRegExpCursor {\n    constructor(text, query, options, from, to) {\n        this.text = text;\n        this.to = to;\n        this.done = false;\n        this.value = empty;\n        this.matchPos = toCharEnd(text, from);\n        this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\n        this.test = options === null || options === void 0 ? void 0 : options.test;\n        this.flat = FlattenedDoc.get(text, from, this.chunkEnd(from + 5000 /* Chunk.Base */));\n    }\n    chunkEnd(pos) {\n        return pos >= this.to ? this.to : this.text.lineAt(pos).to;\n    }\n    next() {\n        for (;;) {\n            let off = this.re.lastIndex = this.matchPos - this.flat.from;\n            let match = this.re.exec(this.flat.text);\n            // Skip empty matches directly after the last match\n            if (match && !match[0] && match.index == off) {\n                this.re.lastIndex = off + 1;\n                match = this.re.exec(this.flat.text);\n            }\n            if (match) {\n                let from = this.flat.from + match.index, to = from + match[0].length;\n                // If a match goes almost to the end of a noncomplete chunk, try\n                // again, since it'll likely be able to match more\n                if ((this.flat.to >= this.to || match.index + match[0].length <= this.flat.text.length - 10) &&\n                    (!this.test || this.test(from, to, match))) {\n                    this.value = { from, to, match };\n                    this.matchPos = toCharEnd(this.text, to + (from == to ? 1 : 0));\n                    return this;\n                }\n            }\n            if (this.flat.to == this.to) {\n                this.done = true;\n                return this;\n            }\n            // Grow the flattened doc\n            this.flat = FlattenedDoc.get(this.text, this.flat.from, this.chunkEnd(this.flat.from + this.flat.text.length * 2));\n        }\n    }\n}\nif (typeof Symbol != \"undefined\") {\n    RegExpCursor.prototype[Symbol.iterator] = MultilineRegExpCursor.prototype[Symbol.iterator] =\n        function () { return this; };\n}\nfunction validRegExp(source) {\n    try {\n        new RegExp(source, baseFlags);\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n}\nfunction toCharEnd(text, pos) {\n    if (pos >= text.length)\n        return pos;\n    let line = text.lineAt(pos), next;\n    while (pos < line.to && (next = line.text.charCodeAt(pos - line.from)) >= 0xDC00 && next < 0xE000)\n        pos++;\n    return pos;\n}\n\nfunction createLineDialog(view) {\n    let line = String(view.state.doc.lineAt(view.state.selection.main.head).number);\n    let input = elt(\"input\", { class: \"cm-textfield\", name: \"line\", value: line });\n    let dom = elt(\"form\", {\n        class: \"cm-gotoLine\",\n        onkeydown: (event) => {\n            if (event.keyCode == 27) { // Escape\n                event.preventDefault();\n                view.dispatch({ effects: dialogEffect.of(false) });\n                view.focus();\n            }\n            else if (event.keyCode == 13) { // Enter\n                event.preventDefault();\n                go();\n            }\n        },\n        onsubmit: (event) => {\n            event.preventDefault();\n            go();\n        }\n    }, elt(\"label\", view.state.phrase(\"Go to line\"), \": \", input), \" \", elt(\"button\", { class: \"cm-button\", type: \"submit\" }, view.state.phrase(\"go\")));\n    function go() {\n        let match = /^([+-])?(\\d+)?(:\\d+)?(%)?$/.exec(input.value);\n        if (!match)\n            return;\n        let { state } = view, startLine = state.doc.lineAt(state.selection.main.head);\n        let [, sign, ln, cl, percent] = match;\n        let col = cl ? +cl.slice(1) : 0;\n        let line = ln ? +ln : startLine.number;\n        if (ln && percent) {\n            let pc = line / 100;\n            if (sign)\n                pc = pc * (sign == \"-\" ? -1 : 1) + (startLine.number / state.doc.lines);\n            line = Math.round(state.doc.lines * pc);\n        }\n        else if (ln && sign) {\n            line = line * (sign == \"-\" ? -1 : 1) + startLine.number;\n        }\n        let docLine = state.doc.line(Math.max(1, Math.min(state.doc.lines, line)));\n        let selection = EditorSelection.cursor(docLine.from + Math.max(0, Math.min(col, docLine.length)));\n        view.dispatch({\n            effects: [dialogEffect.of(false), EditorView.scrollIntoView(selection.from, { y: 'center' })],\n            selection,\n        });\n        view.focus();\n    }\n    return { dom };\n}\nconst dialogEffect = /*@__PURE__*/StateEffect.define();\nconst dialogField = /*@__PURE__*/StateField.define({\n    create() { return true; },\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(dialogEffect))\n                value = e.value;\n        return value;\n    },\n    provide: f => showPanel.from(f, val => val ? createLineDialog : null)\n});\n/**\nCommand that shows a dialog asking the user for a line number, and\nwhen a valid position is provided, moves the cursor to that line.\n\nSupports line numbers, relative line offsets prefixed with `+` or\n`-`, document percentages suffixed with `%`, and an optional\ncolumn position by adding `:` and a second number after the line\nnumber.\n*/\nconst gotoLine = view => {\n    let panel = getPanel(view, createLineDialog);\n    if (!panel) {\n        let effects = [dialogEffect.of(true)];\n        if (view.state.field(dialogField, false) == null)\n            effects.push(StateEffect.appendConfig.of([dialogField, baseTheme$1]));\n        view.dispatch({ effects });\n        panel = getPanel(view, createLineDialog);\n    }\n    if (panel)\n        panel.dom.querySelector(\"input\").select();\n    return true;\n};\nconst baseTheme$1 = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panel.cm-gotoLine\": {\n        padding: \"2px 6px 4px\",\n        \"& label\": { fontSize: \"80%\" }\n    }\n});\n\nconst defaultHighlightOptions = {\n    highlightWordAroundCursor: false,\n    minSelectionLength: 1,\n    maxMatches: 100,\n    wholeWords: false\n};\nconst highlightConfig = /*@__PURE__*/Facet.define({\n    combine(options) {\n        return combineConfig(options, defaultHighlightOptions, {\n            highlightWordAroundCursor: (a, b) => a || b,\n            minSelectionLength: Math.min,\n            maxMatches: Math.min\n        });\n    }\n});\n/**\nThis extension highlights text that matches the selection. It uses\nthe `\"cm-selectionMatch\"` class for the highlighting. When\n`highlightWordAroundCursor` is enabled, the word at the cursor\nitself will be highlighted with `\"cm-selectionMatch-main\"`.\n*/\nfunction highlightSelectionMatches(options) {\n    let ext = [defaultTheme, matchHighlighter];\n    if (options)\n        ext.push(highlightConfig.of(options));\n    return ext;\n}\nconst matchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch\" });\nconst mainMatchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch cm-selectionMatch-main\" });\n// Whether the characters directly outside the given positions are non-word characters\nfunction insideWordBoundaries(check, state, from, to) {\n    return (from == 0 || check(state.sliceDoc(from - 1, from)) != CharCategory.Word) &&\n        (to == state.doc.length || check(state.sliceDoc(to, to + 1)) != CharCategory.Word);\n}\n// Whether the characters directly at the given positions are word characters\nfunction insideWord(check, state, from, to) {\n    return check(state.sliceDoc(from, from + 1)) == CharCategory.Word\n        && check(state.sliceDoc(to - 1, to)) == CharCategory.Word;\n}\nconst matchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.decorations = this.getDeco(view);\n    }\n    update(update) {\n        if (update.selectionSet || update.docChanged || update.viewportChanged)\n            this.decorations = this.getDeco(update.view);\n    }\n    getDeco(view) {\n        let conf = view.state.facet(highlightConfig);\n        let { state } = view, sel = state.selection;\n        if (sel.ranges.length > 1)\n            return Decoration.none;\n        let range = sel.main, query, check = null;\n        if (range.empty) {\n            if (!conf.highlightWordAroundCursor)\n                return Decoration.none;\n            let word = state.wordAt(range.head);\n            if (!word)\n                return Decoration.none;\n            check = state.charCategorizer(range.head);\n            query = state.sliceDoc(word.from, word.to);\n        }\n        else {\n            let len = range.to - range.from;\n            if (len < conf.minSelectionLength || len > 200)\n                return Decoration.none;\n            if (conf.wholeWords) {\n                query = state.sliceDoc(range.from, range.to); // TODO: allow and include leading/trailing space?\n                check = state.charCategorizer(range.head);\n                if (!(insideWordBoundaries(check, state, range.from, range.to)\n                    && insideWord(check, state, range.from, range.to)))\n                    return Decoration.none;\n            }\n            else {\n                query = state.sliceDoc(range.from, range.to).trim();\n                if (!query)\n                    return Decoration.none;\n            }\n        }\n        let deco = [];\n        for (let part of view.visibleRanges) {\n            let cursor = new SearchCursor(state.doc, query, part.from, part.to);\n            while (!cursor.next().done) {\n                let { from, to } = cursor.value;\n                if (!check || insideWordBoundaries(check, state, from, to)) {\n                    if (range.empty && from <= range.from && to >= range.to)\n                        deco.push(mainMatchDeco.range(from, to));\n                    else if (from >= range.to || to <= range.from)\n                        deco.push(matchDeco.range(from, to));\n                    if (deco.length > conf.maxMatches)\n                        return Decoration.none;\n                }\n            }\n        }\n        return Decoration.set(deco);\n    }\n}, {\n    decorations: v => v.decorations\n});\nconst defaultTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-selectionMatch\": { backgroundColor: \"#99ff7780\" },\n    \".cm-searchMatch .cm-selectionMatch\": { backgroundColor: \"transparent\" }\n});\n// Select the words around the cursors.\nconst selectWord = ({ state, dispatch }) => {\n    let { selection } = state;\n    let newSel = EditorSelection.create(selection.ranges.map(range => state.wordAt(range.head) || EditorSelection.cursor(range.head)), selection.mainIndex);\n    if (newSel.eq(selection))\n        return false;\n    dispatch(state.update({ selection: newSel }));\n    return true;\n};\n// Find next occurrence of query relative to last cursor. Wrap around\n// the document if there are no more matches.\nfunction findNextOccurrence(state, query) {\n    let { main, ranges } = state.selection;\n    let word = state.wordAt(main.head), fullWord = word && word.from == main.from && word.to == main.to;\n    for (let cycled = false, cursor = new SearchCursor(state.doc, query, ranges[ranges.length - 1].to);;) {\n        cursor.next();\n        if (cursor.done) {\n            if (cycled)\n                return null;\n            cursor = new SearchCursor(state.doc, query, 0, Math.max(0, ranges[ranges.length - 1].from - 1));\n            cycled = true;\n        }\n        else {\n            if (cycled && ranges.some(r => r.from == cursor.value.from))\n                continue;\n            if (fullWord) {\n                let word = state.wordAt(cursor.value.from);\n                if (!word || word.from != cursor.value.from || word.to != cursor.value.to)\n                    continue;\n            }\n            return cursor.value;\n        }\n    }\n}\n/**\nSelect next occurrence of the current selection. Expand selection\nto the surrounding word when the selection is empty.\n*/\nconst selectNextOccurrence = ({ state, dispatch }) => {\n    let { ranges } = state.selection;\n    if (ranges.some(sel => sel.from === sel.to))\n        return selectWord({ state, dispatch });\n    let searchedText = state.sliceDoc(ranges[0].from, ranges[0].to);\n    if (state.selection.ranges.some(r => state.sliceDoc(r.from, r.to) != searchedText))\n        return false;\n    let range = findNextOccurrence(state, searchedText);\n    if (!range)\n        return false;\n    dispatch(state.update({\n        selection: state.selection.addRange(EditorSelection.range(range.from, range.to), false),\n        effects: EditorView.scrollIntoView(range.to)\n    }));\n    return true;\n};\n\nconst searchConfigFacet = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            top: false,\n            caseSensitive: false,\n            literal: false,\n            regexp: false,\n            wholeWord: false,\n            createPanel: view => new SearchPanel(view),\n            scrollToMatch: range => EditorView.scrollIntoView(range)\n        });\n    }\n});\n/**\nAdd search state to the editor configuration, and optionally\nconfigure the search extension.\n([`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel) will automatically\nenable this if it isn't already on).\n*/\nfunction search(config) {\n    return config ? [searchConfigFacet.of(config), searchExtensions] : searchExtensions;\n}\n/**\nA search query. Part of the editor's search state.\n*/\nclass SearchQuery {\n    /**\n    Create a query object.\n    */\n    constructor(config) {\n        this.search = config.search;\n        this.caseSensitive = !!config.caseSensitive;\n        this.literal = !!config.literal;\n        this.regexp = !!config.regexp;\n        this.replace = config.replace || \"\";\n        this.valid = !!this.search && (!this.regexp || validRegExp(this.search));\n        this.unquoted = this.unquote(this.search);\n        this.wholeWord = !!config.wholeWord;\n    }\n    /**\n    @internal\n    */\n    unquote(text) {\n        return this.literal ? text :\n            text.replace(/\\\\([nrt\\\\])/g, (_, ch) => ch == \"n\" ? \"\\n\" : ch == \"r\" ? \"\\r\" : ch == \"t\" ? \"\\t\" : \"\\\\\");\n    }\n    /**\n    Compare this query to another query.\n    */\n    eq(other) {\n        return this.search == other.search && this.replace == other.replace &&\n            this.caseSensitive == other.caseSensitive && this.regexp == other.regexp &&\n            this.wholeWord == other.wholeWord;\n    }\n    /**\n    @internal\n    */\n    create() {\n        return this.regexp ? new RegExpQuery(this) : new StringQuery(this);\n    }\n    /**\n    Get a search cursor for this query, searching through the given\n    range in the given state.\n    */\n    getCursor(state, from = 0, to) {\n        let st = state.doc ? state : EditorState.create({ doc: state });\n        if (to == null)\n            to = st.doc.length;\n        return this.regexp ? regexpCursor(this, st, from, to) : stringCursor(this, st, from, to);\n    }\n}\nclass QueryType {\n    constructor(spec) {\n        this.spec = spec;\n    }\n}\nfunction stringCursor(spec, state, from, to) {\n    return new SearchCursor(state.doc, spec.unquoted, from, to, spec.caseSensitive ? undefined : x => x.toLowerCase(), spec.wholeWord ? stringWordTest(state.doc, state.charCategorizer(state.selection.main.head)) : undefined);\n}\nfunction stringWordTest(doc, categorizer) {\n    return (from, to, buf, bufPos) => {\n        if (bufPos > from || bufPos + buf.length < to) {\n            bufPos = Math.max(0, from - 2);\n            buf = doc.sliceString(bufPos, Math.min(doc.length, to + 2));\n        }\n        return (categorizer(charBefore(buf, from - bufPos)) != CharCategory.Word ||\n            categorizer(charAfter(buf, from - bufPos)) != CharCategory.Word) &&\n            (categorizer(charAfter(buf, to - bufPos)) != CharCategory.Word ||\n                categorizer(charBefore(buf, to - bufPos)) != CharCategory.Word);\n    };\n}\nclass StringQuery extends QueryType {\n    constructor(spec) {\n        super(spec);\n    }\n    nextMatch(state, curFrom, curTo) {\n        let cursor = stringCursor(this.spec, state, curTo, state.doc.length).nextOverlapping();\n        if (cursor.done)\n            cursor = stringCursor(this.spec, state, 0, curFrom).nextOverlapping();\n        return cursor.done ? null : cursor.value;\n    }\n    // Searching in reverse is, rather than implementing an inverted search\n    // cursor, done by scanning chunk after chunk forward.\n    prevMatchInRange(state, from, to) {\n        for (let pos = to;;) {\n            let start = Math.max(from, pos - 10000 /* FindPrev.ChunkSize */ - this.spec.unquoted.length);\n            let cursor = stringCursor(this.spec, state, start, pos), range = null;\n            while (!cursor.nextOverlapping().done)\n                range = cursor.value;\n            if (range)\n                return range;\n            if (start == from)\n                return null;\n            pos -= 10000 /* FindPrev.ChunkSize */;\n        }\n    }\n    prevMatch(state, curFrom, curTo) {\n        return this.prevMatchInRange(state, 0, curFrom) ||\n            this.prevMatchInRange(state, curTo, state.doc.length);\n    }\n    getReplacement(_result) { return this.spec.unquote(this.spec.replace); }\n    matchAll(state, limit) {\n        let cursor = stringCursor(this.spec, state, 0, state.doc.length), ranges = [];\n        while (!cursor.next().done) {\n            if (ranges.length >= limit)\n                return null;\n            ranges.push(cursor.value);\n        }\n        return ranges;\n    }\n    highlight(state, from, to, add) {\n        let cursor = stringCursor(this.spec, state, Math.max(0, from - this.spec.unquoted.length), Math.min(to + this.spec.unquoted.length, state.doc.length));\n        while (!cursor.next().done)\n            add(cursor.value.from, cursor.value.to);\n    }\n}\nfunction regexpCursor(spec, state, from, to) {\n    return new RegExpCursor(state.doc, spec.search, {\n        ignoreCase: !spec.caseSensitive,\n        test: spec.wholeWord ? regexpWordTest(state.charCategorizer(state.selection.main.head)) : undefined\n    }, from, to);\n}\nfunction charBefore(str, index) {\n    return str.slice(findClusterBreak(str, index, false), index);\n}\nfunction charAfter(str, index) {\n    return str.slice(index, findClusterBreak(str, index));\n}\nfunction regexpWordTest(categorizer) {\n    return (_from, _to, match) => !match[0].length ||\n        (categorizer(charBefore(match.input, match.index)) != CharCategory.Word ||\n            categorizer(charAfter(match.input, match.index)) != CharCategory.Word) &&\n            (categorizer(charAfter(match.input, match.index + match[0].length)) != CharCategory.Word ||\n                categorizer(charBefore(match.input, match.index + match[0].length)) != CharCategory.Word);\n}\nclass RegExpQuery extends QueryType {\n    nextMatch(state, curFrom, curTo) {\n        let cursor = regexpCursor(this.spec, state, curTo, state.doc.length).next();\n        if (cursor.done)\n            cursor = regexpCursor(this.spec, state, 0, curFrom).next();\n        return cursor.done ? null : cursor.value;\n    }\n    prevMatchInRange(state, from, to) {\n        for (let size = 1;; size++) {\n            let start = Math.max(from, to - size * 10000 /* FindPrev.ChunkSize */);\n            let cursor = regexpCursor(this.spec, state, start, to), range = null;\n            while (!cursor.next().done)\n                range = cursor.value;\n            if (range && (start == from || range.from > start + 10))\n                return range;\n            if (start == from)\n                return null;\n        }\n    }\n    prevMatch(state, curFrom, curTo) {\n        return this.prevMatchInRange(state, 0, curFrom) ||\n            this.prevMatchInRange(state, curTo, state.doc.length);\n    }\n    getReplacement(result) {\n        return this.spec.unquote(this.spec.replace.replace(/\\$([$&\\d+])/g, (m, i) => i == \"$\" ? \"$\"\n            : i == \"&\" ? result.match[0]\n                : i != \"0\" && +i < result.match.length ? result.match[i]\n                    : m));\n    }\n    matchAll(state, limit) {\n        let cursor = regexpCursor(this.spec, state, 0, state.doc.length), ranges = [];\n        while (!cursor.next().done) {\n            if (ranges.length >= limit)\n                return null;\n            ranges.push(cursor.value);\n        }\n        return ranges;\n    }\n    highlight(state, from, to, add) {\n        let cursor = regexpCursor(this.spec, state, Math.max(0, from - 250 /* RegExp.HighlightMargin */), Math.min(to + 250 /* RegExp.HighlightMargin */, state.doc.length));\n        while (!cursor.next().done)\n            add(cursor.value.from, cursor.value.to);\n    }\n}\n/**\nA state effect that updates the current search query. Note that\nthis only has an effect if the search state has been initialized\n(by including [`search`](https://codemirror.net/6/docs/ref/#search.search) in your configuration or\nby running [`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel) at least\nonce).\n*/\nconst setSearchQuery = /*@__PURE__*/StateEffect.define();\nconst togglePanel = /*@__PURE__*/StateEffect.define();\nconst searchState = /*@__PURE__*/StateField.define({\n    create(state) {\n        return new SearchState(defaultQuery(state).create(), null);\n    },\n    update(value, tr) {\n        for (let effect of tr.effects) {\n            if (effect.is(setSearchQuery))\n                value = new SearchState(effect.value.create(), value.panel);\n            else if (effect.is(togglePanel))\n                value = new SearchState(value.query, effect.value ? createSearchPanel : null);\n        }\n        return value;\n    },\n    provide: f => showPanel.from(f, val => val.panel)\n});\n/**\nGet the current search query from an editor state.\n*/\nfunction getSearchQuery(state) {\n    let curState = state.field(searchState, false);\n    return curState ? curState.query.spec : defaultQuery(state);\n}\n/**\nQuery whether the search panel is open in the given editor state.\n*/\nfunction searchPanelOpen(state) {\n    var _a;\n    return ((_a = state.field(searchState, false)) === null || _a === void 0 ? void 0 : _a.panel) != null;\n}\nclass SearchState {\n    constructor(query, panel) {\n        this.query = query;\n        this.panel = panel;\n    }\n}\nconst matchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch\" }), selectedMatchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch cm-searchMatch-selected\" });\nconst searchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.decorations = this.highlight(view.state.field(searchState));\n    }\n    update(update) {\n        let state = update.state.field(searchState);\n        if (state != update.startState.field(searchState) || update.docChanged || update.selectionSet || update.viewportChanged)\n            this.decorations = this.highlight(state);\n    }\n    highlight({ query, panel }) {\n        if (!panel || !query.spec.valid)\n            return Decoration.none;\n        let { view } = this;\n        let builder = new RangeSetBuilder();\n        for (let i = 0, ranges = view.visibleRanges, l = ranges.length; i < l; i++) {\n            let { from, to } = ranges[i];\n            while (i < l - 1 && to > ranges[i + 1].from - 2 * 250 /* RegExp.HighlightMargin */)\n                to = ranges[++i].to;\n            query.highlight(view.state, from, to, (from, to) => {\n                let selected = view.state.selection.ranges.some(r => r.from == from && r.to == to);\n                builder.add(from, to, selected ? selectedMatchMark : matchMark);\n            });\n        }\n        return builder.finish();\n    }\n}, {\n    decorations: v => v.decorations\n});\nfunction searchCommand(f) {\n    return view => {\n        let state = view.state.field(searchState, false);\n        return state && state.query.spec.valid ? f(view, state) : openSearchPanel(view);\n    };\n}\n/**\nOpen the search panel if it isn't already open, and move the\nselection to the first match after the current main selection.\nWill wrap around to the start of the document when it reaches the\nend.\n*/\nconst findNext = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { to } = view.state.selection.main;\n    let next = query.nextMatch(view.state, to, to);\n    if (!next)\n        return false;\n    let selection = EditorSelection.single(next.from, next.to);\n    let config = view.state.facet(searchConfigFacet);\n    view.dispatch({\n        selection,\n        effects: [announceMatch(view, next), config.scrollToMatch(selection.main, view)],\n        userEvent: \"select.search\"\n    });\n    selectSearchInput(view);\n    return true;\n});\n/**\nMove the selection to the previous instance of the search query,\nbefore the current main selection. Will wrap past the start\nof the document to start searching at the end again.\n*/\nconst findPrevious = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { state } = view, { from } = state.selection.main;\n    let prev = query.prevMatch(state, from, from);\n    if (!prev)\n        return false;\n    let selection = EditorSelection.single(prev.from, prev.to);\n    let config = view.state.facet(searchConfigFacet);\n    view.dispatch({\n        selection,\n        effects: [announceMatch(view, prev), config.scrollToMatch(selection.main, view)],\n        userEvent: \"select.search\"\n    });\n    selectSearchInput(view);\n    return true;\n});\n/**\nSelect all instances of the search query.\n*/\nconst selectMatches = /*@__PURE__*/searchCommand((view, { query }) => {\n    let ranges = query.matchAll(view.state, 1000);\n    if (!ranges || !ranges.length)\n        return false;\n    view.dispatch({\n        selection: EditorSelection.create(ranges.map(r => EditorSelection.range(r.from, r.to))),\n        userEvent: \"select.search.matches\"\n    });\n    return true;\n});\n/**\nSelect all instances of the currently selected text.\n*/\nconst selectSelectionMatches = ({ state, dispatch }) => {\n    let sel = state.selection;\n    if (sel.ranges.length > 1 || sel.main.empty)\n        return false;\n    let { from, to } = sel.main;\n    let ranges = [], main = 0;\n    for (let cur = new SearchCursor(state.doc, state.sliceDoc(from, to)); !cur.next().done;) {\n        if (ranges.length > 1000)\n            return false;\n        if (cur.value.from == from)\n            main = ranges.length;\n        ranges.push(EditorSelection.range(cur.value.from, cur.value.to));\n    }\n    dispatch(state.update({\n        selection: EditorSelection.create(ranges, main),\n        userEvent: \"select.search.matches\"\n    }));\n    return true;\n};\n/**\nReplace the current match of the search query.\n*/\nconst replaceNext = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { state } = view, { from, to } = state.selection.main;\n    if (state.readOnly)\n        return false;\n    let next = query.nextMatch(state, from, from);\n    if (!next)\n        return false;\n    let changes = [], selection, replacement;\n    let effects = [];\n    if (next.from == from && next.to == to) {\n        replacement = state.toText(query.getReplacement(next));\n        changes.push({ from: next.from, to: next.to, insert: replacement });\n        next = query.nextMatch(state, next.from, next.to);\n        effects.push(EditorView.announce.of(state.phrase(\"replaced match on line $\", state.doc.lineAt(from).number) + \".\"));\n    }\n    if (next) {\n        let off = changes.length == 0 || changes[0].from >= next.to ? 0 : next.to - next.from - replacement.length;\n        selection = EditorSelection.single(next.from - off, next.to - off);\n        effects.push(announceMatch(view, next));\n        effects.push(state.facet(searchConfigFacet).scrollToMatch(selection.main, view));\n    }\n    view.dispatch({\n        changes, selection, effects,\n        userEvent: \"input.replace\"\n    });\n    return true;\n});\n/**\nReplace all instances of the search query with the given\nreplacement.\n*/\nconst replaceAll = /*@__PURE__*/searchCommand((view, { query }) => {\n    if (view.state.readOnly)\n        return false;\n    let changes = query.matchAll(view.state, 1e9).map(match => {\n        let { from, to } = match;\n        return { from, to, insert: query.getReplacement(match) };\n    });\n    if (!changes.length)\n        return false;\n    let announceText = view.state.phrase(\"replaced $ matches\", changes.length) + \".\";\n    view.dispatch({\n        changes,\n        effects: EditorView.announce.of(announceText),\n        userEvent: \"input.replace.all\"\n    });\n    return true;\n});\nfunction createSearchPanel(view) {\n    return view.state.facet(searchConfigFacet).createPanel(view);\n}\nfunction defaultQuery(state, fallback) {\n    var _a, _b, _c, _d, _e;\n    let sel = state.selection.main;\n    let selText = sel.empty || sel.to > sel.from + 100 ? \"\" : state.sliceDoc(sel.from, sel.to);\n    if (fallback && !selText)\n        return fallback;\n    let config = state.facet(searchConfigFacet);\n    return new SearchQuery({\n        search: ((_a = fallback === null || fallback === void 0 ? void 0 : fallback.literal) !== null && _a !== void 0 ? _a : config.literal) ? selText : selText.replace(/\\n/g, \"\\\\n\"),\n        caseSensitive: (_b = fallback === null || fallback === void 0 ? void 0 : fallback.caseSensitive) !== null && _b !== void 0 ? _b : config.caseSensitive,\n        literal: (_c = fallback === null || fallback === void 0 ? void 0 : fallback.literal) !== null && _c !== void 0 ? _c : config.literal,\n        regexp: (_d = fallback === null || fallback === void 0 ? void 0 : fallback.regexp) !== null && _d !== void 0 ? _d : config.regexp,\n        wholeWord: (_e = fallback === null || fallback === void 0 ? void 0 : fallback.wholeWord) !== null && _e !== void 0 ? _e : config.wholeWord\n    });\n}\nfunction getSearchInput(view) {\n    let panel = getPanel(view, createSearchPanel);\n    return panel && panel.dom.querySelector(\"[main-field]\");\n}\nfunction selectSearchInput(view) {\n    let input = getSearchInput(view);\n    if (input && input == view.root.activeElement)\n        input.select();\n}\n/**\nMake sure the search panel is open and focused.\n*/\nconst openSearchPanel = view => {\n    let state = view.state.field(searchState, false);\n    if (state && state.panel) {\n        let searchInput = getSearchInput(view);\n        if (searchInput && searchInput != view.root.activeElement) {\n            let query = defaultQuery(view.state, state.query.spec);\n            if (query.valid)\n                view.dispatch({ effects: setSearchQuery.of(query) });\n            searchInput.focus();\n            searchInput.select();\n        }\n    }\n    else {\n        view.dispatch({ effects: [\n                togglePanel.of(true),\n                state ? setSearchQuery.of(defaultQuery(view.state, state.query.spec)) : StateEffect.appendConfig.of(searchExtensions)\n            ] });\n    }\n    return true;\n};\n/**\nClose the search panel.\n*/\nconst closeSearchPanel = view => {\n    let state = view.state.field(searchState, false);\n    if (!state || !state.panel)\n        return false;\n    let panel = getPanel(view, createSearchPanel);\n    if (panel && panel.dom.contains(view.root.activeElement))\n        view.focus();\n    view.dispatch({ effects: togglePanel.of(false) });\n    return true;\n};\n/**\nDefault search-related key bindings.\n\n - Mod-f: [`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel)\n - F3, Mod-g: [`findNext`](https://codemirror.net/6/docs/ref/#search.findNext)\n - Shift-F3, Shift-Mod-g: [`findPrevious`](https://codemirror.net/6/docs/ref/#search.findPrevious)\n - Alt-g: [`gotoLine`](https://codemirror.net/6/docs/ref/#search.gotoLine)\n - Mod-d: [`selectNextOccurrence`](https://codemirror.net/6/docs/ref/#search.selectNextOccurrence)\n*/\nconst searchKeymap = [\n    { key: \"Mod-f\", run: openSearchPanel, scope: \"editor search-panel\" },\n    { key: \"F3\", run: findNext, shift: findPrevious, scope: \"editor search-panel\", preventDefault: true },\n    { key: \"Mod-g\", run: findNext, shift: findPrevious, scope: \"editor search-panel\", preventDefault: true },\n    { key: \"Escape\", run: closeSearchPanel, scope: \"editor search-panel\" },\n    { key: \"Mod-Shift-l\", run: selectSelectionMatches },\n    { key: \"Alt-g\", run: gotoLine },\n    { key: \"Mod-d\", run: selectNextOccurrence, preventDefault: true },\n];\nclass SearchPanel {\n    constructor(view) {\n        this.view = view;\n        let query = this.query = view.state.field(searchState).query.spec;\n        this.commit = this.commit.bind(this);\n        this.searchField = elt(\"input\", {\n            value: query.search,\n            placeholder: phrase(view, \"Find\"),\n            \"aria-label\": phrase(view, \"Find\"),\n            class: \"cm-textfield\",\n            name: \"search\",\n            form: \"\",\n            \"main-field\": \"true\",\n            onchange: this.commit,\n            onkeyup: this.commit\n        });\n        this.replaceField = elt(\"input\", {\n            value: query.replace,\n            placeholder: phrase(view, \"Replace\"),\n            \"aria-label\": phrase(view, \"Replace\"),\n            class: \"cm-textfield\",\n            name: \"replace\",\n            form: \"\",\n            onchange: this.commit,\n            onkeyup: this.commit\n        });\n        this.caseField = elt(\"input\", {\n            type: \"checkbox\",\n            name: \"case\",\n            form: \"\",\n            checked: query.caseSensitive,\n            onchange: this.commit\n        });\n        this.reField = elt(\"input\", {\n            type: \"checkbox\",\n            name: \"re\",\n            form: \"\",\n            checked: query.regexp,\n            onchange: this.commit\n        });\n        this.wordField = elt(\"input\", {\n            type: \"checkbox\",\n            name: \"word\",\n            form: \"\",\n            checked: query.wholeWord,\n            onchange: this.commit\n        });\n        function button(name, onclick, content) {\n            return elt(\"button\", { class: \"cm-button\", name, onclick, type: \"button\" }, content);\n        }\n        this.dom = elt(\"div\", { onkeydown: (e) => this.keydown(e), class: \"cm-search\" }, [\n            this.searchField,\n            button(\"next\", () => findNext(view), [phrase(view, \"next\")]),\n            button(\"prev\", () => findPrevious(view), [phrase(view, \"previous\")]),\n            button(\"select\", () => selectMatches(view), [phrase(view, \"all\")]),\n            elt(\"label\", null, [this.caseField, phrase(view, \"match case\")]),\n            elt(\"label\", null, [this.reField, phrase(view, \"regexp\")]),\n            elt(\"label\", null, [this.wordField, phrase(view, \"by word\")]),\n            ...view.state.readOnly ? [] : [\n                elt(\"br\"),\n                this.replaceField,\n                button(\"replace\", () => replaceNext(view), [phrase(view, \"replace\")]),\n                button(\"replaceAll\", () => replaceAll(view), [phrase(view, \"replace all\")])\n            ],\n            elt(\"button\", {\n                name: \"close\",\n                onclick: () => closeSearchPanel(view),\n                \"aria-label\": phrase(view, \"close\"),\n                type: \"button\"\n            }, [\"×\"])\n        ]);\n    }\n    commit() {\n        let query = new SearchQuery({\n            search: this.searchField.value,\n            caseSensitive: this.caseField.checked,\n            regexp: this.reField.checked,\n            wholeWord: this.wordField.checked,\n            replace: this.replaceField.value,\n        });\n        if (!query.eq(this.query)) {\n            this.query = query;\n            this.view.dispatch({ effects: setSearchQuery.of(query) });\n        }\n    }\n    keydown(e) {\n        if (runScopeHandlers(this.view, e, \"search-panel\")) {\n            e.preventDefault();\n        }\n        else if (e.keyCode == 13 && e.target == this.searchField) {\n            e.preventDefault();\n            (e.shiftKey ? findPrevious : findNext)(this.view);\n        }\n        else if (e.keyCode == 13 && e.target == this.replaceField) {\n            e.preventDefault();\n            replaceNext(this.view);\n        }\n    }\n    update(update) {\n        for (let tr of update.transactions)\n            for (let effect of tr.effects) {\n                if (effect.is(setSearchQuery) && !effect.value.eq(this.query))\n                    this.setQuery(effect.value);\n            }\n    }\n    setQuery(query) {\n        this.query = query;\n        this.searchField.value = query.search;\n        this.replaceField.value = query.replace;\n        this.caseField.checked = query.caseSensitive;\n        this.reField.checked = query.regexp;\n        this.wordField.checked = query.wholeWord;\n    }\n    mount() {\n        this.searchField.select();\n    }\n    get pos() { return 80; }\n    get top() { return this.view.state.facet(searchConfigFacet).top; }\n}\nfunction phrase(view, phrase) { return view.state.phrase(phrase); }\nconst AnnounceMargin = 30;\nconst Break = /[\\s\\.,:;?!]/;\nfunction announceMatch(view, { from, to }) {\n    let line = view.state.doc.lineAt(from), lineEnd = view.state.doc.lineAt(to).to;\n    let start = Math.max(line.from, from - AnnounceMargin), end = Math.min(lineEnd, to + AnnounceMargin);\n    let text = view.state.sliceDoc(start, end);\n    if (start != line.from) {\n        for (let i = 0; i < AnnounceMargin; i++)\n            if (!Break.test(text[i + 1]) && Break.test(text[i])) {\n                text = text.slice(i);\n                break;\n            }\n    }\n    if (end != lineEnd) {\n        for (let i = text.length - 1; i > text.length - AnnounceMargin; i--)\n            if (!Break.test(text[i - 1]) && Break.test(text[i])) {\n                text = text.slice(0, i);\n                break;\n            }\n    }\n    return EditorView.announce.of(`${view.state.phrase(\"current match\")}. ${text} ${view.state.phrase(\"on line\")} ${line.number}.`);\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panel.cm-search\": {\n        padding: \"2px 6px 4px\",\n        position: \"relative\",\n        \"& [name=close]\": {\n            position: \"absolute\",\n            top: \"0\",\n            right: \"4px\",\n            backgroundColor: \"inherit\",\n            border: \"none\",\n            font: \"inherit\",\n            padding: 0,\n            margin: 0\n        },\n        \"& input, & button, & label\": {\n            margin: \".2em .6em .2em 0\"\n        },\n        \"& input[type=checkbox]\": {\n            marginRight: \".2em\"\n        },\n        \"& label\": {\n            fontSize: \"80%\",\n            whiteSpace: \"pre\"\n        }\n    },\n    \"&light .cm-searchMatch\": { backgroundColor: \"#ffff0054\" },\n    \"&dark .cm-searchMatch\": { backgroundColor: \"#00ffff8a\" },\n    \"&light .cm-searchMatch-selected\": { backgroundColor: \"#ff6a0054\" },\n    \"&dark .cm-searchMatch-selected\": { backgroundColor: \"#ff00ff8a\" }\n});\nconst searchExtensions = [\n    searchState,\n    /*@__PURE__*/Prec.low(searchHighlighter),\n    baseTheme\n];\n\nexport { RegExpCursor, SearchCursor, SearchQuery, closeSearchPanel, findNext, findPrevious, getSearchQuery, gotoLine, highlightSelectionMatches, openSearchPanel, replaceAll, replaceNext, search, searchKeymap, searchPanelOpen, selectMatches, selectNextOccurrence, selectSelectionMatches, setSearchQuery };\n","/**\nThe data structure for documents. @nonabstract\n*/\nclass Text {\n    /**\n    Get the line description around the given position.\n    */\n    lineAt(pos) {\n        if (pos < 0 || pos > this.length)\n            throw new RangeError(`Invalid position ${pos} in document of length ${this.length}`);\n        return this.lineInner(pos, false, 1, 0);\n    }\n    /**\n    Get the description for the given (1-based) line number.\n    */\n    line(n) {\n        if (n < 1 || n > this.lines)\n            throw new RangeError(`Invalid line number ${n} in ${this.lines}-line document`);\n        return this.lineInner(n, true, 1, 0);\n    }\n    /**\n    Replace a range of the text with the given content.\n    */\n    replace(from, to, text) {\n        let parts = [];\n        this.decompose(0, from, parts, 2 /* Open.To */);\n        if (text.length)\n            text.decompose(0, text.length, parts, 1 /* Open.From */ | 2 /* Open.To */);\n        this.decompose(to, this.length, parts, 1 /* Open.From */);\n        return TextNode.from(parts, this.length - (to - from) + text.length);\n    }\n    /**\n    Append another document to this one.\n    */\n    append(other) {\n        return this.replace(this.length, this.length, other);\n    }\n    /**\n    Retrieve the text between the given points.\n    */\n    slice(from, to = this.length) {\n        let parts = [];\n        this.decompose(from, to, parts, 0);\n        return TextNode.from(parts, to - from);\n    }\n    /**\n    Test whether this text is equal to another instance.\n    */\n    eq(other) {\n        if (other == this)\n            return true;\n        if (other.length != this.length || other.lines != this.lines)\n            return false;\n        let start = this.scanIdentical(other, 1), end = this.length - this.scanIdentical(other, -1);\n        let a = new RawTextCursor(this), b = new RawTextCursor(other);\n        for (let skip = start, pos = start;;) {\n            a.next(skip);\n            b.next(skip);\n            skip = 0;\n            if (a.lineBreak != b.lineBreak || a.done != b.done || a.value != b.value)\n                return false;\n            pos += a.value.length;\n            if (a.done || pos >= end)\n                return true;\n        }\n    }\n    /**\n    Iterate over the text. When `dir` is `-1`, iteration happens\n    from end to start. This will return lines and the breaks between\n    them as separate strings.\n    */\n    iter(dir = 1) { return new RawTextCursor(this, dir); }\n    /**\n    Iterate over a range of the text. When `from` > `to`, the\n    iterator will run in reverse.\n    */\n    iterRange(from, to = this.length) { return new PartialTextCursor(this, from, to); }\n    /**\n    Return a cursor that iterates over the given range of lines,\n    _without_ returning the line breaks between, and yielding empty\n    strings for empty lines.\n    \n    When `from` and `to` are given, they should be 1-based line numbers.\n    */\n    iterLines(from, to) {\n        let inner;\n        if (from == null) {\n            inner = this.iter();\n        }\n        else {\n            if (to == null)\n                to = this.lines + 1;\n            let start = this.line(from).from;\n            inner = this.iterRange(start, Math.max(start, to == this.lines + 1 ? this.length : to <= 1 ? 0 : this.line(to - 1).to));\n        }\n        return new LineCursor(inner);\n    }\n    /**\n    Return the document as a string, using newline characters to\n    separate lines.\n    */\n    toString() { return this.sliceString(0); }\n    /**\n    Convert the document to an array of lines (which can be\n    deserialized again via [`Text.of`](https://codemirror.net/6/docs/ref/#state.Text^of)).\n    */\n    toJSON() {\n        let lines = [];\n        this.flatten(lines);\n        return lines;\n    }\n    /**\n    @internal\n    */\n    constructor() { }\n    /**\n    Create a `Text` instance for the given array of lines.\n    */\n    static of(text) {\n        if (text.length == 0)\n            throw new RangeError(\"A document must have at least one line\");\n        if (text.length == 1 && !text[0])\n            return Text.empty;\n        return text.length <= 32 /* Tree.Branch */ ? new TextLeaf(text) : TextNode.from(TextLeaf.split(text, []));\n    }\n}\n// Leaves store an array of line strings. There are always line breaks\n// between these strings. Leaves are limited in size and have to be\n// contained in TextNode instances for bigger documents.\nclass TextLeaf extends Text {\n    constructor(text, length = textLength(text)) {\n        super();\n        this.text = text;\n        this.length = length;\n    }\n    get lines() { return this.text.length; }\n    get children() { return null; }\n    lineInner(target, isLine, line, offset) {\n        for (let i = 0;; i++) {\n            let string = this.text[i], end = offset + string.length;\n            if ((isLine ? line : end) >= target)\n                return new Line(offset, end, line, string);\n            offset = end + 1;\n            line++;\n        }\n    }\n    decompose(from, to, target, open) {\n        let text = from <= 0 && to >= this.length ? this\n            : new TextLeaf(sliceText(this.text, from, to), Math.min(to, this.length) - Math.max(0, from));\n        if (open & 1 /* Open.From */) {\n            let prev = target.pop();\n            let joined = appendText(text.text, prev.text.slice(), 0, text.length);\n            if (joined.length <= 32 /* Tree.Branch */) {\n                target.push(new TextLeaf(joined, prev.length + text.length));\n            }\n            else {\n                let mid = joined.length >> 1;\n                target.push(new TextLeaf(joined.slice(0, mid)), new TextLeaf(joined.slice(mid)));\n            }\n        }\n        else {\n            target.push(text);\n        }\n    }\n    replace(from, to, text) {\n        if (!(text instanceof TextLeaf))\n            return super.replace(from, to, text);\n        let lines = appendText(this.text, appendText(text.text, sliceText(this.text, 0, from)), to);\n        let newLen = this.length + text.length - (to - from);\n        if (lines.length <= 32 /* Tree.Branch */)\n            return new TextLeaf(lines, newLen);\n        return TextNode.from(TextLeaf.split(lines, []), newLen);\n    }\n    sliceString(from, to = this.length, lineSep = \"\\n\") {\n        let result = \"\";\n        for (let pos = 0, i = 0; pos <= to && i < this.text.length; i++) {\n            let line = this.text[i], end = pos + line.length;\n            if (pos > from && i)\n                result += lineSep;\n            if (from < end && to > pos)\n                result += line.slice(Math.max(0, from - pos), to - pos);\n            pos = end + 1;\n        }\n        return result;\n    }\n    flatten(target) {\n        for (let line of this.text)\n            target.push(line);\n    }\n    scanIdentical() { return 0; }\n    static split(text, target) {\n        let part = [], len = -1;\n        for (let line of text) {\n            part.push(line);\n            len += line.length + 1;\n            if (part.length == 32 /* Tree.Branch */) {\n                target.push(new TextLeaf(part, len));\n                part = [];\n                len = -1;\n            }\n        }\n        if (len > -1)\n            target.push(new TextLeaf(part, len));\n        return target;\n    }\n}\n// Nodes provide the tree structure of the `Text` type. They store a\n// number of other nodes or leaves, taking care to balance themselves\n// on changes. There are implied line breaks _between_ the children of\n// a node (but not before the first or after the last child).\nclass TextNode extends Text {\n    constructor(children, length) {\n        super();\n        this.children = children;\n        this.length = length;\n        this.lines = 0;\n        for (let child of children)\n            this.lines += child.lines;\n    }\n    lineInner(target, isLine, line, offset) {\n        for (let i = 0;; i++) {\n            let child = this.children[i], end = offset + child.length, endLine = line + child.lines - 1;\n            if ((isLine ? endLine : end) >= target)\n                return child.lineInner(target, isLine, line, offset);\n            offset = end + 1;\n            line = endLine + 1;\n        }\n    }\n    decompose(from, to, target, open) {\n        for (let i = 0, pos = 0; pos <= to && i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (from <= end && to >= pos) {\n                let childOpen = open & ((pos <= from ? 1 /* Open.From */ : 0) | (end >= to ? 2 /* Open.To */ : 0));\n                if (pos >= from && end <= to && !childOpen)\n                    target.push(child);\n                else\n                    child.decompose(from - pos, to - pos, target, childOpen);\n            }\n            pos = end + 1;\n        }\n    }\n    replace(from, to, text) {\n        if (text.lines < this.lines)\n            for (let i = 0, pos = 0; i < this.children.length; i++) {\n                let child = this.children[i], end = pos + child.length;\n                // Fast path: if the change only affects one child and the\n                // child's size remains in the acceptable range, only update\n                // that child\n                if (from >= pos && to <= end) {\n                    let updated = child.replace(from - pos, to - pos, text);\n                    let totalLines = this.lines - child.lines + updated.lines;\n                    if (updated.lines < (totalLines >> (5 /* Tree.BranchShift */ - 1)) &&\n                        updated.lines > (totalLines >> (5 /* Tree.BranchShift */ + 1))) {\n                        let copy = this.children.slice();\n                        copy[i] = updated;\n                        return new TextNode(copy, this.length - (to - from) + text.length);\n                    }\n                    return super.replace(pos, end, updated);\n                }\n                pos = end + 1;\n            }\n        return super.replace(from, to, text);\n    }\n    sliceString(from, to = this.length, lineSep = \"\\n\") {\n        let result = \"\";\n        for (let i = 0, pos = 0; i < this.children.length && pos <= to; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (pos > from && i)\n                result += lineSep;\n            if (from < end && to > pos)\n                result += child.sliceString(from - pos, to - pos, lineSep);\n            pos = end + 1;\n        }\n        return result;\n    }\n    flatten(target) {\n        for (let child of this.children)\n            child.flatten(target);\n    }\n    scanIdentical(other, dir) {\n        if (!(other instanceof TextNode))\n            return 0;\n        let length = 0;\n        let [iA, iB, eA, eB] = dir > 0 ? [0, 0, this.children.length, other.children.length]\n            : [this.children.length - 1, other.children.length - 1, -1, -1];\n        for (;; iA += dir, iB += dir) {\n            if (iA == eA || iB == eB)\n                return length;\n            let chA = this.children[iA], chB = other.children[iB];\n            if (chA != chB)\n                return length + chA.scanIdentical(chB, dir);\n            length += chA.length + 1;\n        }\n    }\n    static from(children, length = children.reduce((l, ch) => l + ch.length + 1, -1)) {\n        let lines = 0;\n        for (let ch of children)\n            lines += ch.lines;\n        if (lines < 32 /* Tree.Branch */) {\n            let flat = [];\n            for (let ch of children)\n                ch.flatten(flat);\n            return new TextLeaf(flat, length);\n        }\n        let chunk = Math.max(32 /* Tree.Branch */, lines >> 5 /* Tree.BranchShift */), maxChunk = chunk << 1, minChunk = chunk >> 1;\n        let chunked = [], currentLines = 0, currentLen = -1, currentChunk = [];\n        function add(child) {\n            let last;\n            if (child.lines > maxChunk && child instanceof TextNode) {\n                for (let node of child.children)\n                    add(node);\n            }\n            else if (child.lines > minChunk && (currentLines > minChunk || !currentLines)) {\n                flush();\n                chunked.push(child);\n            }\n            else if (child instanceof TextLeaf && currentLines &&\n                (last = currentChunk[currentChunk.length - 1]) instanceof TextLeaf &&\n                child.lines + last.lines <= 32 /* Tree.Branch */) {\n                currentLines += child.lines;\n                currentLen += child.length + 1;\n                currentChunk[currentChunk.length - 1] = new TextLeaf(last.text.concat(child.text), last.length + 1 + child.length);\n            }\n            else {\n                if (currentLines + child.lines > chunk)\n                    flush();\n                currentLines += child.lines;\n                currentLen += child.length + 1;\n                currentChunk.push(child);\n            }\n        }\n        function flush() {\n            if (currentLines == 0)\n                return;\n            chunked.push(currentChunk.length == 1 ? currentChunk[0] : TextNode.from(currentChunk, currentLen));\n            currentLen = -1;\n            currentLines = currentChunk.length = 0;\n        }\n        for (let child of children)\n            add(child);\n        flush();\n        return chunked.length == 1 ? chunked[0] : new TextNode(chunked, length);\n    }\n}\nText.empty = /*@__PURE__*/new TextLeaf([\"\"], 0);\nfunction textLength(text) {\n    let length = -1;\n    for (let line of text)\n        length += line.length + 1;\n    return length;\n}\nfunction appendText(text, target, from = 0, to = 1e9) {\n    for (let pos = 0, i = 0, first = true; i < text.length && pos <= to; i++) {\n        let line = text[i], end = pos + line.length;\n        if (end >= from) {\n            if (end > to)\n                line = line.slice(0, to - pos);\n            if (pos < from)\n                line = line.slice(from - pos);\n            if (first) {\n                target[target.length - 1] += line;\n                first = false;\n            }\n            else\n                target.push(line);\n        }\n        pos = end + 1;\n    }\n    return target;\n}\nfunction sliceText(text, from, to) {\n    return appendText(text, [\"\"], from, to);\n}\nclass RawTextCursor {\n    constructor(text, dir = 1) {\n        this.dir = dir;\n        this.done = false;\n        this.lineBreak = false;\n        this.value = \"\";\n        this.nodes = [text];\n        this.offsets = [dir > 0 ? 1 : (text instanceof TextLeaf ? text.text.length : text.children.length) << 1];\n    }\n    nextInner(skip, dir) {\n        this.done = this.lineBreak = false;\n        for (;;) {\n            let last = this.nodes.length - 1;\n            let top = this.nodes[last], offsetValue = this.offsets[last], offset = offsetValue >> 1;\n            let size = top instanceof TextLeaf ? top.text.length : top.children.length;\n            if (offset == (dir > 0 ? size : 0)) {\n                if (last == 0) {\n                    this.done = true;\n                    this.value = \"\";\n                    return this;\n                }\n                if (dir > 0)\n                    this.offsets[last - 1]++;\n                this.nodes.pop();\n                this.offsets.pop();\n            }\n            else if ((offsetValue & 1) == (dir > 0 ? 0 : 1)) {\n                this.offsets[last] += dir;\n                if (skip == 0) {\n                    this.lineBreak = true;\n                    this.value = \"\\n\";\n                    return this;\n                }\n                skip--;\n            }\n            else if (top instanceof TextLeaf) {\n                // Move to the next string\n                let next = top.text[offset + (dir < 0 ? -1 : 0)];\n                this.offsets[last] += dir;\n                if (next.length > Math.max(0, skip)) {\n                    this.value = skip == 0 ? next : dir > 0 ? next.slice(skip) : next.slice(0, next.length - skip);\n                    return this;\n                }\n                skip -= next.length;\n            }\n            else {\n                let next = top.children[offset + (dir < 0 ? -1 : 0)];\n                if (skip > next.length) {\n                    skip -= next.length;\n                    this.offsets[last] += dir;\n                }\n                else {\n                    if (dir < 0)\n                        this.offsets[last]--;\n                    this.nodes.push(next);\n                    this.offsets.push(dir > 0 ? 1 : (next instanceof TextLeaf ? next.text.length : next.children.length) << 1);\n                }\n            }\n        }\n    }\n    next(skip = 0) {\n        if (skip < 0) {\n            this.nextInner(-skip, (-this.dir));\n            skip = this.value.length;\n        }\n        return this.nextInner(skip, this.dir);\n    }\n}\nclass PartialTextCursor {\n    constructor(text, start, end) {\n        this.value = \"\";\n        this.done = false;\n        this.cursor = new RawTextCursor(text, start > end ? -1 : 1);\n        this.pos = start > end ? text.length : 0;\n        this.from = Math.min(start, end);\n        this.to = Math.max(start, end);\n    }\n    nextInner(skip, dir) {\n        if (dir < 0 ? this.pos <= this.from : this.pos >= this.to) {\n            this.value = \"\";\n            this.done = true;\n            return this;\n        }\n        skip += Math.max(0, dir < 0 ? this.pos - this.to : this.from - this.pos);\n        let limit = dir < 0 ? this.pos - this.from : this.to - this.pos;\n        if (skip > limit)\n            skip = limit;\n        limit -= skip;\n        let { value } = this.cursor.next(skip);\n        this.pos += (value.length + skip) * dir;\n        this.value = value.length <= limit ? value : dir < 0 ? value.slice(value.length - limit) : value.slice(0, limit);\n        this.done = !this.value;\n        return this;\n    }\n    next(skip = 0) {\n        if (skip < 0)\n            skip = Math.max(skip, this.from - this.pos);\n        else if (skip > 0)\n            skip = Math.min(skip, this.to - this.pos);\n        return this.nextInner(skip, this.cursor.dir);\n    }\n    get lineBreak() { return this.cursor.lineBreak && this.value != \"\"; }\n}\nclass LineCursor {\n    constructor(inner) {\n        this.inner = inner;\n        this.afterBreak = true;\n        this.value = \"\";\n        this.done = false;\n    }\n    next(skip = 0) {\n        let { done, lineBreak, value } = this.inner.next(skip);\n        if (done) {\n            this.done = true;\n            this.value = \"\";\n        }\n        else if (lineBreak) {\n            if (this.afterBreak) {\n                this.value = \"\";\n            }\n            else {\n                this.afterBreak = true;\n                this.next();\n            }\n        }\n        else {\n            this.value = value;\n            this.afterBreak = false;\n        }\n        return this;\n    }\n    get lineBreak() { return false; }\n}\nif (typeof Symbol != \"undefined\") {\n    Text.prototype[Symbol.iterator] = function () { return this.iter(); };\n    RawTextCursor.prototype[Symbol.iterator] = PartialTextCursor.prototype[Symbol.iterator] =\n        LineCursor.prototype[Symbol.iterator] = function () { return this; };\n}\n/**\nThis type describes a line in the document. It is created\non-demand when lines are [queried](https://codemirror.net/6/docs/ref/#state.Text.lineAt).\n*/\nclass Line {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The position of the start of the line.\n    */\n    from, \n    /**\n    The position at the end of the line (_before_ the line break,\n    or at the end of document for the last line).\n    */\n    to, \n    /**\n    This line's line number (1-based).\n    */\n    number, \n    /**\n    The line's content.\n    */\n    text) {\n        this.from = from;\n        this.to = to;\n        this.number = number;\n        this.text = text;\n    }\n    /**\n    The length of the line (not including any line break after it).\n    */\n    get length() { return this.to - this.from; }\n}\n\n// Compressed representation of the Grapheme_Cluster_Break=Extend\n// information from\n// http://www.unicode.org/Public/13.0.0/ucd/auxiliary/GraphemeBreakProperty.txt.\n// Each pair of elements represents a range, as an offet from the\n// previous range and a length. Numbers are in base-36, with the empty\n// string being a shorthand for 1.\nlet extend = /*@__PURE__*/\"lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o\".split(\",\").map(s => s ? parseInt(s, 36) : 1);\n// Convert offsets into absolute values\nfor (let i = 1; i < extend.length; i++)\n    extend[i] += extend[i - 1];\nfunction isExtendingChar(code) {\n    for (let i = 1; i < extend.length; i += 2)\n        if (extend[i] > code)\n            return extend[i - 1] <= code;\n    return false;\n}\nfunction isRegionalIndicator(code) {\n    return code >= 0x1F1E6 && code <= 0x1F1FF;\n}\nconst ZWJ = 0x200d;\n/**\nReturns a next grapheme cluster break _after_ (not equal to)\n`pos`, if `forward` is true, or before otherwise. Returns `pos`\nitself if no further cluster break is available in the string.\nMoves across surrogate pairs, extending characters (when\n`includeExtending` is true), characters joined with zero-width\njoiners, and flag emoji.\n*/\nfunction findClusterBreak(str, pos, forward = true, includeExtending = true) {\n    return (forward ? nextClusterBreak : prevClusterBreak)(str, pos, includeExtending);\n}\nfunction nextClusterBreak(str, pos, includeExtending) {\n    if (pos == str.length)\n        return pos;\n    // If pos is in the middle of a surrogate pair, move to its start\n    if (pos && surrogateLow(str.charCodeAt(pos)) && surrogateHigh(str.charCodeAt(pos - 1)))\n        pos--;\n    let prev = codePointAt(str, pos);\n    pos += codePointSize(prev);\n    while (pos < str.length) {\n        let next = codePointAt(str, pos);\n        if (prev == ZWJ || next == ZWJ || includeExtending && isExtendingChar(next)) {\n            pos += codePointSize(next);\n            prev = next;\n        }\n        else if (isRegionalIndicator(next)) {\n            let countBefore = 0, i = pos - 2;\n            while (i >= 0 && isRegionalIndicator(codePointAt(str, i))) {\n                countBefore++;\n                i -= 2;\n            }\n            if (countBefore % 2 == 0)\n                break;\n            else\n                pos += 2;\n        }\n        else {\n            break;\n        }\n    }\n    return pos;\n}\nfunction prevClusterBreak(str, pos, includeExtending) {\n    while (pos > 0) {\n        let found = nextClusterBreak(str, pos - 2, includeExtending);\n        if (found < pos)\n            return found;\n        pos--;\n    }\n    return 0;\n}\nfunction surrogateLow(ch) { return ch >= 0xDC00 && ch < 0xE000; }\nfunction surrogateHigh(ch) { return ch >= 0xD800 && ch < 0xDC00; }\n/**\nFind the code point at the given position in a string (like the\n[`codePointAt`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/codePointAt)\nstring method).\n*/\nfunction codePointAt(str, pos) {\n    let code0 = str.charCodeAt(pos);\n    if (!surrogateHigh(code0) || pos + 1 == str.length)\n        return code0;\n    let code1 = str.charCodeAt(pos + 1);\n    if (!surrogateLow(code1))\n        return code0;\n    return ((code0 - 0xd800) << 10) + (code1 - 0xdc00) + 0x10000;\n}\n/**\nGiven a Unicode codepoint, return the JavaScript string that\nrespresents it (like\n[`String.fromCodePoint`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint)).\n*/\nfunction fromCodePoint(code) {\n    if (code <= 0xffff)\n        return String.fromCharCode(code);\n    code -= 0x10000;\n    return String.fromCharCode((code >> 10) + 0xd800, (code & 1023) + 0xdc00);\n}\n/**\nThe amount of positions a character takes up a JavaScript string.\n*/\nfunction codePointSize(code) { return code < 0x10000 ? 1 : 2; }\n\nconst DefaultSplit = /\\r\\n?|\\n/;\n/**\nDistinguishes different ways in which positions can be mapped.\n*/\nvar MapMode = /*@__PURE__*/(function (MapMode) {\n    /**\n    Map a position to a valid new position, even when its context\n    was deleted.\n    */\n    MapMode[MapMode[\"Simple\"] = 0] = \"Simple\";\n    /**\n    Return null if deletion happens across the position.\n    */\n    MapMode[MapMode[\"TrackDel\"] = 1] = \"TrackDel\";\n    /**\n    Return null if the character _before_ the position is deleted.\n    */\n    MapMode[MapMode[\"TrackBefore\"] = 2] = \"TrackBefore\";\n    /**\n    Return null if the character _after_ the position is deleted.\n    */\n    MapMode[MapMode[\"TrackAfter\"] = 3] = \"TrackAfter\";\nreturn MapMode})(MapMode || (MapMode = {}));\n/**\nA change description is a variant of [change set](https://codemirror.net/6/docs/ref/#state.ChangeSet)\nthat doesn't store the inserted text. As such, it can't be\napplied, but is cheaper to store and manipulate.\n*/\nclass ChangeDesc {\n    // Sections are encoded as pairs of integers. The first is the\n    // length in the current document, and the second is -1 for\n    // unaffected sections, and the length of the replacement content\n    // otherwise. So an insertion would be (0, n>0), a deletion (n>0,\n    // 0), and a replacement two positive numbers.\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    sections) {\n        this.sections = sections;\n    }\n    /**\n    The length of the document before the change.\n    */\n    get length() {\n        let result = 0;\n        for (let i = 0; i < this.sections.length; i += 2)\n            result += this.sections[i];\n        return result;\n    }\n    /**\n    The length of the document after the change.\n    */\n    get newLength() {\n        let result = 0;\n        for (let i = 0; i < this.sections.length; i += 2) {\n            let ins = this.sections[i + 1];\n            result += ins < 0 ? this.sections[i] : ins;\n        }\n        return result;\n    }\n    /**\n    False when there are actual changes in this set.\n    */\n    get empty() { return this.sections.length == 0 || this.sections.length == 2 && this.sections[1] < 0; }\n    /**\n    Iterate over the unchanged parts left by these changes. `posA`\n    provides the position of the range in the old document, `posB`\n    the new position in the changed document.\n    */\n    iterGaps(f) {\n        for (let i = 0, posA = 0, posB = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            if (ins < 0) {\n                f(posA, posB, len);\n                posB += len;\n            }\n            else {\n                posB += ins;\n            }\n            posA += len;\n        }\n    }\n    /**\n    Iterate over the ranges changed by these changes. (See\n    [`ChangeSet.iterChanges`](https://codemirror.net/6/docs/ref/#state.ChangeSet.iterChanges) for a\n    variant that also provides you with the inserted text.)\n    `fromA`/`toA` provides the extent of the change in the starting\n    document, `fromB`/`toB` the extent of the replacement in the\n    changed document.\n    \n    When `individual` is true, adjacent changes (which are kept\n    separate for [position mapping](https://codemirror.net/6/docs/ref/#state.ChangeDesc.mapPos)) are\n    reported separately.\n    */\n    iterChangedRanges(f, individual = false) {\n        iterChanges(this, f, individual);\n    }\n    /**\n    Get a description of the inverted form of these changes.\n    */\n    get invertedDesc() {\n        let sections = [];\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            if (ins < 0)\n                sections.push(len, ins);\n            else\n                sections.push(ins, len);\n        }\n        return new ChangeDesc(sections);\n    }\n    /**\n    Compute the combined effect of applying another set of changes\n    after this one. The length of the document after this set should\n    match the length before `other`.\n    */\n    composeDesc(other) { return this.empty ? other : other.empty ? this : composeSets(this, other); }\n    /**\n    Map this description, which should start with the same document\n    as `other`, over another set of changes, so that it can be\n    applied after it. When `before` is true, map as if the changes\n    in `other` happened before the ones in `this`.\n    */\n    mapDesc(other, before = false) { return other.empty ? this : mapSet(this, other, before); }\n    mapPos(pos, assoc = -1, mode = MapMode.Simple) {\n        let posA = 0, posB = 0;\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++], endA = posA + len;\n            if (ins < 0) {\n                if (endA > pos)\n                    return posB + (pos - posA);\n                posB += len;\n            }\n            else {\n                if (mode != MapMode.Simple && endA >= pos &&\n                    (mode == MapMode.TrackDel && posA < pos && endA > pos ||\n                        mode == MapMode.TrackBefore && posA < pos ||\n                        mode == MapMode.TrackAfter && endA > pos))\n                    return null;\n                if (endA > pos || endA == pos && assoc < 0 && !len)\n                    return pos == posA || assoc < 0 ? posB : posB + ins;\n                posB += ins;\n            }\n            posA = endA;\n        }\n        if (pos > posA)\n            throw new RangeError(`Position ${pos} is out of range for changeset of length ${posA}`);\n        return posB;\n    }\n    /**\n    Check whether these changes touch a given range. When one of the\n    changes entirely covers the range, the string `\"cover\"` is\n    returned.\n    */\n    touchesRange(from, to = from) {\n        for (let i = 0, pos = 0; i < this.sections.length && pos <= to;) {\n            let len = this.sections[i++], ins = this.sections[i++], end = pos + len;\n            if (ins >= 0 && pos <= to && end >= from)\n                return pos < from && end > to ? \"cover\" : true;\n            pos = end;\n        }\n        return false;\n    }\n    /**\n    @internal\n    */\n    toString() {\n        let result = \"\";\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            result += (result ? \" \" : \"\") + len + (ins >= 0 ? \":\" + ins : \"\");\n        }\n        return result;\n    }\n    /**\n    Serialize this change desc to a JSON-representable value.\n    */\n    toJSON() { return this.sections; }\n    /**\n    Create a change desc from its JSON representation (as produced\n    by [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeDesc.toJSON).\n    */\n    static fromJSON(json) {\n        if (!Array.isArray(json) || json.length % 2 || json.some(a => typeof a != \"number\"))\n            throw new RangeError(\"Invalid JSON representation of ChangeDesc\");\n        return new ChangeDesc(json);\n    }\n    /**\n    @internal\n    */\n    static create(sections) { return new ChangeDesc(sections); }\n}\n/**\nA change set represents a group of modifications to a document. It\nstores the document length, and can only be applied to documents\nwith exactly that length.\n*/\nclass ChangeSet extends ChangeDesc {\n    constructor(sections, \n    /**\n    @internal\n    */\n    inserted) {\n        super(sections);\n        this.inserted = inserted;\n    }\n    /**\n    Apply the changes to a document, returning the modified\n    document.\n    */\n    apply(doc) {\n        if (this.length != doc.length)\n            throw new RangeError(\"Applying change set to a document with the wrong length\");\n        iterChanges(this, (fromA, toA, fromB, _toB, text) => doc = doc.replace(fromB, fromB + (toA - fromA), text), false);\n        return doc;\n    }\n    mapDesc(other, before = false) { return mapSet(this, other, before, true); }\n    /**\n    Given the document as it existed _before_ the changes, return a\n    change set that represents the inverse of this set, which could\n    be used to go from the document created by the changes back to\n    the document as it existed before the changes.\n    */\n    invert(doc) {\n        let sections = this.sections.slice(), inserted = [];\n        for (let i = 0, pos = 0; i < sections.length; i += 2) {\n            let len = sections[i], ins = sections[i + 1];\n            if (ins >= 0) {\n                sections[i] = ins;\n                sections[i + 1] = len;\n                let index = i >> 1;\n                while (inserted.length < index)\n                    inserted.push(Text.empty);\n                inserted.push(len ? doc.slice(pos, pos + len) : Text.empty);\n            }\n            pos += len;\n        }\n        return new ChangeSet(sections, inserted);\n    }\n    /**\n    Combine two subsequent change sets into a single set. `other`\n    must start in the document produced by `this`. If `this` goes\n    `docA` → `docB` and `other` represents `docB` → `docC`, the\n    returned value will represent the change `docA` → `docC`.\n    */\n    compose(other) { return this.empty ? other : other.empty ? this : composeSets(this, other, true); }\n    /**\n    Given another change set starting in the same document, maps this\n    change set over the other, producing a new change set that can be\n    applied to the document produced by applying `other`. When\n    `before` is `true`, order changes as if `this` comes before\n    `other`, otherwise (the default) treat `other` as coming first.\n    \n    Given two changes `A` and `B`, `A.compose(B.map(A))` and\n    `B.compose(A.map(B, true))` will produce the same document. This\n    provides a basic form of [operational\n    transformation](https://en.wikipedia.org/wiki/Operational_transformation),\n    and can be used for collaborative editing.\n    */\n    map(other, before = false) { return other.empty ? this : mapSet(this, other, before, true); }\n    /**\n    Iterate over the changed ranges in the document, calling `f` for\n    each, with the range in the original document (`fromA`-`toA`)\n    and the range that replaces it in the new document\n    (`fromB`-`toB`).\n    \n    When `individual` is true, adjacent changes are reported\n    separately.\n    */\n    iterChanges(f, individual = false) {\n        iterChanges(this, f, individual);\n    }\n    /**\n    Get a [change description](https://codemirror.net/6/docs/ref/#state.ChangeDesc) for this change\n    set.\n    */\n    get desc() { return ChangeDesc.create(this.sections); }\n    /**\n    @internal\n    */\n    filter(ranges) {\n        let resultSections = [], resultInserted = [], filteredSections = [];\n        let iter = new SectionIter(this);\n        done: for (let i = 0, pos = 0;;) {\n            let next = i == ranges.length ? 1e9 : ranges[i++];\n            while (pos < next || pos == next && iter.len == 0) {\n                if (iter.done)\n                    break done;\n                let len = Math.min(iter.len, next - pos);\n                addSection(filteredSections, len, -1);\n                let ins = iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0;\n                addSection(resultSections, len, ins);\n                if (ins > 0)\n                    addInsert(resultInserted, resultSections, iter.text);\n                iter.forward(len);\n                pos += len;\n            }\n            let end = ranges[i++];\n            while (pos < end) {\n                if (iter.done)\n                    break done;\n                let len = Math.min(iter.len, end - pos);\n                addSection(resultSections, len, -1);\n                addSection(filteredSections, len, iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0);\n                iter.forward(len);\n                pos += len;\n            }\n        }\n        return { changes: new ChangeSet(resultSections, resultInserted),\n            filtered: ChangeDesc.create(filteredSections) };\n    }\n    /**\n    Serialize this change set to a JSON-representable value.\n    */\n    toJSON() {\n        let parts = [];\n        for (let i = 0; i < this.sections.length; i += 2) {\n            let len = this.sections[i], ins = this.sections[i + 1];\n            if (ins < 0)\n                parts.push(len);\n            else if (ins == 0)\n                parts.push([len]);\n            else\n                parts.push([len].concat(this.inserted[i >> 1].toJSON()));\n        }\n        return parts;\n    }\n    /**\n    Create a change set for the given changes, for a document of the\n    given length, using `lineSep` as line separator.\n    */\n    static of(changes, length, lineSep) {\n        let sections = [], inserted = [], pos = 0;\n        let total = null;\n        function flush(force = false) {\n            if (!force && !sections.length)\n                return;\n            if (pos < length)\n                addSection(sections, length - pos, -1);\n            let set = new ChangeSet(sections, inserted);\n            total = total ? total.compose(set.map(total)) : set;\n            sections = [];\n            inserted = [];\n            pos = 0;\n        }\n        function process(spec) {\n            if (Array.isArray(spec)) {\n                for (let sub of spec)\n                    process(sub);\n            }\n            else if (spec instanceof ChangeSet) {\n                if (spec.length != length)\n                    throw new RangeError(`Mismatched change set length (got ${spec.length}, expected ${length})`);\n                flush();\n                total = total ? total.compose(spec.map(total)) : spec;\n            }\n            else {\n                let { from, to = from, insert } = spec;\n                if (from > to || from < 0 || to > length)\n                    throw new RangeError(`Invalid change range ${from} to ${to} (in doc of length ${length})`);\n                let insText = !insert ? Text.empty : typeof insert == \"string\" ? Text.of(insert.split(lineSep || DefaultSplit)) : insert;\n                let insLen = insText.length;\n                if (from == to && insLen == 0)\n                    return;\n                if (from < pos)\n                    flush();\n                if (from > pos)\n                    addSection(sections, from - pos, -1);\n                addSection(sections, to - from, insLen);\n                addInsert(inserted, sections, insText);\n                pos = to;\n            }\n        }\n        process(changes);\n        flush(!total);\n        return total;\n    }\n    /**\n    Create an empty changeset of the given length.\n    */\n    static empty(length) {\n        return new ChangeSet(length ? [length, -1] : [], []);\n    }\n    /**\n    Create a changeset from its JSON representation (as produced by\n    [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeSet.toJSON).\n    */\n    static fromJSON(json) {\n        if (!Array.isArray(json))\n            throw new RangeError(\"Invalid JSON representation of ChangeSet\");\n        let sections = [], inserted = [];\n        for (let i = 0; i < json.length; i++) {\n            let part = json[i];\n            if (typeof part == \"number\") {\n                sections.push(part, -1);\n            }\n            else if (!Array.isArray(part) || typeof part[0] != \"number\" || part.some((e, i) => i && typeof e != \"string\")) {\n                throw new RangeError(\"Invalid JSON representation of ChangeSet\");\n            }\n            else if (part.length == 1) {\n                sections.push(part[0], 0);\n            }\n            else {\n                while (inserted.length < i)\n                    inserted.push(Text.empty);\n                inserted[i] = Text.of(part.slice(1));\n                sections.push(part[0], inserted[i].length);\n            }\n        }\n        return new ChangeSet(sections, inserted);\n    }\n    /**\n    @internal\n    */\n    static createSet(sections, inserted) {\n        return new ChangeSet(sections, inserted);\n    }\n}\nfunction addSection(sections, len, ins, forceJoin = false) {\n    if (len == 0 && ins <= 0)\n        return;\n    let last = sections.length - 2;\n    if (last >= 0 && ins <= 0 && ins == sections[last + 1])\n        sections[last] += len;\n    else if (len == 0 && sections[last] == 0)\n        sections[last + 1] += ins;\n    else if (forceJoin) {\n        sections[last] += len;\n        sections[last + 1] += ins;\n    }\n    else\n        sections.push(len, ins);\n}\nfunction addInsert(values, sections, value) {\n    if (value.length == 0)\n        return;\n    let index = (sections.length - 2) >> 1;\n    if (index < values.length) {\n        values[values.length - 1] = values[values.length - 1].append(value);\n    }\n    else {\n        while (values.length < index)\n            values.push(Text.empty);\n        values.push(value);\n    }\n}\nfunction iterChanges(desc, f, individual) {\n    let inserted = desc.inserted;\n    for (let posA = 0, posB = 0, i = 0; i < desc.sections.length;) {\n        let len = desc.sections[i++], ins = desc.sections[i++];\n        if (ins < 0) {\n            posA += len;\n            posB += len;\n        }\n        else {\n            let endA = posA, endB = posB, text = Text.empty;\n            for (;;) {\n                endA += len;\n                endB += ins;\n                if (ins && inserted)\n                    text = text.append(inserted[(i - 2) >> 1]);\n                if (individual || i == desc.sections.length || desc.sections[i + 1] < 0)\n                    break;\n                len = desc.sections[i++];\n                ins = desc.sections[i++];\n            }\n            f(posA, endA, posB, endB, text);\n            posA = endA;\n            posB = endB;\n        }\n    }\n}\nfunction mapSet(setA, setB, before, mkSet = false) {\n    // Produce a copy of setA that applies to the document after setB\n    // has been applied (assuming both start at the same document).\n    let sections = [], insert = mkSet ? [] : null;\n    let a = new SectionIter(setA), b = new SectionIter(setB);\n    // Iterate over both sets in parallel. inserted tracks, for changes\n    // in A that have to be processed piece-by-piece, whether their\n    // content has been inserted already, and refers to the section\n    // index.\n    for (let inserted = -1;;) {\n        if (a.ins == -1 && b.ins == -1) {\n            // Move across ranges skipped by both sets.\n            let len = Math.min(a.len, b.len);\n            addSection(sections, len, -1);\n            a.forward(len);\n            b.forward(len);\n        }\n        else if (b.ins >= 0 && (a.ins < 0 || inserted == a.i || a.off == 0 && (b.len < a.len || b.len == a.len && !before))) {\n            // If there's a change in B that comes before the next change in\n            // A (ordered by start pos, then len, then before flag), skip\n            // that (and process any changes in A it covers).\n            let len = b.len;\n            addSection(sections, b.ins, -1);\n            while (len) {\n                let piece = Math.min(a.len, len);\n                if (a.ins >= 0 && inserted < a.i && a.len <= piece) {\n                    addSection(sections, 0, a.ins);\n                    if (insert)\n                        addInsert(insert, sections, a.text);\n                    inserted = a.i;\n                }\n                a.forward(piece);\n                len -= piece;\n            }\n            b.next();\n        }\n        else if (a.ins >= 0) {\n            // Process the part of a change in A up to the start of the next\n            // non-deletion change in B (if overlapping).\n            let len = 0, left = a.len;\n            while (left) {\n                if (b.ins == -1) {\n                    let piece = Math.min(left, b.len);\n                    len += piece;\n                    left -= piece;\n                    b.forward(piece);\n                }\n                else if (b.ins == 0 && b.len < left) {\n                    left -= b.len;\n                    b.next();\n                }\n                else {\n                    break;\n                }\n            }\n            addSection(sections, len, inserted < a.i ? a.ins : 0);\n            if (insert && inserted < a.i)\n                addInsert(insert, sections, a.text);\n            inserted = a.i;\n            a.forward(a.len - left);\n        }\n        else if (a.done && b.done) {\n            return insert ? ChangeSet.createSet(sections, insert) : ChangeDesc.create(sections);\n        }\n        else {\n            throw new Error(\"Mismatched change set lengths\");\n        }\n    }\n}\nfunction composeSets(setA, setB, mkSet = false) {\n    let sections = [];\n    let insert = mkSet ? [] : null;\n    let a = new SectionIter(setA), b = new SectionIter(setB);\n    for (let open = false;;) {\n        if (a.done && b.done) {\n            return insert ? ChangeSet.createSet(sections, insert) : ChangeDesc.create(sections);\n        }\n        else if (a.ins == 0) { // Deletion in A\n            addSection(sections, a.len, 0, open);\n            a.next();\n        }\n        else if (b.len == 0 && !b.done) { // Insertion in B\n            addSection(sections, 0, b.ins, open);\n            if (insert)\n                addInsert(insert, sections, b.text);\n            b.next();\n        }\n        else if (a.done || b.done) {\n            throw new Error(\"Mismatched change set lengths\");\n        }\n        else {\n            let len = Math.min(a.len2, b.len), sectionLen = sections.length;\n            if (a.ins == -1) {\n                let insB = b.ins == -1 ? -1 : b.off ? 0 : b.ins;\n                addSection(sections, len, insB, open);\n                if (insert && insB)\n                    addInsert(insert, sections, b.text);\n            }\n            else if (b.ins == -1) {\n                addSection(sections, a.off ? 0 : a.len, len, open);\n                if (insert)\n                    addInsert(insert, sections, a.textBit(len));\n            }\n            else {\n                addSection(sections, a.off ? 0 : a.len, b.off ? 0 : b.ins, open);\n                if (insert && !b.off)\n                    addInsert(insert, sections, b.text);\n            }\n            open = (a.ins > len || b.ins >= 0 && b.len > len) && (open || sections.length > sectionLen);\n            a.forward2(len);\n            b.forward(len);\n        }\n    }\n}\nclass SectionIter {\n    constructor(set) {\n        this.set = set;\n        this.i = 0;\n        this.next();\n    }\n    next() {\n        let { sections } = this.set;\n        if (this.i < sections.length) {\n            this.len = sections[this.i++];\n            this.ins = sections[this.i++];\n        }\n        else {\n            this.len = 0;\n            this.ins = -2;\n        }\n        this.off = 0;\n    }\n    get done() { return this.ins == -2; }\n    get len2() { return this.ins < 0 ? this.len : this.ins; }\n    get text() {\n        let { inserted } = this.set, index = (this.i - 2) >> 1;\n        return index >= inserted.length ? Text.empty : inserted[index];\n    }\n    textBit(len) {\n        let { inserted } = this.set, index = (this.i - 2) >> 1;\n        return index >= inserted.length && !len ? Text.empty\n            : inserted[index].slice(this.off, len == null ? undefined : this.off + len);\n    }\n    forward(len) {\n        if (len == this.len)\n            this.next();\n        else {\n            this.len -= len;\n            this.off += len;\n        }\n    }\n    forward2(len) {\n        if (this.ins == -1)\n            this.forward(len);\n        else if (len == this.ins)\n            this.next();\n        else {\n            this.ins -= len;\n            this.off += len;\n        }\n    }\n}\n\n/**\nA single selection range. When\n[`allowMultipleSelections`](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\nis enabled, a [selection](https://codemirror.net/6/docs/ref/#state.EditorSelection) may hold\nmultiple ranges. By default, selections hold exactly one range.\n*/\nclass SelectionRange {\n    constructor(\n    /**\n    The lower boundary of the range.\n    */\n    from, \n    /**\n    The upper boundary of the range.\n    */\n    to, flags) {\n        this.from = from;\n        this.to = to;\n        this.flags = flags;\n    }\n    /**\n    The anchor of the range—the side that doesn't move when you\n    extend it.\n    */\n    get anchor() { return this.flags & 16 /* RangeFlag.Inverted */ ? this.to : this.from; }\n    /**\n    The head of the range, which is moved when the range is\n    [extended](https://codemirror.net/6/docs/ref/#state.SelectionRange.extend).\n    */\n    get head() { return this.flags & 16 /* RangeFlag.Inverted */ ? this.from : this.to; }\n    /**\n    True when `anchor` and `head` are at the same position.\n    */\n    get empty() { return this.from == this.to; }\n    /**\n    If this is a cursor that is explicitly associated with the\n    character on one of its sides, this returns the side. -1 means\n    the character before its position, 1 the character after, and 0\n    means no association.\n    */\n    get assoc() { return this.flags & 4 /* RangeFlag.AssocBefore */ ? -1 : this.flags & 8 /* RangeFlag.AssocAfter */ ? 1 : 0; }\n    /**\n    The bidirectional text level associated with this cursor, if\n    any.\n    */\n    get bidiLevel() {\n        let level = this.flags & 3 /* RangeFlag.BidiLevelMask */;\n        return level == 3 ? null : level;\n    }\n    /**\n    The goal column (stored vertical offset) associated with a\n    cursor. This is used to preserve the vertical position when\n    [moving](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) across\n    lines of different length.\n    */\n    get goalColumn() {\n        let value = this.flags >> 5 /* RangeFlag.GoalColumnOffset */;\n        return value == 33554431 /* RangeFlag.NoGoalColumn */ ? undefined : value;\n    }\n    /**\n    Map this range through a change, producing a valid range in the\n    updated document.\n    */\n    map(change, assoc = -1) {\n        let from, to;\n        if (this.empty) {\n            from = to = change.mapPos(this.from, assoc);\n        }\n        else {\n            from = change.mapPos(this.from, 1);\n            to = change.mapPos(this.to, -1);\n        }\n        return from == this.from && to == this.to ? this : new SelectionRange(from, to, this.flags);\n    }\n    /**\n    Extend this range to cover at least `from` to `to`.\n    */\n    extend(from, to = from) {\n        if (from <= this.anchor && to >= this.anchor)\n            return EditorSelection.range(from, to);\n        let head = Math.abs(from - this.anchor) > Math.abs(to - this.anchor) ? from : to;\n        return EditorSelection.range(this.anchor, head);\n    }\n    /**\n    Compare this range to another range.\n    */\n    eq(other) {\n        return this.anchor == other.anchor && this.head == other.head;\n    }\n    /**\n    Return a JSON-serializable object representing the range.\n    */\n    toJSON() { return { anchor: this.anchor, head: this.head }; }\n    /**\n    Convert a JSON representation of a range to a `SelectionRange`\n    instance.\n    */\n    static fromJSON(json) {\n        if (!json || typeof json.anchor != \"number\" || typeof json.head != \"number\")\n            throw new RangeError(\"Invalid JSON representation for SelectionRange\");\n        return EditorSelection.range(json.anchor, json.head);\n    }\n    /**\n    @internal\n    */\n    static create(from, to, flags) {\n        return new SelectionRange(from, to, flags);\n    }\n}\n/**\nAn editor selection holds one or more selection ranges.\n*/\nclass EditorSelection {\n    constructor(\n    /**\n    The ranges in the selection, sorted by position. Ranges cannot\n    overlap (but they may touch, if they aren't empty).\n    */\n    ranges, \n    /**\n    The index of the _main_ range in the selection (which is\n    usually the range that was added last).\n    */\n    mainIndex) {\n        this.ranges = ranges;\n        this.mainIndex = mainIndex;\n    }\n    /**\n    Map a selection through a change. Used to adjust the selection\n    position for changes.\n    */\n    map(change, assoc = -1) {\n        if (change.empty)\n            return this;\n        return EditorSelection.create(this.ranges.map(r => r.map(change, assoc)), this.mainIndex);\n    }\n    /**\n    Compare this selection to another selection.\n    */\n    eq(other) {\n        if (this.ranges.length != other.ranges.length ||\n            this.mainIndex != other.mainIndex)\n            return false;\n        for (let i = 0; i < this.ranges.length; i++)\n            if (!this.ranges[i].eq(other.ranges[i]))\n                return false;\n        return true;\n    }\n    /**\n    Get the primary selection range. Usually, you should make sure\n    your code applies to _all_ ranges, by using methods like\n    [`changeByRange`](https://codemirror.net/6/docs/ref/#state.EditorState.changeByRange).\n    */\n    get main() { return this.ranges[this.mainIndex]; }\n    /**\n    Make sure the selection only has one range. Returns a selection\n    holding only the main range from this selection.\n    */\n    asSingle() {\n        return this.ranges.length == 1 ? this : new EditorSelection([this.main], 0);\n    }\n    /**\n    Extend this selection with an extra range.\n    */\n    addRange(range, main = true) {\n        return EditorSelection.create([range].concat(this.ranges), main ? 0 : this.mainIndex + 1);\n    }\n    /**\n    Replace a given range with another range, and then normalize the\n    selection to merge and sort ranges if necessary.\n    */\n    replaceRange(range, which = this.mainIndex) {\n        let ranges = this.ranges.slice();\n        ranges[which] = range;\n        return EditorSelection.create(ranges, this.mainIndex);\n    }\n    /**\n    Convert this selection to an object that can be serialized to\n    JSON.\n    */\n    toJSON() {\n        return { ranges: this.ranges.map(r => r.toJSON()), main: this.mainIndex };\n    }\n    /**\n    Create a selection from a JSON representation.\n    */\n    static fromJSON(json) {\n        if (!json || !Array.isArray(json.ranges) || typeof json.main != \"number\" || json.main >= json.ranges.length)\n            throw new RangeError(\"Invalid JSON representation for EditorSelection\");\n        return new EditorSelection(json.ranges.map((r) => SelectionRange.fromJSON(r)), json.main);\n    }\n    /**\n    Create a selection holding a single range.\n    */\n    static single(anchor, head = anchor) {\n        return new EditorSelection([EditorSelection.range(anchor, head)], 0);\n    }\n    /**\n    Sort and merge the given set of ranges, creating a valid\n    selection.\n    */\n    static create(ranges, mainIndex = 0) {\n        if (ranges.length == 0)\n            throw new RangeError(\"A selection needs at least one range\");\n        for (let pos = 0, i = 0; i < ranges.length; i++) {\n            let range = ranges[i];\n            if (range.empty ? range.from <= pos : range.from < pos)\n                return EditorSelection.normalized(ranges.slice(), mainIndex);\n            pos = range.to;\n        }\n        return new EditorSelection(ranges, mainIndex);\n    }\n    /**\n    Create a cursor selection range at the given position. You can\n    safely ignore the optional arguments in most situations.\n    */\n    static cursor(pos, assoc = 0, bidiLevel, goalColumn) {\n        return SelectionRange.create(pos, pos, (assoc == 0 ? 0 : assoc < 0 ? 4 /* RangeFlag.AssocBefore */ : 8 /* RangeFlag.AssocAfter */) |\n            (bidiLevel == null ? 3 : Math.min(2, bidiLevel)) |\n            ((goalColumn !== null && goalColumn !== void 0 ? goalColumn : 33554431 /* RangeFlag.NoGoalColumn */) << 5 /* RangeFlag.GoalColumnOffset */));\n    }\n    /**\n    Create a selection range.\n    */\n    static range(anchor, head, goalColumn, bidiLevel) {\n        let flags = ((goalColumn !== null && goalColumn !== void 0 ? goalColumn : 33554431 /* RangeFlag.NoGoalColumn */) << 5 /* RangeFlag.GoalColumnOffset */) |\n            (bidiLevel == null ? 3 : Math.min(2, bidiLevel));\n        return head < anchor ? SelectionRange.create(head, anchor, 16 /* RangeFlag.Inverted */ | 8 /* RangeFlag.AssocAfter */ | flags)\n            : SelectionRange.create(anchor, head, (head > anchor ? 4 /* RangeFlag.AssocBefore */ : 0) | flags);\n    }\n    /**\n    @internal\n    */\n    static normalized(ranges, mainIndex = 0) {\n        let main = ranges[mainIndex];\n        ranges.sort((a, b) => a.from - b.from);\n        mainIndex = ranges.indexOf(main);\n        for (let i = 1; i < ranges.length; i++) {\n            let range = ranges[i], prev = ranges[i - 1];\n            if (range.empty ? range.from <= prev.to : range.from < prev.to) {\n                let from = prev.from, to = Math.max(range.to, prev.to);\n                if (i <= mainIndex)\n                    mainIndex--;\n                ranges.splice(--i, 2, range.anchor > range.head ? EditorSelection.range(to, from) : EditorSelection.range(from, to));\n            }\n        }\n        return new EditorSelection(ranges, mainIndex);\n    }\n}\nfunction checkSelection(selection, docLength) {\n    for (let range of selection.ranges)\n        if (range.to > docLength)\n            throw new RangeError(\"Selection points outside of document\");\n}\n\nlet nextID = 0;\n/**\nA facet is a labeled value that is associated with an editor\nstate. It takes inputs from any number of extensions, and combines\nthose into a single output value.\n\nExamples of uses of facets are the [tab\nsize](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize), [editor\nattributes](https://codemirror.net/6/docs/ref/#view.EditorView^editorAttributes), and [update\nlisteners](https://codemirror.net/6/docs/ref/#view.EditorView^updateListener).\n*/\nclass Facet {\n    constructor(\n    /**\n    @internal\n    */\n    combine, \n    /**\n    @internal\n    */\n    compareInput, \n    /**\n    @internal\n    */\n    compare, isStatic, enables) {\n        this.combine = combine;\n        this.compareInput = compareInput;\n        this.compare = compare;\n        this.isStatic = isStatic;\n        /**\n        @internal\n        */\n        this.id = nextID++;\n        this.default = combine([]);\n        this.extensions = typeof enables == \"function\" ? enables(this) : enables;\n    }\n    /**\n    Define a new facet.\n    */\n    static define(config = {}) {\n        return new Facet(config.combine || ((a) => a), config.compareInput || ((a, b) => a === b), config.compare || (!config.combine ? sameArray : (a, b) => a === b), !!config.static, config.enables);\n    }\n    /**\n    Returns an extension that adds the given value to this facet.\n    */\n    of(value) {\n        return new FacetProvider([], this, 0 /* Provider.Static */, value);\n    }\n    /**\n    Create an extension that computes a value for the facet from a\n    state. You must take care to declare the parts of the state that\n    this value depends on, since your function is only called again\n    for a new state when one of those parts changed.\n    \n    In cases where your value depends only on a single field, you'll\n    want to use the [`from`](https://codemirror.net/6/docs/ref/#state.Facet.from) method instead.\n    */\n    compute(deps, get) {\n        if (this.isStatic)\n            throw new Error(\"Can't compute a static facet\");\n        return new FacetProvider(deps, this, 1 /* Provider.Single */, get);\n    }\n    /**\n    Create an extension that computes zero or more values for this\n    facet from a state.\n    */\n    computeN(deps, get) {\n        if (this.isStatic)\n            throw new Error(\"Can't compute a static facet\");\n        return new FacetProvider(deps, this, 2 /* Provider.Multi */, get);\n    }\n    from(field, get) {\n        if (!get)\n            get = x => x;\n        return this.compute([field], state => get(state.field(field)));\n    }\n}\nfunction sameArray(a, b) {\n    return a == b || a.length == b.length && a.every((e, i) => e === b[i]);\n}\nclass FacetProvider {\n    constructor(dependencies, facet, type, value) {\n        this.dependencies = dependencies;\n        this.facet = facet;\n        this.type = type;\n        this.value = value;\n        this.id = nextID++;\n    }\n    dynamicSlot(addresses) {\n        var _a;\n        let getter = this.value;\n        let compare = this.facet.compareInput;\n        let id = this.id, idx = addresses[id] >> 1, multi = this.type == 2 /* Provider.Multi */;\n        let depDoc = false, depSel = false, depAddrs = [];\n        for (let dep of this.dependencies) {\n            if (dep == \"doc\")\n                depDoc = true;\n            else if (dep == \"selection\")\n                depSel = true;\n            else if ((((_a = addresses[dep.id]) !== null && _a !== void 0 ? _a : 1) & 1) == 0)\n                depAddrs.push(addresses[dep.id]);\n        }\n        return {\n            create(state) {\n                state.values[idx] = getter(state);\n                return 1 /* SlotStatus.Changed */;\n            },\n            update(state, tr) {\n                if ((depDoc && tr.docChanged) || (depSel && (tr.docChanged || tr.selection)) || ensureAll(state, depAddrs)) {\n                    let newVal = getter(state);\n                    if (multi ? !compareArray(newVal, state.values[idx], compare) : !compare(newVal, state.values[idx])) {\n                        state.values[idx] = newVal;\n                        return 1 /* SlotStatus.Changed */;\n                    }\n                }\n                return 0;\n            },\n            reconfigure: (state, oldState) => {\n                let newVal, oldAddr = oldState.config.address[id];\n                if (oldAddr != null) {\n                    let oldVal = getAddr(oldState, oldAddr);\n                    if (this.dependencies.every(dep => {\n                        return dep instanceof Facet ? oldState.facet(dep) === state.facet(dep) :\n                            dep instanceof StateField ? oldState.field(dep, false) == state.field(dep, false) : true;\n                    }) || (multi ? compareArray(newVal = getter(state), oldVal, compare) : compare(newVal = getter(state), oldVal))) {\n                        state.values[idx] = oldVal;\n                        return 0;\n                    }\n                }\n                else {\n                    newVal = getter(state);\n                }\n                state.values[idx] = newVal;\n                return 1 /* SlotStatus.Changed */;\n            }\n        };\n    }\n}\nfunction compareArray(a, b, compare) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!compare(a[i], b[i]))\n            return false;\n    return true;\n}\nfunction ensureAll(state, addrs) {\n    let changed = false;\n    for (let addr of addrs)\n        if (ensureAddr(state, addr) & 1 /* SlotStatus.Changed */)\n            changed = true;\n    return changed;\n}\nfunction dynamicFacetSlot(addresses, facet, providers) {\n    let providerAddrs = providers.map(p => addresses[p.id]);\n    let providerTypes = providers.map(p => p.type);\n    let dynamic = providerAddrs.filter(p => !(p & 1));\n    let idx = addresses[facet.id] >> 1;\n    function get(state) {\n        let values = [];\n        for (let i = 0; i < providerAddrs.length; i++) {\n            let value = getAddr(state, providerAddrs[i]);\n            if (providerTypes[i] == 2 /* Provider.Multi */)\n                for (let val of value)\n                    values.push(val);\n            else\n                values.push(value);\n        }\n        return facet.combine(values);\n    }\n    return {\n        create(state) {\n            for (let addr of providerAddrs)\n                ensureAddr(state, addr);\n            state.values[idx] = get(state);\n            return 1 /* SlotStatus.Changed */;\n        },\n        update(state, tr) {\n            if (!ensureAll(state, dynamic))\n                return 0;\n            let value = get(state);\n            if (facet.compare(value, state.values[idx]))\n                return 0;\n            state.values[idx] = value;\n            return 1 /* SlotStatus.Changed */;\n        },\n        reconfigure(state, oldState) {\n            let depChanged = ensureAll(state, providerAddrs);\n            let oldProviders = oldState.config.facets[facet.id], oldValue = oldState.facet(facet);\n            if (oldProviders && !depChanged && sameArray(providers, oldProviders)) {\n                state.values[idx] = oldValue;\n                return 0;\n            }\n            let value = get(state);\n            if (facet.compare(value, oldValue)) {\n                state.values[idx] = oldValue;\n                return 0;\n            }\n            state.values[idx] = value;\n            return 1 /* SlotStatus.Changed */;\n        }\n    };\n}\nconst initField = /*@__PURE__*/Facet.define({ static: true });\n/**\nFields can store additional information in an editor state, and\nkeep it in sync with the rest of the state.\n*/\nclass StateField {\n    constructor(\n    /**\n    @internal\n    */\n    id, createF, updateF, compareF, \n    /**\n    @internal\n    */\n    spec) {\n        this.id = id;\n        this.createF = createF;\n        this.updateF = updateF;\n        this.compareF = compareF;\n        this.spec = spec;\n        /**\n        @internal\n        */\n        this.provides = undefined;\n    }\n    /**\n    Define a state field.\n    */\n    static define(config) {\n        let field = new StateField(nextID++, config.create, config.update, config.compare || ((a, b) => a === b), config);\n        if (config.provide)\n            field.provides = config.provide(field);\n        return field;\n    }\n    create(state) {\n        let init = state.facet(initField).find(i => i.field == this);\n        return ((init === null || init === void 0 ? void 0 : init.create) || this.createF)(state);\n    }\n    /**\n    @internal\n    */\n    slot(addresses) {\n        let idx = addresses[this.id] >> 1;\n        return {\n            create: (state) => {\n                state.values[idx] = this.create(state);\n                return 1 /* SlotStatus.Changed */;\n            },\n            update: (state, tr) => {\n                let oldVal = state.values[idx];\n                let value = this.updateF(oldVal, tr);\n                if (this.compareF(oldVal, value))\n                    return 0;\n                state.values[idx] = value;\n                return 1 /* SlotStatus.Changed */;\n            },\n            reconfigure: (state, oldState) => {\n                if (oldState.config.address[this.id] != null) {\n                    state.values[idx] = oldState.field(this);\n                    return 0;\n                }\n                state.values[idx] = this.create(state);\n                return 1 /* SlotStatus.Changed */;\n            }\n        };\n    }\n    /**\n    Returns an extension that enables this field and overrides the\n    way it is initialized. Can be useful when you need to provide a\n    non-default starting value for the field.\n    */\n    init(create) {\n        return [this, initField.of({ field: this, create })];\n    }\n    /**\n    State field instances can be used as\n    [`Extension`](https://codemirror.net/6/docs/ref/#state.Extension) values to enable the field in a\n    given state.\n    */\n    get extension() { return this; }\n}\nconst Prec_ = { lowest: 4, low: 3, default: 2, high: 1, highest: 0 };\nfunction prec(value) {\n    return (ext) => new PrecExtension(ext, value);\n}\n/**\nBy default extensions are registered in the order they are found\nin the flattened form of nested array that was provided.\nIndividual extension values can be assigned a precedence to\noverride this. Extensions that do not have a precedence set get\nthe precedence of the nearest parent with a precedence, or\n[`default`](https://codemirror.net/6/docs/ref/#state.Prec.default) if there is no such parent. The\nfinal ordering of extensions is determined by first sorting by\nprecedence and then by order within each precedence.\n*/\nconst Prec = {\n    /**\n    The highest precedence level, for extensions that should end up\n    near the start of the precedence ordering.\n    */\n    highest: /*@__PURE__*/prec(Prec_.highest),\n    /**\n    A higher-than-default precedence, for extensions that should\n    come before those with default precedence.\n    */\n    high: /*@__PURE__*/prec(Prec_.high),\n    /**\n    The default precedence, which is also used for extensions\n    without an explicit precedence.\n    */\n    default: /*@__PURE__*/prec(Prec_.default),\n    /**\n    A lower-than-default precedence.\n    */\n    low: /*@__PURE__*/prec(Prec_.low),\n    /**\n    The lowest precedence level. Meant for things that should end up\n    near the end of the extension order.\n    */\n    lowest: /*@__PURE__*/prec(Prec_.lowest)\n};\nclass PrecExtension {\n    constructor(inner, prec) {\n        this.inner = inner;\n        this.prec = prec;\n    }\n}\n/**\nExtension compartments can be used to make a configuration\ndynamic. By [wrapping](https://codemirror.net/6/docs/ref/#state.Compartment.of) part of your\nconfiguration in a compartment, you can later\n[replace](https://codemirror.net/6/docs/ref/#state.Compartment.reconfigure) that part through a\ntransaction.\n*/\nclass Compartment {\n    /**\n    Create an instance of this compartment to add to your [state\n    configuration](https://codemirror.net/6/docs/ref/#state.EditorStateConfig.extensions).\n    */\n    of(ext) { return new CompartmentInstance(this, ext); }\n    /**\n    Create an [effect](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) that\n    reconfigures this compartment.\n    */\n    reconfigure(content) {\n        return Compartment.reconfigure.of({ compartment: this, extension: content });\n    }\n    /**\n    Get the current content of the compartment in the state, or\n    `undefined` if it isn't present.\n    */\n    get(state) {\n        return state.config.compartments.get(this);\n    }\n}\nclass CompartmentInstance {\n    constructor(compartment, inner) {\n        this.compartment = compartment;\n        this.inner = inner;\n    }\n}\nclass Configuration {\n    constructor(base, compartments, dynamicSlots, address, staticValues, facets) {\n        this.base = base;\n        this.compartments = compartments;\n        this.dynamicSlots = dynamicSlots;\n        this.address = address;\n        this.staticValues = staticValues;\n        this.facets = facets;\n        this.statusTemplate = [];\n        while (this.statusTemplate.length < dynamicSlots.length)\n            this.statusTemplate.push(0 /* SlotStatus.Unresolved */);\n    }\n    staticFacet(facet) {\n        let addr = this.address[facet.id];\n        return addr == null ? facet.default : this.staticValues[addr >> 1];\n    }\n    static resolve(base, compartments, oldState) {\n        let fields = [];\n        let facets = Object.create(null);\n        let newCompartments = new Map();\n        for (let ext of flatten(base, compartments, newCompartments)) {\n            if (ext instanceof StateField)\n                fields.push(ext);\n            else\n                (facets[ext.facet.id] || (facets[ext.facet.id] = [])).push(ext);\n        }\n        let address = Object.create(null);\n        let staticValues = [];\n        let dynamicSlots = [];\n        for (let field of fields) {\n            address[field.id] = dynamicSlots.length << 1;\n            dynamicSlots.push(a => field.slot(a));\n        }\n        let oldFacets = oldState === null || oldState === void 0 ? void 0 : oldState.config.facets;\n        for (let id in facets) {\n            let providers = facets[id], facet = providers[0].facet;\n            let oldProviders = oldFacets && oldFacets[id] || [];\n            if (providers.every(p => p.type == 0 /* Provider.Static */)) {\n                address[facet.id] = (staticValues.length << 1) | 1;\n                if (sameArray(oldProviders, providers)) {\n                    staticValues.push(oldState.facet(facet));\n                }\n                else {\n                    let value = facet.combine(providers.map(p => p.value));\n                    staticValues.push(oldState && facet.compare(value, oldState.facet(facet)) ? oldState.facet(facet) : value);\n                }\n            }\n            else {\n                for (let p of providers) {\n                    if (p.type == 0 /* Provider.Static */) {\n                        address[p.id] = (staticValues.length << 1) | 1;\n                        staticValues.push(p.value);\n                    }\n                    else {\n                        address[p.id] = dynamicSlots.length << 1;\n                        dynamicSlots.push(a => p.dynamicSlot(a));\n                    }\n                }\n                address[facet.id] = dynamicSlots.length << 1;\n                dynamicSlots.push(a => dynamicFacetSlot(a, facet, providers));\n            }\n        }\n        let dynamic = dynamicSlots.map(f => f(address));\n        return new Configuration(base, newCompartments, dynamic, address, staticValues, facets);\n    }\n}\nfunction flatten(extension, compartments, newCompartments) {\n    let result = [[], [], [], [], []];\n    let seen = new Map();\n    function inner(ext, prec) {\n        let known = seen.get(ext);\n        if (known != null) {\n            if (known <= prec)\n                return;\n            let found = result[known].indexOf(ext);\n            if (found > -1)\n                result[known].splice(found, 1);\n            if (ext instanceof CompartmentInstance)\n                newCompartments.delete(ext.compartment);\n        }\n        seen.set(ext, prec);\n        if (Array.isArray(ext)) {\n            for (let e of ext)\n                inner(e, prec);\n        }\n        else if (ext instanceof CompartmentInstance) {\n            if (newCompartments.has(ext.compartment))\n                throw new RangeError(`Duplicate use of compartment in extensions`);\n            let content = compartments.get(ext.compartment) || ext.inner;\n            newCompartments.set(ext.compartment, content);\n            inner(content, prec);\n        }\n        else if (ext instanceof PrecExtension) {\n            inner(ext.inner, ext.prec);\n        }\n        else if (ext instanceof StateField) {\n            result[prec].push(ext);\n            if (ext.provides)\n                inner(ext.provides, prec);\n        }\n        else if (ext instanceof FacetProvider) {\n            result[prec].push(ext);\n            if (ext.facet.extensions)\n                inner(ext.facet.extensions, Prec_.default);\n        }\n        else {\n            let content = ext.extension;\n            if (!content)\n                throw new Error(`Unrecognized extension value in extension set (${ext}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);\n            inner(content, prec);\n        }\n    }\n    inner(extension, Prec_.default);\n    return result.reduce((a, b) => a.concat(b));\n}\nfunction ensureAddr(state, addr) {\n    if (addr & 1)\n        return 2 /* SlotStatus.Computed */;\n    let idx = addr >> 1;\n    let status = state.status[idx];\n    if (status == 4 /* SlotStatus.Computing */)\n        throw new Error(\"Cyclic dependency between fields and/or facets\");\n    if (status & 2 /* SlotStatus.Computed */)\n        return status;\n    state.status[idx] = 4 /* SlotStatus.Computing */;\n    let changed = state.computeSlot(state, state.config.dynamicSlots[idx]);\n    return state.status[idx] = 2 /* SlotStatus.Computed */ | changed;\n}\nfunction getAddr(state, addr) {\n    return addr & 1 ? state.config.staticValues[addr >> 1] : state.values[addr >> 1];\n}\n\nconst languageData = /*@__PURE__*/Facet.define();\nconst allowMultipleSelections = /*@__PURE__*/Facet.define({\n    combine: values => values.some(v => v),\n    static: true\n});\nconst lineSeparator = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : undefined,\n    static: true\n});\nconst changeFilter = /*@__PURE__*/Facet.define();\nconst transactionFilter = /*@__PURE__*/Facet.define();\nconst transactionExtender = /*@__PURE__*/Facet.define();\nconst readOnly = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : false\n});\n\n/**\nAnnotations are tagged values that are used to add metadata to\ntransactions in an extensible way. They should be used to model\nthings that effect the entire transaction (such as its [time\nstamp](https://codemirror.net/6/docs/ref/#state.Transaction^time) or information about its\n[origin](https://codemirror.net/6/docs/ref/#state.Transaction^userEvent)). For effects that happen\n_alongside_ the other changes made by the transaction, [state\neffects](https://codemirror.net/6/docs/ref/#state.StateEffect) are more appropriate.\n*/\nclass Annotation {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The annotation type.\n    */\n    type, \n    /**\n    The value of this annotation.\n    */\n    value) {\n        this.type = type;\n        this.value = value;\n    }\n    /**\n    Define a new type of annotation.\n    */\n    static define() { return new AnnotationType(); }\n}\n/**\nMarker that identifies a type of [annotation](https://codemirror.net/6/docs/ref/#state.Annotation).\n*/\nclass AnnotationType {\n    /**\n    Create an instance of this annotation.\n    */\n    of(value) { return new Annotation(this, value); }\n}\n/**\nRepresentation of a type of state effect. Defined with\n[`StateEffect.define`](https://codemirror.net/6/docs/ref/#state.StateEffect^define).\n*/\nclass StateEffectType {\n    /**\n    @internal\n    */\n    constructor(\n    // The `any` types in these function types are there to work\n    // around TypeScript issue #37631, where the type guard on\n    // `StateEffect.is` mysteriously stops working when these properly\n    // have type `Value`.\n    /**\n    @internal\n    */\n    map) {\n        this.map = map;\n    }\n    /**\n    Create a [state effect](https://codemirror.net/6/docs/ref/#state.StateEffect) instance of this\n    type.\n    */\n    of(value) { return new StateEffect(this, value); }\n}\n/**\nState effects can be used to represent additional effects\nassociated with a [transaction](https://codemirror.net/6/docs/ref/#state.Transaction.effects). They\nare often useful to model changes to custom [state\nfields](https://codemirror.net/6/docs/ref/#state.StateField), when those changes aren't implicit in\ndocument or selection changes.\n*/\nclass StateEffect {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    type, \n    /**\n    The value of this effect.\n    */\n    value) {\n        this.type = type;\n        this.value = value;\n    }\n    /**\n    Map this effect through a position mapping. Will return\n    `undefined` when that ends up deleting the effect.\n    */\n    map(mapping) {\n        let mapped = this.type.map(this.value, mapping);\n        return mapped === undefined ? undefined : mapped == this.value ? this : new StateEffect(this.type, mapped);\n    }\n    /**\n    Tells you whether this effect object is of a given\n    [type](https://codemirror.net/6/docs/ref/#state.StateEffectType).\n    */\n    is(type) { return this.type == type; }\n    /**\n    Define a new effect type. The type parameter indicates the type\n    of values that his effect holds. It should be a type that\n    doesn't include `undefined`, since that is used in\n    [mapping](https://codemirror.net/6/docs/ref/#state.StateEffect.map) to indicate that an effect is\n    removed.\n    */\n    static define(spec = {}) {\n        return new StateEffectType(spec.map || (v => v));\n    }\n    /**\n    Map an array of effects through a change set.\n    */\n    static mapEffects(effects, mapping) {\n        if (!effects.length)\n            return effects;\n        let result = [];\n        for (let effect of effects) {\n            let mapped = effect.map(mapping);\n            if (mapped)\n                result.push(mapped);\n        }\n        return result;\n    }\n}\n/**\nThis effect can be used to reconfigure the root extensions of\nthe editor. Doing this will discard any extensions\n[appended](https://codemirror.net/6/docs/ref/#state.StateEffect^appendConfig), but does not reset\nthe content of [reconfigured](https://codemirror.net/6/docs/ref/#state.Compartment.reconfigure)\ncompartments.\n*/\nStateEffect.reconfigure = /*@__PURE__*/StateEffect.define();\n/**\nAppend extensions to the top-level configuration of the editor.\n*/\nStateEffect.appendConfig = /*@__PURE__*/StateEffect.define();\n/**\nChanges to the editor state are grouped into transactions.\nTypically, a user action creates a single transaction, which may\ncontain any number of document changes, may change the selection,\nor have other effects. Create a transaction by calling\n[`EditorState.update`](https://codemirror.net/6/docs/ref/#state.EditorState.update), or immediately\ndispatch one by calling\n[`EditorView.dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch).\n*/\nclass Transaction {\n    constructor(\n    /**\n    The state from which the transaction starts.\n    */\n    startState, \n    /**\n    The document changes made by this transaction.\n    */\n    changes, \n    /**\n    The selection set by this transaction, or undefined if it\n    doesn't explicitly set a selection.\n    */\n    selection, \n    /**\n    The effects added to the transaction.\n    */\n    effects, \n    /**\n    @internal\n    */\n    annotations, \n    /**\n    Whether the selection should be scrolled into view after this\n    transaction is dispatched.\n    */\n    scrollIntoView) {\n        this.startState = startState;\n        this.changes = changes;\n        this.selection = selection;\n        this.effects = effects;\n        this.annotations = annotations;\n        this.scrollIntoView = scrollIntoView;\n        /**\n        @internal\n        */\n        this._doc = null;\n        /**\n        @internal\n        */\n        this._state = null;\n        if (selection)\n            checkSelection(selection, changes.newLength);\n        if (!annotations.some((a) => a.type == Transaction.time))\n            this.annotations = annotations.concat(Transaction.time.of(Date.now()));\n    }\n    /**\n    @internal\n    */\n    static create(startState, changes, selection, effects, annotations, scrollIntoView) {\n        return new Transaction(startState, changes, selection, effects, annotations, scrollIntoView);\n    }\n    /**\n    The new document produced by the transaction. Contrary to\n    [`.state`](https://codemirror.net/6/docs/ref/#state.Transaction.state)`.doc`, accessing this won't\n    force the entire new state to be computed right away, so it is\n    recommended that [transaction\n    filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) use this getter\n    when they need to look at the new document.\n    */\n    get newDoc() {\n        return this._doc || (this._doc = this.changes.apply(this.startState.doc));\n    }\n    /**\n    The new selection produced by the transaction. If\n    [`this.selection`](https://codemirror.net/6/docs/ref/#state.Transaction.selection) is undefined,\n    this will [map](https://codemirror.net/6/docs/ref/#state.EditorSelection.map) the start state's\n    current selection through the changes made by the transaction.\n    */\n    get newSelection() {\n        return this.selection || this.startState.selection.map(this.changes);\n    }\n    /**\n    The new state created by the transaction. Computed on demand\n    (but retained for subsequent access), so it is recommended not to\n    access it in [transaction\n    filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) when possible.\n    */\n    get state() {\n        if (!this._state)\n            this.startState.applyTransaction(this);\n        return this._state;\n    }\n    /**\n    Get the value of the given annotation type, if any.\n    */\n    annotation(type) {\n        for (let ann of this.annotations)\n            if (ann.type == type)\n                return ann.value;\n        return undefined;\n    }\n    /**\n    Indicates whether the transaction changed the document.\n    */\n    get docChanged() { return !this.changes.empty; }\n    /**\n    Indicates whether this transaction reconfigures the state\n    (through a [configuration compartment](https://codemirror.net/6/docs/ref/#state.Compartment) or\n    with a top-level configuration\n    [effect](https://codemirror.net/6/docs/ref/#state.StateEffect^reconfigure).\n    */\n    get reconfigured() { return this.startState.config != this.state.config; }\n    /**\n    Returns true if the transaction has a [user\n    event](https://codemirror.net/6/docs/ref/#state.Transaction^userEvent) annotation that is equal to\n    or more specific than `event`. For example, if the transaction\n    has `\"select.pointer\"` as user event, `\"select\"` and\n    `\"select.pointer\"` will match it.\n    */\n    isUserEvent(event) {\n        let e = this.annotation(Transaction.userEvent);\n        return !!(e && (e == event || e.length > event.length && e.slice(0, event.length) == event && e[event.length] == \".\"));\n    }\n}\n/**\nAnnotation used to store transaction timestamps. Automatically\nadded to every transaction, holding `Date.now()`.\n*/\nTransaction.time = /*@__PURE__*/Annotation.define();\n/**\nAnnotation used to associate a transaction with a user interface\nevent. Holds a string identifying the event, using a\ndot-separated format to support attaching more specific\ninformation. The events used by the core libraries are:\n\n - `\"input\"` when content is entered\n   - `\"input.type\"` for typed input\n     - `\"input.type.compose\"` for composition\n   - `\"input.paste\"` for pasted input\n   - `\"input.drop\"` when adding content with drag-and-drop\n   - `\"input.complete\"` when autocompleting\n - `\"delete\"` when the user deletes content\n   - `\"delete.selection\"` when deleting the selection\n   - `\"delete.forward\"` when deleting forward from the selection\n   - `\"delete.backward\"` when deleting backward from the selection\n   - `\"delete.cut\"` when cutting to the clipboard\n - `\"move\"` when content is moved\n   - `\"move.drop\"` when content is moved within the editor through drag-and-drop\n - `\"select\"` when explicitly changing the selection\n   - `\"select.pointer\"` when selecting with a mouse or other pointing device\n - `\"undo\"` and `\"redo\"` for history actions\n\nUse [`isUserEvent`](https://codemirror.net/6/docs/ref/#state.Transaction.isUserEvent) to check\nwhether the annotation matches a given event.\n*/\nTransaction.userEvent = /*@__PURE__*/Annotation.define();\n/**\nAnnotation indicating whether a transaction should be added to\nthe undo history or not.\n*/\nTransaction.addToHistory = /*@__PURE__*/Annotation.define();\n/**\nAnnotation indicating (when present and true) that a transaction\nrepresents a change made by some other actor, not the user. This\nis used, for example, to tag other people's changes in\ncollaborative editing.\n*/\nTransaction.remote = /*@__PURE__*/Annotation.define();\nfunction joinRanges(a, b) {\n    let result = [];\n    for (let iA = 0, iB = 0;;) {\n        let from, to;\n        if (iA < a.length && (iB == b.length || b[iB] >= a[iA])) {\n            from = a[iA++];\n            to = a[iA++];\n        }\n        else if (iB < b.length) {\n            from = b[iB++];\n            to = b[iB++];\n        }\n        else\n            return result;\n        if (!result.length || result[result.length - 1] < from)\n            result.push(from, to);\n        else if (result[result.length - 1] < to)\n            result[result.length - 1] = to;\n    }\n}\nfunction mergeTransaction(a, b, sequential) {\n    var _a;\n    let mapForA, mapForB, changes;\n    if (sequential) {\n        mapForA = b.changes;\n        mapForB = ChangeSet.empty(b.changes.length);\n        changes = a.changes.compose(b.changes);\n    }\n    else {\n        mapForA = b.changes.map(a.changes);\n        mapForB = a.changes.mapDesc(b.changes, true);\n        changes = a.changes.compose(mapForA);\n    }\n    return {\n        changes,\n        selection: b.selection ? b.selection.map(mapForB) : (_a = a.selection) === null || _a === void 0 ? void 0 : _a.map(mapForA),\n        effects: StateEffect.mapEffects(a.effects, mapForA).concat(StateEffect.mapEffects(b.effects, mapForB)),\n        annotations: a.annotations.length ? a.annotations.concat(b.annotations) : b.annotations,\n        scrollIntoView: a.scrollIntoView || b.scrollIntoView\n    };\n}\nfunction resolveTransactionInner(state, spec, docSize) {\n    let sel = spec.selection, annotations = asArray(spec.annotations);\n    if (spec.userEvent)\n        annotations = annotations.concat(Transaction.userEvent.of(spec.userEvent));\n    return {\n        changes: spec.changes instanceof ChangeSet ? spec.changes\n            : ChangeSet.of(spec.changes || [], docSize, state.facet(lineSeparator)),\n        selection: sel && (sel instanceof EditorSelection ? sel : EditorSelection.single(sel.anchor, sel.head)),\n        effects: asArray(spec.effects),\n        annotations,\n        scrollIntoView: !!spec.scrollIntoView\n    };\n}\nfunction resolveTransaction(state, specs, filter) {\n    let s = resolveTransactionInner(state, specs.length ? specs[0] : {}, state.doc.length);\n    if (specs.length && specs[0].filter === false)\n        filter = false;\n    for (let i = 1; i < specs.length; i++) {\n        if (specs[i].filter === false)\n            filter = false;\n        let seq = !!specs[i].sequential;\n        s = mergeTransaction(s, resolveTransactionInner(state, specs[i], seq ? s.changes.newLength : state.doc.length), seq);\n    }\n    let tr = Transaction.create(state, s.changes, s.selection, s.effects, s.annotations, s.scrollIntoView);\n    return extendTransaction(filter ? filterTransaction(tr) : tr);\n}\n// Finish a transaction by applying filters if necessary.\nfunction filterTransaction(tr) {\n    let state = tr.startState;\n    // Change filters\n    let result = true;\n    for (let filter of state.facet(changeFilter)) {\n        let value = filter(tr);\n        if (value === false) {\n            result = false;\n            break;\n        }\n        if (Array.isArray(value))\n            result = result === true ? value : joinRanges(result, value);\n    }\n    if (result !== true) {\n        let changes, back;\n        if (result === false) {\n            back = tr.changes.invertedDesc;\n            changes = ChangeSet.empty(state.doc.length);\n        }\n        else {\n            let filtered = tr.changes.filter(result);\n            changes = filtered.changes;\n            back = filtered.filtered.mapDesc(filtered.changes).invertedDesc;\n        }\n        tr = Transaction.create(state, changes, tr.selection && tr.selection.map(back), StateEffect.mapEffects(tr.effects, back), tr.annotations, tr.scrollIntoView);\n    }\n    // Transaction filters\n    let filters = state.facet(transactionFilter);\n    for (let i = filters.length - 1; i >= 0; i--) {\n        let filtered = filters[i](tr);\n        if (filtered instanceof Transaction)\n            tr = filtered;\n        else if (Array.isArray(filtered) && filtered.length == 1 && filtered[0] instanceof Transaction)\n            tr = filtered[0];\n        else\n            tr = resolveTransaction(state, asArray(filtered), false);\n    }\n    return tr;\n}\nfunction extendTransaction(tr) {\n    let state = tr.startState, extenders = state.facet(transactionExtender), spec = tr;\n    for (let i = extenders.length - 1; i >= 0; i--) {\n        let extension = extenders[i](tr);\n        if (extension && Object.keys(extension).length)\n            spec = mergeTransaction(spec, resolveTransactionInner(state, extension, tr.changes.newLength), true);\n    }\n    return spec == tr ? tr : Transaction.create(state, tr.changes, tr.selection, spec.effects, spec.annotations, spec.scrollIntoView);\n}\nconst none = [];\nfunction asArray(value) {\n    return value == null ? none : Array.isArray(value) ? value : [value];\n}\n\n/**\nThe categories produced by a [character\ncategorizer](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer). These are used\ndo things like selecting by word.\n*/\nvar CharCategory = /*@__PURE__*/(function (CharCategory) {\n    /**\n    Word characters.\n    */\n    CharCategory[CharCategory[\"Word\"] = 0] = \"Word\";\n    /**\n    Whitespace.\n    */\n    CharCategory[CharCategory[\"Space\"] = 1] = \"Space\";\n    /**\n    Anything else.\n    */\n    CharCategory[CharCategory[\"Other\"] = 2] = \"Other\";\nreturn CharCategory})(CharCategory || (CharCategory = {}));\nconst nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\nlet wordChar;\ntry {\n    wordChar = /*@__PURE__*/new RegExp(\"[\\\\p{Alphabetic}\\\\p{Number}_]\", \"u\");\n}\ncatch (_) { }\nfunction hasWordChar(str) {\n    if (wordChar)\n        return wordChar.test(str);\n    for (let i = 0; i < str.length; i++) {\n        let ch = str[i];\n        if (/\\w/.test(ch) || ch > \"\\x80\" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch)))\n            return true;\n    }\n    return false;\n}\nfunction makeCategorizer(wordChars) {\n    return (char) => {\n        if (!/\\S/.test(char))\n            return CharCategory.Space;\n        if (hasWordChar(char))\n            return CharCategory.Word;\n        for (let i = 0; i < wordChars.length; i++)\n            if (char.indexOf(wordChars[i]) > -1)\n                return CharCategory.Word;\n        return CharCategory.Other;\n    };\n}\n\n/**\nThe editor state class is a persistent (immutable) data structure.\nTo update a state, you [create](https://codemirror.net/6/docs/ref/#state.EditorState.update) a\n[transaction](https://codemirror.net/6/docs/ref/#state.Transaction), which produces a _new_ state\ninstance, without modifying the original object.\n\nAs such, _never_ mutate properties of a state directly. That'll\njust break things.\n*/\nclass EditorState {\n    constructor(\n    /**\n    @internal\n    */\n    config, \n    /**\n    The current document.\n    */\n    doc, \n    /**\n    The current selection.\n    */\n    selection, \n    /**\n    @internal\n    */\n    values, computeSlot, tr) {\n        this.config = config;\n        this.doc = doc;\n        this.selection = selection;\n        this.values = values;\n        this.status = config.statusTemplate.slice();\n        this.computeSlot = computeSlot;\n        // Fill in the computed state immediately, so that further queries\n        // for it made during the update return this state\n        if (tr)\n            tr._state = this;\n        for (let i = 0; i < this.config.dynamicSlots.length; i++)\n            ensureAddr(this, i << 1);\n        this.computeSlot = null;\n    }\n    field(field, require = true) {\n        let addr = this.config.address[field.id];\n        if (addr == null) {\n            if (require)\n                throw new RangeError(\"Field is not present in this state\");\n            return undefined;\n        }\n        ensureAddr(this, addr);\n        return getAddr(this, addr);\n    }\n    /**\n    Create a [transaction](https://codemirror.net/6/docs/ref/#state.Transaction) that updates this\n    state. Any number of [transaction specs](https://codemirror.net/6/docs/ref/#state.TransactionSpec)\n    can be passed. Unless\n    [`sequential`](https://codemirror.net/6/docs/ref/#state.TransactionSpec.sequential) is set, the\n    [changes](https://codemirror.net/6/docs/ref/#state.TransactionSpec.changes) (if any) of each spec\n    are assumed to start in the _current_ document (not the document\n    produced by previous specs), and its\n    [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) and\n    [effects](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) are assumed to refer\n    to the document created by its _own_ changes. The resulting\n    transaction contains the combined effect of all the different\n    specs. For [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection), later\n    specs take precedence over earlier ones.\n    */\n    update(...specs) {\n        return resolveTransaction(this, specs, true);\n    }\n    /**\n    @internal\n    */\n    applyTransaction(tr) {\n        let conf = this.config, { base, compartments } = conf;\n        for (let effect of tr.effects) {\n            if (effect.is(Compartment.reconfigure)) {\n                if (conf) {\n                    compartments = new Map;\n                    conf.compartments.forEach((val, key) => compartments.set(key, val));\n                    conf = null;\n                }\n                compartments.set(effect.value.compartment, effect.value.extension);\n            }\n            else if (effect.is(StateEffect.reconfigure)) {\n                conf = null;\n                base = effect.value;\n            }\n            else if (effect.is(StateEffect.appendConfig)) {\n                conf = null;\n                base = asArray(base).concat(effect.value);\n            }\n        }\n        let startValues;\n        if (!conf) {\n            conf = Configuration.resolve(base, compartments, this);\n            let intermediateState = new EditorState(conf, this.doc, this.selection, conf.dynamicSlots.map(() => null), (state, slot) => slot.reconfigure(state, this), null);\n            startValues = intermediateState.values;\n        }\n        else {\n            startValues = tr.startState.values.slice();\n        }\n        new EditorState(conf, tr.newDoc, tr.newSelection, startValues, (state, slot) => slot.update(state, tr), tr);\n    }\n    /**\n    Create a [transaction spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec) that\n    replaces every selection range with the given content.\n    */\n    replaceSelection(text) {\n        if (typeof text == \"string\")\n            text = this.toText(text);\n        return this.changeByRange(range => ({ changes: { from: range.from, to: range.to, insert: text },\n            range: EditorSelection.cursor(range.from + text.length) }));\n    }\n    /**\n    Create a set of changes and a new selection by running the given\n    function for each range in the active selection. The function\n    can return an optional set of changes (in the coordinate space\n    of the start document), plus an updated range (in the coordinate\n    space of the document produced by the call's own changes). This\n    method will merge all the changes and ranges into a single\n    changeset and selection, and return it as a [transaction\n    spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec), which can be passed to\n    [`update`](https://codemirror.net/6/docs/ref/#state.EditorState.update).\n    */\n    changeByRange(f) {\n        let sel = this.selection;\n        let result1 = f(sel.ranges[0]);\n        let changes = this.changes(result1.changes), ranges = [result1.range];\n        let effects = asArray(result1.effects);\n        for (let i = 1; i < sel.ranges.length; i++) {\n            let result = f(sel.ranges[i]);\n            let newChanges = this.changes(result.changes), newMapped = newChanges.map(changes);\n            for (let j = 0; j < i; j++)\n                ranges[j] = ranges[j].map(newMapped);\n            let mapBy = changes.mapDesc(newChanges, true);\n            ranges.push(result.range.map(mapBy));\n            changes = changes.compose(newMapped);\n            effects = StateEffect.mapEffects(effects, newMapped).concat(StateEffect.mapEffects(asArray(result.effects), mapBy));\n        }\n        return {\n            changes,\n            selection: EditorSelection.create(ranges, sel.mainIndex),\n            effects\n        };\n    }\n    /**\n    Create a [change set](https://codemirror.net/6/docs/ref/#state.ChangeSet) from the given change\n    description, taking the state's document length and line\n    separator into account.\n    */\n    changes(spec = []) {\n        if (spec instanceof ChangeSet)\n            return spec;\n        return ChangeSet.of(spec, this.doc.length, this.facet(EditorState.lineSeparator));\n    }\n    /**\n    Using the state's [line\n    separator](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator), create a\n    [`Text`](https://codemirror.net/6/docs/ref/#state.Text) instance from the given string.\n    */\n    toText(string) {\n        return Text.of(string.split(this.facet(EditorState.lineSeparator) || DefaultSplit));\n    }\n    /**\n    Return the given range of the document as a string.\n    */\n    sliceDoc(from = 0, to = this.doc.length) {\n        return this.doc.sliceString(from, to, this.lineBreak);\n    }\n    /**\n    Get the value of a state [facet](https://codemirror.net/6/docs/ref/#state.Facet).\n    */\n    facet(facet) {\n        let addr = this.config.address[facet.id];\n        if (addr == null)\n            return facet.default;\n        ensureAddr(this, addr);\n        return getAddr(this, addr);\n    }\n    /**\n    Convert this state to a JSON-serializable object. When custom\n    fields should be serialized, you can pass them in as an object\n    mapping property names (in the resulting object, which should\n    not use `doc` or `selection`) to fields.\n    */\n    toJSON(fields) {\n        let result = {\n            doc: this.sliceDoc(),\n            selection: this.selection.toJSON()\n        };\n        if (fields)\n            for (let prop in fields) {\n                let value = fields[prop];\n                if (value instanceof StateField && this.config.address[value.id] != null)\n                    result[prop] = value.spec.toJSON(this.field(fields[prop]), this);\n            }\n        return result;\n    }\n    /**\n    Deserialize a state from its JSON representation. When custom\n    fields should be deserialized, pass the same object you passed\n    to [`toJSON`](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) when serializing as\n    third argument.\n    */\n    static fromJSON(json, config = {}, fields) {\n        if (!json || typeof json.doc != \"string\")\n            throw new RangeError(\"Invalid JSON representation for EditorState\");\n        let fieldInit = [];\n        if (fields)\n            for (let prop in fields) {\n                if (Object.prototype.hasOwnProperty.call(json, prop)) {\n                    let field = fields[prop], value = json[prop];\n                    fieldInit.push(field.init(state => field.spec.fromJSON(value, state)));\n                }\n            }\n        return EditorState.create({\n            doc: json.doc,\n            selection: EditorSelection.fromJSON(json.selection),\n            extensions: config.extensions ? fieldInit.concat([config.extensions]) : fieldInit\n        });\n    }\n    /**\n    Create a new state. You'll usually only need this when\n    initializing an editor—updated states are created by applying\n    transactions.\n    */\n    static create(config = {}) {\n        let configuration = Configuration.resolve(config.extensions || [], new Map);\n        let doc = config.doc instanceof Text ? config.doc\n            : Text.of((config.doc || \"\").split(configuration.staticFacet(EditorState.lineSeparator) || DefaultSplit));\n        let selection = !config.selection ? EditorSelection.single(0)\n            : config.selection instanceof EditorSelection ? config.selection\n                : EditorSelection.single(config.selection.anchor, config.selection.head);\n        checkSelection(selection, doc.length);\n        if (!configuration.staticFacet(allowMultipleSelections))\n            selection = selection.asSingle();\n        return new EditorState(configuration, doc, selection, configuration.dynamicSlots.map(() => null), (state, slot) => slot.create(state), null);\n    }\n    /**\n    The size (in columns) of a tab in the document, determined by\n    the [`tabSize`](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) facet.\n    */\n    get tabSize() { return this.facet(EditorState.tabSize); }\n    /**\n    Get the proper [line-break](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator)\n    string for this state.\n    */\n    get lineBreak() { return this.facet(EditorState.lineSeparator) || \"\\n\"; }\n    /**\n    Returns true when the editor is\n    [configured](https://codemirror.net/6/docs/ref/#state.EditorState^readOnly) to be read-only.\n    */\n    get readOnly() { return this.facet(readOnly); }\n    /**\n    Look up a translation for the given phrase (via the\n    [`phrases`](https://codemirror.net/6/docs/ref/#state.EditorState^phrases) facet), or return the\n    original string if no translation is found.\n    \n    If additional arguments are passed, they will be inserted in\n    place of markers like `$1` (for the first value) and `$2`, etc.\n    A single `$` is equivalent to `$1`, and `$$` will produce a\n    literal dollar sign.\n    */\n    phrase(phrase, ...insert) {\n        for (let map of this.facet(EditorState.phrases))\n            if (Object.prototype.hasOwnProperty.call(map, phrase)) {\n                phrase = map[phrase];\n                break;\n            }\n        if (insert.length)\n            phrase = phrase.replace(/\\$(\\$|\\d*)/g, (m, i) => {\n                if (i == \"$\")\n                    return \"$\";\n                let n = +(i || 1);\n                return !n || n > insert.length ? m : insert[n - 1];\n            });\n        return phrase;\n    }\n    /**\n    Find the values for a given language data field, provided by the\n    the [`languageData`](https://codemirror.net/6/docs/ref/#state.EditorState^languageData) facet.\n    \n    Examples of language data fields are...\n    \n    - [`\"commentTokens\"`](https://codemirror.net/6/docs/ref/#commands.CommentTokens) for specifying\n      comment syntax.\n    - [`\"autocomplete\"`](https://codemirror.net/6/docs/ref/#autocomplete.autocompletion^config.override)\n      for providing language-specific completion sources.\n    - [`\"wordChars\"`](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) for adding\n      characters that should be considered part of words in this\n      language.\n    - [`\"closeBrackets\"`](https://codemirror.net/6/docs/ref/#autocomplete.CloseBracketConfig) controls\n      bracket closing behavior.\n    */\n    languageDataAt(name, pos, side = -1) {\n        let values = [];\n        for (let provider of this.facet(languageData)) {\n            for (let result of provider(this, pos, side)) {\n                if (Object.prototype.hasOwnProperty.call(result, name))\n                    values.push(result[name]);\n            }\n        }\n        return values;\n    }\n    /**\n    Return a function that can categorize strings (expected to\n    represent a single [grapheme cluster](https://codemirror.net/6/docs/ref/#state.findClusterBreak))\n    into one of:\n    \n     - Word (contains an alphanumeric character or a character\n       explicitly listed in the local language's `\"wordChars\"`\n       language data, which should be a string)\n     - Space (contains only whitespace)\n     - Other (anything else)\n    */\n    charCategorizer(at) {\n        return makeCategorizer(this.languageDataAt(\"wordChars\", at).join(\"\"));\n    }\n    /**\n    Find the word at the given position, meaning the range\n    containing all [word](https://codemirror.net/6/docs/ref/#state.CharCategory.Word) characters\n    around it. If no word characters are adjacent to the position,\n    this returns null.\n    */\n    wordAt(pos) {\n        let { text, from, length } = this.doc.lineAt(pos);\n        let cat = this.charCategorizer(pos);\n        let start = pos - from, end = pos - from;\n        while (start > 0) {\n            let prev = findClusterBreak(text, start, false);\n            if (cat(text.slice(prev, start)) != CharCategory.Word)\n                break;\n            start = prev;\n        }\n        while (end < length) {\n            let next = findClusterBreak(text, end);\n            if (cat(text.slice(end, next)) != CharCategory.Word)\n                break;\n            end = next;\n        }\n        return start == end ? null : EditorSelection.range(start + from, end + from);\n    }\n}\n/**\nA facet that, when enabled, causes the editor to allow multiple\nranges to be selected. Be careful though, because by default the\neditor relies on the native DOM selection, which cannot handle\nmultiple selections. An extension like\n[`drawSelection`](https://codemirror.net/6/docs/ref/#view.drawSelection) can be used to make\nsecondary selections visible to the user.\n*/\nEditorState.allowMultipleSelections = allowMultipleSelections;\n/**\nConfigures the tab size to use in this state. The first\n(highest-precedence) value of the facet is used. If no value is\ngiven, this defaults to 4.\n*/\nEditorState.tabSize = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : 4\n});\n/**\nThe line separator to use. By default, any of `\"\\n\"`, `\"\\r\\n\"`\nand `\"\\r\"` is treated as a separator when splitting lines, and\nlines are joined with `\"\\n\"`.\n\nWhen you configure a value here, only that precise separator\nwill be used, allowing you to round-trip documents through the\neditor without normalizing line separators.\n*/\nEditorState.lineSeparator = lineSeparator;\n/**\nThis facet controls the value of the\n[`readOnly`](https://codemirror.net/6/docs/ref/#state.EditorState.readOnly) getter, which is\nconsulted by commands and extensions that implement editing\nfunctionality to determine whether they should apply. It\ndefaults to false, but when its highest-precedence value is\n`true`, such functionality disables itself.\n\nNot to be confused with\n[`EditorView.editable`](https://codemirror.net/6/docs/ref/#view.EditorView^editable), which\ncontrols whether the editor's DOM is set to be editable (and\nthus focusable).\n*/\nEditorState.readOnly = readOnly;\n/**\nRegisters translation phrases. The\n[`phrase`](https://codemirror.net/6/docs/ref/#state.EditorState.phrase) method will look through\nall objects registered with this facet to find translations for\nits argument.\n*/\nEditorState.phrases = /*@__PURE__*/Facet.define({\n    compare(a, b) {\n        let kA = Object.keys(a), kB = Object.keys(b);\n        return kA.length == kB.length && kA.every(k => a[k] == b[k]);\n    }\n});\n/**\nA facet used to register [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt) providers.\n*/\nEditorState.languageData = languageData;\n/**\nFacet used to register change filters, which are called for each\ntransaction (unless explicitly\n[disabled](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter)), and can suppress\npart of the transaction's changes.\n\nSuch a function can return `true` to indicate that it doesn't\nwant to do anything, `false` to completely stop the changes in\nthe transaction, or a set of ranges in which changes should be\nsuppressed. Such ranges are represented as an array of numbers,\nwith each pair of two numbers indicating the start and end of a\nrange. So for example `[10, 20, 100, 110]` suppresses changes\nbetween 10 and 20, and between 100 and 110.\n*/\nEditorState.changeFilter = changeFilter;\n/**\nFacet used to register a hook that gets a chance to update or\nreplace transaction specs before they are applied. This will\nonly be applied for transactions that don't have\n[`filter`](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter) set to `false`. You\ncan either return a single transaction spec (possibly the input\ntransaction), or an array of specs (which will be combined in\nthe same way as the arguments to\n[`EditorState.update`](https://codemirror.net/6/docs/ref/#state.EditorState.update)).\n\nWhen possible, it is recommended to avoid accessing\n[`Transaction.state`](https://codemirror.net/6/docs/ref/#state.Transaction.state) in a filter,\nsince it will force creation of a state that will then be\ndiscarded again, if the transaction is actually filtered.\n\n(This functionality should be used with care. Indiscriminately\nmodifying transaction is likely to break something or degrade\nthe user experience.)\n*/\nEditorState.transactionFilter = transactionFilter;\n/**\nThis is a more limited form of\n[`transactionFilter`](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter),\nwhich can only add\n[annotations](https://codemirror.net/6/docs/ref/#state.TransactionSpec.annotations) and\n[effects](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects). _But_, this type\nof filter runs even if the transaction has disabled regular\n[filtering](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter), making it suitable\nfor effects that don't need to touch the changes or selection,\nbut do want to process every transaction.\n\nExtenders run _after_ filters, when both are present.\n*/\nEditorState.transactionExtender = transactionExtender;\nCompartment.reconfigure = /*@__PURE__*/StateEffect.define();\n\n/**\nUtility function for combining behaviors to fill in a config\nobject from an array of provided configs. `defaults` should hold\ndefault values for all optional fields in `Config`.\n\nThe function will, by default, error\nwhen a field gets two values that aren't `===`-equal, but you can\nprovide combine functions per field to do something else.\n*/\nfunction combineConfig(configs, defaults, // Should hold only the optional properties of Config, but I haven't managed to express that\ncombine = {}) {\n    let result = {};\n    for (let config of configs)\n        for (let key of Object.keys(config)) {\n            let value = config[key], current = result[key];\n            if (current === undefined)\n                result[key] = value;\n            else if (current === value || value === undefined) ; // No conflict\n            else if (Object.hasOwnProperty.call(combine, key))\n                result[key] = combine[key](current, value);\n            else\n                throw new Error(\"Config merge conflict for field \" + key);\n        }\n    for (let key in defaults)\n        if (result[key] === undefined)\n            result[key] = defaults[key];\n    return result;\n}\n\n/**\nEach range is associated with a value, which must inherit from\nthis class.\n*/\nclass RangeValue {\n    /**\n    Compare this value with another value. Used when comparing\n    rangesets. The default implementation compares by identity.\n    Unless you are only creating a fixed number of unique instances\n    of your value type, it is a good idea to implement this\n    properly.\n    */\n    eq(other) { return this == other; }\n    /**\n    Create a [range](https://codemirror.net/6/docs/ref/#state.Range) with this value.\n    */\n    range(from, to = from) { return Range.create(from, to, this); }\n}\nRangeValue.prototype.startSide = RangeValue.prototype.endSide = 0;\nRangeValue.prototype.point = false;\nRangeValue.prototype.mapMode = MapMode.TrackDel;\n/**\nA range associates a value with a range of positions.\n*/\nclass Range {\n    constructor(\n    /**\n    The range's start position.\n    */\n    from, \n    /**\n    Its end position.\n    */\n    to, \n    /**\n    The value associated with this range.\n    */\n    value) {\n        this.from = from;\n        this.to = to;\n        this.value = value;\n    }\n    /**\n    @internal\n    */\n    static create(from, to, value) {\n        return new Range(from, to, value);\n    }\n}\nfunction cmpRange(a, b) {\n    return a.from - b.from || a.value.startSide - b.value.startSide;\n}\nclass Chunk {\n    constructor(from, to, value, \n    // Chunks are marked with the largest point that occurs\n    // in them (or -1 for no points), so that scans that are\n    // only interested in points (such as the\n    // heightmap-related logic) can skip range-only chunks.\n    maxPoint) {\n        this.from = from;\n        this.to = to;\n        this.value = value;\n        this.maxPoint = maxPoint;\n    }\n    get length() { return this.to[this.to.length - 1]; }\n    // Find the index of the given position and side. Use the ranges'\n    // `from` pos when `end == false`, `to` when `end == true`.\n    findIndex(pos, side, end, startAt = 0) {\n        let arr = end ? this.to : this.from;\n        for (let lo = startAt, hi = arr.length;;) {\n            if (lo == hi)\n                return lo;\n            let mid = (lo + hi) >> 1;\n            let diff = arr[mid] - pos || (end ? this.value[mid].endSide : this.value[mid].startSide) - side;\n            if (mid == lo)\n                return diff >= 0 ? lo : hi;\n            if (diff >= 0)\n                hi = mid;\n            else\n                lo = mid + 1;\n        }\n    }\n    between(offset, from, to, f) {\n        for (let i = this.findIndex(from, -1000000000 /* C.Far */, true), e = this.findIndex(to, 1000000000 /* C.Far */, false, i); i < e; i++)\n            if (f(this.from[i] + offset, this.to[i] + offset, this.value[i]) === false)\n                return false;\n    }\n    map(offset, changes) {\n        let value = [], from = [], to = [], newPos = -1, maxPoint = -1;\n        for (let i = 0; i < this.value.length; i++) {\n            let val = this.value[i], curFrom = this.from[i] + offset, curTo = this.to[i] + offset, newFrom, newTo;\n            if (curFrom == curTo) {\n                let mapped = changes.mapPos(curFrom, val.startSide, val.mapMode);\n                if (mapped == null)\n                    continue;\n                newFrom = newTo = mapped;\n                if (val.startSide != val.endSide) {\n                    newTo = changes.mapPos(curFrom, val.endSide);\n                    if (newTo < newFrom)\n                        continue;\n                }\n            }\n            else {\n                newFrom = changes.mapPos(curFrom, val.startSide);\n                newTo = changes.mapPos(curTo, val.endSide);\n                if (newFrom > newTo || newFrom == newTo && val.startSide > 0 && val.endSide <= 0)\n                    continue;\n            }\n            if ((newTo - newFrom || val.endSide - val.startSide) < 0)\n                continue;\n            if (newPos < 0)\n                newPos = newFrom;\n            if (val.point)\n                maxPoint = Math.max(maxPoint, newTo - newFrom);\n            value.push(val);\n            from.push(newFrom - newPos);\n            to.push(newTo - newPos);\n        }\n        return { mapped: value.length ? new Chunk(from, to, value, maxPoint) : null, pos: newPos };\n    }\n}\n/**\nA range set stores a collection of [ranges](https://codemirror.net/6/docs/ref/#state.Range) in a\nway that makes them efficient to [map](https://codemirror.net/6/docs/ref/#state.RangeSet.map) and\n[update](https://codemirror.net/6/docs/ref/#state.RangeSet.update). This is an immutable data\nstructure.\n*/\nclass RangeSet {\n    constructor(\n    /**\n    @internal\n    */\n    chunkPos, \n    /**\n    @internal\n    */\n    chunk, \n    /**\n    @internal\n    */\n    nextLayer, \n    /**\n    @internal\n    */\n    maxPoint) {\n        this.chunkPos = chunkPos;\n        this.chunk = chunk;\n        this.nextLayer = nextLayer;\n        this.maxPoint = maxPoint;\n    }\n    /**\n    @internal\n    */\n    static create(chunkPos, chunk, nextLayer, maxPoint) {\n        return new RangeSet(chunkPos, chunk, nextLayer, maxPoint);\n    }\n    /**\n    @internal\n    */\n    get length() {\n        let last = this.chunk.length - 1;\n        return last < 0 ? 0 : Math.max(this.chunkEnd(last), this.nextLayer.length);\n    }\n    /**\n    The number of ranges in the set.\n    */\n    get size() {\n        if (this.isEmpty)\n            return 0;\n        let size = this.nextLayer.size;\n        for (let chunk of this.chunk)\n            size += chunk.value.length;\n        return size;\n    }\n    /**\n    @internal\n    */\n    chunkEnd(index) {\n        return this.chunkPos[index] + this.chunk[index].length;\n    }\n    /**\n    Update the range set, optionally adding new ranges or filtering\n    out existing ones.\n    \n    (Note: The type parameter is just there as a kludge to work\n    around TypeScript variance issues that prevented `RangeSet<X>`\n    from being a subtype of `RangeSet<Y>` when `X` is a subtype of\n    `Y`.)\n    */\n    update(updateSpec) {\n        let { add = [], sort = false, filterFrom = 0, filterTo = this.length } = updateSpec;\n        let filter = updateSpec.filter;\n        if (add.length == 0 && !filter)\n            return this;\n        if (sort)\n            add = add.slice().sort(cmpRange);\n        if (this.isEmpty)\n            return add.length ? RangeSet.of(add) : this;\n        let cur = new LayerCursor(this, null, -1).goto(0), i = 0, spill = [];\n        let builder = new RangeSetBuilder();\n        while (cur.value || i < add.length) {\n            if (i < add.length && (cur.from - add[i].from || cur.startSide - add[i].value.startSide) >= 0) {\n                let range = add[i++];\n                if (!builder.addInner(range.from, range.to, range.value))\n                    spill.push(range);\n            }\n            else if (cur.rangeIndex == 1 && cur.chunkIndex < this.chunk.length &&\n                (i == add.length || this.chunkEnd(cur.chunkIndex) < add[i].from) &&\n                (!filter || filterFrom > this.chunkEnd(cur.chunkIndex) || filterTo < this.chunkPos[cur.chunkIndex]) &&\n                builder.addChunk(this.chunkPos[cur.chunkIndex], this.chunk[cur.chunkIndex])) {\n                cur.nextChunk();\n            }\n            else {\n                if (!filter || filterFrom > cur.to || filterTo < cur.from || filter(cur.from, cur.to, cur.value)) {\n                    if (!builder.addInner(cur.from, cur.to, cur.value))\n                        spill.push(Range.create(cur.from, cur.to, cur.value));\n                }\n                cur.next();\n            }\n        }\n        return builder.finishInner(this.nextLayer.isEmpty && !spill.length ? RangeSet.empty\n            : this.nextLayer.update({ add: spill, filter, filterFrom, filterTo }));\n    }\n    /**\n    Map this range set through a set of changes, return the new set.\n    */\n    map(changes) {\n        if (changes.empty || this.isEmpty)\n            return this;\n        let chunks = [], chunkPos = [], maxPoint = -1;\n        for (let i = 0; i < this.chunk.length; i++) {\n            let start = this.chunkPos[i], chunk = this.chunk[i];\n            let touch = changes.touchesRange(start, start + chunk.length);\n            if (touch === false) {\n                maxPoint = Math.max(maxPoint, chunk.maxPoint);\n                chunks.push(chunk);\n                chunkPos.push(changes.mapPos(start));\n            }\n            else if (touch === true) {\n                let { mapped, pos } = chunk.map(start, changes);\n                if (mapped) {\n                    maxPoint = Math.max(maxPoint, mapped.maxPoint);\n                    chunks.push(mapped);\n                    chunkPos.push(pos);\n                }\n            }\n        }\n        let next = this.nextLayer.map(changes);\n        return chunks.length == 0 ? next : new RangeSet(chunkPos, chunks, next || RangeSet.empty, maxPoint);\n    }\n    /**\n    Iterate over the ranges that touch the region `from` to `to`,\n    calling `f` for each. There is no guarantee that the ranges will\n    be reported in any specific order. When the callback returns\n    `false`, iteration stops.\n    */\n    between(from, to, f) {\n        if (this.isEmpty)\n            return;\n        for (let i = 0; i < this.chunk.length; i++) {\n            let start = this.chunkPos[i], chunk = this.chunk[i];\n            if (to >= start && from <= start + chunk.length &&\n                chunk.between(start, from - start, to - start, f) === false)\n                return;\n        }\n        this.nextLayer.between(from, to, f);\n    }\n    /**\n    Iterate over the ranges in this set, in order, including all\n    ranges that end at or after `from`.\n    */\n    iter(from = 0) {\n        return HeapCursor.from([this]).goto(from);\n    }\n    /**\n    @internal\n    */\n    get isEmpty() { return this.nextLayer == this; }\n    /**\n    Iterate over the ranges in a collection of sets, in order,\n    starting from `from`.\n    */\n    static iter(sets, from = 0) {\n        return HeapCursor.from(sets).goto(from);\n    }\n    /**\n    Iterate over two groups of sets, calling methods on `comparator`\n    to notify it of possible differences.\n    */\n    static compare(oldSets, newSets, \n    /**\n    This indicates how the underlying data changed between these\n    ranges, and is needed to synchronize the iteration.\n    */\n    textDiff, comparator, \n    /**\n    Can be used to ignore all non-point ranges, and points below\n    the given size. When -1, all ranges are compared.\n    */\n    minPointSize = -1) {\n        let a = oldSets.filter(set => set.maxPoint > 0 || !set.isEmpty && set.maxPoint >= minPointSize);\n        let b = newSets.filter(set => set.maxPoint > 0 || !set.isEmpty && set.maxPoint >= minPointSize);\n        let sharedChunks = findSharedChunks(a, b, textDiff);\n        let sideA = new SpanCursor(a, sharedChunks, minPointSize);\n        let sideB = new SpanCursor(b, sharedChunks, minPointSize);\n        textDiff.iterGaps((fromA, fromB, length) => compare(sideA, fromA, sideB, fromB, length, comparator));\n        if (textDiff.empty && textDiff.length == 0)\n            compare(sideA, 0, sideB, 0, 0, comparator);\n    }\n    /**\n    Compare the contents of two groups of range sets, returning true\n    if they are equivalent in the given range.\n    */\n    static eq(oldSets, newSets, from = 0, to) {\n        if (to == null)\n            to = 1000000000 /* C.Far */ - 1;\n        let a = oldSets.filter(set => !set.isEmpty && newSets.indexOf(set) < 0);\n        let b = newSets.filter(set => !set.isEmpty && oldSets.indexOf(set) < 0);\n        if (a.length != b.length)\n            return false;\n        if (!a.length)\n            return true;\n        let sharedChunks = findSharedChunks(a, b);\n        let sideA = new SpanCursor(a, sharedChunks, 0).goto(from), sideB = new SpanCursor(b, sharedChunks, 0).goto(from);\n        for (;;) {\n            if (sideA.to != sideB.to ||\n                !sameValues(sideA.active, sideB.active) ||\n                sideA.point && (!sideB.point || !sideA.point.eq(sideB.point)))\n                return false;\n            if (sideA.to > to)\n                return true;\n            sideA.next();\n            sideB.next();\n        }\n    }\n    /**\n    Iterate over a group of range sets at the same time, notifying\n    the iterator about the ranges covering every given piece of\n    content. Returns the open count (see\n    [`SpanIterator.span`](https://codemirror.net/6/docs/ref/#state.SpanIterator.span)) at the end\n    of the iteration.\n    */\n    static spans(sets, from, to, iterator, \n    /**\n    When given and greater than -1, only points of at least this\n    size are taken into account.\n    */\n    minPointSize = -1) {\n        let cursor = new SpanCursor(sets, null, minPointSize).goto(from), pos = from;\n        let openRanges = cursor.openStart;\n        for (;;) {\n            let curTo = Math.min(cursor.to, to);\n            if (cursor.point) {\n                let active = cursor.activeForPoint(cursor.to);\n                let openCount = cursor.pointFrom < from ? active.length + 1 : Math.min(active.length, openRanges);\n                iterator.point(pos, curTo, cursor.point, active, openCount, cursor.pointRank);\n                openRanges = Math.min(cursor.openEnd(curTo), active.length);\n            }\n            else if (curTo > pos) {\n                iterator.span(pos, curTo, cursor.active, openRanges);\n                openRanges = cursor.openEnd(curTo);\n            }\n            if (cursor.to > to)\n                return openRanges + (cursor.point && cursor.to > to ? 1 : 0);\n            pos = cursor.to;\n            cursor.next();\n        }\n    }\n    /**\n    Create a range set for the given range or array of ranges. By\n    default, this expects the ranges to be _sorted_ (by start\n    position and, if two start at the same position,\n    `value.startSide`). You can pass `true` as second argument to\n    cause the method to sort them.\n    */\n    static of(ranges, sort = false) {\n        let build = new RangeSetBuilder();\n        for (let range of ranges instanceof Range ? [ranges] : sort ? lazySort(ranges) : ranges)\n            build.add(range.from, range.to, range.value);\n        return build.finish();\n    }\n}\n/**\nThe empty set of ranges.\n*/\nRangeSet.empty = /*@__PURE__*/new RangeSet([], [], null, -1);\nfunction lazySort(ranges) {\n    if (ranges.length > 1)\n        for (let prev = ranges[0], i = 1; i < ranges.length; i++) {\n            let cur = ranges[i];\n            if (cmpRange(prev, cur) > 0)\n                return ranges.slice().sort(cmpRange);\n            prev = cur;\n        }\n    return ranges;\n}\nRangeSet.empty.nextLayer = RangeSet.empty;\n/**\nA range set builder is a data structure that helps build up a\n[range set](https://codemirror.net/6/docs/ref/#state.RangeSet) directly, without first allocating\nan array of [`Range`](https://codemirror.net/6/docs/ref/#state.Range) objects.\n*/\nclass RangeSetBuilder {\n    finishChunk(newArrays) {\n        this.chunks.push(new Chunk(this.from, this.to, this.value, this.maxPoint));\n        this.chunkPos.push(this.chunkStart);\n        this.chunkStart = -1;\n        this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint);\n        this.maxPoint = -1;\n        if (newArrays) {\n            this.from = [];\n            this.to = [];\n            this.value = [];\n        }\n    }\n    /**\n    Create an empty builder.\n    */\n    constructor() {\n        this.chunks = [];\n        this.chunkPos = [];\n        this.chunkStart = -1;\n        this.last = null;\n        this.lastFrom = -1000000000 /* C.Far */;\n        this.lastTo = -1000000000 /* C.Far */;\n        this.from = [];\n        this.to = [];\n        this.value = [];\n        this.maxPoint = -1;\n        this.setMaxPoint = -1;\n        this.nextLayer = null;\n    }\n    /**\n    Add a range. Ranges should be added in sorted (by `from` and\n    `value.startSide`) order.\n    */\n    add(from, to, value) {\n        if (!this.addInner(from, to, value))\n            (this.nextLayer || (this.nextLayer = new RangeSetBuilder)).add(from, to, value);\n    }\n    /**\n    @internal\n    */\n    addInner(from, to, value) {\n        let diff = from - this.lastTo || value.startSide - this.last.endSide;\n        if (diff <= 0 && (from - this.lastFrom || value.startSide - this.last.startSide) < 0)\n            throw new Error(\"Ranges must be added sorted by `from` position and `startSide`\");\n        if (diff < 0)\n            return false;\n        if (this.from.length == 250 /* C.ChunkSize */)\n            this.finishChunk(true);\n        if (this.chunkStart < 0)\n            this.chunkStart = from;\n        this.from.push(from - this.chunkStart);\n        this.to.push(to - this.chunkStart);\n        this.last = value;\n        this.lastFrom = from;\n        this.lastTo = to;\n        this.value.push(value);\n        if (value.point)\n            this.maxPoint = Math.max(this.maxPoint, to - from);\n        return true;\n    }\n    /**\n    @internal\n    */\n    addChunk(from, chunk) {\n        if ((from - this.lastTo || chunk.value[0].startSide - this.last.endSide) < 0)\n            return false;\n        if (this.from.length)\n            this.finishChunk(true);\n        this.setMaxPoint = Math.max(this.setMaxPoint, chunk.maxPoint);\n        this.chunks.push(chunk);\n        this.chunkPos.push(from);\n        let last = chunk.value.length - 1;\n        this.last = chunk.value[last];\n        this.lastFrom = chunk.from[last] + from;\n        this.lastTo = chunk.to[last] + from;\n        return true;\n    }\n    /**\n    Finish the range set. Returns the new set. The builder can't be\n    used anymore after this has been called.\n    */\n    finish() { return this.finishInner(RangeSet.empty); }\n    /**\n    @internal\n    */\n    finishInner(next) {\n        if (this.from.length)\n            this.finishChunk(false);\n        if (this.chunks.length == 0)\n            return next;\n        let result = RangeSet.create(this.chunkPos, this.chunks, this.nextLayer ? this.nextLayer.finishInner(next) : next, this.setMaxPoint);\n        this.from = null; // Make sure further `add` calls produce errors\n        return result;\n    }\n}\nfunction findSharedChunks(a, b, textDiff) {\n    let inA = new Map();\n    for (let set of a)\n        for (let i = 0; i < set.chunk.length; i++)\n            if (set.chunk[i].maxPoint <= 0)\n                inA.set(set.chunk[i], set.chunkPos[i]);\n    let shared = new Set();\n    for (let set of b)\n        for (let i = 0; i < set.chunk.length; i++) {\n            let known = inA.get(set.chunk[i]);\n            if (known != null && (textDiff ? textDiff.mapPos(known) : known) == set.chunkPos[i] &&\n                !(textDiff === null || textDiff === void 0 ? void 0 : textDiff.touchesRange(known, known + set.chunk[i].length)))\n                shared.add(set.chunk[i]);\n        }\n    return shared;\n}\nclass LayerCursor {\n    constructor(layer, skip, minPoint, rank = 0) {\n        this.layer = layer;\n        this.skip = skip;\n        this.minPoint = minPoint;\n        this.rank = rank;\n    }\n    get startSide() { return this.value ? this.value.startSide : 0; }\n    get endSide() { return this.value ? this.value.endSide : 0; }\n    goto(pos, side = -1000000000 /* C.Far */) {\n        this.chunkIndex = this.rangeIndex = 0;\n        this.gotoInner(pos, side, false);\n        return this;\n    }\n    gotoInner(pos, side, forward) {\n        while (this.chunkIndex < this.layer.chunk.length) {\n            let next = this.layer.chunk[this.chunkIndex];\n            if (!(this.skip && this.skip.has(next) ||\n                this.layer.chunkEnd(this.chunkIndex) < pos ||\n                next.maxPoint < this.minPoint))\n                break;\n            this.chunkIndex++;\n            forward = false;\n        }\n        if (this.chunkIndex < this.layer.chunk.length) {\n            let rangeIndex = this.layer.chunk[this.chunkIndex].findIndex(pos - this.layer.chunkPos[this.chunkIndex], side, true);\n            if (!forward || this.rangeIndex < rangeIndex)\n                this.setRangeIndex(rangeIndex);\n        }\n        this.next();\n    }\n    forward(pos, side) {\n        if ((this.to - pos || this.endSide - side) < 0)\n            this.gotoInner(pos, side, true);\n    }\n    next() {\n        for (;;) {\n            if (this.chunkIndex == this.layer.chunk.length) {\n                this.from = this.to = 1000000000 /* C.Far */;\n                this.value = null;\n                break;\n            }\n            else {\n                let chunkPos = this.layer.chunkPos[this.chunkIndex], chunk = this.layer.chunk[this.chunkIndex];\n                let from = chunkPos + chunk.from[this.rangeIndex];\n                this.from = from;\n                this.to = chunkPos + chunk.to[this.rangeIndex];\n                this.value = chunk.value[this.rangeIndex];\n                this.setRangeIndex(this.rangeIndex + 1);\n                if (this.minPoint < 0 || this.value.point && this.to - this.from >= this.minPoint)\n                    break;\n            }\n        }\n    }\n    setRangeIndex(index) {\n        if (index == this.layer.chunk[this.chunkIndex].value.length) {\n            this.chunkIndex++;\n            if (this.skip) {\n                while (this.chunkIndex < this.layer.chunk.length && this.skip.has(this.layer.chunk[this.chunkIndex]))\n                    this.chunkIndex++;\n            }\n            this.rangeIndex = 0;\n        }\n        else {\n            this.rangeIndex = index;\n        }\n    }\n    nextChunk() {\n        this.chunkIndex++;\n        this.rangeIndex = 0;\n        this.next();\n    }\n    compare(other) {\n        return this.from - other.from || this.startSide - other.startSide || this.rank - other.rank ||\n            this.to - other.to || this.endSide - other.endSide;\n    }\n}\nclass HeapCursor {\n    constructor(heap) {\n        this.heap = heap;\n    }\n    static from(sets, skip = null, minPoint = -1) {\n        let heap = [];\n        for (let i = 0; i < sets.length; i++) {\n            for (let cur = sets[i]; !cur.isEmpty; cur = cur.nextLayer) {\n                if (cur.maxPoint >= minPoint)\n                    heap.push(new LayerCursor(cur, skip, minPoint, i));\n            }\n        }\n        return heap.length == 1 ? heap[0] : new HeapCursor(heap);\n    }\n    get startSide() { return this.value ? this.value.startSide : 0; }\n    goto(pos, side = -1000000000 /* C.Far */) {\n        for (let cur of this.heap)\n            cur.goto(pos, side);\n        for (let i = this.heap.length >> 1; i >= 0; i--)\n            heapBubble(this.heap, i);\n        this.next();\n        return this;\n    }\n    forward(pos, side) {\n        for (let cur of this.heap)\n            cur.forward(pos, side);\n        for (let i = this.heap.length >> 1; i >= 0; i--)\n            heapBubble(this.heap, i);\n        if ((this.to - pos || this.value.endSide - side) < 0)\n            this.next();\n    }\n    next() {\n        if (this.heap.length == 0) {\n            this.from = this.to = 1000000000 /* C.Far */;\n            this.value = null;\n            this.rank = -1;\n        }\n        else {\n            let top = this.heap[0];\n            this.from = top.from;\n            this.to = top.to;\n            this.value = top.value;\n            this.rank = top.rank;\n            if (top.value)\n                top.next();\n            heapBubble(this.heap, 0);\n        }\n    }\n}\nfunction heapBubble(heap, index) {\n    for (let cur = heap[index];;) {\n        let childIndex = (index << 1) + 1;\n        if (childIndex >= heap.length)\n            break;\n        let child = heap[childIndex];\n        if (childIndex + 1 < heap.length && child.compare(heap[childIndex + 1]) >= 0) {\n            child = heap[childIndex + 1];\n            childIndex++;\n        }\n        if (cur.compare(child) < 0)\n            break;\n        heap[childIndex] = cur;\n        heap[index] = child;\n        index = childIndex;\n    }\n}\nclass SpanCursor {\n    constructor(sets, skip, minPoint) {\n        this.minPoint = minPoint;\n        this.active = [];\n        this.activeTo = [];\n        this.activeRank = [];\n        this.minActive = -1;\n        // A currently active point range, if any\n        this.point = null;\n        this.pointFrom = 0;\n        this.pointRank = 0;\n        this.to = -1000000000 /* C.Far */;\n        this.endSide = 0;\n        // The amount of open active ranges at the start of the iterator.\n        // Not including points.\n        this.openStart = -1;\n        this.cursor = HeapCursor.from(sets, skip, minPoint);\n    }\n    goto(pos, side = -1000000000 /* C.Far */) {\n        this.cursor.goto(pos, side);\n        this.active.length = this.activeTo.length = this.activeRank.length = 0;\n        this.minActive = -1;\n        this.to = pos;\n        this.endSide = side;\n        this.openStart = -1;\n        this.next();\n        return this;\n    }\n    forward(pos, side) {\n        while (this.minActive > -1 && (this.activeTo[this.minActive] - pos || this.active[this.minActive].endSide - side) < 0)\n            this.removeActive(this.minActive);\n        this.cursor.forward(pos, side);\n    }\n    removeActive(index) {\n        remove(this.active, index);\n        remove(this.activeTo, index);\n        remove(this.activeRank, index);\n        this.minActive = findMinIndex(this.active, this.activeTo);\n    }\n    addActive(trackOpen) {\n        let i = 0, { value, to, rank } = this.cursor;\n        while (i < this.activeRank.length && this.activeRank[i] <= rank)\n            i++;\n        insert(this.active, i, value);\n        insert(this.activeTo, i, to);\n        insert(this.activeRank, i, rank);\n        if (trackOpen)\n            insert(trackOpen, i, this.cursor.from);\n        this.minActive = findMinIndex(this.active, this.activeTo);\n    }\n    // After calling this, if `this.point` != null, the next range is a\n    // point. Otherwise, it's a regular range, covered by `this.active`.\n    next() {\n        let from = this.to, wasPoint = this.point;\n        this.point = null;\n        let trackOpen = this.openStart < 0 ? [] : null;\n        for (;;) {\n            let a = this.minActive;\n            if (a > -1 && (this.activeTo[a] - this.cursor.from || this.active[a].endSide - this.cursor.startSide) < 0) {\n                if (this.activeTo[a] > from) {\n                    this.to = this.activeTo[a];\n                    this.endSide = this.active[a].endSide;\n                    break;\n                }\n                this.removeActive(a);\n                if (trackOpen)\n                    remove(trackOpen, a);\n            }\n            else if (!this.cursor.value) {\n                this.to = this.endSide = 1000000000 /* C.Far */;\n                break;\n            }\n            else if (this.cursor.from > from) {\n                this.to = this.cursor.from;\n                this.endSide = this.cursor.startSide;\n                break;\n            }\n            else {\n                let nextVal = this.cursor.value;\n                if (!nextVal.point) { // Opening a range\n                    this.addActive(trackOpen);\n                    this.cursor.next();\n                }\n                else if (wasPoint && this.cursor.to == this.to && this.cursor.from < this.cursor.to) {\n                    // Ignore any non-empty points that end precisely at the end of the prev point\n                    this.cursor.next();\n                }\n                else { // New point\n                    this.point = nextVal;\n                    this.pointFrom = this.cursor.from;\n                    this.pointRank = this.cursor.rank;\n                    this.to = this.cursor.to;\n                    this.endSide = nextVal.endSide;\n                    this.cursor.next();\n                    this.forward(this.to, this.endSide);\n                    break;\n                }\n            }\n        }\n        if (trackOpen) {\n            this.openStart = 0;\n            for (let i = trackOpen.length - 1; i >= 0 && trackOpen[i] < from; i--)\n                this.openStart++;\n        }\n    }\n    activeForPoint(to) {\n        if (!this.active.length)\n            return this.active;\n        let active = [];\n        for (let i = this.active.length - 1; i >= 0; i--) {\n            if (this.activeRank[i] < this.pointRank)\n                break;\n            if (this.activeTo[i] > to || this.activeTo[i] == to && this.active[i].endSide >= this.point.endSide)\n                active.push(this.active[i]);\n        }\n        return active.reverse();\n    }\n    openEnd(to) {\n        let open = 0;\n        for (let i = this.activeTo.length - 1; i >= 0 && this.activeTo[i] > to; i--)\n            open++;\n        return open;\n    }\n}\nfunction compare(a, startA, b, startB, length, comparator) {\n    a.goto(startA);\n    b.goto(startB);\n    let endB = startB + length;\n    let pos = startB, dPos = startB - startA;\n    for (;;) {\n        let diff = (a.to + dPos) - b.to || a.endSide - b.endSide;\n        let end = diff < 0 ? a.to + dPos : b.to, clipEnd = Math.min(end, endB);\n        if (a.point || b.point) {\n            if (!(a.point && b.point && (a.point == b.point || a.point.eq(b.point)) &&\n                sameValues(a.activeForPoint(a.to), b.activeForPoint(b.to))))\n                comparator.comparePoint(pos, clipEnd, a.point, b.point);\n        }\n        else {\n            if (clipEnd > pos && !sameValues(a.active, b.active))\n                comparator.compareRange(pos, clipEnd, a.active, b.active);\n        }\n        if (end > endB)\n            break;\n        pos = end;\n        if (diff <= 0)\n            a.next();\n        if (diff >= 0)\n            b.next();\n    }\n}\nfunction sameValues(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (a[i] != b[i] && !a[i].eq(b[i]))\n            return false;\n    return true;\n}\nfunction remove(array, index) {\n    for (let i = index, e = array.length - 1; i < e; i++)\n        array[i] = array[i + 1];\n    array.pop();\n}\nfunction insert(array, index, value) {\n    for (let i = array.length - 1; i >= index; i--)\n        array[i + 1] = array[i];\n    array[index] = value;\n}\nfunction findMinIndex(value, array) {\n    let found = -1, foundPos = 1000000000 /* C.Far */;\n    for (let i = 0; i < array.length; i++)\n        if ((array[i] - foundPos || value[i].endSide - value[found].endSide) < 0) {\n            found = i;\n            foundPos = array[i];\n        }\n    return found;\n}\n\n/**\nCount the column position at the given offset into the string,\ntaking extending characters and tab size into account.\n*/\nfunction countColumn(string, tabSize, to = string.length) {\n    let n = 0;\n    for (let i = 0; i < to;) {\n        if (string.charCodeAt(i) == 9) {\n            n += tabSize - (n % tabSize);\n            i++;\n        }\n        else {\n            n++;\n            i = findClusterBreak(string, i);\n        }\n    }\n    return n;\n}\n/**\nFind the offset that corresponds to the given column position in a\nstring, taking extending characters and tab size into account. By\ndefault, the string length is returned when it is too short to\nreach the column. Pass `strict` true to make it return -1 in that\nsituation.\n*/\nfunction findColumn(string, col, tabSize, strict) {\n    for (let i = 0, n = 0;;) {\n        if (n >= col)\n            return i;\n        if (i == string.length)\n            break;\n        n += string.charCodeAt(i) == 9 ? tabSize - (n % tabSize) : 1;\n        i = findClusterBreak(string, i);\n    }\n    return strict === true ? -1 : string.length;\n}\n\nexport { Annotation, AnnotationType, ChangeDesc, ChangeSet, CharCategory, Compartment, EditorSelection, EditorState, Facet, Line, MapMode, Prec, Range, RangeSet, RangeSetBuilder, RangeValue, SelectionRange, StateEffect, StateEffectType, StateField, Text, Transaction, codePointAt, codePointSize, combineConfig, countColumn, findClusterBreak, findColumn, fromCodePoint };\n","import { EditorView } from '@codemirror/view';\nimport { HighlightStyle, syntaxHighlighting } from '@codemirror/language';\nimport { tags } from '@lezer/highlight';\n\n// Using https://github.com/one-dark/vscode-one-dark-theme/ as reference for the colors\nconst chalky = \"#e5c07b\", coral = \"#e06c75\", cyan = \"#56b6c2\", invalid = \"#ffffff\", ivory = \"#abb2bf\", stone = \"#7d8799\", // Brightened compared to original to increase contrast\nmalibu = \"#61afef\", sage = \"#98c379\", whiskey = \"#d19a66\", violet = \"#c678dd\", darkBackground = \"#21252b\", highlightBackground = \"#2c313a\", background = \"#282c34\", tooltipBackground = \"#353a42\", selection = \"#3E4451\", cursor = \"#528bff\";\n/**\nThe colors used in the theme, as CSS color strings.\n*/\nconst color = {\n    chalky,\n    coral,\n    cyan,\n    invalid,\n    ivory,\n    stone,\n    malibu,\n    sage,\n    whiskey,\n    violet,\n    darkBackground,\n    highlightBackground,\n    background,\n    tooltipBackground,\n    selection,\n    cursor\n};\n/**\nThe editor theme styles for One Dark.\n*/\nconst oneDarkTheme = /*@__PURE__*/EditorView.theme({\n    \"&\": {\n        color: ivory,\n        backgroundColor: background\n    },\n    \".cm-content\": {\n        caretColor: cursor\n    },\n    \".cm-cursor, .cm-dropCursor\": { borderLeftColor: cursor },\n    \"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection\": { backgroundColor: selection },\n    \".cm-panels\": { backgroundColor: darkBackground, color: ivory },\n    \".cm-panels.cm-panels-top\": { borderBottom: \"2px solid black\" },\n    \".cm-panels.cm-panels-bottom\": { borderTop: \"2px solid black\" },\n    \".cm-searchMatch\": {\n        backgroundColor: \"#72a1ff59\",\n        outline: \"1px solid #457dff\"\n    },\n    \".cm-searchMatch.cm-searchMatch-selected\": {\n        backgroundColor: \"#6199ff2f\"\n    },\n    \".cm-activeLine\": { backgroundColor: \"#6699ff0b\" },\n    \".cm-selectionMatch\": { backgroundColor: \"#aafe661a\" },\n    \"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket\": {\n        backgroundColor: \"#bad0f847\"\n    },\n    \".cm-gutters\": {\n        backgroundColor: background,\n        color: stone,\n        border: \"none\"\n    },\n    \".cm-activeLineGutter\": {\n        backgroundColor: highlightBackground\n    },\n    \".cm-foldPlaceholder\": {\n        backgroundColor: \"transparent\",\n        border: \"none\",\n        color: \"#ddd\"\n    },\n    \".cm-tooltip\": {\n        border: \"none\",\n        backgroundColor: tooltipBackground\n    },\n    \".cm-tooltip .cm-tooltip-arrow:before\": {\n        borderTopColor: \"transparent\",\n        borderBottomColor: \"transparent\"\n    },\n    \".cm-tooltip .cm-tooltip-arrow:after\": {\n        borderTopColor: tooltipBackground,\n        borderBottomColor: tooltipBackground\n    },\n    \".cm-tooltip-autocomplete\": {\n        \"& > ul > li[aria-selected]\": {\n            backgroundColor: highlightBackground,\n            color: ivory\n        }\n    }\n}, { dark: true });\n/**\nThe highlighting style for code in the One Dark theme.\n*/\nconst oneDarkHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n    { tag: tags.keyword,\n        color: violet },\n    { tag: [tags.name, tags.deleted, tags.character, tags.propertyName, tags.macroName],\n        color: coral },\n    { tag: [/*@__PURE__*/tags.function(tags.variableName), tags.labelName],\n        color: malibu },\n    { tag: [tags.color, /*@__PURE__*/tags.constant(tags.name), /*@__PURE__*/tags.standard(tags.name)],\n        color: whiskey },\n    { tag: [/*@__PURE__*/tags.definition(tags.name), tags.separator],\n        color: ivory },\n    { tag: [tags.typeName, tags.className, tags.number, tags.changed, tags.annotation, tags.modifier, tags.self, tags.namespace],\n        color: chalky },\n    { tag: [tags.operator, tags.operatorKeyword, tags.url, tags.escape, tags.regexp, tags.link, /*@__PURE__*/tags.special(tags.string)],\n        color: cyan },\n    { tag: [tags.meta, tags.comment],\n        color: stone },\n    { tag: tags.strong,\n        fontWeight: \"bold\" },\n    { tag: tags.emphasis,\n        fontStyle: \"italic\" },\n    { tag: tags.strikethrough,\n        textDecoration: \"line-through\" },\n    { tag: tags.link,\n        color: stone,\n        textDecoration: \"underline\" },\n    { tag: tags.heading,\n        fontWeight: \"bold\",\n        color: coral },\n    { tag: [tags.atom, tags.bool, /*@__PURE__*/tags.special(tags.variableName)],\n        color: whiskey },\n    { tag: [tags.processingInstruction, tags.string, tags.inserted],\n        color: sage },\n    { tag: tags.invalid,\n        color: invalid },\n]);\n/**\nExtension to enable the One Dark theme (both the editor theme and\nthe highlight style).\n*/\nconst oneDark = [oneDarkTheme, /*@__PURE__*/syntaxHighlighting(oneDarkHighlightStyle)];\n\nexport { color, oneDark, oneDarkHighlightStyle, oneDarkTheme };\n","import { Text, RangeSet, MapMode, RangeValue, Facet, StateEffect, ChangeSet, findClusterBreak, EditorSelection, findColumn, CharCategory, Annotation, EditorState, Transaction, Prec, codePointAt, codePointSize, combineConfig, StateField, RangeSetBuilder, countColumn } from '@codemirror/state';\nimport { StyleModule } from 'style-mod';\nimport { keyName, base, shift } from 'w3c-keyname';\n\nfunction getSelection(root) {\n    let target;\n    // Browsers differ on whether shadow roots have a getSelection\n    // method. If it exists, use that, otherwise, call it on the\n    // document.\n    if (root.nodeType == 11) { // Shadow root\n        target = root.getSelection ? root : root.ownerDocument;\n    }\n    else {\n        target = root;\n    }\n    return target.getSelection();\n}\nfunction contains(dom, node) {\n    return node ? dom == node || dom.contains(node.nodeType != 1 ? node.parentNode : node) : false;\n}\nfunction deepActiveElement(doc) {\n    let elt = doc.activeElement;\n    while (elt && elt.shadowRoot)\n        elt = elt.shadowRoot.activeElement;\n    return elt;\n}\nfunction hasSelection(dom, selection) {\n    if (!selection.anchorNode)\n        return false;\n    try {\n        // Firefox will raise 'permission denied' errors when accessing\n        // properties of `sel.anchorNode` when it's in a generated CSS\n        // element.\n        return contains(dom, selection.anchorNode);\n    }\n    catch (_) {\n        return false;\n    }\n}\nfunction clientRectsFor(dom) {\n    if (dom.nodeType == 3)\n        return textRange(dom, 0, dom.nodeValue.length).getClientRects();\n    else if (dom.nodeType == 1)\n        return dom.getClientRects();\n    else\n        return [];\n}\n// Scans forward and backward through DOM positions equivalent to the\n// given one to see if the two are in the same place (i.e. after a\n// text node vs at the end of that text node)\nfunction isEquivalentPosition(node, off, targetNode, targetOff) {\n    return targetNode ? (scanFor(node, off, targetNode, targetOff, -1) ||\n        scanFor(node, off, targetNode, targetOff, 1)) : false;\n}\nfunction domIndex(node) {\n    for (var index = 0;; index++) {\n        node = node.previousSibling;\n        if (!node)\n            return index;\n    }\n}\nfunction scanFor(node, off, targetNode, targetOff, dir) {\n    for (;;) {\n        if (node == targetNode && off == targetOff)\n            return true;\n        if (off == (dir < 0 ? 0 : maxOffset(node))) {\n            if (node.nodeName == \"DIV\")\n                return false;\n            let parent = node.parentNode;\n            if (!parent || parent.nodeType != 1)\n                return false;\n            off = domIndex(node) + (dir < 0 ? 0 : 1);\n            node = parent;\n        }\n        else if (node.nodeType == 1) {\n            node = node.childNodes[off + (dir < 0 ? -1 : 0)];\n            if (node.nodeType == 1 && node.contentEditable == \"false\")\n                return false;\n            off = dir < 0 ? maxOffset(node) : 0;\n        }\n        else {\n            return false;\n        }\n    }\n}\nfunction maxOffset(node) {\n    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n}\nfunction flattenRect(rect, left) {\n    let x = left ? rect.left : rect.right;\n    return { left: x, right: x, top: rect.top, bottom: rect.bottom };\n}\nfunction windowRect(win) {\n    return { left: 0, right: win.innerWidth,\n        top: 0, bottom: win.innerHeight };\n}\nfunction scrollRectIntoView(dom, rect, side, x, y, xMargin, yMargin, ltr) {\n    let doc = dom.ownerDocument, win = doc.defaultView || window;\n    for (let cur = dom, stop = false; cur && !stop;) {\n        if (cur.nodeType == 1) { // Element\n            let bounding, top = cur == doc.body;\n            let scaleX = 1, scaleY = 1;\n            if (top) {\n                bounding = windowRect(win);\n            }\n            else {\n                if (/^(fixed|sticky)$/.test(getComputedStyle(cur).position))\n                    stop = true;\n                if (cur.scrollHeight <= cur.clientHeight && cur.scrollWidth <= cur.clientWidth) {\n                    cur = cur.assignedSlot || cur.parentNode;\n                    continue;\n                }\n                let rect = cur.getBoundingClientRect();\n                scaleX = rect.width / cur.offsetWidth;\n                scaleY = rect.height / cur.offsetHeight;\n                // Make sure scrollbar width isn't included in the rectangle\n                bounding = { left: rect.left, right: rect.left + cur.clientWidth * scaleX,\n                    top: rect.top, bottom: rect.top + cur.clientHeight * scaleY };\n            }\n            let moveX = 0, moveY = 0;\n            if (y == \"nearest\") {\n                if (rect.top < bounding.top) {\n                    moveY = -(bounding.top - rect.top + yMargin);\n                    if (side > 0 && rect.bottom > bounding.bottom + moveY)\n                        moveY = rect.bottom - bounding.bottom + moveY + yMargin;\n                }\n                else if (rect.bottom > bounding.bottom) {\n                    moveY = rect.bottom - bounding.bottom + yMargin;\n                    if (side < 0 && (rect.top - moveY) < bounding.top)\n                        moveY = -(bounding.top + moveY - rect.top + yMargin);\n                }\n            }\n            else {\n                let rectHeight = rect.bottom - rect.top, boundingHeight = bounding.bottom - bounding.top;\n                let targetTop = y == \"center\" && rectHeight <= boundingHeight ? rect.top + rectHeight / 2 - boundingHeight / 2 :\n                    y == \"start\" || y == \"center\" && side < 0 ? rect.top - yMargin :\n                        rect.bottom - boundingHeight + yMargin;\n                moveY = targetTop - bounding.top;\n            }\n            if (x == \"nearest\") {\n                if (rect.left < bounding.left) {\n                    moveX = -(bounding.left - rect.left + xMargin);\n                    if (side > 0 && rect.right > bounding.right + moveX)\n                        moveX = rect.right - bounding.right + moveX + xMargin;\n                }\n                else if (rect.right > bounding.right) {\n                    moveX = rect.right - bounding.right + xMargin;\n                    if (side < 0 && rect.left < bounding.left + moveX)\n                        moveX = -(bounding.left + moveX - rect.left + xMargin);\n                }\n            }\n            else {\n                let targetLeft = x == \"center\" ? rect.left + (rect.right - rect.left) / 2 - (bounding.right - bounding.left) / 2 :\n                    (x == \"start\") == ltr ? rect.left - xMargin :\n                        rect.right - (bounding.right - bounding.left) + xMargin;\n                moveX = targetLeft - bounding.left;\n            }\n            if (moveX || moveY) {\n                if (top) {\n                    win.scrollBy(moveX, moveY);\n                }\n                else {\n                    let movedX = 0, movedY = 0;\n                    if (moveY) {\n                        let start = cur.scrollTop;\n                        cur.scrollTop += moveY / scaleY;\n                        movedY = (cur.scrollTop - start) * scaleY;\n                    }\n                    if (moveX) {\n                        let start = cur.scrollLeft;\n                        cur.scrollLeft += moveX / scaleX;\n                        movedX = (cur.scrollLeft - start) * scaleX;\n                    }\n                    rect = { left: rect.left - movedX, top: rect.top - movedY,\n                        right: rect.right - movedX, bottom: rect.bottom - movedY };\n                    if (movedX && Math.abs(movedX - moveX) < 1)\n                        x = \"nearest\";\n                    if (movedY && Math.abs(movedY - moveY) < 1)\n                        y = \"nearest\";\n                }\n            }\n            if (top)\n                break;\n            cur = cur.assignedSlot || cur.parentNode;\n        }\n        else if (cur.nodeType == 11) { // A shadow root\n            cur = cur.host;\n        }\n        else {\n            break;\n        }\n    }\n}\nfunction scrollableParent(dom) {\n    let doc = dom.ownerDocument;\n    for (let cur = dom.parentNode; cur;) {\n        if (cur == doc.body) {\n            break;\n        }\n        else if (cur.nodeType == 1) {\n            if (cur.scrollHeight > cur.clientHeight || cur.scrollWidth > cur.clientWidth)\n                return cur;\n            cur = cur.assignedSlot || cur.parentNode;\n        }\n        else if (cur.nodeType == 11) {\n            cur = cur.host;\n        }\n        else {\n            break;\n        }\n    }\n    return null;\n}\nclass DOMSelectionState {\n    constructor() {\n        this.anchorNode = null;\n        this.anchorOffset = 0;\n        this.focusNode = null;\n        this.focusOffset = 0;\n    }\n    eq(domSel) {\n        return this.anchorNode == domSel.anchorNode && this.anchorOffset == domSel.anchorOffset &&\n            this.focusNode == domSel.focusNode && this.focusOffset == domSel.focusOffset;\n    }\n    setRange(range) {\n        let { anchorNode, focusNode } = range;\n        // Clip offsets to node size to avoid crashes when Safari reports bogus offsets (#1152)\n        this.set(anchorNode, Math.min(range.anchorOffset, anchorNode ? maxOffset(anchorNode) : 0), focusNode, Math.min(range.focusOffset, focusNode ? maxOffset(focusNode) : 0));\n    }\n    set(anchorNode, anchorOffset, focusNode, focusOffset) {\n        this.anchorNode = anchorNode;\n        this.anchorOffset = anchorOffset;\n        this.focusNode = focusNode;\n        this.focusOffset = focusOffset;\n    }\n}\nlet preventScrollSupported = null;\n// Feature-detects support for .focus({preventScroll: true}), and uses\n// a fallback kludge when not supported.\nfunction focusPreventScroll(dom) {\n    if (dom.setActive)\n        return dom.setActive(); // in IE\n    if (preventScrollSupported)\n        return dom.focus(preventScrollSupported);\n    let stack = [];\n    for (let cur = dom; cur; cur = cur.parentNode) {\n        stack.push(cur, cur.scrollTop, cur.scrollLeft);\n        if (cur == cur.ownerDocument)\n            break;\n    }\n    dom.focus(preventScrollSupported == null ? {\n        get preventScroll() {\n            preventScrollSupported = { preventScroll: true };\n            return true;\n        }\n    } : undefined);\n    if (!preventScrollSupported) {\n        preventScrollSupported = false;\n        for (let i = 0; i < stack.length;) {\n            let elt = stack[i++], top = stack[i++], left = stack[i++];\n            if (elt.scrollTop != top)\n                elt.scrollTop = top;\n            if (elt.scrollLeft != left)\n                elt.scrollLeft = left;\n        }\n    }\n}\nlet scratchRange;\nfunction textRange(node, from, to = from) {\n    let range = scratchRange || (scratchRange = document.createRange());\n    range.setEnd(node, to);\n    range.setStart(node, from);\n    return range;\n}\nfunction dispatchKey(elt, name, code) {\n    let options = { key: name, code: name, keyCode: code, which: code, cancelable: true };\n    let down = new KeyboardEvent(\"keydown\", options);\n    down.synthetic = true;\n    elt.dispatchEvent(down);\n    let up = new KeyboardEvent(\"keyup\", options);\n    up.synthetic = true;\n    elt.dispatchEvent(up);\n    return down.defaultPrevented || up.defaultPrevented;\n}\nfunction getRoot(node) {\n    while (node) {\n        if (node && (node.nodeType == 9 || node.nodeType == 11 && node.host))\n            return node;\n        node = node.assignedSlot || node.parentNode;\n    }\n    return null;\n}\nfunction clearAttributes(node) {\n    while (node.attributes.length)\n        node.removeAttributeNode(node.attributes[0]);\n}\nfunction atElementStart(doc, selection) {\n    let node = selection.focusNode, offset = selection.focusOffset;\n    if (!node || selection.anchorNode != node || selection.anchorOffset != offset)\n        return false;\n    // Safari can report bogus offsets (#1152)\n    offset = Math.min(offset, maxOffset(node));\n    for (;;) {\n        if (offset) {\n            if (node.nodeType != 1)\n                return false;\n            let prev = node.childNodes[offset - 1];\n            if (prev.contentEditable == \"false\")\n                offset--;\n            else {\n                node = prev;\n                offset = maxOffset(node);\n            }\n        }\n        else if (node == doc) {\n            return true;\n        }\n        else {\n            offset = domIndex(node);\n            node = node.parentNode;\n        }\n    }\n}\nfunction isScrolledToBottom(elt) {\n    return elt.scrollTop > Math.max(1, elt.scrollHeight - elt.clientHeight - 4);\n}\n\nclass DOMPos {\n    constructor(node, offset, precise = true) {\n        this.node = node;\n        this.offset = offset;\n        this.precise = precise;\n    }\n    static before(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom), precise); }\n    static after(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom) + 1, precise); }\n}\nconst noChildren = [];\nclass ContentView {\n    constructor() {\n        this.parent = null;\n        this.dom = null;\n        this.flags = 2 /* ViewFlag.NodeDirty */;\n    }\n    get overrideDOMText() { return null; }\n    get posAtStart() {\n        return this.parent ? this.parent.posBefore(this) : 0;\n    }\n    get posAtEnd() {\n        return this.posAtStart + this.length;\n    }\n    posBefore(view) {\n        let pos = this.posAtStart;\n        for (let child of this.children) {\n            if (child == view)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n        throw new RangeError(\"Invalid child in posBefore\");\n    }\n    posAfter(view) {\n        return this.posBefore(view) + view.length;\n    }\n    sync(view, track) {\n        if (this.flags & 2 /* ViewFlag.NodeDirty */) {\n            let parent = this.dom;\n            let prev = null, next;\n            for (let child of this.children) {\n                if (child.flags & 7 /* ViewFlag.Dirty */) {\n                    if (!child.dom && (next = prev ? prev.nextSibling : parent.firstChild)) {\n                        let contentView = ContentView.get(next);\n                        if (!contentView || !contentView.parent && contentView.canReuseDOM(child))\n                            child.reuseDOM(next);\n                    }\n                    child.sync(view, track);\n                    child.flags &= ~7 /* ViewFlag.Dirty */;\n                }\n                next = prev ? prev.nextSibling : parent.firstChild;\n                if (track && !track.written && track.node == parent && next != child.dom)\n                    track.written = true;\n                if (child.dom.parentNode == parent) {\n                    while (next && next != child.dom)\n                        next = rm$1(next);\n                }\n                else {\n                    parent.insertBefore(child.dom, next);\n                }\n                prev = child.dom;\n            }\n            next = prev ? prev.nextSibling : parent.firstChild;\n            if (next && track && track.node == parent)\n                track.written = true;\n            while (next)\n                next = rm$1(next);\n        }\n        else if (this.flags & 1 /* ViewFlag.ChildDirty */) {\n            for (let child of this.children)\n                if (child.flags & 7 /* ViewFlag.Dirty */) {\n                    child.sync(view, track);\n                    child.flags &= ~7 /* ViewFlag.Dirty */;\n                }\n        }\n    }\n    reuseDOM(_dom) { }\n    localPosFromDOM(node, offset) {\n        let after;\n        if (node == this.dom) {\n            after = this.dom.childNodes[offset];\n        }\n        else {\n            let bias = maxOffset(node) == 0 ? 0 : offset == 0 ? -1 : 1;\n            for (;;) {\n                let parent = node.parentNode;\n                if (parent == this.dom)\n                    break;\n                if (bias == 0 && parent.firstChild != parent.lastChild) {\n                    if (node == parent.firstChild)\n                        bias = -1;\n                    else\n                        bias = 1;\n                }\n                node = parent;\n            }\n            if (bias < 0)\n                after = node;\n            else\n                after = node.nextSibling;\n        }\n        if (after == this.dom.firstChild)\n            return 0;\n        while (after && !ContentView.get(after))\n            after = after.nextSibling;\n        if (!after)\n            return this.length;\n        for (let i = 0, pos = 0;; i++) {\n            let child = this.children[i];\n            if (child.dom == after)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n    }\n    domBoundsAround(from, to, offset = 0) {\n        let fromI = -1, fromStart = -1, toI = -1, toEnd = -1;\n        for (let i = 0, pos = offset, prevEnd = offset; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (pos < from && end > to)\n                return child.domBoundsAround(from, to, pos);\n            if (end >= from && fromI == -1) {\n                fromI = i;\n                fromStart = pos;\n            }\n            if (pos > to && child.dom.parentNode == this.dom) {\n                toI = i;\n                toEnd = prevEnd;\n                break;\n            }\n            prevEnd = end;\n            pos = end + child.breakAfter;\n        }\n        return { from: fromStart, to: toEnd < 0 ? offset + this.length : toEnd,\n            startDOM: (fromI ? this.children[fromI - 1].dom.nextSibling : null) || this.dom.firstChild,\n            endDOM: toI < this.children.length && toI >= 0 ? this.children[toI].dom : null };\n    }\n    markDirty(andParent = false) {\n        this.flags |= 2 /* ViewFlag.NodeDirty */;\n        this.markParentsDirty(andParent);\n    }\n    markParentsDirty(childList) {\n        for (let parent = this.parent; parent; parent = parent.parent) {\n            if (childList)\n                parent.flags |= 2 /* ViewFlag.NodeDirty */;\n            if (parent.flags & 1 /* ViewFlag.ChildDirty */)\n                return;\n            parent.flags |= 1 /* ViewFlag.ChildDirty */;\n            childList = false;\n        }\n    }\n    setParent(parent) {\n        if (this.parent != parent) {\n            this.parent = parent;\n            if (this.flags & 7 /* ViewFlag.Dirty */)\n                this.markParentsDirty(true);\n        }\n    }\n    setDOM(dom) {\n        if (this.dom == dom)\n            return;\n        if (this.dom)\n            this.dom.cmView = null;\n        this.dom = dom;\n        dom.cmView = this;\n    }\n    get rootView() {\n        for (let v = this;;) {\n            let parent = v.parent;\n            if (!parent)\n                return v;\n            v = parent;\n        }\n    }\n    replaceChildren(from, to, children = noChildren) {\n        this.markDirty();\n        for (let i = from; i < to; i++) {\n            let child = this.children[i];\n            if (child.parent == this)\n                child.destroy();\n        }\n        this.children.splice(from, to - from, ...children);\n        for (let i = 0; i < children.length; i++)\n            children[i].setParent(this);\n    }\n    ignoreMutation(_rec) { return false; }\n    ignoreEvent(_event) { return false; }\n    childCursor(pos = this.length) {\n        return new ChildCursor(this.children, pos, this.children.length);\n    }\n    childPos(pos, bias = 1) {\n        return this.childCursor().findPos(pos, bias);\n    }\n    toString() {\n        let name = this.constructor.name.replace(\"View\", \"\");\n        return name + (this.children.length ? \"(\" + this.children.join() + \")\" :\n            this.length ? \"[\" + (name == \"Text\" ? this.text : this.length) + \"]\" : \"\") +\n            (this.breakAfter ? \"#\" : \"\");\n    }\n    static get(node) { return node.cmView; }\n    get isEditable() { return true; }\n    get isWidget() { return false; }\n    get isHidden() { return false; }\n    merge(from, to, source, hasStart, openStart, openEnd) {\n        return false;\n    }\n    become(other) { return false; }\n    canReuseDOM(other) {\n        return other.constructor == this.constructor && !((this.flags | other.flags) & 8 /* ViewFlag.Composition */);\n    }\n    // When this is a zero-length view with a side, this should return a\n    // number <= 0 to indicate it is before its position, or a\n    // number > 0 when after its position.\n    getSide() { return 0; }\n    destroy() {\n        this.parent = null;\n    }\n}\nContentView.prototype.breakAfter = 0;\n// Remove a DOM node and return its next sibling.\nfunction rm$1(dom) {\n    let next = dom.nextSibling;\n    dom.parentNode.removeChild(dom);\n    return next;\n}\nclass ChildCursor {\n    constructor(children, pos, i) {\n        this.children = children;\n        this.pos = pos;\n        this.i = i;\n        this.off = 0;\n    }\n    findPos(pos, bias = 1) {\n        for (;;) {\n            if (pos > this.pos || pos == this.pos &&\n                (bias > 0 || this.i == 0 || this.children[this.i - 1].breakAfter)) {\n                this.off = pos - this.pos;\n                return this;\n            }\n            let next = this.children[--this.i];\n            this.pos -= next.length + next.breakAfter;\n        }\n    }\n}\nfunction replaceRange(parent, fromI, fromOff, toI, toOff, insert, breakAtStart, openStart, openEnd) {\n    let { children } = parent;\n    let before = children.length ? children[fromI] : null;\n    let last = insert.length ? insert[insert.length - 1] : null;\n    let breakAtEnd = last ? last.breakAfter : breakAtStart;\n    // Change within a single child\n    if (fromI == toI && before && !breakAtStart && !breakAtEnd && insert.length < 2 &&\n        before.merge(fromOff, toOff, insert.length ? last : null, fromOff == 0, openStart, openEnd))\n        return;\n    if (toI < children.length) {\n        let after = children[toI];\n        // Make sure the end of the child after the update is preserved in `after`\n        if (after && toOff < after.length) {\n            // If we're splitting a child, separate part of it to avoid that\n            // being mangled when updating the child before the update.\n            if (fromI == toI) {\n                after = after.split(toOff);\n                toOff = 0;\n            }\n            // If the element after the replacement should be merged with\n            // the last replacing element, update `content`\n            if (!breakAtEnd && last && after.merge(0, toOff, last, true, 0, openEnd)) {\n                insert[insert.length - 1] = after;\n            }\n            else {\n                // Remove the start of the after element, if necessary, and\n                // add it to `content`.\n                if (toOff)\n                    after.merge(0, toOff, null, false, 0, openEnd);\n                insert.push(after);\n            }\n        }\n        else if (after === null || after === void 0 ? void 0 : after.breakAfter) {\n            // The element at `toI` is entirely covered by this range.\n            // Preserve its line break, if any.\n            if (last)\n                last.breakAfter = 1;\n            else\n                breakAtStart = 1;\n        }\n        // Since we've handled the next element from the current elements\n        // now, make sure `toI` points after that.\n        toI++;\n    }\n    if (before) {\n        before.breakAfter = breakAtStart;\n        if (fromOff > 0) {\n            if (!breakAtStart && insert.length && before.merge(fromOff, before.length, insert[0], false, openStart, 0)) {\n                before.breakAfter = insert.shift().breakAfter;\n            }\n            else if (fromOff < before.length || before.children.length && before.children[before.children.length - 1].length == 0) {\n                before.merge(fromOff, before.length, null, false, openStart, 0);\n            }\n            fromI++;\n        }\n    }\n    // Try to merge widgets on the boundaries of the replacement\n    while (fromI < toI && insert.length) {\n        if (children[toI - 1].become(insert[insert.length - 1])) {\n            toI--;\n            insert.pop();\n            openEnd = insert.length ? 0 : openStart;\n        }\n        else if (children[fromI].become(insert[0])) {\n            fromI++;\n            insert.shift();\n            openStart = insert.length ? 0 : openEnd;\n        }\n        else {\n            break;\n        }\n    }\n    if (!insert.length && fromI && toI < children.length && !children[fromI - 1].breakAfter &&\n        children[toI].merge(0, 0, children[fromI - 1], false, openStart, openEnd))\n        fromI--;\n    if (fromI < toI || insert.length)\n        parent.replaceChildren(fromI, toI, insert);\n}\nfunction mergeChildrenInto(parent, from, to, insert, openStart, openEnd) {\n    let cur = parent.childCursor();\n    let { i: toI, off: toOff } = cur.findPos(to, 1);\n    let { i: fromI, off: fromOff } = cur.findPos(from, -1);\n    let dLen = from - to;\n    for (let view of insert)\n        dLen += view.length;\n    parent.length += dLen;\n    replaceRange(parent, fromI, fromOff, toI, toOff, insert, 0, openStart, openEnd);\n}\n\nlet nav = typeof navigator != \"undefined\" ? navigator : { userAgent: \"\", vendor: \"\", platform: \"\" };\nlet doc = typeof document != \"undefined\" ? document : { documentElement: { style: {} } };\nconst ie_edge = /*@__PURE__*//Edge\\/(\\d+)/.exec(nav.userAgent);\nconst ie_upto10 = /*@__PURE__*//MSIE \\d/.test(nav.userAgent);\nconst ie_11up = /*@__PURE__*//Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(nav.userAgent);\nconst ie = !!(ie_upto10 || ie_11up || ie_edge);\nconst gecko = !ie && /*@__PURE__*//gecko\\/(\\d+)/i.test(nav.userAgent);\nconst chrome = !ie && /*@__PURE__*//Chrome\\/(\\d+)/.exec(nav.userAgent);\nconst webkit = \"webkitFontSmoothing\" in doc.documentElement.style;\nconst safari = !ie && /*@__PURE__*//Apple Computer/.test(nav.vendor);\nconst ios = safari && (/*@__PURE__*//Mobile\\/\\w+/.test(nav.userAgent) || nav.maxTouchPoints > 2);\nvar browser = {\n    mac: ios || /*@__PURE__*//Mac/.test(nav.platform),\n    windows: /*@__PURE__*//Win/.test(nav.platform),\n    linux: /*@__PURE__*//Linux|X11/.test(nav.platform),\n    ie,\n    ie_version: ie_upto10 ? doc.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0,\n    gecko,\n    gecko_version: gecko ? +(/*@__PURE__*//Firefox\\/(\\d+)/.exec(nav.userAgent) || [0, 0])[1] : 0,\n    chrome: !!chrome,\n    chrome_version: chrome ? +chrome[1] : 0,\n    ios,\n    android: /*@__PURE__*//Android\\b/.test(nav.userAgent),\n    webkit,\n    safari,\n    webkit_version: webkit ? +(/*@__PURE__*//\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0,\n    tabSize: doc.documentElement.style.tabSize != null ? \"tab-size\" : \"-moz-tab-size\"\n};\n\nconst MaxJoinLen = 256;\nclass TextView extends ContentView {\n    constructor(text) {\n        super();\n        this.text = text;\n    }\n    get length() { return this.text.length; }\n    createDOM(textDOM) {\n        this.setDOM(textDOM || document.createTextNode(this.text));\n    }\n    sync(view, track) {\n        if (!this.dom)\n            this.createDOM();\n        if (this.dom.nodeValue != this.text) {\n            if (track && track.node == this.dom)\n                track.written = true;\n            this.dom.nodeValue = this.text;\n        }\n    }\n    reuseDOM(dom) {\n        if (dom.nodeType == 3)\n            this.createDOM(dom);\n    }\n    merge(from, to, source) {\n        if ((this.flags & 8 /* ViewFlag.Composition */) ||\n            source && (!(source instanceof TextView) ||\n                this.length - (to - from) + source.length > MaxJoinLen ||\n                (source.flags & 8 /* ViewFlag.Composition */)))\n            return false;\n        this.text = this.text.slice(0, from) + (source ? source.text : \"\") + this.text.slice(to);\n        this.markDirty();\n        return true;\n    }\n    split(from) {\n        let result = new TextView(this.text.slice(from));\n        this.text = this.text.slice(0, from);\n        this.markDirty();\n        result.flags |= this.flags & 8 /* ViewFlag.Composition */;\n        return result;\n    }\n    localPosFromDOM(node, offset) {\n        return node == this.dom ? offset : offset ? this.text.length : 0;\n    }\n    domAtPos(pos) { return new DOMPos(this.dom, pos); }\n    domBoundsAround(_from, _to, offset) {\n        return { from: offset, to: offset + this.length, startDOM: this.dom, endDOM: this.dom.nextSibling };\n    }\n    coordsAt(pos, side) {\n        return textCoords(this.dom, pos, side);\n    }\n}\nclass MarkView extends ContentView {\n    constructor(mark, children = [], length = 0) {\n        super();\n        this.mark = mark;\n        this.children = children;\n        this.length = length;\n        for (let ch of children)\n            ch.setParent(this);\n    }\n    setAttrs(dom) {\n        clearAttributes(dom);\n        if (this.mark.class)\n            dom.className = this.mark.class;\n        if (this.mark.attrs)\n            for (let name in this.mark.attrs)\n                dom.setAttribute(name, this.mark.attrs[name]);\n        return dom;\n    }\n    canReuseDOM(other) {\n        return super.canReuseDOM(other) && !((this.flags | other.flags) & 8 /* ViewFlag.Composition */);\n    }\n    reuseDOM(node) {\n        if (node.nodeName == this.mark.tagName.toUpperCase()) {\n            this.setDOM(node);\n            this.flags |= 4 /* ViewFlag.AttrsDirty */ | 2 /* ViewFlag.NodeDirty */;\n        }\n    }\n    sync(view, track) {\n        if (!this.dom)\n            this.setDOM(this.setAttrs(document.createElement(this.mark.tagName)));\n        else if (this.flags & 4 /* ViewFlag.AttrsDirty */)\n            this.setAttrs(this.dom);\n        super.sync(view, track);\n    }\n    merge(from, to, source, _hasStart, openStart, openEnd) {\n        if (source && (!(source instanceof MarkView && source.mark.eq(this.mark)) ||\n            (from && openStart <= 0) || (to < this.length && openEnd <= 0)))\n            return false;\n        mergeChildrenInto(this, from, to, source ? source.children : [], openStart - 1, openEnd - 1);\n        this.markDirty();\n        return true;\n    }\n    split(from) {\n        let result = [], off = 0, detachFrom = -1, i = 0;\n        for (let elt of this.children) {\n            let end = off + elt.length;\n            if (end > from)\n                result.push(off < from ? elt.split(from - off) : elt);\n            if (detachFrom < 0 && off >= from)\n                detachFrom = i;\n            off = end;\n            i++;\n        }\n        let length = this.length - from;\n        this.length = from;\n        if (detachFrom > -1) {\n            this.children.length = detachFrom;\n            this.markDirty();\n        }\n        return new MarkView(this.mark, result, length);\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this, pos);\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n}\nfunction textCoords(text, pos, side) {\n    let length = text.nodeValue.length;\n    if (pos > length)\n        pos = length;\n    let from = pos, to = pos, flatten = 0;\n    if (pos == 0 && side < 0 || pos == length && side >= 0) {\n        if (!(browser.chrome || browser.gecko)) { // These browsers reliably return valid rectangles for empty ranges\n            if (pos) {\n                from--;\n                flatten = 1;\n            } // FIXME this is wrong in RTL text\n            else if (to < length) {\n                to++;\n                flatten = -1;\n            }\n        }\n    }\n    else {\n        if (side < 0)\n            from--;\n        else if (to < length)\n            to++;\n    }\n    let rects = textRange(text, from, to).getClientRects();\n    if (!rects.length)\n        return null;\n    let rect = rects[(flatten ? flatten < 0 : side >= 0) ? 0 : rects.length - 1];\n    if (browser.safari && !flatten && rect.width == 0)\n        rect = Array.prototype.find.call(rects, r => r.width) || rect;\n    return flatten ? flattenRect(rect, flatten < 0) : rect || null;\n}\n// Also used for collapsed ranges that don't have a placeholder widget!\nclass WidgetView extends ContentView {\n    static create(widget, length, side) {\n        return new WidgetView(widget, length, side);\n    }\n    constructor(widget, length, side) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.side = side;\n        this.prevWidget = null;\n    }\n    split(from) {\n        let result = WidgetView.create(this.widget, this.length - from, this.side);\n        this.length -= from;\n        return result;\n    }\n    sync(view) {\n        if (!this.dom || !this.widget.updateDOM(this.dom, view)) {\n            if (this.dom && this.prevWidget)\n                this.prevWidget.destroy(this.dom);\n            this.prevWidget = null;\n            this.setDOM(this.widget.toDOM(view));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    getSide() { return this.side; }\n    merge(from, to, source, hasStart, openStart, openEnd) {\n        if (source && (!(source instanceof WidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    become(other) {\n        if (other instanceof WidgetView && other.side == this.side &&\n            this.widget.constructor == other.widget.constructor) {\n            if (!this.widget.compare(other.widget))\n                this.markDirty(true);\n            if (this.dom && !this.prevWidget)\n                this.prevWidget = this.widget;\n            this.widget = other.widget;\n            this.length = other.length;\n            return true;\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n    get overrideDOMText() {\n        if (this.length == 0)\n            return Text.empty;\n        let top = this;\n        while (top.parent)\n            top = top.parent;\n        let { view } = top, text = view && view.state.doc, start = this.posAtStart;\n        return text ? text.slice(start, start + this.length) : Text.empty;\n    }\n    domAtPos(pos) {\n        return (this.length ? pos == 0 : this.side > 0)\n            ? DOMPos.before(this.dom)\n            : DOMPos.after(this.dom, pos == this.length);\n    }\n    domBoundsAround() { return null; }\n    coordsAt(pos, side) {\n        let custom = this.widget.coordsAt(this.dom, pos, side);\n        if (custom)\n            return custom;\n        let rects = this.dom.getClientRects(), rect = null;\n        if (!rects.length)\n            return null;\n        let fromBack = this.side ? this.side < 0 : pos > 0;\n        for (let i = fromBack ? rects.length - 1 : 0;; i += (fromBack ? -1 : 1)) {\n            rect = rects[i];\n            if (pos > 0 ? i == 0 : i == rects.length - 1 || rect.top < rect.bottom)\n                break;\n        }\n        return flattenRect(rect, !fromBack);\n    }\n    get isEditable() { return false; }\n    get isWidget() { return true; }\n    get isHidden() { return this.widget.isHidden; }\n    destroy() {\n        super.destroy();\n        if (this.dom)\n            this.widget.destroy(this.dom);\n    }\n}\n// These are drawn around uneditable widgets to avoid a number of\n// browser bugs that show up when the cursor is directly next to\n// uneditable inline content.\nclass WidgetBufferView extends ContentView {\n    constructor(side) {\n        super();\n        this.side = side;\n    }\n    get length() { return 0; }\n    merge() { return false; }\n    become(other) {\n        return other instanceof WidgetBufferView && other.side == this.side;\n    }\n    split() { return new WidgetBufferView(this.side); }\n    sync() {\n        if (!this.dom) {\n            let dom = document.createElement(\"img\");\n            dom.className = \"cm-widgetBuffer\";\n            dom.setAttribute(\"aria-hidden\", \"true\");\n            this.setDOM(dom);\n        }\n    }\n    getSide() { return this.side; }\n    domAtPos(pos) { return this.side > 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom); }\n    localPosFromDOM() { return 0; }\n    domBoundsAround() { return null; }\n    coordsAt(pos) {\n        return this.dom.getBoundingClientRect();\n    }\n    get overrideDOMText() {\n        return Text.empty;\n    }\n    get isHidden() { return true; }\n}\nTextView.prototype.children = WidgetView.prototype.children = WidgetBufferView.prototype.children = noChildren;\nfunction inlineDOMAtPos(parent, pos) {\n    let dom = parent.dom, { children } = parent, i = 0;\n    for (let off = 0; i < children.length; i++) {\n        let child = children[i], end = off + child.length;\n        if (end == off && child.getSide() <= 0)\n            continue;\n        if (pos > off && pos < end && child.dom.parentNode == dom)\n            return child.domAtPos(pos - off);\n        if (pos <= off)\n            break;\n        off = end;\n    }\n    for (let j = i; j > 0; j--) {\n        let prev = children[j - 1];\n        if (prev.dom.parentNode == dom)\n            return prev.domAtPos(prev.length);\n    }\n    for (let j = i; j < children.length; j++) {\n        let next = children[j];\n        if (next.dom.parentNode == dom)\n            return next.domAtPos(0);\n    }\n    return new DOMPos(dom, 0);\n}\n// Assumes `view`, if a mark view, has precisely 1 child.\nfunction joinInlineInto(parent, view, open) {\n    let last, { children } = parent;\n    if (open > 0 && view instanceof MarkView && children.length &&\n        (last = children[children.length - 1]) instanceof MarkView && last.mark.eq(view.mark)) {\n        joinInlineInto(last, view.children[0], open - 1);\n    }\n    else {\n        children.push(view);\n        view.setParent(parent);\n    }\n    parent.length += view.length;\n}\nfunction coordsInChildren(view, pos, side) {\n    let before = null, beforePos = -1, after = null, afterPos = -1;\n    function scan(view, pos) {\n        for (let i = 0, off = 0; i < view.children.length && off <= pos; i++) {\n            let child = view.children[i], end = off + child.length;\n            if (end >= pos) {\n                if (child.children.length) {\n                    scan(child, pos - off);\n                }\n                else if ((!after || after.isHidden && side > 0) &&\n                    (end > pos || off == end && child.getSide() > 0)) {\n                    after = child;\n                    afterPos = pos - off;\n                }\n                else if (off < pos || (off == end && child.getSide() < 0) && !child.isHidden) {\n                    before = child;\n                    beforePos = pos - off;\n                }\n            }\n            off = end;\n        }\n    }\n    scan(view, pos);\n    let target = (side < 0 ? before : after) || before || after;\n    if (target)\n        return target.coordsAt(Math.max(0, target == before ? beforePos : afterPos), side);\n    return fallbackRect(view);\n}\nfunction fallbackRect(view) {\n    let last = view.dom.lastChild;\n    if (!last)\n        return view.dom.getBoundingClientRect();\n    let rects = clientRectsFor(last);\n    return rects[rects.length - 1] || null;\n}\n\nfunction combineAttrs(source, target) {\n    for (let name in source) {\n        if (name == \"class\" && target.class)\n            target.class += \" \" + source.class;\n        else if (name == \"style\" && target.style)\n            target.style += \";\" + source.style;\n        else\n            target[name] = source[name];\n    }\n    return target;\n}\nconst noAttrs = /*@__PURE__*/Object.create(null);\nfunction attrsEq(a, b, ignore) {\n    if (a == b)\n        return true;\n    if (!a)\n        a = noAttrs;\n    if (!b)\n        b = noAttrs;\n    let keysA = Object.keys(a), keysB = Object.keys(b);\n    if (keysA.length - (ignore && keysA.indexOf(ignore) > -1 ? 1 : 0) !=\n        keysB.length - (ignore && keysB.indexOf(ignore) > -1 ? 1 : 0))\n        return false;\n    for (let key of keysA) {\n        if (key != ignore && (keysB.indexOf(key) == -1 || a[key] !== b[key]))\n            return false;\n    }\n    return true;\n}\nfunction updateAttrs(dom, prev, attrs) {\n    let changed = false;\n    if (prev)\n        for (let name in prev)\n            if (!(attrs && name in attrs)) {\n                changed = true;\n                if (name == \"style\")\n                    dom.style.cssText = \"\";\n                else\n                    dom.removeAttribute(name);\n            }\n    if (attrs)\n        for (let name in attrs)\n            if (!(prev && prev[name] == attrs[name])) {\n                changed = true;\n                if (name == \"style\")\n                    dom.style.cssText = attrs[name];\n                else\n                    dom.setAttribute(name, attrs[name]);\n            }\n    return changed;\n}\nfunction getAttrs(dom) {\n    let attrs = Object.create(null);\n    for (let i = 0; i < dom.attributes.length; i++) {\n        let attr = dom.attributes[i];\n        attrs[attr.name] = attr.value;\n    }\n    return attrs;\n}\n\nclass LineView extends ContentView {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n        this.length = 0;\n        this.prevAttrs = undefined;\n        this.attrs = null;\n        this.breakAfter = 0;\n    }\n    // Consumes source\n    merge(from, to, source, hasStart, openStart, openEnd) {\n        if (source) {\n            if (!(source instanceof LineView))\n                return false;\n            if (!this.dom)\n                source.transferDOM(this); // Reuse source.dom when appropriate\n        }\n        if (hasStart)\n            this.setDeco(source ? source.attrs : null);\n        mergeChildrenInto(this, from, to, source ? source.children : [], openStart, openEnd);\n        return true;\n    }\n    split(at) {\n        let end = new LineView;\n        end.breakAfter = this.breakAfter;\n        if (this.length == 0)\n            return end;\n        let { i, off } = this.childPos(at);\n        if (off) {\n            end.append(this.children[i].split(off), 0);\n            this.children[i].merge(off, this.children[i].length, null, false, 0, 0);\n            i++;\n        }\n        for (let j = i; j < this.children.length; j++)\n            end.append(this.children[j], 0);\n        while (i > 0 && this.children[i - 1].length == 0)\n            this.children[--i].destroy();\n        this.children.length = i;\n        this.markDirty();\n        this.length = at;\n        return end;\n    }\n    transferDOM(other) {\n        if (!this.dom)\n            return;\n        this.markDirty();\n        other.setDOM(this.dom);\n        other.prevAttrs = this.prevAttrs === undefined ? this.attrs : this.prevAttrs;\n        this.prevAttrs = undefined;\n        this.dom = null;\n    }\n    setDeco(attrs) {\n        if (!attrsEq(this.attrs, attrs)) {\n            if (this.dom) {\n                this.prevAttrs = this.attrs;\n                this.markDirty();\n            }\n            this.attrs = attrs;\n        }\n    }\n    append(child, openStart) {\n        joinInlineInto(this, child, openStart);\n    }\n    // Only called when building a line view in ContentBuilder\n    addLineDeco(deco) {\n        let attrs = deco.spec.attributes, cls = deco.spec.class;\n        if (attrs)\n            this.attrs = combineAttrs(attrs, this.attrs || {});\n        if (cls)\n            this.attrs = combineAttrs({ class: cls }, this.attrs || {});\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this, pos);\n    }\n    reuseDOM(node) {\n        if (node.nodeName == \"DIV\") {\n            this.setDOM(node);\n            this.flags |= 4 /* ViewFlag.AttrsDirty */ | 2 /* ViewFlag.NodeDirty */;\n        }\n    }\n    sync(view, track) {\n        var _a;\n        if (!this.dom) {\n            this.setDOM(document.createElement(\"div\"));\n            this.dom.className = \"cm-line\";\n            this.prevAttrs = this.attrs ? null : undefined;\n        }\n        else if (this.flags & 4 /* ViewFlag.AttrsDirty */) {\n            clearAttributes(this.dom);\n            this.dom.className = \"cm-line\";\n            this.prevAttrs = this.attrs ? null : undefined;\n        }\n        if (this.prevAttrs !== undefined) {\n            updateAttrs(this.dom, this.prevAttrs, this.attrs);\n            this.dom.classList.add(\"cm-line\");\n            this.prevAttrs = undefined;\n        }\n        super.sync(view, track);\n        let last = this.dom.lastChild;\n        while (last && ContentView.get(last) instanceof MarkView)\n            last = last.lastChild;\n        if (!last || !this.length ||\n            last.nodeName != \"BR\" && ((_a = ContentView.get(last)) === null || _a === void 0 ? void 0 : _a.isEditable) == false &&\n                (!browser.ios || !this.children.some(ch => ch instanceof TextView))) {\n            let hack = document.createElement(\"BR\");\n            hack.cmIgnore = true;\n            this.dom.appendChild(hack);\n        }\n    }\n    measureTextSize() {\n        if (this.children.length == 0 || this.length > 20)\n            return null;\n        let totalWidth = 0, textHeight;\n        for (let child of this.children) {\n            if (!(child instanceof TextView) || /[^ -~]/.test(child.text))\n                return null;\n            let rects = clientRectsFor(child.dom);\n            if (rects.length != 1)\n                return null;\n            totalWidth += rects[0].width;\n            textHeight = rects[0].height;\n        }\n        return !totalWidth ? null : {\n            lineHeight: this.dom.getBoundingClientRect().height,\n            charWidth: totalWidth / this.length,\n            textHeight\n        };\n    }\n    coordsAt(pos, side) {\n        let rect = coordsInChildren(this, pos, side);\n        // Correct rectangle height for empty lines when the returned\n        // height is larger than the text height.\n        if (!this.children.length && rect && this.parent) {\n            let { heightOracle } = this.parent.view.viewState, height = rect.bottom - rect.top;\n            if (Math.abs(height - heightOracle.lineHeight) < 2 && heightOracle.textHeight < height) {\n                let dist = (height - heightOracle.textHeight) / 2;\n                return { top: rect.top + dist, bottom: rect.bottom - dist, left: rect.left, right: rect.left };\n            }\n        }\n        return rect;\n    }\n    become(_other) { return false; }\n    covers() { return true; }\n    static find(docView, pos) {\n        for (let i = 0, off = 0; i < docView.children.length; i++) {\n            let block = docView.children[i], end = off + block.length;\n            if (end >= pos) {\n                if (block instanceof LineView)\n                    return block;\n                if (end > pos)\n                    break;\n            }\n            off = end + block.breakAfter;\n        }\n        return null;\n    }\n}\nclass BlockWidgetView extends ContentView {\n    constructor(widget, length, deco) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.deco = deco;\n        this.breakAfter = 0;\n        this.prevWidget = null;\n    }\n    merge(from, to, source, _takeDeco, openStart, openEnd) {\n        if (source && (!(source instanceof BlockWidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    split(at) {\n        let len = this.length - at;\n        this.length = at;\n        let end = new BlockWidgetView(this.widget, len, this.deco);\n        end.breakAfter = this.breakAfter;\n        return end;\n    }\n    get children() { return noChildren; }\n    sync(view) {\n        if (!this.dom || !this.widget.updateDOM(this.dom, view)) {\n            if (this.dom && this.prevWidget)\n                this.prevWidget.destroy(this.dom);\n            this.prevWidget = null;\n            this.setDOM(this.widget.toDOM(view));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    get overrideDOMText() {\n        return this.parent ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd) : Text.empty;\n    }\n    domBoundsAround() { return null; }\n    become(other) {\n        if (other instanceof BlockWidgetView &&\n            other.widget.constructor == this.widget.constructor) {\n            if (!other.widget.compare(this.widget))\n                this.markDirty(true);\n            if (this.dom && !this.prevWidget)\n                this.prevWidget = this.widget;\n            this.widget = other.widget;\n            this.length = other.length;\n            this.deco = other.deco;\n            this.breakAfter = other.breakAfter;\n            return true;\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n    get isEditable() { return false; }\n    get isWidget() { return true; }\n    coordsAt(pos, side) {\n        return this.widget.coordsAt(this.dom, pos, side);\n    }\n    destroy() {\n        super.destroy();\n        if (this.dom)\n            this.widget.destroy(this.dom);\n    }\n    covers(side) {\n        let { startSide, endSide } = this.deco;\n        return startSide == endSide ? false : side < 0 ? startSide < 0 : endSide > 0;\n    }\n}\n\n/**\nWidgets added to the content are described by subclasses of this\nclass. Using a description object like that makes it possible to\ndelay creating of the DOM structure for a widget until it is\nneeded, and to avoid redrawing widgets even if the decorations\nthat define them are recreated.\n*/\nclass WidgetType {\n    /**\n    Compare this instance to another instance of the same type.\n    (TypeScript can't express this, but only instances of the same\n    specific class will be passed to this method.) This is used to\n    avoid redrawing widgets when they are replaced by a new\n    decoration of the same type. The default implementation just\n    returns `false`, which will cause new instances of the widget to\n    always be redrawn.\n    */\n    eq(widget) { return false; }\n    /**\n    Update a DOM element created by a widget of the same type (but\n    different, non-`eq` content) to reflect this widget. May return\n    true to indicate that it could update, false to indicate it\n    couldn't (in which case the widget will be redrawn). The default\n    implementation just returns false.\n    */\n    updateDOM(dom, view) { return false; }\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    The estimated height this widget will have, to be used when\n    estimating the height of content that hasn't been drawn. May\n    return -1 to indicate you don't know. The default implementation\n    returns -1.\n    */\n    get estimatedHeight() { return -1; }\n    /**\n    For inline widgets that are displayed inline (as opposed to\n    `inline-block`) and introduce line breaks (through `<br>` tags\n    or textual newlines), this must indicate the amount of line\n    breaks they introduce. Defaults to 0.\n    */\n    get lineBreaks() { return 0; }\n    /**\n    Can be used to configure which kinds of events inside the widget\n    should be ignored by the editor. The default is to ignore all\n    events.\n    */\n    ignoreEvent(event) { return true; }\n    /**\n    Override the way screen coordinates for positions at/in the\n    widget are found. `pos` will be the offset into the widget, and\n    `side` the side of the position that is being queried—less than\n    zero for before, greater than zero for after, and zero for\n    directly at that position.\n    */\n    coordsAt(dom, pos, side) { return null; }\n    /**\n    @internal\n    */\n    get isHidden() { return false; }\n    /**\n    This is called when the an instance of the widget is removed\n    from the editor view.\n    */\n    destroy(dom) { }\n}\n/**\nThe different types of blocks that can occur in an editor view.\n*/\nvar BlockType = /*@__PURE__*/(function (BlockType) {\n    /**\n    A line of text.\n    */\n    BlockType[BlockType[\"Text\"] = 0] = \"Text\";\n    /**\n    A block widget associated with the position after it.\n    */\n    BlockType[BlockType[\"WidgetBefore\"] = 1] = \"WidgetBefore\";\n    /**\n    A block widget associated with the position before it.\n    */\n    BlockType[BlockType[\"WidgetAfter\"] = 2] = \"WidgetAfter\";\n    /**\n    A block widget [replacing](https://codemirror.net/6/docs/ref/#view.Decoration^replace) a range of content.\n    */\n    BlockType[BlockType[\"WidgetRange\"] = 3] = \"WidgetRange\";\nreturn BlockType})(BlockType || (BlockType = {}));\n/**\nA decoration provides information on how to draw or style a piece\nof content. You'll usually use it wrapped in a\n[`Range`](https://codemirror.net/6/docs/ref/#state.Range), which adds a start and end position.\n@nonabstract\n*/\nclass Decoration extends RangeValue {\n    constructor(\n    /**\n    @internal\n    */\n    startSide, \n    /**\n    @internal\n    */\n    endSide, \n    /**\n    @internal\n    */\n    widget, \n    /**\n    The config object used to create this decoration. You can\n    include additional properties in there to store metadata about\n    your decoration.\n    */\n    spec) {\n        super();\n        this.startSide = startSide;\n        this.endSide = endSide;\n        this.widget = widget;\n        this.spec = spec;\n    }\n    /**\n    @internal\n    */\n    get heightRelevant() { return false; }\n    /**\n    Create a mark decoration, which influences the styling of the\n    content in its range. Nested mark decorations will cause nested\n    DOM elements to be created. Nesting order is determined by\n    precedence of the [facet](https://codemirror.net/6/docs/ref/#view.EditorView^decorations), with\n    the higher-precedence decorations creating the inner DOM nodes.\n    Such elements are split on line boundaries and on the boundaries\n    of lower-precedence decorations.\n    */\n    static mark(spec) {\n        return new MarkDecoration(spec);\n    }\n    /**\n    Create a widget decoration, which displays a DOM element at the\n    given position.\n    */\n    static widget(spec) {\n        let side = Math.max(-10000, Math.min(10000, spec.side || 0)), block = !!spec.block;\n        side += (block && !spec.inlineOrder)\n            ? (side > 0 ? 300000000 /* Side.BlockAfter */ : -400000000 /* Side.BlockBefore */)\n            : (side > 0 ? 100000000 /* Side.InlineAfter */ : -100000000 /* Side.InlineBefore */);\n        return new PointDecoration(spec, side, side, block, spec.widget || null, false);\n    }\n    /**\n    Create a replace decoration which replaces the given range with\n    a widget, or simply hides it.\n    */\n    static replace(spec) {\n        let block = !!spec.block, startSide, endSide;\n        if (spec.isBlockGap) {\n            startSide = -500000000 /* Side.GapStart */;\n            endSide = 400000000 /* Side.GapEnd */;\n        }\n        else {\n            let { start, end } = getInclusive(spec, block);\n            startSide = (start ? (block ? -300000000 /* Side.BlockIncStart */ : -1 /* Side.InlineIncStart */) : 500000000 /* Side.NonIncStart */) - 1;\n            endSide = (end ? (block ? 200000000 /* Side.BlockIncEnd */ : 1 /* Side.InlineIncEnd */) : -600000000 /* Side.NonIncEnd */) + 1;\n        }\n        return new PointDecoration(spec, startSide, endSide, block, spec.widget || null, true);\n    }\n    /**\n    Create a line decoration, which can add DOM attributes to the\n    line starting at the given position.\n    */\n    static line(spec) {\n        return new LineDecoration(spec);\n    }\n    /**\n    Build a [`DecorationSet`](https://codemirror.net/6/docs/ref/#view.DecorationSet) from the given\n    decorated range or ranges. If the ranges aren't already sorted,\n    pass `true` for `sort` to make the library sort them for you.\n    */\n    static set(of, sort = false) {\n        return RangeSet.of(of, sort);\n    }\n    /**\n    @internal\n    */\n    hasHeight() { return this.widget ? this.widget.estimatedHeight > -1 : false; }\n}\n/**\nThe empty set of decorations.\n*/\nDecoration.none = RangeSet.empty;\nclass MarkDecoration extends Decoration {\n    constructor(spec) {\n        let { start, end } = getInclusive(spec);\n        super(start ? -1 /* Side.InlineIncStart */ : 500000000 /* Side.NonIncStart */, end ? 1 /* Side.InlineIncEnd */ : -600000000 /* Side.NonIncEnd */, null, spec);\n        this.tagName = spec.tagName || \"span\";\n        this.class = spec.class || \"\";\n        this.attrs = spec.attributes || null;\n    }\n    eq(other) {\n        var _a, _b;\n        return this == other ||\n            other instanceof MarkDecoration &&\n                this.tagName == other.tagName &&\n                (this.class || ((_a = this.attrs) === null || _a === void 0 ? void 0 : _a.class)) == (other.class || ((_b = other.attrs) === null || _b === void 0 ? void 0 : _b.class)) &&\n                attrsEq(this.attrs, other.attrs, \"class\");\n    }\n    range(from, to = from) {\n        if (from >= to)\n            throw new RangeError(\"Mark decorations may not be empty\");\n        return super.range(from, to);\n    }\n}\nMarkDecoration.prototype.point = false;\nclass LineDecoration extends Decoration {\n    constructor(spec) {\n        super(-200000000 /* Side.Line */, -200000000 /* Side.Line */, null, spec);\n    }\n    eq(other) {\n        return other instanceof LineDecoration &&\n            this.spec.class == other.spec.class &&\n            attrsEq(this.spec.attributes, other.spec.attributes);\n    }\n    range(from, to = from) {\n        if (to != from)\n            throw new RangeError(\"Line decoration ranges must be zero-length\");\n        return super.range(from, to);\n    }\n}\nLineDecoration.prototype.mapMode = MapMode.TrackBefore;\nLineDecoration.prototype.point = true;\nclass PointDecoration extends Decoration {\n    constructor(spec, startSide, endSide, block, widget, isReplace) {\n        super(startSide, endSide, widget, spec);\n        this.block = block;\n        this.isReplace = isReplace;\n        this.mapMode = !block ? MapMode.TrackDel : startSide <= 0 ? MapMode.TrackBefore : MapMode.TrackAfter;\n    }\n    // Only relevant when this.block == true\n    get type() {\n        return this.startSide != this.endSide ? BlockType.WidgetRange\n            : this.startSide <= 0 ? BlockType.WidgetBefore : BlockType.WidgetAfter;\n    }\n    get heightRelevant() {\n        return this.block || !!this.widget && (this.widget.estimatedHeight >= 5 || this.widget.lineBreaks > 0);\n    }\n    eq(other) {\n        return other instanceof PointDecoration &&\n            widgetsEq(this.widget, other.widget) &&\n            this.block == other.block &&\n            this.startSide == other.startSide && this.endSide == other.endSide;\n    }\n    range(from, to = from) {\n        if (this.isReplace && (from > to || (from == to && this.startSide > 0 && this.endSide <= 0)))\n            throw new RangeError(\"Invalid range for replacement decoration\");\n        if (!this.isReplace && to != from)\n            throw new RangeError(\"Widget decorations can only have zero-length ranges\");\n        return super.range(from, to);\n    }\n}\nPointDecoration.prototype.point = true;\nfunction getInclusive(spec, block = false) {\n    let { inclusiveStart: start, inclusiveEnd: end } = spec;\n    if (start == null)\n        start = spec.inclusive;\n    if (end == null)\n        end = spec.inclusive;\n    return { start: start !== null && start !== void 0 ? start : block, end: end !== null && end !== void 0 ? end : block };\n}\nfunction widgetsEq(a, b) {\n    return a == b || !!(a && b && a.compare(b));\n}\nfunction addRange(from, to, ranges, margin = 0) {\n    let last = ranges.length - 1;\n    if (last >= 0 && ranges[last] + margin >= from)\n        ranges[last] = Math.max(ranges[last], to);\n    else\n        ranges.push(from, to);\n}\n\nclass ContentBuilder {\n    constructor(doc, pos, end, disallowBlockEffectsFor) {\n        this.doc = doc;\n        this.pos = pos;\n        this.end = end;\n        this.disallowBlockEffectsFor = disallowBlockEffectsFor;\n        this.content = [];\n        this.curLine = null;\n        this.breakAtStart = 0;\n        this.pendingBuffer = 0 /* Buf.No */;\n        this.bufferMarks = [];\n        // Set to false directly after a widget that covers the position after it\n        this.atCursorPos = true;\n        this.openStart = -1;\n        this.openEnd = -1;\n        this.text = \"\";\n        this.textOff = 0;\n        this.cursor = doc.iter();\n        this.skip = pos;\n    }\n    posCovered() {\n        if (this.content.length == 0)\n            return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;\n        let last = this.content[this.content.length - 1];\n        return !(last.breakAfter || last instanceof BlockWidgetView && last.deco.endSide < 0);\n    }\n    getLine() {\n        if (!this.curLine) {\n            this.content.push(this.curLine = new LineView);\n            this.atCursorPos = true;\n        }\n        return this.curLine;\n    }\n    flushBuffer(active = this.bufferMarks) {\n        if (this.pendingBuffer) {\n            this.curLine.append(wrapMarks(new WidgetBufferView(-1), active), active.length);\n            this.pendingBuffer = 0 /* Buf.No */;\n        }\n    }\n    addBlockWidget(view) {\n        this.flushBuffer();\n        this.curLine = null;\n        this.content.push(view);\n    }\n    finish(openEnd) {\n        if (this.pendingBuffer && openEnd <= this.bufferMarks.length)\n            this.flushBuffer();\n        else\n            this.pendingBuffer = 0 /* Buf.No */;\n        if (!openEnd && !this.posCovered())\n            this.getLine();\n    }\n    buildText(length, active, openStart) {\n        while (length > 0) {\n            if (this.textOff == this.text.length) {\n                let { value, lineBreak, done } = this.cursor.next(this.skip);\n                this.skip = 0;\n                if (done)\n                    throw new Error(\"Ran out of text content when drawing inline views\");\n                if (lineBreak) {\n                    if (!this.posCovered())\n                        this.getLine();\n                    if (this.content.length)\n                        this.content[this.content.length - 1].breakAfter = 1;\n                    else\n                        this.breakAtStart = 1;\n                    this.flushBuffer();\n                    this.curLine = null;\n                    this.atCursorPos = true;\n                    length--;\n                    continue;\n                }\n                else {\n                    this.text = value;\n                    this.textOff = 0;\n                }\n            }\n            let take = Math.min(this.text.length - this.textOff, length, 512 /* T.Chunk */);\n            this.flushBuffer(active.slice(active.length - openStart));\n            this.getLine().append(wrapMarks(new TextView(this.text.slice(this.textOff, this.textOff + take)), active), openStart);\n            this.atCursorPos = true;\n            this.textOff += take;\n            length -= take;\n            openStart = 0;\n        }\n    }\n    span(from, to, active, openStart) {\n        this.buildText(to - from, active, openStart);\n        this.pos = to;\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    point(from, to, deco, active, openStart, index) {\n        if (this.disallowBlockEffectsFor[index] && deco instanceof PointDecoration) {\n            if (deco.block)\n                throw new RangeError(\"Block decorations may not be specified via plugins\");\n            if (to > this.doc.lineAt(this.pos).to)\n                throw new RangeError(\"Decorations that replace line breaks may not be specified via plugins\");\n        }\n        let len = to - from;\n        if (deco instanceof PointDecoration) {\n            if (deco.block) {\n                if (deco.startSide > 0 && !this.posCovered())\n                    this.getLine();\n                this.addBlockWidget(new BlockWidgetView(deco.widget || new NullWidget(\"div\"), len, deco));\n            }\n            else {\n                let view = WidgetView.create(deco.widget || new NullWidget(\"span\"), len, len ? 0 : deco.startSide);\n                let cursorBefore = this.atCursorPos && !view.isEditable && openStart <= active.length &&\n                    (from < to || deco.startSide > 0);\n                let cursorAfter = !view.isEditable && (from < to || openStart > active.length || deco.startSide <= 0);\n                let line = this.getLine();\n                if (this.pendingBuffer == 2 /* Buf.IfCursor */ && !cursorBefore && !view.isEditable)\n                    this.pendingBuffer = 0 /* Buf.No */;\n                this.flushBuffer(active);\n                if (cursorBefore) {\n                    line.append(wrapMarks(new WidgetBufferView(1), active), openStart);\n                    openStart = active.length + Math.max(0, openStart - active.length);\n                }\n                line.append(wrapMarks(view, active), openStart);\n                this.atCursorPos = cursorAfter;\n                this.pendingBuffer = !cursorAfter ? 0 /* Buf.No */ : from < to || openStart > active.length ? 1 /* Buf.Yes */ : 2 /* Buf.IfCursor */;\n                if (this.pendingBuffer)\n                    this.bufferMarks = active.slice();\n            }\n        }\n        else if (this.doc.lineAt(this.pos).from == this.pos) { // Line decoration\n            this.getLine().addLineDeco(deco);\n        }\n        if (len) {\n            // Advance the iterator past the replaced content\n            if (this.textOff + len <= this.text.length) {\n                this.textOff += len;\n            }\n            else {\n                this.skip += len - (this.text.length - this.textOff);\n                this.text = \"\";\n                this.textOff = 0;\n            }\n            this.pos = to;\n        }\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    static build(text, from, to, decorations, dynamicDecorationMap) {\n        let builder = new ContentBuilder(text, from, to, dynamicDecorationMap);\n        builder.openEnd = RangeSet.spans(decorations, from, to, builder);\n        if (builder.openStart < 0)\n            builder.openStart = builder.openEnd;\n        builder.finish(builder.openEnd);\n        return builder;\n    }\n}\nfunction wrapMarks(view, active) {\n    for (let mark of active)\n        view = new MarkView(mark, [view], view.length);\n    return view;\n}\nclass NullWidget extends WidgetType {\n    constructor(tag) {\n        super();\n        this.tag = tag;\n    }\n    eq(other) { return other.tag == this.tag; }\n    toDOM() { return document.createElement(this.tag); }\n    updateDOM(elt) { return elt.nodeName.toLowerCase() == this.tag; }\n    get isHidden() { return true; }\n}\n\nconst clickAddsSelectionRange = /*@__PURE__*/Facet.define();\nconst dragMovesSelection$1 = /*@__PURE__*/Facet.define();\nconst mouseSelectionStyle = /*@__PURE__*/Facet.define();\nconst exceptionSink = /*@__PURE__*/Facet.define();\nconst updateListener = /*@__PURE__*/Facet.define();\nconst inputHandler = /*@__PURE__*/Facet.define();\nconst focusChangeEffect = /*@__PURE__*/Facet.define();\nconst perLineTextDirection = /*@__PURE__*/Facet.define({\n    combine: values => values.some(x => x)\n});\nconst nativeSelectionHidden = /*@__PURE__*/Facet.define({\n    combine: values => values.some(x => x)\n});\nclass ScrollTarget {\n    constructor(range, y = \"nearest\", x = \"nearest\", yMargin = 5, xMargin = 5) {\n        this.range = range;\n        this.y = y;\n        this.x = x;\n        this.yMargin = yMargin;\n        this.xMargin = xMargin;\n    }\n    map(changes) {\n        return changes.empty ? this : new ScrollTarget(this.range.map(changes), this.y, this.x, this.yMargin, this.xMargin);\n    }\n}\nconst scrollIntoView = /*@__PURE__*/StateEffect.define({ map: (t, ch) => t.map(ch) });\n/**\nLog or report an unhandled exception in client code. Should\nprobably only be used by extension code that allows client code to\nprovide functions, and calls those functions in a context where an\nexception can't be propagated to calling code in a reasonable way\n(for example when in an event handler).\n\nEither calls a handler registered with\n[`EditorView.exceptionSink`](https://codemirror.net/6/docs/ref/#view.EditorView^exceptionSink),\n`window.onerror`, if defined, or `console.error` (in which case\nit'll pass `context`, when given, as first argument).\n*/\nfunction logException(state, exception, context) {\n    let handler = state.facet(exceptionSink);\n    if (handler.length)\n        handler[0](exception);\n    else if (window.onerror)\n        window.onerror(String(exception), context, undefined, undefined, exception);\n    else if (context)\n        console.error(context + \":\", exception);\n    else\n        console.error(exception);\n}\nconst editable = /*@__PURE__*/Facet.define({ combine: values => values.length ? values[0] : true });\nlet nextPluginID = 0;\nconst viewPlugin = /*@__PURE__*/Facet.define();\n/**\nView plugins associate stateful values with a view. They can\ninfluence the way the content is drawn, and are notified of things\nthat happen in the view.\n*/\nclass ViewPlugin {\n    constructor(\n    /**\n    @internal\n    */\n    id, \n    /**\n    @internal\n    */\n    create, \n    /**\n    @internal\n    */\n    domEventHandlers, \n    /**\n    @internal\n    */\n    domEventObservers, buildExtensions) {\n        this.id = id;\n        this.create = create;\n        this.domEventHandlers = domEventHandlers;\n        this.domEventObservers = domEventObservers;\n        this.extension = buildExtensions(this);\n    }\n    /**\n    Define a plugin from a constructor function that creates the\n    plugin's value, given an editor view.\n    */\n    static define(create, spec) {\n        const { eventHandlers, eventObservers, provide, decorations: deco } = spec || {};\n        return new ViewPlugin(nextPluginID++, create, eventHandlers, eventObservers, plugin => {\n            let ext = [viewPlugin.of(plugin)];\n            if (deco)\n                ext.push(decorations.of(view => {\n                    let pluginInst = view.plugin(plugin);\n                    return pluginInst ? deco(pluginInst) : Decoration.none;\n                }));\n            if (provide)\n                ext.push(provide(plugin));\n            return ext;\n        });\n    }\n    /**\n    Create a plugin for a class whose constructor takes a single\n    editor view as argument.\n    */\n    static fromClass(cls, spec) {\n        return ViewPlugin.define(view => new cls(view), spec);\n    }\n}\nclass PluginInstance {\n    constructor(spec) {\n        this.spec = spec;\n        // When starting an update, all plugins have this field set to the\n        // update object, indicating they need to be updated. When finished\n        // updating, it is set to `false`. Retrieving a plugin that needs to\n        // be updated with `view.plugin` forces an eager update.\n        this.mustUpdate = null;\n        // This is null when the plugin is initially created, but\n        // initialized on the first update.\n        this.value = null;\n    }\n    update(view) {\n        if (!this.value) {\n            if (this.spec) {\n                try {\n                    this.value = this.spec.create(view);\n                }\n                catch (e) {\n                    logException(view.state, e, \"CodeMirror plugin crashed\");\n                    this.deactivate();\n                }\n            }\n        }\n        else if (this.mustUpdate) {\n            let update = this.mustUpdate;\n            this.mustUpdate = null;\n            if (this.value.update) {\n                try {\n                    this.value.update(update);\n                }\n                catch (e) {\n                    logException(update.state, e, \"CodeMirror plugin crashed\");\n                    if (this.value.destroy)\n                        try {\n                            this.value.destroy();\n                        }\n                        catch (_) { }\n                    this.deactivate();\n                }\n            }\n        }\n        return this;\n    }\n    destroy(view) {\n        var _a;\n        if ((_a = this.value) === null || _a === void 0 ? void 0 : _a.destroy) {\n            try {\n                this.value.destroy();\n            }\n            catch (e) {\n                logException(view.state, e, \"CodeMirror plugin crashed\");\n            }\n        }\n    }\n    deactivate() {\n        this.spec = this.value = null;\n    }\n}\nconst editorAttributes = /*@__PURE__*/Facet.define();\nconst contentAttributes = /*@__PURE__*/Facet.define();\n// Provide decorations\nconst decorations = /*@__PURE__*/Facet.define();\nconst atomicRanges = /*@__PURE__*/Facet.define();\nconst bidiIsolatedRanges = /*@__PURE__*/Facet.define();\nfunction getIsolatedRanges(view, from, to) {\n    let isolates = view.state.facet(bidiIsolatedRanges);\n    if (!isolates.length)\n        return isolates;\n    let sets = isolates.map(i => i instanceof Function ? i(view) : i);\n    let result = [];\n    RangeSet.spans(sets, from, to, {\n        point() { },\n        span(from, to, active, open) {\n            let level = result;\n            for (let i = active.length - 1; i >= 0; i--, open--) {\n                let iso = active[i].spec.bidiIsolate, update;\n                if (iso == null)\n                    continue;\n                if (open > 0 && level.length &&\n                    (update = level[level.length - 1]).to == from && update.direction == iso) {\n                    update.to = to;\n                    level = update.inner;\n                }\n                else {\n                    let add = { from, to, direction: iso, inner: [] };\n                    level.push(add);\n                    level = add.inner;\n                }\n            }\n        }\n    });\n    return result;\n}\nconst scrollMargins = /*@__PURE__*/Facet.define();\nfunction getScrollMargins(view) {\n    let left = 0, right = 0, top = 0, bottom = 0;\n    for (let source of view.state.facet(scrollMargins)) {\n        let m = source(view);\n        if (m) {\n            if (m.left != null)\n                left = Math.max(left, m.left);\n            if (m.right != null)\n                right = Math.max(right, m.right);\n            if (m.top != null)\n                top = Math.max(top, m.top);\n            if (m.bottom != null)\n                bottom = Math.max(bottom, m.bottom);\n        }\n    }\n    return { left, right, top, bottom };\n}\nconst styleModule = /*@__PURE__*/Facet.define();\nclass ChangedRange {\n    constructor(fromA, toA, fromB, toB) {\n        this.fromA = fromA;\n        this.toA = toA;\n        this.fromB = fromB;\n        this.toB = toB;\n    }\n    join(other) {\n        return new ChangedRange(Math.min(this.fromA, other.fromA), Math.max(this.toA, other.toA), Math.min(this.fromB, other.fromB), Math.max(this.toB, other.toB));\n    }\n    addToSet(set) {\n        let i = set.length, me = this;\n        for (; i > 0; i--) {\n            let range = set[i - 1];\n            if (range.fromA > me.toA)\n                continue;\n            if (range.toA < me.fromA)\n                break;\n            me = me.join(range);\n            set.splice(i - 1, 1);\n        }\n        set.splice(i, 0, me);\n        return set;\n    }\n    static extendWithRanges(diff, ranges) {\n        if (ranges.length == 0)\n            return diff;\n        let result = [];\n        for (let dI = 0, rI = 0, posA = 0, posB = 0;; dI++) {\n            let next = dI == diff.length ? null : diff[dI], off = posA - posB;\n            let end = next ? next.fromB : 1e9;\n            while (rI < ranges.length && ranges[rI] < end) {\n                let from = ranges[rI], to = ranges[rI + 1];\n                let fromB = Math.max(posB, from), toB = Math.min(end, to);\n                if (fromB <= toB)\n                    new ChangedRange(fromB + off, toB + off, fromB, toB).addToSet(result);\n                if (to > end)\n                    break;\n                else\n                    rI += 2;\n            }\n            if (!next)\n                return result;\n            new ChangedRange(next.fromA, next.toA, next.fromB, next.toB).addToSet(result);\n            posA = next.toA;\n            posB = next.toB;\n        }\n    }\n}\n/**\nView [plugins](https://codemirror.net/6/docs/ref/#view.ViewPlugin) are given instances of this\nclass, which describe what happened, whenever the view is updated.\n*/\nclass ViewUpdate {\n    constructor(\n    /**\n    The editor view that the update is associated with.\n    */\n    view, \n    /**\n    The new editor state.\n    */\n    state, \n    /**\n    The transactions involved in the update. May be empty.\n    */\n    transactions) {\n        this.view = view;\n        this.state = state;\n        this.transactions = transactions;\n        /**\n        @internal\n        */\n        this.flags = 0;\n        this.startState = view.state;\n        this.changes = ChangeSet.empty(this.startState.doc.length);\n        for (let tr of transactions)\n            this.changes = this.changes.compose(tr.changes);\n        let changedRanges = [];\n        this.changes.iterChangedRanges((fromA, toA, fromB, toB) => changedRanges.push(new ChangedRange(fromA, toA, fromB, toB)));\n        this.changedRanges = changedRanges;\n    }\n    /**\n    @internal\n    */\n    static create(view, state, transactions) {\n        return new ViewUpdate(view, state, transactions);\n    }\n    /**\n    Tells you whether the [viewport](https://codemirror.net/6/docs/ref/#view.EditorView.viewport) or\n    [visible ranges](https://codemirror.net/6/docs/ref/#view.EditorView.visibleRanges) changed in this\n    update.\n    */\n    get viewportChanged() {\n        return (this.flags & 4 /* UpdateFlag.Viewport */) > 0;\n    }\n    /**\n    Indicates whether the height of a block element in the editor\n    changed in this update.\n    */\n    get heightChanged() {\n        return (this.flags & 2 /* UpdateFlag.Height */) > 0;\n    }\n    /**\n    Returns true when the document was modified or the size of the\n    editor, or elements within the editor, changed.\n    */\n    get geometryChanged() {\n        return this.docChanged || (this.flags & (8 /* UpdateFlag.Geometry */ | 2 /* UpdateFlag.Height */)) > 0;\n    }\n    /**\n    True when this update indicates a focus change.\n    */\n    get focusChanged() {\n        return (this.flags & 1 /* UpdateFlag.Focus */) > 0;\n    }\n    /**\n    Whether the document changed in this update.\n    */\n    get docChanged() {\n        return !this.changes.empty;\n    }\n    /**\n    Whether the selection was explicitly set in this update.\n    */\n    get selectionSet() {\n        return this.transactions.some(tr => tr.selection);\n    }\n    /**\n    @internal\n    */\n    get empty() { return this.flags == 0 && this.transactions.length == 0; }\n}\n\n/**\nUsed to indicate [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).\n*/\nvar Direction = /*@__PURE__*/(function (Direction) {\n    // (These are chosen to match the base levels, in bidi algorithm\n    // terms, of spans in that direction.)\n    /**\n    Left-to-right.\n    */\n    Direction[Direction[\"LTR\"] = 0] = \"LTR\";\n    /**\n    Right-to-left.\n    */\n    Direction[Direction[\"RTL\"] = 1] = \"RTL\";\nreturn Direction})(Direction || (Direction = {}));\nconst LTR = Direction.LTR, RTL = Direction.RTL;\n// Decode a string with each type encoded as log2(type)\nfunction dec(str) {\n    let result = [];\n    for (let i = 0; i < str.length; i++)\n        result.push(1 << +str[i]);\n    return result;\n}\n// Character types for codepoints 0 to 0xf8\nconst LowTypes = /*@__PURE__*/dec(\"88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008\");\n// Character types for codepoints 0x600 to 0x6f9\nconst ArabicTypes = /*@__PURE__*/dec(\"4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333\");\nconst Brackets = /*@__PURE__*/Object.create(null), BracketStack = [];\n// There's a lot more in\n// https://www.unicode.org/Public/UCD/latest/ucd/BidiBrackets.txt,\n// which are left out to keep code size down.\nfor (let p of [\"()\", \"[]\", \"{}\"]) {\n    let l = /*@__PURE__*/p.charCodeAt(0), r = /*@__PURE__*/p.charCodeAt(1);\n    Brackets[l] = r;\n    Brackets[r] = -l;\n}\nfunction charType(ch) {\n    return ch <= 0xf7 ? LowTypes[ch] :\n        0x590 <= ch && ch <= 0x5f4 ? 2 /* T.R */ :\n            0x600 <= ch && ch <= 0x6f9 ? ArabicTypes[ch - 0x600] :\n                0x6ee <= ch && ch <= 0x8ac ? 4 /* T.AL */ :\n                    0x2000 <= ch && ch <= 0x200b ? 256 /* T.NI */ :\n                        0xfb50 <= ch && ch <= 0xfdff ? 4 /* T.AL */ :\n                            ch == 0x200c ? 256 /* T.NI */ : 1 /* T.L */;\n}\nconst BidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac\\ufb50-\\ufdff]/;\n/**\nRepresents a contiguous range of text that has a single direction\n(as in left-to-right or right-to-left).\n*/\nclass BidiSpan {\n    /**\n    The direction of this span.\n    */\n    get dir() { return this.level % 2 ? RTL : LTR; }\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the span (relative to the start of the line).\n    */\n    from, \n    /**\n    The end of the span.\n    */\n    to, \n    /**\n    The [\"bidi\n    level\"](https://unicode.org/reports/tr9/#Basic_Display_Algorithm)\n    of the span (in this context, 0 means\n    left-to-right, 1 means right-to-left, 2 means left-to-right\n    number inside right-to-left text).\n    */\n    level) {\n        this.from = from;\n        this.to = to;\n        this.level = level;\n    }\n    /**\n    @internal\n    */\n    side(end, dir) { return (this.dir == dir) == end ? this.to : this.from; }\n    /**\n    @internal\n    */\n    static find(order, index, level, assoc) {\n        let maybe = -1;\n        for (let i = 0; i < order.length; i++) {\n            let span = order[i];\n            if (span.from <= index && span.to >= index) {\n                if (span.level == level)\n                    return i;\n                // When multiple spans match, if assoc != 0, take the one that\n                // covers that side, otherwise take the one with the minimum\n                // level.\n                if (maybe < 0 || (assoc != 0 ? (assoc < 0 ? span.from < index : span.to > index) : order[maybe].level > span.level))\n                    maybe = i;\n            }\n        }\n        if (maybe < 0)\n            throw new RangeError(\"Index out of range\");\n        return maybe;\n    }\n}\nfunction isolatesEq(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++) {\n        let iA = a[i], iB = b[i];\n        if (iA.from != iB.from || iA.to != iB.to || iA.direction != iB.direction || !isolatesEq(iA.inner, iB.inner))\n            return false;\n    }\n    return true;\n}\n// Reused array of character types\nconst types = [];\n// Fill in the character types (in `types`) from `from` to `to` and\n// apply W normalization rules.\nfunction computeCharTypes(line, rFrom, rTo, isolates, outerType) {\n    for (let iI = 0; iI <= isolates.length; iI++) {\n        let from = iI ? isolates[iI - 1].to : rFrom, to = iI < isolates.length ? isolates[iI].from : rTo;\n        let prevType = iI ? 256 /* T.NI */ : outerType;\n        // W1. Examine each non-spacing mark (NSM) in the level run, and\n        // change the type of the NSM to the type of the previous\n        // character. If the NSM is at the start of the level run, it will\n        // get the type of sor.\n        // W2. Search backwards from each instance of a European number\n        // until the first strong type (R, L, AL, or sor) is found. If an\n        // AL is found, change the type of the European number to Arabic\n        // number.\n        // W3. Change all ALs to R.\n        // (Left after this: L, R, EN, AN, ET, CS, NI)\n        for (let i = from, prev = prevType, prevStrong = prevType; i < to; i++) {\n            let type = charType(line.charCodeAt(i));\n            if (type == 512 /* T.NSM */)\n                type = prev;\n            else if (type == 8 /* T.EN */ && prevStrong == 4 /* T.AL */)\n                type = 16 /* T.AN */;\n            types[i] = type == 4 /* T.AL */ ? 2 /* T.R */ : type;\n            if (type & 7 /* T.Strong */)\n                prevStrong = type;\n            prev = type;\n        }\n        // W5. A sequence of European terminators adjacent to European\n        // numbers changes to all European numbers.\n        // W6. Otherwise, separators and terminators change to Other\n        // Neutral.\n        // W7. Search backwards from each instance of a European number\n        // until the first strong type (R, L, or sor) is found. If an L is\n        // found, then change the type of the European number to L.\n        // (Left after this: L, R, EN+AN, NI)\n        for (let i = from, prev = prevType, prevStrong = prevType; i < to; i++) {\n            let type = types[i];\n            if (type == 128 /* T.CS */) {\n                if (i < to - 1 && prev == types[i + 1] && (prev & 24 /* T.Num */))\n                    type = types[i] = prev;\n                else\n                    types[i] = 256 /* T.NI */;\n            }\n            else if (type == 64 /* T.ET */) {\n                let end = i + 1;\n                while (end < to && types[end] == 64 /* T.ET */)\n                    end++;\n                let replace = (i && prev == 8 /* T.EN */) || (end < rTo && types[end] == 8 /* T.EN */) ? (prevStrong == 1 /* T.L */ ? 1 /* T.L */ : 8 /* T.EN */) : 256 /* T.NI */;\n                for (let j = i; j < end; j++)\n                    types[j] = replace;\n                i = end - 1;\n            }\n            else if (type == 8 /* T.EN */ && prevStrong == 1 /* T.L */) {\n                types[i] = 1 /* T.L */;\n            }\n            prev = type;\n            if (type & 7 /* T.Strong */)\n                prevStrong = type;\n        }\n    }\n}\n// Process brackets throughout a run sequence.\nfunction processBracketPairs(line, rFrom, rTo, isolates, outerType) {\n    let oppositeType = outerType == 1 /* T.L */ ? 2 /* T.R */ : 1 /* T.L */;\n    for (let iI = 0, sI = 0, context = 0; iI <= isolates.length; iI++) {\n        let from = iI ? isolates[iI - 1].to : rFrom, to = iI < isolates.length ? isolates[iI].from : rTo;\n        // N0. Process bracket pairs in an isolating run sequence\n        // sequentially in the logical order of the text positions of the\n        // opening paired brackets using the logic given below. Within this\n        // scope, bidirectional types EN and AN are treated as R.\n        for (let i = from, ch, br, type; i < to; i++) {\n            // Keeps [startIndex, type, strongSeen] triples for each open\n            // bracket on BracketStack.\n            if (br = Brackets[ch = line.charCodeAt(i)]) {\n                if (br < 0) { // Closing bracket\n                    for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                        if (BracketStack[sJ + 1] == -br) {\n                            let flags = BracketStack[sJ + 2];\n                            let type = (flags & 2 /* Bracketed.EmbedInside */) ? outerType :\n                                !(flags & 4 /* Bracketed.OppositeInside */) ? 0 :\n                                    (flags & 1 /* Bracketed.OppositeBefore */) ? oppositeType : outerType;\n                            if (type)\n                                types[i] = types[BracketStack[sJ]] = type;\n                            sI = sJ;\n                            break;\n                        }\n                    }\n                }\n                else if (BracketStack.length == 189 /* Bracketed.MaxDepth */) {\n                    break;\n                }\n                else {\n                    BracketStack[sI++] = i;\n                    BracketStack[sI++] = ch;\n                    BracketStack[sI++] = context;\n                }\n            }\n            else if ((type = types[i]) == 2 /* T.R */ || type == 1 /* T.L */) {\n                let embed = type == outerType;\n                context = embed ? 0 : 1 /* Bracketed.OppositeBefore */;\n                for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                    let cur = BracketStack[sJ + 2];\n                    if (cur & 2 /* Bracketed.EmbedInside */)\n                        break;\n                    if (embed) {\n                        BracketStack[sJ + 2] |= 2 /* Bracketed.EmbedInside */;\n                    }\n                    else {\n                        if (cur & 4 /* Bracketed.OppositeInside */)\n                            break;\n                        BracketStack[sJ + 2] |= 4 /* Bracketed.OppositeInside */;\n                    }\n                }\n            }\n        }\n    }\n}\nfunction processNeutrals(rFrom, rTo, isolates, outerType) {\n    for (let iI = 0, prev = outerType; iI <= isolates.length; iI++) {\n        let from = iI ? isolates[iI - 1].to : rFrom, to = iI < isolates.length ? isolates[iI].from : rTo;\n        // N1. A sequence of neutrals takes the direction of the\n        // surrounding strong text if the text on both sides has the same\n        // direction. European and Arabic numbers act as if they were R in\n        // terms of their influence on neutrals. Start-of-level-run (sor)\n        // and end-of-level-run (eor) are used at level run boundaries.\n        // N2. Any remaining neutrals take the embedding direction.\n        // (Left after this: L, R, EN+AN)\n        for (let i = from; i < to;) {\n            let type = types[i];\n            if (type == 256 /* T.NI */) {\n                let end = i + 1;\n                for (;;) {\n                    if (end == to) {\n                        if (iI == isolates.length)\n                            break;\n                        end = isolates[iI++].to;\n                        to = iI < isolates.length ? isolates[iI].from : rTo;\n                    }\n                    else if (types[end] == 256 /* T.NI */) {\n                        end++;\n                    }\n                    else {\n                        break;\n                    }\n                }\n                let beforeL = prev == 1 /* T.L */;\n                let afterL = (end < rTo ? types[end] : outerType) == 1 /* T.L */;\n                let replace = beforeL == afterL ? (beforeL ? 1 /* T.L */ : 2 /* T.R */) : outerType;\n                for (let j = end, jI = iI, fromJ = jI ? isolates[jI - 1].to : rFrom; j > i;) {\n                    if (j == fromJ) {\n                        j = isolates[--jI].from;\n                        fromJ = jI ? isolates[jI - 1].to : rFrom;\n                    }\n                    types[--j] = replace;\n                }\n                i = end;\n            }\n            else {\n                prev = type;\n                i++;\n            }\n        }\n    }\n}\n// Find the contiguous ranges of character types in a given range, and\n// emit spans for them. Flip the order of the spans as appropriate\n// based on the level, and call through to compute the spans for\n// isolates at the proper point.\nfunction emitSpans(line, from, to, level, baseLevel, isolates, order) {\n    let ourType = level % 2 ? 2 /* T.R */ : 1 /* T.L */;\n    if ((level % 2) == (baseLevel % 2)) { // Same dir as base direction, don't flip\n        for (let iCh = from, iI = 0; iCh < to;) {\n            // Scan a section of characters in direction ourType, unless\n            // there's another type of char right after iCh, in which case\n            // we scan a section of other characters (which, if ourType ==\n            // T.L, may contain both T.R and T.AN chars).\n            let sameDir = true, isNum = false;\n            if (iI == isolates.length || iCh < isolates[iI].from) {\n                let next = types[iCh];\n                if (next != ourType) {\n                    sameDir = false;\n                    isNum = next == 16 /* T.AN */;\n                }\n            }\n            // Holds an array of isolates to pass to a recursive call if we\n            // must recurse (to distinguish T.AN inside an RTL section in\n            // LTR text), null if we can emit directly\n            let recurse = !sameDir && ourType == 1 /* T.L */ ? [] : null;\n            let localLevel = sameDir ? level : level + 1;\n            let iScan = iCh;\n            run: for (;;) {\n                if (iI < isolates.length && iScan == isolates[iI].from) {\n                    if (isNum)\n                        break run;\n                    let iso = isolates[iI];\n                    // Scan ahead to verify that there is another char in this dir after the isolate(s)\n                    if (!sameDir)\n                        for (let upto = iso.to, jI = iI + 1;;) {\n                            if (upto == to)\n                                break run;\n                            if (jI < isolates.length && isolates[jI].from == upto)\n                                upto = isolates[jI++].to;\n                            else if (types[upto] == ourType)\n                                break run;\n                            else\n                                break;\n                        }\n                    iI++;\n                    if (recurse) {\n                        recurse.push(iso);\n                    }\n                    else {\n                        if (iso.from > iCh)\n                            order.push(new BidiSpan(iCh, iso.from, localLevel));\n                        let dirSwap = (iso.direction == LTR) != !(localLevel % 2);\n                        computeSectionOrder(line, dirSwap ? level + 1 : level, baseLevel, iso.inner, iso.from, iso.to, order);\n                        iCh = iso.to;\n                    }\n                    iScan = iso.to;\n                }\n                else if (iScan == to || (sameDir ? types[iScan] != ourType : types[iScan] == ourType)) {\n                    break;\n                }\n                else {\n                    iScan++;\n                }\n            }\n            if (recurse)\n                emitSpans(line, iCh, iScan, level + 1, baseLevel, recurse, order);\n            else if (iCh < iScan)\n                order.push(new BidiSpan(iCh, iScan, localLevel));\n            iCh = iScan;\n        }\n    }\n    else {\n        // Iterate in reverse to flip the span order. Same code again, but\n        // going from the back of the section to the front\n        for (let iCh = to, iI = isolates.length; iCh > from;) {\n            let sameDir = true, isNum = false;\n            if (!iI || iCh > isolates[iI - 1].to) {\n                let next = types[iCh - 1];\n                if (next != ourType) {\n                    sameDir = false;\n                    isNum = next == 16 /* T.AN */;\n                }\n            }\n            let recurse = !sameDir && ourType == 1 /* T.L */ ? [] : null;\n            let localLevel = sameDir ? level : level + 1;\n            let iScan = iCh;\n            run: for (;;) {\n                if (iI && iScan == isolates[iI - 1].to) {\n                    if (isNum)\n                        break run;\n                    let iso = isolates[--iI];\n                    // Scan ahead to verify that there is another char in this dir after the isolate(s)\n                    if (!sameDir)\n                        for (let upto = iso.from, jI = iI;;) {\n                            if (upto == from)\n                                break run;\n                            if (jI && isolates[jI - 1].to == upto)\n                                upto = isolates[--jI].from;\n                            else if (types[upto - 1] == ourType)\n                                break run;\n                            else\n                                break;\n                        }\n                    if (recurse) {\n                        recurse.push(iso);\n                    }\n                    else {\n                        if (iso.to < iCh)\n                            order.push(new BidiSpan(iso.to, iCh, localLevel));\n                        let dirSwap = (iso.direction == LTR) != !(localLevel % 2);\n                        computeSectionOrder(line, dirSwap ? level + 1 : level, baseLevel, iso.inner, iso.from, iso.to, order);\n                        iCh = iso.from;\n                    }\n                    iScan = iso.from;\n                }\n                else if (iScan == from || (sameDir ? types[iScan - 1] != ourType : types[iScan - 1] == ourType)) {\n                    break;\n                }\n                else {\n                    iScan--;\n                }\n            }\n            if (recurse)\n                emitSpans(line, iScan, iCh, level + 1, baseLevel, recurse, order);\n            else if (iScan < iCh)\n                order.push(new BidiSpan(iScan, iCh, localLevel));\n            iCh = iScan;\n        }\n    }\n}\nfunction computeSectionOrder(line, level, baseLevel, isolates, from, to, order) {\n    let outerType = (level % 2 ? 2 /* T.R */ : 1 /* T.L */);\n    computeCharTypes(line, from, to, isolates, outerType);\n    processBracketPairs(line, from, to, isolates, outerType);\n    processNeutrals(from, to, isolates, outerType);\n    emitSpans(line, from, to, level, baseLevel, isolates, order);\n}\nfunction computeOrder(line, direction, isolates) {\n    if (!line)\n        return [new BidiSpan(0, 0, direction == RTL ? 1 : 0)];\n    if (direction == LTR && !isolates.length && !BidiRE.test(line))\n        return trivialOrder(line.length);\n    if (isolates.length)\n        while (line.length > types.length)\n            types[types.length] = 256 /* T.NI */; // Make sure types array has no gaps\n    let order = [], level = direction == LTR ? 0 : 1;\n    computeSectionOrder(line, level, level, isolates, 0, line.length, order);\n    return order;\n}\nfunction trivialOrder(length) {\n    return [new BidiSpan(0, length, 0)];\n}\nlet movedOver = \"\";\nfunction moveVisually(line, order, dir, start, forward) {\n    var _a;\n    let startIndex = start.head - line.from, spanI = -1;\n    if (startIndex == 0) {\n        if (!forward || !line.length)\n            return null;\n        if (order[0].level != dir) {\n            startIndex = order[0].side(false, dir);\n            spanI = 0;\n        }\n    }\n    else if (startIndex == line.length) {\n        if (forward)\n            return null;\n        let last = order[order.length - 1];\n        if (last.level != dir) {\n            startIndex = last.side(true, dir);\n            spanI = order.length - 1;\n        }\n    }\n    if (spanI < 0)\n        spanI = BidiSpan.find(order, startIndex, (_a = start.bidiLevel) !== null && _a !== void 0 ? _a : -1, start.assoc);\n    let span = order[spanI];\n    // End of span. (But not end of line--that was checked for above.)\n    if (startIndex == span.side(forward, dir)) {\n        span = order[spanI += forward ? 1 : -1];\n        startIndex = span.side(!forward, dir);\n    }\n    let indexForward = forward == (span.dir == dir);\n    let nextIndex = findClusterBreak(line.text, startIndex, indexForward);\n    movedOver = line.text.slice(Math.min(startIndex, nextIndex), Math.max(startIndex, nextIndex));\n    if (nextIndex != span.side(forward, dir))\n        return EditorSelection.cursor(nextIndex + line.from, indexForward ? -1 : 1, span.level);\n    let nextSpan = spanI == (forward ? order.length - 1 : 0) ? null : order[spanI + (forward ? 1 : -1)];\n    if (!nextSpan && span.level != dir)\n        return EditorSelection.cursor(forward ? line.to : line.from, forward ? -1 : 1, dir);\n    if (nextSpan && nextSpan.level < span.level)\n        return EditorSelection.cursor(nextSpan.side(!forward, dir) + line.from, forward ? 1 : -1, nextSpan.level);\n    return EditorSelection.cursor(nextIndex + line.from, forward ? -1 : 1, span.level);\n}\n\nclass DocView extends ContentView {\n    get length() { return this.view.state.doc.length; }\n    constructor(view) {\n        super();\n        this.view = view;\n        this.decorations = [];\n        this.dynamicDecorationMap = [];\n        this.domChanged = null;\n        this.hasComposition = null;\n        this.markedForComposition = new Set;\n        // Track a minimum width for the editor. When measuring sizes in\n        // measureVisibleLineHeights, this is updated to point at the width\n        // of a given element and its extent in the document. When a change\n        // happens in that range, these are reset. That way, once we've seen\n        // a line/element of a given length, we keep the editor wide enough\n        // to fit at least that element, until it is changed, at which point\n        // we forget it again.\n        this.minWidth = 0;\n        this.minWidthFrom = 0;\n        this.minWidthTo = 0;\n        // Track whether the DOM selection was set in a lossy way, so that\n        // we don't mess it up when reading it back it\n        this.impreciseAnchor = null;\n        this.impreciseHead = null;\n        this.forceSelection = false;\n        // Used by the resize observer to ignore resizes that we caused\n        // ourselves\n        this.lastUpdate = Date.now();\n        this.setDOM(view.contentDOM);\n        this.children = [new LineView];\n        this.children[0].setParent(this);\n        this.updateDeco();\n        this.updateInner([new ChangedRange(0, 0, 0, view.state.doc.length)], 0, null);\n    }\n    // Update the document view to a given state.\n    update(update) {\n        var _a;\n        let changedRanges = update.changedRanges;\n        if (this.minWidth > 0 && changedRanges.length) {\n            if (!changedRanges.every(({ fromA, toA }) => toA < this.minWidthFrom || fromA > this.minWidthTo)) {\n                this.minWidth = this.minWidthFrom = this.minWidthTo = 0;\n            }\n            else {\n                this.minWidthFrom = update.changes.mapPos(this.minWidthFrom, 1);\n                this.minWidthTo = update.changes.mapPos(this.minWidthTo, 1);\n            }\n        }\n        let readCompositionAt = -1;\n        if (this.view.inputState.composing >= 0) {\n            if ((_a = this.domChanged) === null || _a === void 0 ? void 0 : _a.newSel)\n                readCompositionAt = this.domChanged.newSel.head;\n            else if (!touchesComposition(update.changes, this.hasComposition) && !update.selectionSet)\n                readCompositionAt = update.state.selection.main.head;\n        }\n        let composition = readCompositionAt > -1 ? findCompositionRange(this.view, update.changes, readCompositionAt) : null;\n        this.domChanged = null;\n        if (this.hasComposition) {\n            this.markedForComposition.clear();\n            let { from, to } = this.hasComposition;\n            changedRanges = new ChangedRange(from, to, update.changes.mapPos(from, -1), update.changes.mapPos(to, 1))\n                .addToSet(changedRanges.slice());\n        }\n        this.hasComposition = composition ? { from: composition.range.fromB, to: composition.range.toB } : null;\n        // When the DOM nodes around the selection are moved to another\n        // parent, Chrome sometimes reports a different selection through\n        // getSelection than the one that it actually shows to the user.\n        // This forces a selection update when lines are joined to work\n        // around that. Issue #54\n        if ((browser.ie || browser.chrome) && !composition && update &&\n            update.state.doc.lines != update.startState.doc.lines)\n            this.forceSelection = true;\n        let prevDeco = this.decorations, deco = this.updateDeco();\n        let decoDiff = findChangedDeco(prevDeco, deco, update.changes);\n        changedRanges = ChangedRange.extendWithRanges(changedRanges, decoDiff);\n        if (!(this.flags & 7 /* ViewFlag.Dirty */) && changedRanges.length == 0) {\n            return false;\n        }\n        else {\n            this.updateInner(changedRanges, update.startState.doc.length, composition);\n            if (update.transactions.length)\n                this.lastUpdate = Date.now();\n            return true;\n        }\n    }\n    // Used by update and the constructor do perform the actual DOM\n    // update\n    updateInner(changes, oldLength, composition) {\n        this.view.viewState.mustMeasureContent = true;\n        this.updateChildren(changes, oldLength, composition);\n        let { observer } = this.view;\n        observer.ignore(() => {\n            // Lock the height during redrawing, since Chrome sometimes\n            // messes with the scroll position during DOM mutation (though\n            // no relayout is triggered and I cannot imagine how it can\n            // recompute the scroll position without a layout)\n            this.dom.style.height = this.view.viewState.contentHeight / this.view.scaleY + \"px\";\n            this.dom.style.flexBasis = this.minWidth ? this.minWidth + \"px\" : \"\";\n            // Chrome will sometimes, when DOM mutations occur directly\n            // around the selection, get confused and report a different\n            // selection from the one it displays (issue #218). This tries\n            // to detect that situation.\n            let track = browser.chrome || browser.ios ? { node: observer.selectionRange.focusNode, written: false } : undefined;\n            this.sync(this.view, track);\n            this.flags &= ~7 /* ViewFlag.Dirty */;\n            if (track && (track.written || observer.selectionRange.focusNode != track.node))\n                this.forceSelection = true;\n            this.dom.style.height = \"\";\n        });\n        this.markedForComposition.forEach(cView => cView.flags &= ~8 /* ViewFlag.Composition */);\n        let gaps = [];\n        if (this.view.viewport.from || this.view.viewport.to < this.view.state.doc.length)\n            for (let child of this.children)\n                if (child instanceof BlockWidgetView && child.widget instanceof BlockGapWidget)\n                    gaps.push(child.dom);\n        observer.updateGaps(gaps);\n    }\n    updateChildren(changes, oldLength, composition) {\n        let ranges = composition ? composition.range.addToSet(changes.slice()) : changes;\n        let cursor = this.childCursor(oldLength);\n        for (let i = ranges.length - 1;; i--) {\n            let next = i >= 0 ? ranges[i] : null;\n            if (!next)\n                break;\n            let { fromA, toA, fromB, toB } = next, content, breakAtStart, openStart, openEnd;\n            if (composition && composition.range.fromB < toB && composition.range.toB > fromB) {\n                let before = ContentBuilder.build(this.view.state.doc, fromB, composition.range.fromB, this.decorations, this.dynamicDecorationMap);\n                let after = ContentBuilder.build(this.view.state.doc, composition.range.toB, toB, this.decorations, this.dynamicDecorationMap);\n                breakAtStart = before.breakAtStart;\n                openStart = before.openStart;\n                openEnd = after.openEnd;\n                let compLine = this.compositionView(composition);\n                if (after.breakAtStart) {\n                    compLine.breakAfter = 1;\n                }\n                else if (after.content.length &&\n                    compLine.merge(compLine.length, compLine.length, after.content[0], false, after.openStart, 0)) {\n                    compLine.breakAfter = after.content[0].breakAfter;\n                    after.content.shift();\n                }\n                if (before.content.length &&\n                    compLine.merge(0, 0, before.content[before.content.length - 1], true, 0, before.openEnd)) {\n                    before.content.pop();\n                }\n                content = before.content.concat(compLine).concat(after.content);\n            }\n            else {\n                ({ content, breakAtStart, openStart, openEnd } =\n                    ContentBuilder.build(this.view.state.doc, fromB, toB, this.decorations, this.dynamicDecorationMap));\n            }\n            let { i: toI, off: toOff } = cursor.findPos(toA, 1);\n            let { i: fromI, off: fromOff } = cursor.findPos(fromA, -1);\n            replaceRange(this, fromI, fromOff, toI, toOff, content, breakAtStart, openStart, openEnd);\n        }\n        if (composition)\n            this.fixCompositionDOM(composition);\n    }\n    compositionView(composition) {\n        let cur = new TextView(composition.text.nodeValue);\n        cur.flags |= 8 /* ViewFlag.Composition */;\n        for (let { deco } of composition.marks)\n            cur = new MarkView(deco, [cur], cur.length);\n        let line = new LineView;\n        line.append(cur, 0);\n        return line;\n    }\n    fixCompositionDOM(composition) {\n        let fix = (dom, cView) => {\n            cView.flags |= 8 /* ViewFlag.Composition */ | (cView.children.some(c => c.flags & 7 /* ViewFlag.Dirty */) ? 1 /* ViewFlag.ChildDirty */ : 0);\n            this.markedForComposition.add(cView);\n            let prev = ContentView.get(dom);\n            if (prev && prev != cView)\n                prev.dom = null;\n            cView.setDOM(dom);\n        };\n        let pos = this.childPos(composition.range.fromB, 1);\n        let cView = this.children[pos.i];\n        fix(composition.line, cView);\n        for (let i = composition.marks.length - 1; i >= -1; i--) {\n            pos = cView.childPos(pos.off, 1);\n            cView = cView.children[pos.i];\n            fix(i >= 0 ? composition.marks[i].node : composition.text, cView);\n        }\n    }\n    // Sync the DOM selection to this.state.selection\n    updateSelection(mustRead = false, fromPointer = false) {\n        if (mustRead || !this.view.observer.selectionRange.focusNode)\n            this.view.observer.readSelectionRange();\n        let activeElt = this.view.root.activeElement, focused = activeElt == this.dom;\n        let selectionNotFocus = !focused &&\n            hasSelection(this.dom, this.view.observer.selectionRange) && !(activeElt && this.dom.contains(activeElt));\n        if (!(focused || fromPointer || selectionNotFocus))\n            return;\n        let force = this.forceSelection;\n        this.forceSelection = false;\n        let main = this.view.state.selection.main;\n        let anchor = this.moveToLine(this.domAtPos(main.anchor));\n        let head = main.empty ? anchor : this.moveToLine(this.domAtPos(main.head));\n        // Always reset on Firefox when next to an uneditable node to\n        // avoid invisible cursor bugs (#111)\n        if (browser.gecko && main.empty && !this.hasComposition && betweenUneditable(anchor)) {\n            let dummy = document.createTextNode(\"\");\n            this.view.observer.ignore(() => anchor.node.insertBefore(dummy, anchor.node.childNodes[anchor.offset] || null));\n            anchor = head = new DOMPos(dummy, 0);\n            force = true;\n        }\n        let domSel = this.view.observer.selectionRange;\n        // If the selection is already here, or in an equivalent position, don't touch it\n        if (force || !domSel.focusNode ||\n            !isEquivalentPosition(anchor.node, anchor.offset, domSel.anchorNode, domSel.anchorOffset) ||\n            !isEquivalentPosition(head.node, head.offset, domSel.focusNode, domSel.focusOffset)) {\n            this.view.observer.ignore(() => {\n                // Chrome Android will hide the virtual keyboard when tapping\n                // inside an uneditable node, and not bring it back when we\n                // move the cursor to its proper position. This tries to\n                // restore the keyboard by cycling focus.\n                if (browser.android && browser.chrome && this.dom.contains(domSel.focusNode) &&\n                    inUneditable(domSel.focusNode, this.dom)) {\n                    this.dom.blur();\n                    this.dom.focus({ preventScroll: true });\n                }\n                let rawSel = getSelection(this.view.root);\n                if (!rawSel) ;\n                else if (main.empty) {\n                    // Work around https://bugzilla.mozilla.org/show_bug.cgi?id=1612076\n                    if (browser.gecko) {\n                        let nextTo = nextToUneditable(anchor.node, anchor.offset);\n                        if (nextTo && nextTo != (1 /* NextTo.Before */ | 2 /* NextTo.After */)) {\n                            let text = nearbyTextNode(anchor.node, anchor.offset, nextTo == 1 /* NextTo.Before */ ? 1 : -1);\n                            if (text)\n                                anchor = new DOMPos(text.node, text.offset);\n                        }\n                    }\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    if (main.bidiLevel != null && rawSel.caretBidiLevel !== undefined)\n                        rawSel.caretBidiLevel = main.bidiLevel;\n                }\n                else if (rawSel.extend) {\n                    // Selection.extend can be used to create an 'inverted' selection\n                    // (one where the focus is before the anchor), but not all\n                    // browsers support it yet.\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    // Safari will ignore the call above when the editor is\n                    // hidden, and then raise an error on the call to extend\n                    // (#940).\n                    try {\n                        rawSel.extend(head.node, head.offset);\n                    }\n                    catch (_) { }\n                }\n                else {\n                    // Primitive (IE) way\n                    let range = document.createRange();\n                    if (main.anchor > main.head)\n                        [anchor, head] = [head, anchor];\n                    range.setEnd(head.node, head.offset);\n                    range.setStart(anchor.node, anchor.offset);\n                    rawSel.removeAllRanges();\n                    rawSel.addRange(range);\n                }\n                if (selectionNotFocus && this.view.root.activeElement == this.dom) {\n                    this.dom.blur();\n                    if (activeElt)\n                        activeElt.focus();\n                }\n            });\n            this.view.observer.setSelectionRange(anchor, head);\n        }\n        this.impreciseAnchor = anchor.precise ? null : new DOMPos(domSel.anchorNode, domSel.anchorOffset);\n        this.impreciseHead = head.precise ? null : new DOMPos(domSel.focusNode, domSel.focusOffset);\n    }\n    enforceCursorAssoc() {\n        if (this.hasComposition)\n            return;\n        let { view } = this, cursor = view.state.selection.main;\n        let sel = getSelection(view.root);\n        let { anchorNode, anchorOffset } = view.observer.selectionRange;\n        if (!sel || !cursor.empty || !cursor.assoc || !sel.modify)\n            return;\n        let line = LineView.find(this, cursor.head);\n        if (!line)\n            return;\n        let lineStart = line.posAtStart;\n        if (cursor.head == lineStart || cursor.head == lineStart + line.length)\n            return;\n        let before = this.coordsAt(cursor.head, -1), after = this.coordsAt(cursor.head, 1);\n        if (!before || !after || before.bottom > after.top)\n            return;\n        let dom = this.domAtPos(cursor.head + cursor.assoc);\n        sel.collapse(dom.node, dom.offset);\n        sel.modify(\"move\", cursor.assoc < 0 ? \"forward\" : \"backward\", \"lineboundary\");\n        // This can go wrong in corner cases like single-character lines,\n        // so check and reset if necessary.\n        view.observer.readSelectionRange();\n        let newRange = view.observer.selectionRange;\n        if (view.docView.posFromDOM(newRange.anchorNode, newRange.anchorOffset) != cursor.from)\n            sel.collapse(anchorNode, anchorOffset);\n    }\n    // If a position is in/near a block widget, move it to a nearby text\n    // line, since we don't want the cursor inside a block widget.\n    moveToLine(pos) {\n        // Block widgets will return positions before/after them, which\n        // are thus directly in the document DOM element.\n        let dom = this.dom, newPos;\n        if (pos.node != dom)\n            return pos;\n        for (let i = pos.offset; !newPos && i < dom.childNodes.length; i++) {\n            let view = ContentView.get(dom.childNodes[i]);\n            if (view instanceof LineView)\n                newPos = view.domAtPos(0);\n        }\n        for (let i = pos.offset - 1; !newPos && i >= 0; i--) {\n            let view = ContentView.get(dom.childNodes[i]);\n            if (view instanceof LineView)\n                newPos = view.domAtPos(view.length);\n        }\n        return newPos ? new DOMPos(newPos.node, newPos.offset, true) : pos;\n    }\n    nearest(dom) {\n        for (let cur = dom; cur;) {\n            let domView = ContentView.get(cur);\n            if (domView && domView.rootView == this)\n                return domView;\n            cur = cur.parentNode;\n        }\n        return null;\n    }\n    posFromDOM(node, offset) {\n        let view = this.nearest(node);\n        if (!view)\n            throw new RangeError(\"Trying to find position for a DOM position outside of the document\");\n        return view.localPosFromDOM(node, offset) + view.posAtStart;\n    }\n    domAtPos(pos) {\n        let { i, off } = this.childCursor().findPos(pos, -1);\n        for (; i < this.children.length - 1;) {\n            let child = this.children[i];\n            if (off < child.length || child instanceof LineView)\n                break;\n            i++;\n            off = 0;\n        }\n        return this.children[i].domAtPos(off);\n    }\n    coordsAt(pos, side) {\n        let best = null, bestPos = 0;\n        for (let off = this.length, i = this.children.length - 1; i >= 0; i--) {\n            let child = this.children[i], end = off - child.breakAfter, start = end - child.length;\n            if (end < pos)\n                break;\n            if (start <= pos && (start < pos || child.covers(-1)) && (end > pos || child.covers(1)) &&\n                (!best || child instanceof LineView && !(best instanceof LineView && side >= 0))) {\n                best = child;\n                bestPos = start;\n            }\n            off = start;\n        }\n        return best ? best.coordsAt(pos - bestPos, side) : null;\n    }\n    coordsForChar(pos) {\n        let { i, off } = this.childPos(pos, 1), child = this.children[i];\n        if (!(child instanceof LineView))\n            return null;\n        while (child.children.length) {\n            let { i, off: childOff } = child.childPos(off, 1);\n            for (;; i++) {\n                if (i == child.children.length)\n                    return null;\n                if ((child = child.children[i]).length)\n                    break;\n            }\n            off = childOff;\n        }\n        if (!(child instanceof TextView))\n            return null;\n        let end = findClusterBreak(child.text, off);\n        if (end == off)\n            return null;\n        let rects = textRange(child.dom, off, end).getClientRects();\n        return !rects.length || rects[0].top >= rects[0].bottom ? null : rects[0];\n    }\n    measureVisibleLineHeights(viewport) {\n        let result = [], { from, to } = viewport;\n        let contentWidth = this.view.contentDOM.clientWidth;\n        let isWider = contentWidth > Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1;\n        let widest = -1, ltr = this.view.textDirection == Direction.LTR;\n        for (let pos = 0, i = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (end > to)\n                break;\n            if (pos >= from) {\n                let childRect = child.dom.getBoundingClientRect();\n                result.push(childRect.height);\n                if (isWider) {\n                    let last = child.dom.lastChild;\n                    let rects = last ? clientRectsFor(last) : [];\n                    if (rects.length) {\n                        let rect = rects[rects.length - 1];\n                        let width = ltr ? rect.right - childRect.left : childRect.right - rect.left;\n                        if (width > widest) {\n                            widest = width;\n                            this.minWidth = contentWidth;\n                            this.minWidthFrom = pos;\n                            this.minWidthTo = end;\n                        }\n                    }\n                }\n            }\n            pos = end + child.breakAfter;\n        }\n        return result;\n    }\n    textDirectionAt(pos) {\n        let { i } = this.childPos(pos, 1);\n        return getComputedStyle(this.children[i].dom).direction == \"rtl\" ? Direction.RTL : Direction.LTR;\n    }\n    measureTextSize() {\n        for (let child of this.children) {\n            if (child instanceof LineView) {\n                let measure = child.measureTextSize();\n                if (measure)\n                    return measure;\n            }\n        }\n        // If no workable line exists, force a layout of a measurable element\n        let dummy = document.createElement(\"div\"), lineHeight, charWidth, textHeight;\n        dummy.className = \"cm-line\";\n        dummy.style.width = \"99999px\";\n        dummy.style.position = \"absolute\";\n        dummy.textContent = \"abc def ghi jkl mno pqr stu\";\n        this.view.observer.ignore(() => {\n            this.dom.appendChild(dummy);\n            let rect = clientRectsFor(dummy.firstChild)[0];\n            lineHeight = dummy.getBoundingClientRect().height;\n            charWidth = rect ? rect.width / 27 : 7;\n            textHeight = rect ? rect.height : lineHeight;\n            dummy.remove();\n        });\n        return { lineHeight, charWidth, textHeight };\n    }\n    childCursor(pos = this.length) {\n        // Move back to start of last element when possible, so that\n        // `ChildCursor.findPos` doesn't have to deal with the edge case\n        // of being after the last element.\n        let i = this.children.length;\n        if (i)\n            pos -= this.children[--i].length;\n        return new ChildCursor(this.children, pos, i);\n    }\n    computeBlockGapDeco() {\n        let deco = [], vs = this.view.viewState;\n        for (let pos = 0, i = 0;; i++) {\n            let next = i == vs.viewports.length ? null : vs.viewports[i];\n            let end = next ? next.from - 1 : this.length;\n            if (end > pos) {\n                let height = (vs.lineBlockAt(end).bottom - vs.lineBlockAt(pos).top) / this.view.scaleY;\n                deco.push(Decoration.replace({\n                    widget: new BlockGapWidget(height),\n                    block: true,\n                    inclusive: true,\n                    isBlockGap: true,\n                }).range(pos, end));\n            }\n            if (!next)\n                break;\n            pos = next.to + 1;\n        }\n        return Decoration.set(deco);\n    }\n    updateDeco() {\n        let allDeco = this.view.state.facet(decorations).map((d, i) => {\n            let dynamic = this.dynamicDecorationMap[i] = typeof d == \"function\";\n            return dynamic ? d(this.view) : d;\n        });\n        for (let i = allDeco.length; i < allDeco.length + 3; i++)\n            this.dynamicDecorationMap[i] = false;\n        return this.decorations = [\n            ...allDeco,\n            this.computeBlockGapDeco(),\n            this.view.viewState.lineGapDeco\n        ];\n    }\n    scrollIntoView(target) {\n        let { range } = target;\n        let rect = this.coordsAt(range.head, range.empty ? range.assoc : range.head > range.anchor ? -1 : 1), other;\n        if (!rect)\n            return;\n        if (!range.empty && (other = this.coordsAt(range.anchor, range.anchor > range.head ? -1 : 1)))\n            rect = { left: Math.min(rect.left, other.left), top: Math.min(rect.top, other.top),\n                right: Math.max(rect.right, other.right), bottom: Math.max(rect.bottom, other.bottom) };\n        let margins = getScrollMargins(this.view);\n        let targetRect = {\n            left: rect.left - margins.left, top: rect.top - margins.top,\n            right: rect.right + margins.right, bottom: rect.bottom + margins.bottom\n        };\n        scrollRectIntoView(this.view.scrollDOM, targetRect, range.head < range.anchor ? -1 : 1, target.x, target.y, target.xMargin, target.yMargin, this.view.textDirection == Direction.LTR);\n    }\n}\nfunction betweenUneditable(pos) {\n    return pos.node.nodeType == 1 && pos.node.firstChild &&\n        (pos.offset == 0 || pos.node.childNodes[pos.offset - 1].contentEditable == \"false\") &&\n        (pos.offset == pos.node.childNodes.length || pos.node.childNodes[pos.offset].contentEditable == \"false\");\n}\nclass BlockGapWidget extends WidgetType {\n    constructor(height) {\n        super();\n        this.height = height;\n    }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        this.updateDOM(elt);\n        return elt;\n    }\n    eq(other) { return other.height == this.height; }\n    updateDOM(elt) {\n        elt.style.height = this.height + \"px\";\n        return true;\n    }\n    get estimatedHeight() { return this.height; }\n}\nfunction findCompositionNode(view, headPos) {\n    let sel = view.observer.selectionRange;\n    let textNode = sel.focusNode && nearbyTextNode(sel.focusNode, sel.focusOffset, 0);\n    if (!textNode)\n        return null;\n    let from = headPos - textNode.offset;\n    return { from, to: from + textNode.node.nodeValue.length, node: textNode.node };\n}\nfunction findCompositionRange(view, changes, headPos) {\n    let found = findCompositionNode(view, headPos);\n    if (!found)\n        return null;\n    let { node: textNode, from, to } = found, text = textNode.nodeValue;\n    // Don't try to preserve multi-line compositions\n    if (/[\\n\\r]/.test(text))\n        return null;\n    if (view.state.doc.sliceString(found.from, found.to) != text)\n        return null;\n    let inv = changes.invertedDesc;\n    let range = new ChangedRange(inv.mapPos(from), inv.mapPos(to), from, to);\n    let marks = [];\n    for (let parent = textNode.parentNode;; parent = parent.parentNode) {\n        let parentView = ContentView.get(parent);\n        if (parentView instanceof MarkView)\n            marks.push({ node: parent, deco: parentView.mark });\n        else if (parentView instanceof LineView || parent.nodeName == \"DIV\" && parent.parentNode == view.contentDOM)\n            return { range, text: textNode, marks, line: parent };\n        else if (parent != view.contentDOM)\n            marks.push({ node: parent, deco: new MarkDecoration({\n                    inclusive: true,\n                    attributes: getAttrs(parent),\n                    tagName: parent.tagName.toLowerCase()\n                }) });\n        else\n            return null;\n    }\n}\nfunction nearbyTextNode(startNode, startOffset, side) {\n    if (side <= 0)\n        for (let node = startNode, offset = startOffset;;) {\n            if (node.nodeType == 3)\n                return { node: node, offset: offset };\n            if (node.nodeType == 1 && offset > 0) {\n                node = node.childNodes[offset - 1];\n                offset = maxOffset(node);\n            }\n            else {\n                break;\n            }\n        }\n    if (side >= 0)\n        for (let node = startNode, offset = startOffset;;) {\n            if (node.nodeType == 3)\n                return { node: node, offset: offset };\n            if (node.nodeType == 1 && offset < node.childNodes.length && side >= 0) {\n                node = node.childNodes[offset];\n                offset = 0;\n            }\n            else {\n                break;\n            }\n        }\n    return null;\n}\nfunction nextToUneditable(node, offset) {\n    if (node.nodeType != 1)\n        return 0;\n    return (offset && node.childNodes[offset - 1].contentEditable == \"false\" ? 1 /* NextTo.Before */ : 0) |\n        (offset < node.childNodes.length && node.childNodes[offset].contentEditable == \"false\" ? 2 /* NextTo.After */ : 0);\n}\nlet DecorationComparator$1 = class DecorationComparator {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange(from, to) { addRange(from, to, this.changes); }\n    comparePoint(from, to) { addRange(from, to, this.changes); }\n};\nfunction findChangedDeco(a, b, diff) {\n    let comp = new DecorationComparator$1;\n    RangeSet.compare(a, b, diff, comp);\n    return comp.changes;\n}\nfunction inUneditable(node, inside) {\n    for (let cur = node; cur && cur != inside; cur = cur.assignedSlot || cur.parentNode) {\n        if (cur.nodeType == 1 && cur.contentEditable == 'false') {\n            return true;\n        }\n    }\n    return false;\n}\nfunction touchesComposition(changes, composition) {\n    let touched = false;\n    if (composition)\n        changes.iterChangedRanges((from, to) => {\n            if (from < composition.to && to > composition.from)\n                touched = true;\n        });\n    return touched;\n}\n\nfunction groupAt(state, pos, bias = 1) {\n    let categorize = state.charCategorizer(pos);\n    let line = state.doc.lineAt(pos), linePos = pos - line.from;\n    if (line.length == 0)\n        return EditorSelection.cursor(pos);\n    if (linePos == 0)\n        bias = 1;\n    else if (linePos == line.length)\n        bias = -1;\n    let from = linePos, to = linePos;\n    if (bias < 0)\n        from = findClusterBreak(line.text, linePos, false);\n    else\n        to = findClusterBreak(line.text, linePos);\n    let cat = categorize(line.text.slice(from, to));\n    while (from > 0) {\n        let prev = findClusterBreak(line.text, from, false);\n        if (categorize(line.text.slice(prev, from)) != cat)\n            break;\n        from = prev;\n    }\n    while (to < line.length) {\n        let next = findClusterBreak(line.text, to);\n        if (categorize(line.text.slice(to, next)) != cat)\n            break;\n        to = next;\n    }\n    return EditorSelection.range(from + line.from, to + line.from);\n}\n// Search the DOM for the {node, offset} position closest to the given\n// coordinates. Very inefficient and crude, but can usually be avoided\n// by calling caret(Position|Range)FromPoint instead.\nfunction getdx(x, rect) {\n    return rect.left > x ? rect.left - x : Math.max(0, x - rect.right);\n}\nfunction getdy(y, rect) {\n    return rect.top > y ? rect.top - y : Math.max(0, y - rect.bottom);\n}\nfunction yOverlap(a, b) {\n    return a.top < b.bottom - 1 && a.bottom > b.top + 1;\n}\nfunction upTop(rect, top) {\n    return top < rect.top ? { top, left: rect.left, right: rect.right, bottom: rect.bottom } : rect;\n}\nfunction upBot(rect, bottom) {\n    return bottom > rect.bottom ? { top: rect.top, left: rect.left, right: rect.right, bottom } : rect;\n}\nfunction domPosAtCoords(parent, x, y) {\n    let closest, closestRect, closestX, closestY, closestOverlap = false;\n    let above, below, aboveRect, belowRect;\n    for (let child = parent.firstChild; child; child = child.nextSibling) {\n        let rects = clientRectsFor(child);\n        for (let i = 0; i < rects.length; i++) {\n            let rect = rects[i];\n            if (closestRect && yOverlap(closestRect, rect))\n                rect = upTop(upBot(rect, closestRect.bottom), closestRect.top);\n            let dx = getdx(x, rect), dy = getdy(y, rect);\n            if (dx == 0 && dy == 0)\n                return child.nodeType == 3 ? domPosInText(child, x, y) : domPosAtCoords(child, x, y);\n            if (!closest || closestY > dy || closestY == dy && closestX > dx) {\n                closest = child;\n                closestRect = rect;\n                closestX = dx;\n                closestY = dy;\n                let side = dy ? (y < rect.top ? -1 : 1) : dx ? (x < rect.left ? -1 : 1) : 0;\n                closestOverlap = !side || (side > 0 ? i < rects.length - 1 : i > 0);\n            }\n            if (dx == 0) {\n                if (y > rect.bottom && (!aboveRect || aboveRect.bottom < rect.bottom)) {\n                    above = child;\n                    aboveRect = rect;\n                }\n                else if (y < rect.top && (!belowRect || belowRect.top > rect.top)) {\n                    below = child;\n                    belowRect = rect;\n                }\n            }\n            else if (aboveRect && yOverlap(aboveRect, rect)) {\n                aboveRect = upBot(aboveRect, rect.bottom);\n            }\n            else if (belowRect && yOverlap(belowRect, rect)) {\n                belowRect = upTop(belowRect, rect.top);\n            }\n        }\n    }\n    if (aboveRect && aboveRect.bottom >= y) {\n        closest = above;\n        closestRect = aboveRect;\n    }\n    else if (belowRect && belowRect.top <= y) {\n        closest = below;\n        closestRect = belowRect;\n    }\n    if (!closest)\n        return { node: parent, offset: 0 };\n    let clipX = Math.max(closestRect.left, Math.min(closestRect.right, x));\n    if (closest.nodeType == 3)\n        return domPosInText(closest, clipX, y);\n    if (closestOverlap && closest.contentEditable != \"false\")\n        return domPosAtCoords(closest, clipX, y);\n    let offset = Array.prototype.indexOf.call(parent.childNodes, closest) +\n        (x >= (closestRect.left + closestRect.right) / 2 ? 1 : 0);\n    return { node: parent, offset };\n}\nfunction domPosInText(node, x, y) {\n    let len = node.nodeValue.length;\n    let closestOffset = -1, closestDY = 1e9, generalSide = 0;\n    for (let i = 0; i < len; i++) {\n        let rects = textRange(node, i, i + 1).getClientRects();\n        for (let j = 0; j < rects.length; j++) {\n            let rect = rects[j];\n            if (rect.top == rect.bottom)\n                continue;\n            if (!generalSide)\n                generalSide = x - rect.left;\n            let dy = (rect.top > y ? rect.top - y : y - rect.bottom) - 1;\n            if (rect.left - 1 <= x && rect.right + 1 >= x && dy < closestDY) {\n                let right = x >= (rect.left + rect.right) / 2, after = right;\n                if (browser.chrome || browser.gecko) {\n                    // Check for RTL on browsers that support getting client\n                    // rects for empty ranges.\n                    let rectBefore = textRange(node, i).getBoundingClientRect();\n                    if (rectBefore.left == rect.right)\n                        after = !right;\n                }\n                if (dy <= 0)\n                    return { node, offset: i + (after ? 1 : 0) };\n                closestOffset = i + (after ? 1 : 0);\n                closestDY = dy;\n            }\n        }\n    }\n    return { node, offset: closestOffset > -1 ? closestOffset : generalSide > 0 ? node.nodeValue.length : 0 };\n}\nfunction posAtCoords(view, coords, precise, bias = -1) {\n    var _a, _b;\n    let content = view.contentDOM.getBoundingClientRect(), docTop = content.top + view.viewState.paddingTop;\n    let block, { docHeight } = view.viewState;\n    let { x, y } = coords, yOffset = y - docTop;\n    if (yOffset < 0)\n        return 0;\n    if (yOffset > docHeight)\n        return view.state.doc.length;\n    // Scan for a text block near the queried y position\n    for (let halfLine = view.viewState.heightOracle.textHeight / 2, bounced = false;;) {\n        block = view.elementAtHeight(yOffset);\n        if (block.type == BlockType.Text)\n            break;\n        for (;;) {\n            // Move the y position out of this block\n            yOffset = bias > 0 ? block.bottom + halfLine : block.top - halfLine;\n            if (yOffset >= 0 && yOffset <= docHeight)\n                break;\n            // If the document consists entirely of replaced widgets, we\n            // won't find a text block, so return 0\n            if (bounced)\n                return precise ? null : 0;\n            bounced = true;\n            bias = -bias;\n        }\n    }\n    y = docTop + yOffset;\n    let lineStart = block.from;\n    // If this is outside of the rendered viewport, we can't determine a position\n    if (lineStart < view.viewport.from)\n        return view.viewport.from == 0 ? 0 : precise ? null : posAtCoordsImprecise(view, content, block, x, y);\n    if (lineStart > view.viewport.to)\n        return view.viewport.to == view.state.doc.length ? view.state.doc.length :\n            precise ? null : posAtCoordsImprecise(view, content, block, x, y);\n    // Prefer ShadowRootOrDocument.elementFromPoint if present, fall back to document if not\n    let doc = view.dom.ownerDocument;\n    let root = view.root.elementFromPoint ? view.root : doc;\n    let element = root.elementFromPoint(x, y);\n    if (element && !view.contentDOM.contains(element))\n        element = null;\n    // If the element is unexpected, clip x at the sides of the content area and try again\n    if (!element) {\n        x = Math.max(content.left + 1, Math.min(content.right - 1, x));\n        element = root.elementFromPoint(x, y);\n        if (element && !view.contentDOM.contains(element))\n            element = null;\n    }\n    // There's visible editor content under the point, so we can try\n    // using caret(Position|Range)FromPoint as a shortcut\n    let node, offset = -1;\n    if (element && ((_a = view.docView.nearest(element)) === null || _a === void 0 ? void 0 : _a.isEditable) != false) {\n        if (doc.caretPositionFromPoint) {\n            let pos = doc.caretPositionFromPoint(x, y);\n            if (pos)\n                ({ offsetNode: node, offset } = pos);\n        }\n        else if (doc.caretRangeFromPoint) {\n            let range = doc.caretRangeFromPoint(x, y);\n            if (range) {\n                ({ startContainer: node, startOffset: offset } = range);\n                if (!view.contentDOM.contains(node) ||\n                    browser.safari && isSuspiciousSafariCaretResult(node, offset, x) ||\n                    browser.chrome && isSuspiciousChromeCaretResult(node, offset, x))\n                    node = undefined;\n            }\n        }\n    }\n    // No luck, do our own (potentially expensive) search\n    if (!node || !view.docView.dom.contains(node)) {\n        let line = LineView.find(view.docView, lineStart);\n        if (!line)\n            return yOffset > block.top + block.height / 2 ? block.to : block.from;\n        ({ node, offset } = domPosAtCoords(line.dom, x, y));\n    }\n    let nearest = view.docView.nearest(node);\n    if (!nearest)\n        return null;\n    if (nearest.isWidget && ((_b = nearest.dom) === null || _b === void 0 ? void 0 : _b.nodeType) == 1) {\n        let rect = nearest.dom.getBoundingClientRect();\n        return coords.y < rect.top || coords.y <= rect.bottom && coords.x <= (rect.left + rect.right) / 2\n            ? nearest.posAtStart : nearest.posAtEnd;\n    }\n    else {\n        return nearest.localPosFromDOM(node, offset) + nearest.posAtStart;\n    }\n}\nfunction posAtCoordsImprecise(view, contentRect, block, x, y) {\n    let into = Math.round((x - contentRect.left) * view.defaultCharacterWidth);\n    if (view.lineWrapping && block.height > view.defaultLineHeight * 1.5) {\n        let textHeight = view.viewState.heightOracle.textHeight;\n        let line = Math.floor((y - block.top - (view.defaultLineHeight - textHeight) * 0.5) / textHeight);\n        into += line * view.viewState.heightOracle.lineLength;\n    }\n    let content = view.state.sliceDoc(block.from, block.to);\n    return block.from + findColumn(content, into, view.state.tabSize);\n}\n// In case of a high line height, Safari's caretRangeFromPoint treats\n// the space between lines as belonging to the last character of the\n// line before. This is used to detect such a result so that it can be\n// ignored (issue #401).\nfunction isSuspiciousSafariCaretResult(node, offset, x) {\n    let len;\n    if (node.nodeType != 3 || offset != (len = node.nodeValue.length))\n        return false;\n    for (let next = node.nextSibling; next; next = next.nextSibling)\n        if (next.nodeType != 1 || next.nodeName != \"BR\")\n            return false;\n    return textRange(node, len - 1, len).getBoundingClientRect().left > x;\n}\n// Chrome will move positions between lines to the start of the next line\nfunction isSuspiciousChromeCaretResult(node, offset, x) {\n    if (offset != 0)\n        return false;\n    for (let cur = node;;) {\n        let parent = cur.parentNode;\n        if (!parent || parent.nodeType != 1 || parent.firstChild != cur)\n            return false;\n        if (parent.classList.contains(\"cm-line\"))\n            break;\n        cur = parent;\n    }\n    let rect = node.nodeType == 1 ? node.getBoundingClientRect()\n        : textRange(node, 0, Math.max(node.nodeValue.length, 1)).getBoundingClientRect();\n    return x - rect.left > 5;\n}\nfunction blockAt(view, pos) {\n    let line = view.lineBlockAt(pos);\n    if (Array.isArray(line.type))\n        for (let l of line.type) {\n            if (l.to > pos || l.to == pos && (l.to == line.to || l.type == BlockType.Text))\n                return l;\n        }\n    return line;\n}\nfunction moveToLineBoundary(view, start, forward, includeWrap) {\n    let line = blockAt(view, start.head);\n    let coords = !includeWrap || line.type != BlockType.Text || !(view.lineWrapping || line.widgetLineBreaks) ? null\n        : view.coordsAtPos(start.assoc < 0 && start.head > line.from ? start.head - 1 : start.head);\n    if (coords) {\n        let editorRect = view.dom.getBoundingClientRect();\n        let direction = view.textDirectionAt(line.from);\n        let pos = view.posAtCoords({ x: forward == (direction == Direction.LTR) ? editorRect.right - 1 : editorRect.left + 1,\n            y: (coords.top + coords.bottom) / 2 });\n        if (pos != null)\n            return EditorSelection.cursor(pos, forward ? -1 : 1);\n    }\n    return EditorSelection.cursor(forward ? line.to : line.from, forward ? -1 : 1);\n}\nfunction moveByChar(view, start, forward, by) {\n    let line = view.state.doc.lineAt(start.head), spans = view.bidiSpans(line);\n    let direction = view.textDirectionAt(line.from);\n    for (let cur = start, check = null;;) {\n        let next = moveVisually(line, spans, direction, cur, forward), char = movedOver;\n        if (!next) {\n            if (line.number == (forward ? view.state.doc.lines : 1))\n                return cur;\n            char = \"\\n\";\n            line = view.state.doc.line(line.number + (forward ? 1 : -1));\n            spans = view.bidiSpans(line);\n            next = EditorSelection.cursor(forward ? line.from : line.to);\n        }\n        if (!check) {\n            if (!by)\n                return next;\n            check = by(char);\n        }\n        else if (!check(char)) {\n            return cur;\n        }\n        cur = next;\n    }\n}\nfunction byGroup(view, pos, start) {\n    let categorize = view.state.charCategorizer(pos);\n    let cat = categorize(start);\n    return (next) => {\n        let nextCat = categorize(next);\n        if (cat == CharCategory.Space)\n            cat = nextCat;\n        return cat == nextCat;\n    };\n}\nfunction moveVertically(view, start, forward, distance) {\n    let startPos = start.head, dir = forward ? 1 : -1;\n    if (startPos == (forward ? view.state.doc.length : 0))\n        return EditorSelection.cursor(startPos, start.assoc);\n    let goal = start.goalColumn, startY;\n    let rect = view.contentDOM.getBoundingClientRect();\n    let startCoords = view.coordsAtPos(startPos), docTop = view.documentTop;\n    if (startCoords) {\n        if (goal == null)\n            goal = startCoords.left - rect.left;\n        startY = dir < 0 ? startCoords.top : startCoords.bottom;\n    }\n    else {\n        let line = view.viewState.lineBlockAt(startPos);\n        if (goal == null)\n            goal = Math.min(rect.right - rect.left, view.defaultCharacterWidth * (startPos - line.from));\n        startY = (dir < 0 ? line.top : line.bottom) + docTop;\n    }\n    let resolvedGoal = rect.left + goal;\n    let dist = distance !== null && distance !== void 0 ? distance : (view.viewState.heightOracle.textHeight >> 1);\n    for (let extra = 0;; extra += 10) {\n        let curY = startY + (dist + extra) * dir;\n        let pos = posAtCoords(view, { x: resolvedGoal, y: curY }, false, dir);\n        if (curY < rect.top || curY > rect.bottom || (dir < 0 ? pos < startPos : pos > startPos))\n            return EditorSelection.cursor(pos, start.assoc, undefined, goal);\n    }\n}\nfunction skipAtomicRanges(atoms, pos, bias) {\n    for (;;) {\n        let moved = 0;\n        for (let set of atoms) {\n            set.between(pos - 1, pos + 1, (from, to, value) => {\n                if (pos > from && pos < to) {\n                    let side = moved || bias || (pos - from < to - pos ? -1 : 1);\n                    pos = side < 0 ? from : to;\n                    moved = side;\n                }\n            });\n        }\n        if (!moved)\n            return pos;\n    }\n}\nfunction skipAtoms(view, oldPos, pos) {\n    let newPos = skipAtomicRanges(view.state.facet(atomicRanges).map(f => f(view)), pos.from, oldPos.head > pos.from ? -1 : 1);\n    return newPos == pos.from ? pos : EditorSelection.cursor(newPos, newPos < pos.from ? 1 : -1);\n}\n\n// This will also be where dragging info and such goes\nclass InputState {\n    setSelectionOrigin(origin) {\n        this.lastSelectionOrigin = origin;\n        this.lastSelectionTime = Date.now();\n    }\n    constructor(view) {\n        this.view = view;\n        this.lastKeyCode = 0;\n        this.lastKeyTime = 0;\n        this.lastTouchTime = 0;\n        this.lastFocusTime = 0;\n        this.lastScrollTop = 0;\n        this.lastScrollLeft = 0;\n        // On iOS, some keys need to have their default behavior happen\n        // (after which we retroactively handle them and reset the DOM) to\n        // avoid messing up the virtual keyboard state.\n        this.pendingIOSKey = undefined;\n        this.lastSelectionOrigin = null;\n        this.lastSelectionTime = 0;\n        this.lastEscPress = 0;\n        this.lastContextMenu = 0;\n        this.scrollHandlers = [];\n        this.handlers = Object.create(null);\n        // -1 means not in a composition. Otherwise, this counts the number\n        // of changes made during the composition. The count is used to\n        // avoid treating the start state of the composition, before any\n        // changes have been made, as part of the composition.\n        this.composing = -1;\n        // Tracks whether the next change should be marked as starting the\n        // composition (null means no composition, true means next is the\n        // first, false means first has already been marked for this\n        // composition)\n        this.compositionFirstChange = null;\n        // End time of the previous composition\n        this.compositionEndedAt = 0;\n        // Used in a kludge to detect when an Enter keypress should be\n        // considered part of the composition on Safari, which fires events\n        // in the wrong order\n        this.compositionPendingKey = false;\n        // Used to categorize changes as part of a composition, even when\n        // the mutation events fire shortly after the compositionend event\n        this.compositionPendingChange = false;\n        this.mouseSelection = null;\n        this.handleEvent = this.handleEvent.bind(this);\n        view.scrollDOM.addEventListener(\"mousedown\", (event) => {\n            if (event.target == view.scrollDOM && event.clientY > view.contentDOM.getBoundingClientRect().bottom) {\n                this.handleEvent(event);\n                if (!event.defaultPrevented && event.button == 2) {\n                    // Make sure the content covers the entire scroller height, in order\n                    // to catch a native context menu click below it\n                    let start = view.contentDOM.style.minHeight;\n                    view.contentDOM.style.minHeight = \"100%\";\n                    setTimeout(() => view.contentDOM.style.minHeight = start, 200);\n                }\n            }\n        });\n        view.scrollDOM.addEventListener(\"drop\", (event) => {\n            if (event.target == view.scrollDOM && event.clientY > view.contentDOM.getBoundingClientRect().bottom)\n                this.handleEvent(event);\n        });\n        this.notifiedFocused = view.hasFocus;\n        // On Safari adding an input event handler somehow prevents an\n        // issue where the composition vanishes when you press enter.\n        if (browser.safari)\n            view.contentDOM.addEventListener(\"input\", () => null);\n        if (browser.gecko)\n            firefoxCopyCutHack(view.contentDOM.ownerDocument);\n    }\n    handleEvent(event) {\n        if (!eventBelongsToEditor(this.view, event) || this.ignoreDuringComposition(event))\n            return;\n        if (event.type == \"keydown\" && this.keydown(event))\n            return;\n        this.runHandlers(event.type, event);\n    }\n    runHandlers(type, event) {\n        let handlers = this.handlers[type];\n        if (handlers) {\n            for (let observer of handlers.observers)\n                observer(this.view, event);\n            for (let handler of handlers.handlers) {\n                if (event.defaultPrevented)\n                    break;\n                if (handler(this.view, event)) {\n                    event.preventDefault();\n                    break;\n                }\n            }\n        }\n    }\n    ensureHandlers(plugins) {\n        let handlers = computeHandlers(plugins), prev = this.handlers, dom = this.view.contentDOM;\n        for (let type in handlers)\n            if (type != \"scroll\") {\n                let passive = !handlers[type].handlers.length;\n                let exists = prev[type];\n                if (exists && passive != !exists.handlers.length) {\n                    dom.removeEventListener(type, this.handleEvent);\n                    exists = null;\n                }\n                if (!exists)\n                    dom.addEventListener(type, this.handleEvent, { passive });\n            }\n        for (let type in prev)\n            if (type != \"scroll\" && !handlers[type])\n                dom.removeEventListener(type, this.handleEvent);\n        this.handlers = handlers;\n    }\n    keydown(event) {\n        // Must always run, even if a custom handler handled the event\n        this.lastKeyCode = event.keyCode;\n        this.lastKeyTime = Date.now();\n        if (event.keyCode == 9 && Date.now() < this.lastEscPress + 2000)\n            return true;\n        if (event.keyCode != 27 && modifierCodes.indexOf(event.keyCode) < 0)\n            this.view.inputState.lastEscPress = 0;\n        // Chrome for Android usually doesn't fire proper key events, but\n        // occasionally does, usually surrounded by a bunch of complicated\n        // composition changes. When an enter or backspace key event is\n        // seen, hold off on handling DOM events for a bit, and then\n        // dispatch it.\n        if (browser.android && browser.chrome && !event.synthetic &&\n            (event.keyCode == 13 || event.keyCode == 8)) {\n            this.view.observer.delayAndroidKey(event.key, event.keyCode);\n            return true;\n        }\n        // Preventing the default behavior of Enter on iOS makes the\n        // virtual keyboard get stuck in the wrong (lowercase)\n        // state. So we let it go through, and then, in\n        // applyDOMChange, notify key handlers of it and reset to\n        // the state they produce.\n        let pending;\n        if (browser.ios && !event.synthetic && !event.altKey && !event.metaKey &&\n            ((pending = PendingKeys.find(key => key.keyCode == event.keyCode)) && !event.ctrlKey ||\n                EmacsyPendingKeys.indexOf(event.key) > -1 && event.ctrlKey && !event.shiftKey)) {\n            this.pendingIOSKey = pending || event;\n            setTimeout(() => this.flushIOSKey(), 250);\n            return true;\n        }\n        if (event.keyCode != 229)\n            this.view.observer.forceFlush();\n        return false;\n    }\n    flushIOSKey() {\n        let key = this.pendingIOSKey;\n        if (!key)\n            return false;\n        this.pendingIOSKey = undefined;\n        return dispatchKey(this.view.contentDOM, key.key, key.keyCode);\n    }\n    ignoreDuringComposition(event) {\n        if (!/^key/.test(event.type))\n            return false;\n        if (this.composing > 0)\n            return true;\n        // See https://www.stum.de/2016/06/24/handling-ime-events-in-javascript/.\n        // On some input method editors (IMEs), the Enter key is used to\n        // confirm character selection. On Safari, when Enter is pressed,\n        // compositionend and keydown events are sometimes emitted in the\n        // wrong order. The key event should still be ignored, even when\n        // it happens after the compositionend event.\n        if (browser.safari && !browser.ios && this.compositionPendingKey && Date.now() - this.compositionEndedAt < 100) {\n            this.compositionPendingKey = false;\n            return true;\n        }\n        return false;\n    }\n    startMouseSelection(mouseSelection) {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n        this.mouseSelection = mouseSelection;\n    }\n    update(update) {\n        if (this.mouseSelection)\n            this.mouseSelection.update(update);\n        if (update.transactions.length)\n            this.lastKeyCode = this.lastSelectionTime = 0;\n    }\n    destroy() {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n    }\n}\nfunction bindHandler(plugin, handler) {\n    return (view, event) => {\n        try {\n            return handler.call(plugin, event, view);\n        }\n        catch (e) {\n            logException(view.state, e);\n        }\n    };\n}\nfunction computeHandlers(plugins) {\n    let result = Object.create(null);\n    function record(type) {\n        return result[type] || (result[type] = { observers: [], handlers: [] });\n    }\n    for (let plugin of plugins) {\n        let spec = plugin.spec;\n        if (spec && spec.domEventHandlers)\n            for (let type in spec.domEventHandlers) {\n                let f = spec.domEventHandlers[type];\n                if (f)\n                    record(type).handlers.push(bindHandler(plugin.value, f));\n            }\n        if (spec && spec.domEventObservers)\n            for (let type in spec.domEventObservers) {\n                let f = spec.domEventObservers[type];\n                if (f)\n                    record(type).observers.push(bindHandler(plugin.value, f));\n            }\n    }\n    for (let type in handlers)\n        record(type).handlers.push(handlers[type]);\n    for (let type in observers)\n        record(type).observers.push(observers[type]);\n    return result;\n}\nconst PendingKeys = [\n    { key: \"Backspace\", keyCode: 8, inputType: \"deleteContentBackward\" },\n    { key: \"Enter\", keyCode: 13, inputType: \"insertParagraph\" },\n    { key: \"Enter\", keyCode: 13, inputType: \"insertLineBreak\" },\n    { key: \"Delete\", keyCode: 46, inputType: \"deleteContentForward\" }\n];\nconst EmacsyPendingKeys = \"dthko\";\n// Key codes for modifier keys\nconst modifierCodes = [16, 17, 18, 20, 91, 92, 224, 225];\nconst dragScrollMargin = 6;\nfunction dragScrollSpeed(dist) {\n    return Math.max(0, dist) * 0.7 + 8;\n}\nfunction dist(a, b) {\n    return Math.max(Math.abs(a.clientX - b.clientX), Math.abs(a.clientY - b.clientY));\n}\nclass MouseSelection {\n    constructor(view, startEvent, style, mustSelect) {\n        this.view = view;\n        this.startEvent = startEvent;\n        this.style = style;\n        this.mustSelect = mustSelect;\n        this.scrollSpeed = { x: 0, y: 0 };\n        this.scrolling = -1;\n        this.lastEvent = startEvent;\n        this.scrollParent = scrollableParent(view.contentDOM);\n        this.atoms = view.state.facet(atomicRanges).map(f => f(view));\n        let doc = view.contentDOM.ownerDocument;\n        doc.addEventListener(\"mousemove\", this.move = this.move.bind(this));\n        doc.addEventListener(\"mouseup\", this.up = this.up.bind(this));\n        this.extend = startEvent.shiftKey;\n        this.multiple = view.state.facet(EditorState.allowMultipleSelections) && addsSelectionRange(view, startEvent);\n        this.dragging = isInPrimarySelection(view, startEvent) && getClickType(startEvent) == 1 ? null : false;\n    }\n    start(event) {\n        // When clicking outside of the selection, immediately apply the\n        // effect of starting the selection\n        if (this.dragging === false)\n            this.select(event);\n    }\n    move(event) {\n        var _a;\n        if (event.buttons == 0)\n            return this.destroy();\n        if (this.dragging || this.dragging == null && dist(this.startEvent, event) < 10)\n            return;\n        this.select(this.lastEvent = event);\n        let sx = 0, sy = 0;\n        let rect = ((_a = this.scrollParent) === null || _a === void 0 ? void 0 : _a.getBoundingClientRect())\n            || { left: 0, top: 0, right: this.view.win.innerWidth, bottom: this.view.win.innerHeight };\n        let margins = getScrollMargins(this.view);\n        if (event.clientX - margins.left <= rect.left + dragScrollMargin)\n            sx = -dragScrollSpeed(rect.left - event.clientX);\n        else if (event.clientX + margins.right >= rect.right - dragScrollMargin)\n            sx = dragScrollSpeed(event.clientX - rect.right);\n        if (event.clientY - margins.top <= rect.top + dragScrollMargin)\n            sy = -dragScrollSpeed(rect.top - event.clientY);\n        else if (event.clientY + margins.bottom >= rect.bottom - dragScrollMargin)\n            sy = dragScrollSpeed(event.clientY - rect.bottom);\n        this.setScrollSpeed(sx, sy);\n    }\n    up(event) {\n        if (this.dragging == null)\n            this.select(this.lastEvent);\n        if (!this.dragging)\n            event.preventDefault();\n        this.destroy();\n    }\n    destroy() {\n        this.setScrollSpeed(0, 0);\n        let doc = this.view.contentDOM.ownerDocument;\n        doc.removeEventListener(\"mousemove\", this.move);\n        doc.removeEventListener(\"mouseup\", this.up);\n        this.view.inputState.mouseSelection = null;\n    }\n    setScrollSpeed(sx, sy) {\n        this.scrollSpeed = { x: sx, y: sy };\n        if (sx || sy) {\n            if (this.scrolling < 0)\n                this.scrolling = setInterval(() => this.scroll(), 50);\n        }\n        else if (this.scrolling > -1) {\n            clearInterval(this.scrolling);\n            this.scrolling = -1;\n        }\n    }\n    scroll() {\n        if (this.scrollParent) {\n            this.scrollParent.scrollLeft += this.scrollSpeed.x;\n            this.scrollParent.scrollTop += this.scrollSpeed.y;\n        }\n        else {\n            this.view.win.scrollBy(this.scrollSpeed.x, this.scrollSpeed.y);\n        }\n        if (this.dragging === false)\n            this.select(this.lastEvent);\n    }\n    skipAtoms(sel) {\n        let ranges = null;\n        for (let i = 0; i < sel.ranges.length; i++) {\n            let range = sel.ranges[i], updated = null;\n            if (range.empty) {\n                let pos = skipAtomicRanges(this.atoms, range.from, 0);\n                if (pos != range.from)\n                    updated = EditorSelection.cursor(pos, -1);\n            }\n            else {\n                let from = skipAtomicRanges(this.atoms, range.from, -1);\n                let to = skipAtomicRanges(this.atoms, range.to, 1);\n                if (from != range.from || to != range.to)\n                    updated = EditorSelection.range(range.from == range.anchor ? from : to, range.from == range.head ? from : to);\n            }\n            if (updated) {\n                if (!ranges)\n                    ranges = sel.ranges.slice();\n                ranges[i] = updated;\n            }\n        }\n        return ranges ? EditorSelection.create(ranges, sel.mainIndex) : sel;\n    }\n    select(event) {\n        let { view } = this, selection = this.skipAtoms(this.style.get(event, this.extend, this.multiple));\n        if (this.mustSelect || !selection.eq(view.state.selection) ||\n            selection.main.assoc != view.state.selection.main.assoc && this.dragging === false)\n            this.view.dispatch({\n                selection,\n                userEvent: \"select.pointer\"\n            });\n        this.mustSelect = false;\n    }\n    update(update) {\n        if (update.docChanged && this.dragging)\n            this.dragging = this.dragging.map(update.changes);\n        if (this.style.update(update))\n            setTimeout(() => this.select(this.lastEvent), 20);\n    }\n}\nfunction addsSelectionRange(view, event) {\n    let facet = view.state.facet(clickAddsSelectionRange);\n    return facet.length ? facet[0](event) : browser.mac ? event.metaKey : event.ctrlKey;\n}\nfunction dragMovesSelection(view, event) {\n    let facet = view.state.facet(dragMovesSelection$1);\n    return facet.length ? facet[0](event) : browser.mac ? !event.altKey : !event.ctrlKey;\n}\nfunction isInPrimarySelection(view, event) {\n    let { main } = view.state.selection;\n    if (main.empty)\n        return false;\n    // On boundary clicks, check whether the coordinates are inside the\n    // selection's client rectangles\n    let sel = getSelection(view.root);\n    if (!sel || sel.rangeCount == 0)\n        return true;\n    let rects = sel.getRangeAt(0).getClientRects();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        if (rect.left <= event.clientX && rect.right >= event.clientX &&\n            rect.top <= event.clientY && rect.bottom >= event.clientY)\n            return true;\n    }\n    return false;\n}\nfunction eventBelongsToEditor(view, event) {\n    if (!event.bubbles)\n        return true;\n    if (event.defaultPrevented)\n        return false;\n    for (let node = event.target, cView; node != view.contentDOM; node = node.parentNode)\n        if (!node || node.nodeType == 11 || ((cView = ContentView.get(node)) && cView.ignoreEvent(event)))\n            return false;\n    return true;\n}\nconst handlers = /*@__PURE__*/Object.create(null);\nconst observers = /*@__PURE__*/Object.create(null);\n// This is very crude, but unfortunately both these browsers _pretend_\n// that they have a clipboard API—all the objects and methods are\n// there, they just don't work, and they are hard to test.\nconst brokenClipboardAPI = (browser.ie && browser.ie_version < 15) ||\n    (browser.ios && browser.webkit_version < 604);\nfunction capturePaste(view) {\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.focus();\n    setTimeout(() => {\n        view.focus();\n        target.remove();\n        doPaste(view, target.value);\n    }, 50);\n}\nfunction doPaste(view, input) {\n    let { state } = view, changes, i = 1, text = state.toText(input);\n    let byLine = text.lines == state.selection.ranges.length;\n    let linewise = lastLinewiseCopy != null && state.selection.ranges.every(r => r.empty) && lastLinewiseCopy == text.toString();\n    if (linewise) {\n        let lastLine = -1;\n        changes = state.changeByRange(range => {\n            let line = state.doc.lineAt(range.from);\n            if (line.from == lastLine)\n                return { range };\n            lastLine = line.from;\n            let insert = state.toText((byLine ? text.line(i++).text : input) + state.lineBreak);\n            return { changes: { from: line.from, insert },\n                range: EditorSelection.cursor(range.from + insert.length) };\n        });\n    }\n    else if (byLine) {\n        changes = state.changeByRange(range => {\n            let line = text.line(i++);\n            return { changes: { from: range.from, to: range.to, insert: line.text },\n                range: EditorSelection.cursor(range.from + line.length) };\n        });\n    }\n    else {\n        changes = state.replaceSelection(text);\n    }\n    view.dispatch(changes, {\n        userEvent: \"input.paste\",\n        scrollIntoView: true\n    });\n}\nobservers.scroll = view => {\n    view.inputState.lastScrollTop = view.scrollDOM.scrollTop;\n    view.inputState.lastScrollLeft = view.scrollDOM.scrollLeft;\n};\nhandlers.keydown = (view, event) => {\n    view.inputState.setSelectionOrigin(\"select\");\n    if (event.keyCode == 27)\n        view.inputState.lastEscPress = Date.now();\n    return false;\n};\nobservers.touchstart = (view, e) => {\n    view.inputState.lastTouchTime = Date.now();\n    view.inputState.setSelectionOrigin(\"select.pointer\");\n};\nobservers.touchmove = view => {\n    view.inputState.setSelectionOrigin(\"select.pointer\");\n};\nhandlers.mousedown = (view, event) => {\n    view.observer.flush();\n    if (view.inputState.lastTouchTime > Date.now() - 2000)\n        return false; // Ignore touch interaction\n    let style = null;\n    for (let makeStyle of view.state.facet(mouseSelectionStyle)) {\n        style = makeStyle(view, event);\n        if (style)\n            break;\n    }\n    if (!style && event.button == 0)\n        style = basicMouseSelection(view, event);\n    if (style) {\n        let mustFocus = !view.hasFocus;\n        view.inputState.startMouseSelection(new MouseSelection(view, event, style, mustFocus));\n        if (mustFocus)\n            view.observer.ignore(() => focusPreventScroll(view.contentDOM));\n        let mouseSel = view.inputState.mouseSelection;\n        if (mouseSel) {\n            mouseSel.start(event);\n            return !mouseSel.dragging;\n        }\n    }\n    return false;\n};\nfunction rangeForClick(view, pos, bias, type) {\n    if (type == 1) { // Single click\n        return EditorSelection.cursor(pos, bias);\n    }\n    else if (type == 2) { // Double click\n        return groupAt(view.state, pos, bias);\n    }\n    else { // Triple click\n        let visual = LineView.find(view.docView, pos), line = view.state.doc.lineAt(visual ? visual.posAtEnd : pos);\n        let from = visual ? visual.posAtStart : line.from, to = visual ? visual.posAtEnd : line.to;\n        if (to < view.state.doc.length && to == line.to)\n            to++;\n        return EditorSelection.range(from, to);\n    }\n}\nlet insideY = (y, rect) => y >= rect.top && y <= rect.bottom;\nlet inside = (x, y, rect) => insideY(y, rect) && x >= rect.left && x <= rect.right;\n// Try to determine, for the given coordinates, associated with the\n// given position, whether they are related to the element before or\n// the element after the position.\nfunction findPositionSide(view, pos, x, y) {\n    let line = LineView.find(view.docView, pos);\n    if (!line)\n        return 1;\n    let off = pos - line.posAtStart;\n    // Line boundaries point into the line\n    if (off == 0)\n        return 1;\n    if (off == line.length)\n        return -1;\n    // Positions on top of an element point at that element\n    let before = line.coordsAt(off, -1);\n    if (before && inside(x, y, before))\n        return -1;\n    let after = line.coordsAt(off, 1);\n    if (after && inside(x, y, after))\n        return 1;\n    // This is probably a line wrap point. Pick before if the point is\n    // beside it.\n    return before && insideY(y, before) ? -1 : 1;\n}\nfunction queryPos(view, event) {\n    let pos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    return { pos, bias: findPositionSide(view, pos, event.clientX, event.clientY) };\n}\nconst BadMouseDetail = browser.ie && browser.ie_version <= 11;\nlet lastMouseDown = null, lastMouseDownCount = 0, lastMouseDownTime = 0;\nfunction getClickType(event) {\n    if (!BadMouseDetail)\n        return event.detail;\n    let last = lastMouseDown, lastTime = lastMouseDownTime;\n    lastMouseDown = event;\n    lastMouseDownTime = Date.now();\n    return lastMouseDownCount = !last || (lastTime > Date.now() - 400 && Math.abs(last.clientX - event.clientX) < 2 &&\n        Math.abs(last.clientY - event.clientY) < 2) ? (lastMouseDownCount + 1) % 3 : 1;\n}\nfunction basicMouseSelection(view, event) {\n    let start = queryPos(view, event), type = getClickType(event);\n    let startSel = view.state.selection;\n    return {\n        update(update) {\n            if (update.docChanged) {\n                start.pos = update.changes.mapPos(start.pos);\n                startSel = startSel.map(update.changes);\n            }\n        },\n        get(event, extend, multiple) {\n            let cur = queryPos(view, event), removed;\n            let range = rangeForClick(view, cur.pos, cur.bias, type);\n            if (start.pos != cur.pos && !extend) {\n                let startRange = rangeForClick(view, start.pos, start.bias, type);\n                let from = Math.min(startRange.from, range.from), to = Math.max(startRange.to, range.to);\n                range = from < range.from ? EditorSelection.range(from, to) : EditorSelection.range(to, from);\n            }\n            if (extend)\n                return startSel.replaceRange(startSel.main.extend(range.from, range.to));\n            else if (multiple && type == 1 && startSel.ranges.length > 1 && (removed = removeRangeAround(startSel, cur.pos)))\n                return removed;\n            else if (multiple)\n                return startSel.addRange(range);\n            else\n                return EditorSelection.create([range]);\n        }\n    };\n}\nfunction removeRangeAround(sel, pos) {\n    for (let i = 0; i < sel.ranges.length; i++) {\n        let { from, to } = sel.ranges[i];\n        if (from <= pos && to >= pos)\n            return EditorSelection.create(sel.ranges.slice(0, i).concat(sel.ranges.slice(i + 1)), sel.mainIndex == i ? 0 : sel.mainIndex - (sel.mainIndex > i ? 1 : 0));\n    }\n    return null;\n}\nhandlers.dragstart = (view, event) => {\n    let { selection: { main } } = view.state;\n    let { mouseSelection } = view.inputState;\n    if (mouseSelection)\n        mouseSelection.dragging = main;\n    if (event.dataTransfer) {\n        event.dataTransfer.setData(\"Text\", view.state.sliceDoc(main.from, main.to));\n        event.dataTransfer.effectAllowed = \"copyMove\";\n    }\n    return false;\n};\nfunction dropText(view, event, text, direct) {\n    if (!text)\n        return;\n    let dropPos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    let { mouseSelection } = view.inputState;\n    let del = direct && mouseSelection && mouseSelection.dragging && dragMovesSelection(view, event) ?\n        { from: mouseSelection.dragging.from, to: mouseSelection.dragging.to } : null;\n    let ins = { from: dropPos, insert: text };\n    let changes = view.state.changes(del ? [del, ins] : ins);\n    view.focus();\n    view.dispatch({\n        changes,\n        selection: { anchor: changes.mapPos(dropPos, -1), head: changes.mapPos(dropPos, 1) },\n        userEvent: del ? \"move.drop\" : \"input.drop\"\n    });\n}\nhandlers.drop = (view, event) => {\n    if (!event.dataTransfer)\n        return false;\n    if (view.state.readOnly)\n        return true;\n    let files = event.dataTransfer.files;\n    if (files && files.length) { // For a file drop, read the file's text.\n        let text = Array(files.length), read = 0;\n        let finishFile = () => {\n            if (++read == files.length)\n                dropText(view, event, text.filter(s => s != null).join(view.state.lineBreak), false);\n        };\n        for (let i = 0; i < files.length; i++) {\n            let reader = new FileReader;\n            reader.onerror = finishFile;\n            reader.onload = () => {\n                if (!/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(reader.result))\n                    text[i] = reader.result;\n                finishFile();\n            };\n            reader.readAsText(files[i]);\n        }\n        return true;\n    }\n    else {\n        let text = event.dataTransfer.getData(\"Text\");\n        if (text) {\n            dropText(view, event, text, true);\n            return true;\n        }\n    }\n    return false;\n};\nhandlers.paste = (view, event) => {\n    if (view.state.readOnly)\n        return true;\n    view.observer.flush();\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data) {\n        doPaste(view, data.getData(\"text/plain\") || data.getData(\"text/uri-text\"));\n        return true;\n    }\n    else {\n        capturePaste(view);\n        return false;\n    }\n};\nfunction captureCopy(view, text) {\n    // The extra wrapper is somehow necessary on IE/Edge to prevent the\n    // content from being mangled when it is put onto the clipboard\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.value = text;\n    target.focus();\n    target.selectionEnd = text.length;\n    target.selectionStart = 0;\n    setTimeout(() => {\n        target.remove();\n        view.focus();\n    }, 50);\n}\nfunction copiedRange(state) {\n    let content = [], ranges = [], linewise = false;\n    for (let range of state.selection.ranges)\n        if (!range.empty) {\n            content.push(state.sliceDoc(range.from, range.to));\n            ranges.push(range);\n        }\n    if (!content.length) {\n        // Nothing selected, do a line-wise copy\n        let upto = -1;\n        for (let { from } of state.selection.ranges) {\n            let line = state.doc.lineAt(from);\n            if (line.number > upto) {\n                content.push(line.text);\n                ranges.push({ from: line.from, to: Math.min(state.doc.length, line.to + 1) });\n            }\n            upto = line.number;\n        }\n        linewise = true;\n    }\n    return { text: content.join(state.lineBreak), ranges, linewise };\n}\nlet lastLinewiseCopy = null;\nhandlers.copy = handlers.cut = (view, event) => {\n    let { text, ranges, linewise } = copiedRange(view.state);\n    if (!text && !linewise)\n        return false;\n    lastLinewiseCopy = linewise ? text : null;\n    if (event.type == \"cut\" && !view.state.readOnly)\n        view.dispatch({\n            changes: ranges,\n            scrollIntoView: true,\n            userEvent: \"delete.cut\"\n        });\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data) {\n        data.clearData();\n        data.setData(\"text/plain\", text);\n        return true;\n    }\n    else {\n        captureCopy(view, text);\n        return false;\n    }\n};\nconst isFocusChange = /*@__PURE__*/Annotation.define();\nfunction focusChangeTransaction(state, focus) {\n    let effects = [];\n    for (let getEffect of state.facet(focusChangeEffect)) {\n        let effect = getEffect(state, focus);\n        if (effect)\n            effects.push(effect);\n    }\n    return effects ? state.update({ effects, annotations: isFocusChange.of(true) }) : null;\n}\nfunction updateForFocusChange(view) {\n    setTimeout(() => {\n        let focus = view.hasFocus;\n        if (focus != view.inputState.notifiedFocused) {\n            let tr = focusChangeTransaction(view.state, focus);\n            if (tr)\n                view.dispatch(tr);\n            else\n                view.update([]);\n        }\n    }, 10);\n}\nobservers.focus = view => {\n    view.inputState.lastFocusTime = Date.now();\n    // When focusing reset the scroll position, move it back to where it was\n    if (!view.scrollDOM.scrollTop && (view.inputState.lastScrollTop || view.inputState.lastScrollLeft)) {\n        view.scrollDOM.scrollTop = view.inputState.lastScrollTop;\n        view.scrollDOM.scrollLeft = view.inputState.lastScrollLeft;\n    }\n    updateForFocusChange(view);\n};\nobservers.blur = view => {\n    view.observer.clearSelectionRange();\n    updateForFocusChange(view);\n};\nobservers.compositionstart = observers.compositionupdate = view => {\n    if (view.inputState.compositionFirstChange == null)\n        view.inputState.compositionFirstChange = true;\n    if (view.inputState.composing < 0) {\n        // FIXME possibly set a timeout to clear it again on Android\n        view.inputState.composing = 0;\n    }\n};\nobservers.compositionend = view => {\n    view.inputState.composing = -1;\n    view.inputState.compositionEndedAt = Date.now();\n    view.inputState.compositionPendingKey = true;\n    view.inputState.compositionPendingChange = view.observer.pendingRecords().length > 0;\n    view.inputState.compositionFirstChange = null;\n    if (browser.chrome && browser.android) {\n        // Delay flushing for a bit on Android because it'll often fire a\n        // bunch of contradictory changes in a row at end of compositon\n        view.observer.flushSoon();\n    }\n    else if (view.inputState.compositionPendingChange) {\n        // If we found pending records, schedule a flush.\n        Promise.resolve().then(() => view.observer.flush());\n    }\n    else {\n        // Otherwise, make sure that, if no changes come in soon, the\n        // composition view is cleared.\n        setTimeout(() => {\n            if (view.inputState.composing < 0 && view.docView.hasComposition)\n                view.update([]);\n        }, 50);\n    }\n};\nobservers.contextmenu = view => {\n    view.inputState.lastContextMenu = Date.now();\n};\nhandlers.beforeinput = (view, event) => {\n    var _a;\n    // Because Chrome Android doesn't fire useful key events, use\n    // beforeinput to detect backspace (and possibly enter and delete,\n    // but those usually don't even seem to fire beforeinput events at\n    // the moment) and fake a key event for it.\n    //\n    // (preventDefault on beforeinput, though supported in the spec,\n    // seems to do nothing at all on Chrome).\n    let pending;\n    if (browser.chrome && browser.android && (pending = PendingKeys.find(key => key.inputType == event.inputType))) {\n        view.observer.delayAndroidKey(pending.key, pending.keyCode);\n        if (pending.key == \"Backspace\" || pending.key == \"Delete\") {\n            let startViewHeight = ((_a = window.visualViewport) === null || _a === void 0 ? void 0 : _a.height) || 0;\n            setTimeout(() => {\n                var _a;\n                // Backspacing near uneditable nodes on Chrome Android sometimes\n                // closes the virtual keyboard. This tries to crudely detect\n                // that and refocus to get it back.\n                if ((((_a = window.visualViewport) === null || _a === void 0 ? void 0 : _a.height) || 0) > startViewHeight + 10 && view.hasFocus) {\n                    view.contentDOM.blur();\n                    view.focus();\n                }\n            }, 100);\n        }\n    }\n    return false;\n};\nconst appliedFirefoxHack = /*@__PURE__*/new Set;\n// In Firefox, when cut/copy handlers are added to the document, that\n// somehow avoids a bug where those events aren't fired when the\n// selection is empty. See https://github.com/codemirror/dev/issues/1082\n// and https://bugzilla.mozilla.org/show_bug.cgi?id=995961\nfunction firefoxCopyCutHack(doc) {\n    if (!appliedFirefoxHack.has(doc)) {\n        appliedFirefoxHack.add(doc);\n        doc.addEventListener(\"copy\", () => { });\n        doc.addEventListener(\"cut\", () => { });\n    }\n}\n\nconst wrappingWhiteSpace = [\"pre-wrap\", \"normal\", \"pre-line\", \"break-spaces\"];\nclass HeightOracle {\n    constructor(lineWrapping) {\n        this.lineWrapping = lineWrapping;\n        this.doc = Text.empty;\n        this.heightSamples = {};\n        this.lineHeight = 14; // The height of an entire line (line-height)\n        this.charWidth = 7;\n        this.textHeight = 14; // The height of the actual font (font-size)\n        this.lineLength = 30;\n        // Used to track, during updateHeight, if any actual heights changed\n        this.heightChanged = false;\n    }\n    heightForGap(from, to) {\n        let lines = this.doc.lineAt(to).number - this.doc.lineAt(from).number + 1;\n        if (this.lineWrapping)\n            lines += Math.max(0, Math.ceil(((to - from) - (lines * this.lineLength * 0.5)) / this.lineLength));\n        return this.lineHeight * lines;\n    }\n    heightForLine(length) {\n        if (!this.lineWrapping)\n            return this.lineHeight;\n        let lines = 1 + Math.max(0, Math.ceil((length - this.lineLength) / (this.lineLength - 5)));\n        return lines * this.lineHeight;\n    }\n    setDoc(doc) { this.doc = doc; return this; }\n    mustRefreshForWrapping(whiteSpace) {\n        return (wrappingWhiteSpace.indexOf(whiteSpace) > -1) != this.lineWrapping;\n    }\n    mustRefreshForHeights(lineHeights) {\n        let newHeight = false;\n        for (let i = 0; i < lineHeights.length; i++) {\n            let h = lineHeights[i];\n            if (h < 0) {\n                i++;\n            }\n            else if (!this.heightSamples[Math.floor(h * 10)]) { // Round to .1 pixels\n                newHeight = true;\n                this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return newHeight;\n    }\n    refresh(whiteSpace, lineHeight, charWidth, textHeight, lineLength, knownHeights) {\n        let lineWrapping = wrappingWhiteSpace.indexOf(whiteSpace) > -1;\n        let changed = Math.round(lineHeight) != Math.round(this.lineHeight) || this.lineWrapping != lineWrapping;\n        this.lineWrapping = lineWrapping;\n        this.lineHeight = lineHeight;\n        this.charWidth = charWidth;\n        this.textHeight = textHeight;\n        this.lineLength = lineLength;\n        if (changed) {\n            this.heightSamples = {};\n            for (let i = 0; i < knownHeights.length; i++) {\n                let h = knownHeights[i];\n                if (h < 0)\n                    i++;\n                else\n                    this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return changed;\n    }\n}\n// This object is used by `updateHeight` to make DOM measurements\n// arrive at the right nides. The `heights` array is a sequence of\n// block heights, starting from position `from`.\nclass MeasuredHeights {\n    constructor(from, heights) {\n        this.from = from;\n        this.heights = heights;\n        this.index = 0;\n    }\n    get more() { return this.index < this.heights.length; }\n}\n/**\nRecord used to represent information about a block-level element\nin the editor view.\n*/\nclass BlockInfo {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the element in the document.\n    */\n    from, \n    /**\n    The length of the element.\n    */\n    length, \n    /**\n    The top position of the element (relative to the top of the\n    document).\n    */\n    top, \n    /**\n    Its height.\n    */\n    height, \n    /**\n    @internal Weird packed field that holds an array of children\n    for composite blocks, a decoration for block widgets, and a\n    number indicating the amount of widget-create line breaks for\n    text blocks.\n    */\n    _content) {\n        this.from = from;\n        this.length = length;\n        this.top = top;\n        this.height = height;\n        this._content = _content;\n    }\n    /**\n    The type of element this is. When querying lines, this may be\n    an array of all the blocks that make up the line.\n    */\n    get type() {\n        return typeof this._content == \"number\" ? BlockType.Text :\n            Array.isArray(this._content) ? this._content : this._content.type;\n    }\n    /**\n    The end of the element as a document position.\n    */\n    get to() { return this.from + this.length; }\n    /**\n    The bottom position of the element.\n    */\n    get bottom() { return this.top + this.height; }\n    /**\n    If this is a widget block, this will return the widget\n    associated with it.\n    */\n    get widget() {\n        return this._content instanceof PointDecoration ? this._content.widget : null;\n    }\n    /**\n    If this is a textblock, this holds the number of line breaks\n    that appear in widgets inside the block.\n    */\n    get widgetLineBreaks() {\n        return typeof this._content == \"number\" ? this._content : 0;\n    }\n    /**\n    @internal\n    */\n    join(other) {\n        let content = (Array.isArray(this._content) ? this._content : [this])\n            .concat(Array.isArray(other._content) ? other._content : [other]);\n        return new BlockInfo(this.from, this.length + other.length, this.top, this.height + other.height, content);\n    }\n}\nvar QueryType = /*@__PURE__*/(function (QueryType) {\n    QueryType[QueryType[\"ByPos\"] = 0] = \"ByPos\";\n    QueryType[QueryType[\"ByHeight\"] = 1] = \"ByHeight\";\n    QueryType[QueryType[\"ByPosNoHeight\"] = 2] = \"ByPosNoHeight\";\nreturn QueryType})(QueryType || (QueryType = {}));\nconst Epsilon = 1e-3;\nclass HeightMap {\n    constructor(length, // The number of characters covered\n    height, // Height of this part of the document\n    flags = 2 /* Flag.Outdated */) {\n        this.length = length;\n        this.height = height;\n        this.flags = flags;\n    }\n    get outdated() { return (this.flags & 2 /* Flag.Outdated */) > 0; }\n    set outdated(value) { this.flags = (value ? 2 /* Flag.Outdated */ : 0) | (this.flags & ~2 /* Flag.Outdated */); }\n    setHeight(oracle, height) {\n        if (this.height != height) {\n            if (Math.abs(this.height - height) > Epsilon)\n                oracle.heightChanged = true;\n            this.height = height;\n        }\n    }\n    // Base case is to replace a leaf node, which simply builds a tree\n    // from the new nodes and returns that (HeightMapBranch and\n    // HeightMapGap override this to actually use from/to)\n    replace(_from, _to, nodes) {\n        return HeightMap.of(nodes);\n    }\n    // Again, these are base cases, and are overridden for branch and gap nodes.\n    decomposeLeft(_to, result) { result.push(this); }\n    decomposeRight(_from, result) { result.push(this); }\n    applyChanges(decorations, oldDoc, oracle, changes) {\n        let me = this, doc = oracle.doc;\n        for (let i = changes.length - 1; i >= 0; i--) {\n            let { fromA, toA, fromB, toB } = changes[i];\n            let start = me.lineAt(fromA, QueryType.ByPosNoHeight, oracle.setDoc(oldDoc), 0, 0);\n            let end = start.to >= toA ? start : me.lineAt(toA, QueryType.ByPosNoHeight, oracle, 0, 0);\n            toB += end.to - toA;\n            toA = end.to;\n            while (i > 0 && start.from <= changes[i - 1].toA) {\n                fromA = changes[i - 1].fromA;\n                fromB = changes[i - 1].fromB;\n                i--;\n                if (fromA < start.from)\n                    start = me.lineAt(fromA, QueryType.ByPosNoHeight, oracle, 0, 0);\n            }\n            fromB += start.from - fromA;\n            fromA = start.from;\n            let nodes = NodeBuilder.build(oracle.setDoc(doc), decorations, fromB, toB);\n            me = me.replace(fromA, toA, nodes);\n        }\n        return me.updateHeight(oracle, 0);\n    }\n    static empty() { return new HeightMapText(0, 0); }\n    // nodes uses null values to indicate the position of line breaks.\n    // There are never line breaks at the start or end of the array, or\n    // two line breaks next to each other, and the array isn't allowed\n    // to be empty (same restrictions as return value from the builder).\n    static of(nodes) {\n        if (nodes.length == 1)\n            return nodes[0];\n        let i = 0, j = nodes.length, before = 0, after = 0;\n        for (;;) {\n            if (i == j) {\n                if (before > after * 2) {\n                    let split = nodes[i - 1];\n                    if (split.break)\n                        nodes.splice(--i, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(--i, 1, split.left, split.right);\n                    j += 1 + split.break;\n                    before -= split.size;\n                }\n                else if (after > before * 2) {\n                    let split = nodes[j];\n                    if (split.break)\n                        nodes.splice(j, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(j, 1, split.left, split.right);\n                    j += 2 + split.break;\n                    after -= split.size;\n                }\n                else {\n                    break;\n                }\n            }\n            else if (before < after) {\n                let next = nodes[i++];\n                if (next)\n                    before += next.size;\n            }\n            else {\n                let next = nodes[--j];\n                if (next)\n                    after += next.size;\n            }\n        }\n        let brk = 0;\n        if (nodes[i - 1] == null) {\n            brk = 1;\n            i--;\n        }\n        else if (nodes[i] == null) {\n            brk = 1;\n            j++;\n        }\n        return new HeightMapBranch(HeightMap.of(nodes.slice(0, i)), brk, HeightMap.of(nodes.slice(j)));\n    }\n}\nHeightMap.prototype.size = 1;\nclass HeightMapBlock extends HeightMap {\n    constructor(length, height, deco) {\n        super(length, height);\n        this.deco = deco;\n    }\n    blockAt(_height, _oracle, top, offset) {\n        return new BlockInfo(offset, this.length, top, this.height, this.deco || 0);\n    }\n    lineAt(_value, _type, oracle, top, offset) {\n        return this.blockAt(0, oracle, top, offset);\n    }\n    forEachLine(from, to, oracle, top, offset, f) {\n        if (from <= offset + this.length && to >= offset)\n            f(this.blockAt(0, oracle, top, offset));\n    }\n    updateHeight(oracle, offset = 0, _force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        this.outdated = false;\n        return this;\n    }\n    toString() { return `block(${this.length})`; }\n}\nclass HeightMapText extends HeightMapBlock {\n    constructor(length, height) {\n        super(length, height, null);\n        this.collapsed = 0; // Amount of collapsed content in the line\n        this.widgetHeight = 0; // Maximum inline widget height\n        this.breaks = 0; // Number of widget-introduced line breaks on the line\n    }\n    blockAt(_height, _oracle, top, offset) {\n        return new BlockInfo(offset, this.length, top, this.height, this.breaks);\n    }\n    replace(_from, _to, nodes) {\n        let node = nodes[0];\n        if (nodes.length == 1 && (node instanceof HeightMapText || node instanceof HeightMapGap && (node.flags & 4 /* Flag.SingleLine */)) &&\n            Math.abs(this.length - node.length) < 10) {\n            if (node instanceof HeightMapGap)\n                node = new HeightMapText(node.length, this.height);\n            else\n                node.height = this.height;\n            if (!this.outdated)\n                node.outdated = false;\n            return node;\n        }\n        else {\n            return HeightMap.of(nodes);\n        }\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        else if (force || this.outdated)\n            this.setHeight(oracle, Math.max(this.widgetHeight, oracle.heightForLine(this.length - this.collapsed)) +\n                this.breaks * oracle.lineHeight);\n        this.outdated = false;\n        return this;\n    }\n    toString() {\n        return `line(${this.length}${this.collapsed ? -this.collapsed : \"\"}${this.widgetHeight ? \":\" + this.widgetHeight : \"\"})`;\n    }\n}\nclass HeightMapGap extends HeightMap {\n    constructor(length) { super(length, 0); }\n    heightMetrics(oracle, offset) {\n        let firstLine = oracle.doc.lineAt(offset).number, lastLine = oracle.doc.lineAt(offset + this.length).number;\n        let lines = lastLine - firstLine + 1;\n        let perLine, perChar = 0;\n        if (oracle.lineWrapping) {\n            let totalPerLine = Math.min(this.height, oracle.lineHeight * lines);\n            perLine = totalPerLine / lines;\n            if (this.length > lines + 1)\n                perChar = (this.height - totalPerLine) / (this.length - lines - 1);\n        }\n        else {\n            perLine = this.height / lines;\n        }\n        return { firstLine, lastLine, perLine, perChar };\n    }\n    blockAt(height, oracle, top, offset) {\n        let { firstLine, lastLine, perLine, perChar } = this.heightMetrics(oracle, offset);\n        if (oracle.lineWrapping) {\n            let guess = offset + Math.round(Math.max(0, Math.min(1, (height - top) / this.height)) * this.length);\n            let line = oracle.doc.lineAt(guess), lineHeight = perLine + line.length * perChar;\n            let lineTop = Math.max(top, height - lineHeight / 2);\n            return new BlockInfo(line.from, line.length, lineTop, lineHeight, 0);\n        }\n        else {\n            let line = Math.max(0, Math.min(lastLine - firstLine, Math.floor((height - top) / perLine)));\n            let { from, length } = oracle.doc.line(firstLine + line);\n            return new BlockInfo(from, length, top + perLine * line, perLine, 0);\n        }\n    }\n    lineAt(value, type, oracle, top, offset) {\n        if (type == QueryType.ByHeight)\n            return this.blockAt(value, oracle, top, offset);\n        if (type == QueryType.ByPosNoHeight) {\n            let { from, to } = oracle.doc.lineAt(value);\n            return new BlockInfo(from, to - from, 0, 0, 0);\n        }\n        let { firstLine, perLine, perChar } = this.heightMetrics(oracle, offset);\n        let line = oracle.doc.lineAt(value), lineHeight = perLine + line.length * perChar;\n        let linesAbove = line.number - firstLine;\n        let lineTop = top + perLine * linesAbove + perChar * (line.from - offset - linesAbove);\n        return new BlockInfo(line.from, line.length, Math.max(top, Math.min(lineTop, top + this.height - lineHeight)), lineHeight, 0);\n    }\n    forEachLine(from, to, oracle, top, offset, f) {\n        from = Math.max(from, offset);\n        to = Math.min(to, offset + this.length);\n        let { firstLine, perLine, perChar } = this.heightMetrics(oracle, offset);\n        for (let pos = from, lineTop = top; pos <= to;) {\n            let line = oracle.doc.lineAt(pos);\n            if (pos == from) {\n                let linesAbove = line.number - firstLine;\n                lineTop += perLine * linesAbove + perChar * (from - offset - linesAbove);\n            }\n            let lineHeight = perLine + perChar * line.length;\n            f(new BlockInfo(line.from, line.length, lineTop, lineHeight, 0));\n            lineTop += lineHeight;\n            pos = line.to + 1;\n        }\n    }\n    replace(from, to, nodes) {\n        let after = this.length - to;\n        if (after > 0) {\n            let last = nodes[nodes.length - 1];\n            if (last instanceof HeightMapGap)\n                nodes[nodes.length - 1] = new HeightMapGap(last.length + after);\n            else\n                nodes.push(null, new HeightMapGap(after - 1));\n        }\n        if (from > 0) {\n            let first = nodes[0];\n            if (first instanceof HeightMapGap)\n                nodes[0] = new HeightMapGap(from + first.length);\n            else\n                nodes.unshift(new HeightMapGap(from - 1), null);\n        }\n        return HeightMap.of(nodes);\n    }\n    decomposeLeft(to, result) {\n        result.push(new HeightMapGap(to - 1), null);\n    }\n    decomposeRight(from, result) {\n        result.push(null, new HeightMapGap(this.length - from - 1));\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let end = offset + this.length;\n        if (measured && measured.from <= offset + this.length && measured.more) {\n            // Fill in part of this gap with measured lines. We know there\n            // can't be widgets or collapsed ranges in those lines, because\n            // they would already have been added to the heightmap (gaps\n            // only contain plain text).\n            let nodes = [], pos = Math.max(offset, measured.from), singleHeight = -1;\n            if (measured.from > offset)\n                nodes.push(new HeightMapGap(measured.from - offset - 1).updateHeight(oracle, offset));\n            while (pos <= end && measured.more) {\n                let len = oracle.doc.lineAt(pos).length;\n                if (nodes.length)\n                    nodes.push(null);\n                let height = measured.heights[measured.index++];\n                if (singleHeight == -1)\n                    singleHeight = height;\n                else if (Math.abs(height - singleHeight) >= Epsilon)\n                    singleHeight = -2;\n                let line = new HeightMapText(len, height);\n                line.outdated = false;\n                nodes.push(line);\n                pos += len + 1;\n            }\n            if (pos <= end)\n                nodes.push(null, new HeightMapGap(end - pos).updateHeight(oracle, pos));\n            let result = HeightMap.of(nodes);\n            if (singleHeight < 0 || Math.abs(result.height - this.height) >= Epsilon ||\n                Math.abs(singleHeight - this.heightMetrics(oracle, offset).perLine) >= Epsilon)\n                oracle.heightChanged = true;\n            return result;\n        }\n        else if (force || this.outdated) {\n            this.setHeight(oracle, oracle.heightForGap(offset, offset + this.length));\n            this.outdated = false;\n        }\n        return this;\n    }\n    toString() { return `gap(${this.length})`; }\n}\nclass HeightMapBranch extends HeightMap {\n    constructor(left, brk, right) {\n        super(left.length + brk + right.length, left.height + right.height, brk | (left.outdated || right.outdated ? 2 /* Flag.Outdated */ : 0));\n        this.left = left;\n        this.right = right;\n        this.size = left.size + right.size;\n    }\n    get break() { return this.flags & 1 /* Flag.Break */; }\n    blockAt(height, oracle, top, offset) {\n        let mid = top + this.left.height;\n        return height < mid ? this.left.blockAt(height, oracle, top, offset)\n            : this.right.blockAt(height, oracle, mid, offset + this.left.length + this.break);\n    }\n    lineAt(value, type, oracle, top, offset) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        let left = type == QueryType.ByHeight ? value < rightTop : value < rightOffset;\n        let base = left ? this.left.lineAt(value, type, oracle, top, offset)\n            : this.right.lineAt(value, type, oracle, rightTop, rightOffset);\n        if (this.break || (left ? base.to < rightOffset : base.from > rightOffset))\n            return base;\n        let subQuery = type == QueryType.ByPosNoHeight ? QueryType.ByPosNoHeight : QueryType.ByPos;\n        if (left)\n            return base.join(this.right.lineAt(rightOffset, subQuery, oracle, rightTop, rightOffset));\n        else\n            return this.left.lineAt(rightOffset, subQuery, oracle, top, offset).join(base);\n    }\n    forEachLine(from, to, oracle, top, offset, f) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        if (this.break) {\n            if (from < rightOffset)\n                this.left.forEachLine(from, to, oracle, top, offset, f);\n            if (to >= rightOffset)\n                this.right.forEachLine(from, to, oracle, rightTop, rightOffset, f);\n        }\n        else {\n            let mid = this.lineAt(rightOffset, QueryType.ByPos, oracle, top, offset);\n            if (from < mid.from)\n                this.left.forEachLine(from, mid.from - 1, oracle, top, offset, f);\n            if (mid.to >= from && mid.from <= to)\n                f(mid);\n            if (to > mid.to)\n                this.right.forEachLine(mid.to + 1, to, oracle, rightTop, rightOffset, f);\n        }\n    }\n    replace(from, to, nodes) {\n        let rightStart = this.left.length + this.break;\n        if (to < rightStart)\n            return this.balanced(this.left.replace(from, to, nodes), this.right);\n        if (from > this.left.length)\n            return this.balanced(this.left, this.right.replace(from - rightStart, to - rightStart, nodes));\n        let result = [];\n        if (from > 0)\n            this.decomposeLeft(from, result);\n        let left = result.length;\n        for (let node of nodes)\n            result.push(node);\n        if (from > 0)\n            mergeGaps(result, left - 1);\n        if (to < this.length) {\n            let right = result.length;\n            this.decomposeRight(to, result);\n            mergeGaps(result, right);\n        }\n        return HeightMap.of(result);\n    }\n    decomposeLeft(to, result) {\n        let left = this.left.length;\n        if (to <= left)\n            return this.left.decomposeLeft(to, result);\n        result.push(this.left);\n        if (this.break) {\n            left++;\n            if (to >= left)\n                result.push(null);\n        }\n        if (to > left)\n            this.right.decomposeLeft(to - left, result);\n    }\n    decomposeRight(from, result) {\n        let left = this.left.length, right = left + this.break;\n        if (from >= right)\n            return this.right.decomposeRight(from - right, result);\n        if (from < left)\n            this.left.decomposeRight(from, result);\n        if (this.break && from < right)\n            result.push(null);\n        result.push(this.right);\n    }\n    balanced(left, right) {\n        if (left.size > 2 * right.size || right.size > 2 * left.size)\n            return HeightMap.of(this.break ? [left, null, right] : [left, right]);\n        this.left = left;\n        this.right = right;\n        this.height = left.height + right.height;\n        this.outdated = left.outdated || right.outdated;\n        this.size = left.size + right.size;\n        this.length = left.length + this.break + right.length;\n        return this;\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let { left, right } = this, rightStart = offset + left.length + this.break, rebalance = null;\n        if (measured && measured.from <= offset + left.length && measured.more)\n            rebalance = left = left.updateHeight(oracle, offset, force, measured);\n        else\n            left.updateHeight(oracle, offset, force);\n        if (measured && measured.from <= rightStart + right.length && measured.more)\n            rebalance = right = right.updateHeight(oracle, rightStart, force, measured);\n        else\n            right.updateHeight(oracle, rightStart, force);\n        if (rebalance)\n            return this.balanced(left, right);\n        this.height = this.left.height + this.right.height;\n        this.outdated = false;\n        return this;\n    }\n    toString() { return this.left + (this.break ? \" \" : \"-\") + this.right; }\n}\nfunction mergeGaps(nodes, around) {\n    let before, after;\n    if (nodes[around] == null &&\n        (before = nodes[around - 1]) instanceof HeightMapGap &&\n        (after = nodes[around + 1]) instanceof HeightMapGap)\n        nodes.splice(around - 1, 3, new HeightMapGap(before.length + 1 + after.length));\n}\nconst relevantWidgetHeight = 5;\nclass NodeBuilder {\n    constructor(pos, oracle) {\n        this.pos = pos;\n        this.oracle = oracle;\n        this.nodes = [];\n        this.lineStart = -1;\n        this.lineEnd = -1;\n        this.covering = null;\n        this.writtenTo = pos;\n    }\n    get isCovered() {\n        return this.covering && this.nodes[this.nodes.length - 1] == this.covering;\n    }\n    span(_from, to) {\n        if (this.lineStart > -1) {\n            let end = Math.min(to, this.lineEnd), last = this.nodes[this.nodes.length - 1];\n            if (last instanceof HeightMapText)\n                last.length += end - this.pos;\n            else if (end > this.pos || !this.isCovered)\n                this.nodes.push(new HeightMapText(end - this.pos, -1));\n            this.writtenTo = end;\n            if (to > end) {\n                this.nodes.push(null);\n                this.writtenTo++;\n                this.lineStart = -1;\n            }\n        }\n        this.pos = to;\n    }\n    point(from, to, deco) {\n        if (from < to || deco.heightRelevant) {\n            let height = deco.widget ? deco.widget.estimatedHeight : 0;\n            let breaks = deco.widget ? deco.widget.lineBreaks : 0;\n            if (height < 0)\n                height = this.oracle.lineHeight;\n            let len = to - from;\n            if (deco.block) {\n                this.addBlock(new HeightMapBlock(len, height, deco));\n            }\n            else if (len || breaks || height >= relevantWidgetHeight) {\n                this.addLineDeco(height, breaks, len);\n            }\n        }\n        else if (to > from) {\n            this.span(from, to);\n        }\n        if (this.lineEnd > -1 && this.lineEnd < this.pos)\n            this.lineEnd = this.oracle.doc.lineAt(this.pos).to;\n    }\n    enterLine() {\n        if (this.lineStart > -1)\n            return;\n        let { from, to } = this.oracle.doc.lineAt(this.pos);\n        this.lineStart = from;\n        this.lineEnd = to;\n        if (this.writtenTo < from) {\n            if (this.writtenTo < from - 1 || this.nodes[this.nodes.length - 1] == null)\n                this.nodes.push(this.blankContent(this.writtenTo, from - 1));\n            this.nodes.push(null);\n        }\n        if (this.pos > from)\n            this.nodes.push(new HeightMapText(this.pos - from, -1));\n        this.writtenTo = this.pos;\n    }\n    blankContent(from, to) {\n        let gap = new HeightMapGap(to - from);\n        if (this.oracle.doc.lineAt(from).to == to)\n            gap.flags |= 4 /* Flag.SingleLine */;\n        return gap;\n    }\n    ensureLine() {\n        this.enterLine();\n        let last = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;\n        if (last instanceof HeightMapText)\n            return last;\n        let line = new HeightMapText(0, -1);\n        this.nodes.push(line);\n        return line;\n    }\n    addBlock(block) {\n        this.enterLine();\n        let deco = block.deco;\n        if (deco && deco.startSide > 0 && !this.isCovered)\n            this.ensureLine();\n        this.nodes.push(block);\n        this.writtenTo = this.pos = this.pos + block.length;\n        if (deco && deco.endSide > 0)\n            this.covering = block;\n    }\n    addLineDeco(height, breaks, length) {\n        let line = this.ensureLine();\n        line.length += length;\n        line.collapsed += length;\n        line.widgetHeight = Math.max(line.widgetHeight, height);\n        line.breaks += breaks;\n        this.writtenTo = this.pos = this.pos + length;\n    }\n    finish(from) {\n        let last = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];\n        if (this.lineStart > -1 && !(last instanceof HeightMapText) && !this.isCovered)\n            this.nodes.push(new HeightMapText(0, -1));\n        else if (this.writtenTo < this.pos || last == null)\n            this.nodes.push(this.blankContent(this.writtenTo, this.pos));\n        let pos = from;\n        for (let node of this.nodes) {\n            if (node instanceof HeightMapText)\n                node.updateHeight(this.oracle, pos);\n            pos += node ? node.length : 1;\n        }\n        return this.nodes;\n    }\n    // Always called with a region that on both sides either stretches\n    // to a line break or the end of the document.\n    // The returned array uses null to indicate line breaks, but never\n    // starts or ends in a line break, or has multiple line breaks next\n    // to each other.\n    static build(oracle, decorations, from, to) {\n        let builder = new NodeBuilder(from, oracle);\n        RangeSet.spans(decorations, from, to, builder, 0);\n        return builder.finish(from);\n    }\n}\nfunction heightRelevantDecoChanges(a, b, diff) {\n    let comp = new DecorationComparator;\n    RangeSet.compare(a, b, diff, comp, 0);\n    return comp.changes;\n}\nclass DecorationComparator {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange() { }\n    comparePoint(from, to, a, b) {\n        if (from < to || a && a.heightRelevant || b && b.heightRelevant)\n            addRange(from, to, this.changes, 5);\n    }\n}\n\nfunction visiblePixelRange(dom, paddingTop) {\n    let rect = dom.getBoundingClientRect();\n    let doc = dom.ownerDocument, win = doc.defaultView || window;\n    let left = Math.max(0, rect.left), right = Math.min(win.innerWidth, rect.right);\n    let top = Math.max(0, rect.top), bottom = Math.min(win.innerHeight, rect.bottom);\n    for (let parent = dom.parentNode; parent && parent != doc.body;) {\n        if (parent.nodeType == 1) {\n            let elt = parent;\n            let style = window.getComputedStyle(elt);\n            if ((elt.scrollHeight > elt.clientHeight || elt.scrollWidth > elt.clientWidth) &&\n                style.overflow != \"visible\") {\n                let parentRect = elt.getBoundingClientRect();\n                left = Math.max(left, parentRect.left);\n                right = Math.min(right, parentRect.right);\n                top = Math.max(top, parentRect.top);\n                bottom = parent == dom.parentNode ? parentRect.bottom : Math.min(bottom, parentRect.bottom);\n            }\n            parent = style.position == \"absolute\" || style.position == \"fixed\" ? elt.offsetParent : elt.parentNode;\n        }\n        else if (parent.nodeType == 11) { // Shadow root\n            parent = parent.host;\n        }\n        else {\n            break;\n        }\n    }\n    return { left: left - rect.left, right: Math.max(left, right) - rect.left,\n        top: top - (rect.top + paddingTop), bottom: Math.max(top, bottom) - (rect.top + paddingTop) };\n}\nfunction fullPixelRange(dom, paddingTop) {\n    let rect = dom.getBoundingClientRect();\n    return { left: 0, right: rect.right - rect.left,\n        top: paddingTop, bottom: rect.bottom - (rect.top + paddingTop) };\n}\n// Line gaps are placeholder widgets used to hide pieces of overlong\n// lines within the viewport, as a kludge to keep the editor\n// responsive when a ridiculously long line is loaded into it.\nclass LineGap {\n    constructor(from, to, size) {\n        this.from = from;\n        this.to = to;\n        this.size = size;\n    }\n    static same(a, b) {\n        if (a.length != b.length)\n            return false;\n        for (let i = 0; i < a.length; i++) {\n            let gA = a[i], gB = b[i];\n            if (gA.from != gB.from || gA.to != gB.to || gA.size != gB.size)\n                return false;\n        }\n        return true;\n    }\n    draw(viewState, wrapping) {\n        return Decoration.replace({\n            widget: new LineGapWidget(this.size * (wrapping ? viewState.scaleY : viewState.scaleX), wrapping)\n        }).range(this.from, this.to);\n    }\n}\nclass LineGapWidget extends WidgetType {\n    constructor(size, vertical) {\n        super();\n        this.size = size;\n        this.vertical = vertical;\n    }\n    eq(other) { return other.size == this.size && other.vertical == this.vertical; }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        if (this.vertical) {\n            elt.style.height = this.size + \"px\";\n        }\n        else {\n            elt.style.width = this.size + \"px\";\n            elt.style.height = \"2px\";\n            elt.style.display = \"inline-block\";\n        }\n        return elt;\n    }\n    get estimatedHeight() { return this.vertical ? this.size : -1; }\n}\nclass ViewState {\n    constructor(state) {\n        this.state = state;\n        // These are contentDOM-local coordinates\n        this.pixelViewport = { left: 0, right: window.innerWidth, top: 0, bottom: 0 };\n        this.inView = true;\n        this.paddingTop = 0; // Padding above the document, scaled\n        this.paddingBottom = 0; // Padding below the document, scaled\n        this.contentDOMWidth = 0; // contentDOM.getBoundingClientRect().width\n        this.contentDOMHeight = 0; // contentDOM.getBoundingClientRect().height\n        this.editorHeight = 0; // scrollDOM.clientHeight, unscaled\n        this.editorWidth = 0; // scrollDOM.clientWidth, unscaled\n        this.scrollTop = 0; // Last seen scrollDOM.scrollTop, scaled\n        this.scrolledToBottom = true;\n        // The CSS-transformation scale of the editor (transformed size /\n        // concrete size)\n        this.scaleX = 1;\n        this.scaleY = 1;\n        // The vertical position (document-relative) to which to anchor the\n        // scroll position. -1 means anchor to the end of the document.\n        this.scrollAnchorPos = 0;\n        // The height at the anchor position. Set by the DOM update phase.\n        // -1 means no height available.\n        this.scrollAnchorHeight = -1;\n        // See VP.MaxDOMHeight\n        this.scaler = IdScaler;\n        this.scrollTarget = null;\n        // Briefly set to true when printing, to disable viewport limiting\n        this.printing = false;\n        // Flag set when editor content was redrawn, so that the next\n        // measure stage knows it must read DOM layout\n        this.mustMeasureContent = true;\n        this.defaultTextDirection = Direction.LTR;\n        this.visibleRanges = [];\n        // Cursor 'assoc' is only significant when the cursor is on a line\n        // wrap point, where it must stick to the character that it is\n        // associated with. Since browsers don't provide a reasonable\n        // interface to set or query this, when a selection is set that\n        // might cause this to be significant, this flag is set. The next\n        // measure phase will check whether the cursor is on a line-wrapping\n        // boundary and, if so, reset it to make sure it is positioned in\n        // the right place.\n        this.mustEnforceCursorAssoc = false;\n        let guessWrapping = state.facet(contentAttributes).some(v => typeof v != \"function\" && v.class == \"cm-lineWrapping\");\n        this.heightOracle = new HeightOracle(guessWrapping);\n        this.stateDeco = state.facet(decorations).filter(d => typeof d != \"function\");\n        this.heightMap = HeightMap.empty().applyChanges(this.stateDeco, Text.empty, this.heightOracle.setDoc(state.doc), [new ChangedRange(0, 0, 0, state.doc.length)]);\n        this.viewport = this.getViewport(0, null);\n        this.updateViewportLines();\n        this.updateForViewport();\n        this.lineGaps = this.ensureLineGaps([]);\n        this.lineGapDeco = Decoration.set(this.lineGaps.map(gap => gap.draw(this, false)));\n        this.computeVisibleRanges();\n    }\n    updateForViewport() {\n        let viewports = [this.viewport], { main } = this.state.selection;\n        for (let i = 0; i <= 1; i++) {\n            let pos = i ? main.head : main.anchor;\n            if (!viewports.some(({ from, to }) => pos >= from && pos <= to)) {\n                let { from, to } = this.lineBlockAt(pos);\n                viewports.push(new Viewport(from, to));\n            }\n        }\n        this.viewports = viewports.sort((a, b) => a.from - b.from);\n        this.scaler = this.heightMap.height <= 7000000 /* VP.MaxDOMHeight */ ? IdScaler :\n            new BigScaler(this.heightOracle, this.heightMap, this.viewports);\n    }\n    updateViewportLines() {\n        this.viewportLines = [];\n        this.heightMap.forEachLine(this.viewport.from, this.viewport.to, this.heightOracle.setDoc(this.state.doc), 0, 0, block => {\n            this.viewportLines.push(this.scaler.scale == 1 ? block : scaleBlock(block, this.scaler));\n        });\n    }\n    update(update, scrollTarget = null) {\n        this.state = update.state;\n        let prevDeco = this.stateDeco;\n        this.stateDeco = this.state.facet(decorations).filter(d => typeof d != \"function\");\n        let contentChanges = update.changedRanges;\n        let heightChanges = ChangedRange.extendWithRanges(contentChanges, heightRelevantDecoChanges(prevDeco, this.stateDeco, update ? update.changes : ChangeSet.empty(this.state.doc.length)));\n        let prevHeight = this.heightMap.height;\n        let scrollAnchor = this.scrolledToBottom ? null : this.scrollAnchorAt(this.scrollTop);\n        this.heightMap = this.heightMap.applyChanges(this.stateDeco, update.startState.doc, this.heightOracle.setDoc(this.state.doc), heightChanges);\n        if (this.heightMap.height != prevHeight)\n            update.flags |= 2 /* UpdateFlag.Height */;\n        if (scrollAnchor) {\n            this.scrollAnchorPos = update.changes.mapPos(scrollAnchor.from, -1);\n            this.scrollAnchorHeight = scrollAnchor.top;\n        }\n        else {\n            this.scrollAnchorPos = -1;\n            this.scrollAnchorHeight = this.heightMap.height;\n        }\n        let viewport = heightChanges.length ? this.mapViewport(this.viewport, update.changes) : this.viewport;\n        if (scrollTarget && (scrollTarget.range.head < viewport.from || scrollTarget.range.head > viewport.to) ||\n            !this.viewportIsAppropriate(viewport))\n            viewport = this.getViewport(0, scrollTarget);\n        let updateLines = !update.changes.empty || (update.flags & 2 /* UpdateFlag.Height */) ||\n            viewport.from != this.viewport.from || viewport.to != this.viewport.to;\n        this.viewport = viewport;\n        this.updateForViewport();\n        if (updateLines)\n            this.updateViewportLines();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > (2000 /* LG.Margin */ << 1))\n            this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps, update.changes)));\n        update.flags |= this.computeVisibleRanges();\n        if (scrollTarget)\n            this.scrollTarget = scrollTarget;\n        if (!this.mustEnforceCursorAssoc && update.selectionSet && update.view.lineWrapping &&\n            update.state.selection.main.empty && update.state.selection.main.assoc &&\n            !update.state.facet(nativeSelectionHidden))\n            this.mustEnforceCursorAssoc = true;\n    }\n    measure(view) {\n        let dom = view.contentDOM, style = window.getComputedStyle(dom);\n        let oracle = this.heightOracle;\n        let whiteSpace = style.whiteSpace;\n        this.defaultTextDirection = style.direction == \"rtl\" ? Direction.RTL : Direction.LTR;\n        let refresh = this.heightOracle.mustRefreshForWrapping(whiteSpace);\n        let domRect = dom.getBoundingClientRect();\n        let measureContent = refresh || this.mustMeasureContent || this.contentDOMHeight != domRect.height;\n        this.contentDOMHeight = domRect.height;\n        this.mustMeasureContent = false;\n        let result = 0, bias = 0;\n        if (domRect.width && domRect.height) {\n            let scaleX = domRect.width / dom.offsetWidth;\n            let scaleY = domRect.height / dom.offsetHeight;\n            if (scaleX > 0.995 && scaleX < 1.005)\n                scaleX = 1;\n            if (scaleY > 0.995 && scaleY < 1.005)\n                scaleY = 1;\n            if (this.scaleX != scaleX || this.scaleY != scaleY) {\n                this.scaleX = scaleX;\n                this.scaleY = scaleY;\n                result |= 8 /* UpdateFlag.Geometry */;\n                refresh = measureContent = true;\n            }\n        }\n        // Vertical padding\n        let paddingTop = (parseInt(style.paddingTop) || 0) * this.scaleY;\n        let paddingBottom = (parseInt(style.paddingBottom) || 0) * this.scaleY;\n        if (this.paddingTop != paddingTop || this.paddingBottom != paddingBottom) {\n            this.paddingTop = paddingTop;\n            this.paddingBottom = paddingBottom;\n            result |= 8 /* UpdateFlag.Geometry */ | 2 /* UpdateFlag.Height */;\n        }\n        if (this.editorWidth != view.scrollDOM.clientWidth) {\n            if (oracle.lineWrapping)\n                measureContent = true;\n            this.editorWidth = view.scrollDOM.clientWidth;\n            result |= 8 /* UpdateFlag.Geometry */;\n        }\n        let scrollTop = view.scrollDOM.scrollTop * this.scaleY;\n        if (this.scrollTop != scrollTop) {\n            this.scrollAnchorHeight = -1;\n            this.scrollTop = scrollTop;\n        }\n        this.scrolledToBottom = isScrolledToBottom(view.scrollDOM);\n        // Pixel viewport\n        let pixelViewport = (this.printing ? fullPixelRange : visiblePixelRange)(dom, this.paddingTop);\n        let dTop = pixelViewport.top - this.pixelViewport.top, dBottom = pixelViewport.bottom - this.pixelViewport.bottom;\n        this.pixelViewport = pixelViewport;\n        let inView = this.pixelViewport.bottom > this.pixelViewport.top && this.pixelViewport.right > this.pixelViewport.left;\n        if (inView != this.inView) {\n            this.inView = inView;\n            if (inView)\n                measureContent = true;\n        }\n        if (!this.inView && !this.scrollTarget)\n            return 0;\n        let contentWidth = domRect.width;\n        if (this.contentDOMWidth != contentWidth || this.editorHeight != view.scrollDOM.clientHeight) {\n            this.contentDOMWidth = domRect.width;\n            this.editorHeight = view.scrollDOM.clientHeight;\n            result |= 8 /* UpdateFlag.Geometry */;\n        }\n        if (measureContent) {\n            let lineHeights = view.docView.measureVisibleLineHeights(this.viewport);\n            if (oracle.mustRefreshForHeights(lineHeights))\n                refresh = true;\n            if (refresh || oracle.lineWrapping && Math.abs(contentWidth - this.contentDOMWidth) > oracle.charWidth) {\n                let { lineHeight, charWidth, textHeight } = view.docView.measureTextSize();\n                refresh = lineHeight > 0 && oracle.refresh(whiteSpace, lineHeight, charWidth, textHeight, contentWidth / charWidth, lineHeights);\n                if (refresh) {\n                    view.docView.minWidth = 0;\n                    result |= 8 /* UpdateFlag.Geometry */;\n                }\n            }\n            if (dTop > 0 && dBottom > 0)\n                bias = Math.max(dTop, dBottom);\n            else if (dTop < 0 && dBottom < 0)\n                bias = Math.min(dTop, dBottom);\n            oracle.heightChanged = false;\n            for (let vp of this.viewports) {\n                let heights = vp.from == this.viewport.from ? lineHeights : view.docView.measureVisibleLineHeights(vp);\n                this.heightMap = (refresh ? HeightMap.empty().applyChanges(this.stateDeco, Text.empty, this.heightOracle, [new ChangedRange(0, 0, 0, view.state.doc.length)]) : this.heightMap).updateHeight(oracle, 0, refresh, new MeasuredHeights(vp.from, heights));\n            }\n            if (oracle.heightChanged)\n                result |= 2 /* UpdateFlag.Height */;\n        }\n        let viewportChange = !this.viewportIsAppropriate(this.viewport, bias) ||\n            this.scrollTarget && (this.scrollTarget.range.head < this.viewport.from ||\n                this.scrollTarget.range.head > this.viewport.to);\n        if (viewportChange)\n            this.viewport = this.getViewport(bias, this.scrollTarget);\n        this.updateForViewport();\n        if ((result & 2 /* UpdateFlag.Height */) || viewportChange)\n            this.updateViewportLines();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > (2000 /* LG.Margin */ << 1))\n            this.updateLineGaps(this.ensureLineGaps(refresh ? [] : this.lineGaps, view));\n        result |= this.computeVisibleRanges();\n        if (this.mustEnforceCursorAssoc) {\n            this.mustEnforceCursorAssoc = false;\n            // This is done in the read stage, because moving the selection\n            // to a line end is going to trigger a layout anyway, so it\n            // can't be a pure write. It should be rare that it does any\n            // writing.\n            view.docView.enforceCursorAssoc();\n        }\n        return result;\n    }\n    get visibleTop() { return this.scaler.fromDOM(this.pixelViewport.top); }\n    get visibleBottom() { return this.scaler.fromDOM(this.pixelViewport.bottom); }\n    getViewport(bias, scrollTarget) {\n        // This will divide VP.Margin between the top and the\n        // bottom, depending on the bias (the change in viewport position\n        // since the last update). It'll hold a number between 0 and 1\n        let marginTop = 0.5 - Math.max(-0.5, Math.min(0.5, bias / 1000 /* VP.Margin */ / 2));\n        let map = this.heightMap, oracle = this.heightOracle;\n        let { visibleTop, visibleBottom } = this;\n        let viewport = new Viewport(map.lineAt(visibleTop - marginTop * 1000 /* VP.Margin */, QueryType.ByHeight, oracle, 0, 0).from, map.lineAt(visibleBottom + (1 - marginTop) * 1000 /* VP.Margin */, QueryType.ByHeight, oracle, 0, 0).to);\n        // If scrollTarget is given, make sure the viewport includes that position\n        if (scrollTarget) {\n            let { head } = scrollTarget.range;\n            if (head < viewport.from || head > viewport.to) {\n                let viewHeight = Math.min(this.editorHeight, this.pixelViewport.bottom - this.pixelViewport.top);\n                let block = map.lineAt(head, QueryType.ByPos, oracle, 0, 0), topPos;\n                if (scrollTarget.y == \"center\")\n                    topPos = (block.top + block.bottom) / 2 - viewHeight / 2;\n                else if (scrollTarget.y == \"start\" || scrollTarget.y == \"nearest\" && head < viewport.from)\n                    topPos = block.top;\n                else\n                    topPos = block.bottom - viewHeight;\n                viewport = new Viewport(map.lineAt(topPos - 1000 /* VP.Margin */ / 2, QueryType.ByHeight, oracle, 0, 0).from, map.lineAt(topPos + viewHeight + 1000 /* VP.Margin */ / 2, QueryType.ByHeight, oracle, 0, 0).to);\n            }\n        }\n        return viewport;\n    }\n    mapViewport(viewport, changes) {\n        let from = changes.mapPos(viewport.from, -1), to = changes.mapPos(viewport.to, 1);\n        return new Viewport(this.heightMap.lineAt(from, QueryType.ByPos, this.heightOracle, 0, 0).from, this.heightMap.lineAt(to, QueryType.ByPos, this.heightOracle, 0, 0).to);\n    }\n    // Checks if a given viewport covers the visible part of the\n    // document and not too much beyond that.\n    viewportIsAppropriate({ from, to }, bias = 0) {\n        if (!this.inView)\n            return true;\n        let { top } = this.heightMap.lineAt(from, QueryType.ByPos, this.heightOracle, 0, 0);\n        let { bottom } = this.heightMap.lineAt(to, QueryType.ByPos, this.heightOracle, 0, 0);\n        let { visibleTop, visibleBottom } = this;\n        return (from == 0 || top <= visibleTop - Math.max(10 /* VP.MinCoverMargin */, Math.min(-bias, 250 /* VP.MaxCoverMargin */))) &&\n            (to == this.state.doc.length ||\n                bottom >= visibleBottom + Math.max(10 /* VP.MinCoverMargin */, Math.min(bias, 250 /* VP.MaxCoverMargin */))) &&\n            (top > visibleTop - 2 * 1000 /* VP.Margin */ && bottom < visibleBottom + 2 * 1000 /* VP.Margin */);\n    }\n    mapLineGaps(gaps, changes) {\n        if (!gaps.length || changes.empty)\n            return gaps;\n        let mapped = [];\n        for (let gap of gaps)\n            if (!changes.touchesRange(gap.from, gap.to))\n                mapped.push(new LineGap(changes.mapPos(gap.from), changes.mapPos(gap.to), gap.size));\n        return mapped;\n    }\n    // Computes positions in the viewport where the start or end of a\n    // line should be hidden, trying to reuse existing line gaps when\n    // appropriate to avoid unneccesary redraws.\n    // Uses crude character-counting for the positioning and sizing,\n    // since actual DOM coordinates aren't always available and\n    // predictable. Relies on generous margins (see LG.Margin) to hide\n    // the artifacts this might produce from the user.\n    ensureLineGaps(current, mayMeasure) {\n        let wrapping = this.heightOracle.lineWrapping;\n        let margin = wrapping ? 10000 /* LG.MarginWrap */ : 2000 /* LG.Margin */, halfMargin = margin >> 1, doubleMargin = margin << 1;\n        // The non-wrapping logic won't work at all in predominantly right-to-left text.\n        if (this.defaultTextDirection != Direction.LTR && !wrapping)\n            return [];\n        let gaps = [];\n        let addGap = (from, to, line, structure) => {\n            if (to - from < halfMargin)\n                return;\n            let sel = this.state.selection.main, avoid = [sel.from];\n            if (!sel.empty)\n                avoid.push(sel.to);\n            for (let pos of avoid) {\n                if (pos > from && pos < to) {\n                    addGap(from, pos - 10 /* LG.SelectionMargin */, line, structure);\n                    addGap(pos + 10 /* LG.SelectionMargin */, to, line, structure);\n                    return;\n                }\n            }\n            let gap = find(current, gap => gap.from >= line.from && gap.to <= line.to &&\n                Math.abs(gap.from - from) < halfMargin && Math.abs(gap.to - to) < halfMargin &&\n                !avoid.some(pos => gap.from < pos && gap.to > pos));\n            if (!gap) {\n                // When scrolling down, snap gap ends to line starts to avoid shifts in wrapping\n                if (to < line.to && mayMeasure && wrapping &&\n                    mayMeasure.visibleRanges.some(r => r.from <= to && r.to >= to)) {\n                    let lineStart = mayMeasure.moveToLineBoundary(EditorSelection.cursor(to), false, true).head;\n                    if (lineStart > from)\n                        to = lineStart;\n                }\n                gap = new LineGap(from, to, this.gapSize(line, from, to, structure));\n            }\n            gaps.push(gap);\n        };\n        for (let line of this.viewportLines) {\n            if (line.length < doubleMargin)\n                continue;\n            let structure = lineStructure(line.from, line.to, this.stateDeco);\n            if (structure.total < doubleMargin)\n                continue;\n            let target = this.scrollTarget ? this.scrollTarget.range.head : null;\n            let viewFrom, viewTo;\n            if (wrapping) {\n                let marginHeight = (margin / this.heightOracle.lineLength) * this.heightOracle.lineHeight;\n                let top, bot;\n                if (target != null) {\n                    let targetFrac = findFraction(structure, target);\n                    let spaceFrac = ((this.visibleBottom - this.visibleTop) / 2 + marginHeight) / line.height;\n                    top = targetFrac - spaceFrac;\n                    bot = targetFrac + spaceFrac;\n                }\n                else {\n                    top = (this.visibleTop - line.top - marginHeight) / line.height;\n                    bot = (this.visibleBottom - line.top + marginHeight) / line.height;\n                }\n                viewFrom = findPosition(structure, top);\n                viewTo = findPosition(structure, bot);\n            }\n            else {\n                let totalWidth = structure.total * this.heightOracle.charWidth;\n                let marginWidth = margin * this.heightOracle.charWidth;\n                let left, right;\n                if (target != null) {\n                    let targetFrac = findFraction(structure, target);\n                    let spaceFrac = ((this.pixelViewport.right - this.pixelViewport.left) / 2 + marginWidth) / totalWidth;\n                    left = targetFrac - spaceFrac;\n                    right = targetFrac + spaceFrac;\n                }\n                else {\n                    left = (this.pixelViewport.left - marginWidth) / totalWidth;\n                    right = (this.pixelViewport.right + marginWidth) / totalWidth;\n                }\n                viewFrom = findPosition(structure, left);\n                viewTo = findPosition(structure, right);\n            }\n            if (viewFrom > line.from)\n                addGap(line.from, viewFrom, line, structure);\n            if (viewTo < line.to)\n                addGap(viewTo, line.to, line, structure);\n        }\n        return gaps;\n    }\n    gapSize(line, from, to, structure) {\n        let fraction = findFraction(structure, to) - findFraction(structure, from);\n        if (this.heightOracle.lineWrapping) {\n            return line.height * fraction;\n        }\n        else {\n            return structure.total * this.heightOracle.charWidth * fraction;\n        }\n    }\n    updateLineGaps(gaps) {\n        if (!LineGap.same(gaps, this.lineGaps)) {\n            this.lineGaps = gaps;\n            this.lineGapDeco = Decoration.set(gaps.map(gap => gap.draw(this, this.heightOracle.lineWrapping)));\n        }\n    }\n    computeVisibleRanges() {\n        let deco = this.stateDeco;\n        if (this.lineGaps.length)\n            deco = deco.concat(this.lineGapDeco);\n        let ranges = [];\n        RangeSet.spans(deco, this.viewport.from, this.viewport.to, {\n            span(from, to) { ranges.push({ from, to }); },\n            point() { }\n        }, 20);\n        let changed = ranges.length != this.visibleRanges.length ||\n            this.visibleRanges.some((r, i) => r.from != ranges[i].from || r.to != ranges[i].to);\n        this.visibleRanges = ranges;\n        return changed ? 4 /* UpdateFlag.Viewport */ : 0;\n    }\n    lineBlockAt(pos) {\n        return (pos >= this.viewport.from && pos <= this.viewport.to && this.viewportLines.find(b => b.from <= pos && b.to >= pos)) ||\n            scaleBlock(this.heightMap.lineAt(pos, QueryType.ByPos, this.heightOracle, 0, 0), this.scaler);\n    }\n    lineBlockAtHeight(height) {\n        return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(height), QueryType.ByHeight, this.heightOracle, 0, 0), this.scaler);\n    }\n    scrollAnchorAt(scrollTop) {\n        let block = this.lineBlockAtHeight(scrollTop + 8);\n        return block.from >= this.viewport.from || this.viewportLines[0].top - scrollTop > 200 ? block : this.viewportLines[0];\n    }\n    elementAtHeight(height) {\n        return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(height), this.heightOracle, 0, 0), this.scaler);\n    }\n    get docHeight() {\n        return this.scaler.toDOM(this.heightMap.height);\n    }\n    get contentHeight() {\n        return this.docHeight + this.paddingTop + this.paddingBottom;\n    }\n}\nclass Viewport {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n}\nfunction lineStructure(from, to, stateDeco) {\n    let ranges = [], pos = from, total = 0;\n    RangeSet.spans(stateDeco, from, to, {\n        span() { },\n        point(from, to) {\n            if (from > pos) {\n                ranges.push({ from: pos, to: from });\n                total += from - pos;\n            }\n            pos = to;\n        }\n    }, 20); // We're only interested in collapsed ranges of a significant size\n    if (pos < to) {\n        ranges.push({ from: pos, to });\n        total += to - pos;\n    }\n    return { total, ranges };\n}\nfunction findPosition({ total, ranges }, ratio) {\n    if (ratio <= 0)\n        return ranges[0].from;\n    if (ratio >= 1)\n        return ranges[ranges.length - 1].to;\n    let dist = Math.floor(total * ratio);\n    for (let i = 0;; i++) {\n        let { from, to } = ranges[i], size = to - from;\n        if (dist <= size)\n            return from + dist;\n        dist -= size;\n    }\n}\nfunction findFraction(structure, pos) {\n    let counted = 0;\n    for (let { from, to } of structure.ranges) {\n        if (pos <= to) {\n            counted += pos - from;\n            break;\n        }\n        counted += to - from;\n    }\n    return counted / structure.total;\n}\nfunction find(array, f) {\n    for (let val of array)\n        if (f(val))\n            return val;\n    return undefined;\n}\n// Don't scale when the document height is within the range of what\n// the DOM can handle.\nconst IdScaler = {\n    toDOM(n) { return n; },\n    fromDOM(n) { return n; },\n    scale: 1\n};\n// When the height is too big (> VP.MaxDOMHeight), scale down the\n// regions outside the viewports so that the total height is\n// VP.MaxDOMHeight.\nclass BigScaler {\n    constructor(oracle, heightMap, viewports) {\n        let vpHeight = 0, base = 0, domBase = 0;\n        this.viewports = viewports.map(({ from, to }) => {\n            let top = heightMap.lineAt(from, QueryType.ByPos, oracle, 0, 0).top;\n            let bottom = heightMap.lineAt(to, QueryType.ByPos, oracle, 0, 0).bottom;\n            vpHeight += bottom - top;\n            return { from, to, top, bottom, domTop: 0, domBottom: 0 };\n        });\n        this.scale = (7000000 /* VP.MaxDOMHeight */ - vpHeight) / (heightMap.height - vpHeight);\n        for (let obj of this.viewports) {\n            obj.domTop = domBase + (obj.top - base) * this.scale;\n            domBase = obj.domBottom = obj.domTop + (obj.bottom - obj.top);\n            base = obj.bottom;\n        }\n    }\n    toDOM(n) {\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.top)\n                return domBase + (n - base) * this.scale;\n            if (n <= vp.bottom)\n                return vp.domTop + (n - vp.top);\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n    fromDOM(n) {\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.domTop)\n                return base + (n - domBase) / this.scale;\n            if (n <= vp.domBottom)\n                return vp.top + (n - vp.domTop);\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n}\nfunction scaleBlock(block, scaler) {\n    if (scaler.scale == 1)\n        return block;\n    let bTop = scaler.toDOM(block.top), bBottom = scaler.toDOM(block.bottom);\n    return new BlockInfo(block.from, block.length, bTop, bBottom - bTop, Array.isArray(block._content) ? block._content.map(b => scaleBlock(b, scaler)) : block._content);\n}\n\nconst theme = /*@__PURE__*/Facet.define({ combine: strs => strs.join(\" \") });\nconst darkTheme = /*@__PURE__*/Facet.define({ combine: values => values.indexOf(true) > -1 });\nconst baseThemeID = /*@__PURE__*/StyleModule.newName(), baseLightID = /*@__PURE__*/StyleModule.newName(), baseDarkID = /*@__PURE__*/StyleModule.newName();\nconst lightDarkIDs = { \"&light\": \".\" + baseLightID, \"&dark\": \".\" + baseDarkID };\nfunction buildTheme(main, spec, scopes) {\n    return new StyleModule(spec, {\n        finish(sel) {\n            return /&/.test(sel) ? sel.replace(/&\\w*/, m => {\n                if (m == \"&\")\n                    return main;\n                if (!scopes || !scopes[m])\n                    throw new RangeError(`Unsupported selector: ${m}`);\n                return scopes[m];\n            }) : main + \" \" + sel;\n        }\n    });\n}\nconst baseTheme$1 = /*@__PURE__*/buildTheme(\".\" + baseThemeID, {\n    \"&\": {\n        position: \"relative !important\",\n        boxSizing: \"border-box\",\n        \"&.cm-focused\": {\n            // Provide a simple default outline to make sure a focused\n            // editor is visually distinct. Can't leave the default behavior\n            // because that will apply to the content element, which is\n            // inside the scrollable container and doesn't include the\n            // gutters. We also can't use an 'auto' outline, since those\n            // are, for some reason, drawn behind the element content, which\n            // will cause things like the active line background to cover\n            // the outline (#297).\n            outline: \"1px dotted #212121\"\n        },\n        display: \"flex !important\",\n        flexDirection: \"column\"\n    },\n    \".cm-scroller\": {\n        display: \"flex !important\",\n        alignItems: \"flex-start !important\",\n        fontFamily: \"monospace\",\n        lineHeight: 1.4,\n        height: \"100%\",\n        overflowX: \"auto\",\n        position: \"relative\",\n        zIndex: 0\n    },\n    \".cm-content\": {\n        margin: 0,\n        flexGrow: 2,\n        flexShrink: 0,\n        display: \"block\",\n        whiteSpace: \"pre\",\n        wordWrap: \"normal\",\n        boxSizing: \"border-box\",\n        padding: \"4px 0\",\n        outline: \"none\",\n        \"&[contenteditable=true]\": {\n            WebkitUserModify: \"read-write-plaintext-only\",\n        }\n    },\n    \".cm-lineWrapping\": {\n        whiteSpace_fallback: \"pre-wrap\",\n        whiteSpace: \"break-spaces\",\n        wordBreak: \"break-word\",\n        overflowWrap: \"anywhere\",\n        flexShrink: 1\n    },\n    \"&light .cm-content\": { caretColor: \"black\" },\n    \"&dark .cm-content\": { caretColor: \"white\" },\n    \".cm-line\": {\n        display: \"block\",\n        padding: \"0 2px 0 6px\"\n    },\n    \".cm-layer\": {\n        position: \"absolute\",\n        left: 0,\n        top: 0,\n        contain: \"size style\",\n        \"& > *\": {\n            position: \"absolute\"\n        }\n    },\n    \"&light .cm-selectionBackground\": {\n        background: \"#d9d9d9\"\n    },\n    \"&dark .cm-selectionBackground\": {\n        background: \"#222\"\n    },\n    \"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground\": {\n        background: \"#d7d4f0\"\n    },\n    \"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground\": {\n        background: \"#233\"\n    },\n    \".cm-cursorLayer\": {\n        pointerEvents: \"none\"\n    },\n    \"&.cm-focused > .cm-scroller > .cm-cursorLayer\": {\n        animation: \"steps(1) cm-blink 1.2s infinite\"\n    },\n    // Two animations defined so that we can switch between them to\n    // restart the animation without forcing another style\n    // recomputation.\n    \"@keyframes cm-blink\": { \"0%\": {}, \"50%\": { opacity: 0 }, \"100%\": {} },\n    \"@keyframes cm-blink2\": { \"0%\": {}, \"50%\": { opacity: 0 }, \"100%\": {} },\n    \".cm-cursor, .cm-dropCursor\": {\n        borderLeft: \"1.2px solid black\",\n        marginLeft: \"-0.6px\",\n        pointerEvents: \"none\",\n    },\n    \".cm-cursor\": {\n        display: \"none\"\n    },\n    \"&dark .cm-cursor\": {\n        borderLeftColor: \"#444\"\n    },\n    \".cm-dropCursor\": {\n        position: \"absolute\"\n    },\n    \"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor\": {\n        display: \"block\"\n    },\n    \"&light .cm-activeLine\": { backgroundColor: \"#cceeff44\" },\n    \"&dark .cm-activeLine\": { backgroundColor: \"#99eeff33\" },\n    \"&light .cm-specialChar\": { color: \"red\" },\n    \"&dark .cm-specialChar\": { color: \"#f78\" },\n    \".cm-gutters\": {\n        flexShrink: 0,\n        display: \"flex\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        insetInlineStart: 0,\n        zIndex: 200\n    },\n    \"&light .cm-gutters\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"#6c6c6c\",\n        borderRight: \"1px solid #ddd\"\n    },\n    \"&dark .cm-gutters\": {\n        backgroundColor: \"#333338\",\n        color: \"#ccc\"\n    },\n    \".cm-gutter\": {\n        display: \"flex !important\",\n        flexDirection: \"column\",\n        flexShrink: 0,\n        boxSizing: \"border-box\",\n        minHeight: \"100%\",\n        overflow: \"hidden\"\n    },\n    \".cm-gutterElement\": {\n        boxSizing: \"border-box\"\n    },\n    \".cm-lineNumbers .cm-gutterElement\": {\n        padding: \"0 3px 0 5px\",\n        minWidth: \"20px\",\n        textAlign: \"right\",\n        whiteSpace: \"nowrap\"\n    },\n    \"&light .cm-activeLineGutter\": {\n        backgroundColor: \"#e2f2ff\"\n    },\n    \"&dark .cm-activeLineGutter\": {\n        backgroundColor: \"#222227\"\n    },\n    \".cm-panels\": {\n        boxSizing: \"border-box\",\n        position: \"sticky\",\n        left: 0,\n        right: 0\n    },\n    \"&light .cm-panels\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"black\"\n    },\n    \"&light .cm-panels-top\": {\n        borderBottom: \"1px solid #ddd\"\n    },\n    \"&light .cm-panels-bottom\": {\n        borderTop: \"1px solid #ddd\"\n    },\n    \"&dark .cm-panels\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    },\n    \".cm-tab\": {\n        display: \"inline-block\",\n        overflow: \"hidden\",\n        verticalAlign: \"bottom\"\n    },\n    \".cm-widgetBuffer\": {\n        verticalAlign: \"text-top\",\n        height: \"1em\",\n        width: 0,\n        display: \"inline\"\n    },\n    \".cm-placeholder\": {\n        color: \"#888\",\n        display: \"inline-block\",\n        verticalAlign: \"top\",\n    },\n    \".cm-highlightSpace:before\": {\n        content: \"attr(data-display)\",\n        position: \"absolute\",\n        pointerEvents: \"none\",\n        color: \"#888\"\n    },\n    \".cm-highlightTab\": {\n        backgroundImage: `url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"200\" height=\"20\"><path stroke=\"%23888\" stroke-width=\"1\" fill=\"none\" d=\"M1 10H196L190 5M190 15L196 10M197 4L197 16\"/></svg>')`,\n        backgroundSize: \"auto 100%\",\n        backgroundPosition: \"right 90%\",\n        backgroundRepeat: \"no-repeat\"\n    },\n    \".cm-trailingSpace\": {\n        backgroundColor: \"#ff332255\"\n    },\n    \".cm-button\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        padding: \".2em 1em\",\n        borderRadius: \"1px\"\n    },\n    \"&light .cm-button\": {\n        backgroundImage: \"linear-gradient(#eff1f5, #d9d9df)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#b4b4b4, #d0d3d6)\"\n        }\n    },\n    \"&dark .cm-button\": {\n        backgroundImage: \"linear-gradient(#393939, #111)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#111, #333)\"\n        }\n    },\n    \".cm-textfield\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        border: \"1px solid silver\",\n        padding: \".2em .5em\"\n    },\n    \"&light .cm-textfield\": {\n        backgroundColor: \"white\"\n    },\n    \"&dark .cm-textfield\": {\n        border: \"1px solid #555\",\n        backgroundColor: \"inherit\"\n    }\n}, lightDarkIDs);\n\nconst LineBreakPlaceholder = \"\\uffff\";\nclass DOMReader {\n    constructor(points, state) {\n        this.points = points;\n        this.text = \"\";\n        this.lineSeparator = state.facet(EditorState.lineSeparator);\n    }\n    append(text) {\n        this.text += text;\n    }\n    lineBreak() {\n        this.text += LineBreakPlaceholder;\n    }\n    readRange(start, end) {\n        if (!start)\n            return this;\n        let parent = start.parentNode;\n        for (let cur = start;;) {\n            this.findPointBefore(parent, cur);\n            let oldLen = this.text.length;\n            this.readNode(cur);\n            let next = cur.nextSibling;\n            if (next == end)\n                break;\n            let view = ContentView.get(cur), nextView = ContentView.get(next);\n            if (view && nextView ? view.breakAfter :\n                (view ? view.breakAfter : isBlockElement(cur)) ||\n                    (isBlockElement(next) && (cur.nodeName != \"BR\" || cur.cmIgnore) && this.text.length > oldLen))\n                this.lineBreak();\n            cur = next;\n        }\n        this.findPointBefore(parent, end);\n        return this;\n    }\n    readTextNode(node) {\n        let text = node.nodeValue;\n        for (let point of this.points)\n            if (point.node == node)\n                point.pos = this.text.length + Math.min(point.offset, text.length);\n        for (let off = 0, re = this.lineSeparator ? null : /\\r\\n?|\\n/g;;) {\n            let nextBreak = -1, breakSize = 1, m;\n            if (this.lineSeparator) {\n                nextBreak = text.indexOf(this.lineSeparator, off);\n                breakSize = this.lineSeparator.length;\n            }\n            else if (m = re.exec(text)) {\n                nextBreak = m.index;\n                breakSize = m[0].length;\n            }\n            this.append(text.slice(off, nextBreak < 0 ? text.length : nextBreak));\n            if (nextBreak < 0)\n                break;\n            this.lineBreak();\n            if (breakSize > 1)\n                for (let point of this.points)\n                    if (point.node == node && point.pos > this.text.length)\n                        point.pos -= breakSize - 1;\n            off = nextBreak + breakSize;\n        }\n    }\n    readNode(node) {\n        if (node.cmIgnore)\n            return;\n        let view = ContentView.get(node);\n        let fromView = view && view.overrideDOMText;\n        if (fromView != null) {\n            this.findPointInside(node, fromView.length);\n            for (let i = fromView.iter(); !i.next().done;) {\n                if (i.lineBreak)\n                    this.lineBreak();\n                else\n                    this.append(i.value);\n            }\n        }\n        else if (node.nodeType == 3) {\n            this.readTextNode(node);\n        }\n        else if (node.nodeName == \"BR\") {\n            if (node.nextSibling)\n                this.lineBreak();\n        }\n        else if (node.nodeType == 1) {\n            this.readRange(node.firstChild, null);\n        }\n    }\n    findPointBefore(node, next) {\n        for (let point of this.points)\n            if (point.node == node && node.childNodes[point.offset] == next)\n                point.pos = this.text.length;\n    }\n    findPointInside(node, maxLen) {\n        for (let point of this.points)\n            if (node.nodeType == 3 ? point.node == node : node.contains(point.node))\n                point.pos = this.text.length + Math.min(maxLen, point.offset);\n    }\n}\nfunction isBlockElement(node) {\n    return node.nodeType == 1 && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\\d|SECTION|PRE)$/.test(node.nodeName);\n}\nclass DOMPoint {\n    constructor(node, offset) {\n        this.node = node;\n        this.offset = offset;\n        this.pos = -1;\n    }\n}\n\nclass DOMChange {\n    constructor(view, start, end, typeOver) {\n        this.typeOver = typeOver;\n        this.bounds = null;\n        this.text = \"\";\n        let { impreciseHead: iHead, impreciseAnchor: iAnchor } = view.docView;\n        if (view.state.readOnly && start > -1) {\n            // Ignore changes when the editor is read-only\n            this.newSel = null;\n        }\n        else if (start > -1 && (this.bounds = view.docView.domBoundsAround(start, end, 0))) {\n            let selPoints = iHead || iAnchor ? [] : selectionPoints(view);\n            let reader = new DOMReader(selPoints, view.state);\n            reader.readRange(this.bounds.startDOM, this.bounds.endDOM);\n            this.text = reader.text;\n            this.newSel = selectionFromPoints(selPoints, this.bounds.from);\n        }\n        else {\n            let domSel = view.observer.selectionRange;\n            let head = iHead && iHead.node == domSel.focusNode && iHead.offset == domSel.focusOffset ||\n                !contains(view.contentDOM, domSel.focusNode)\n                ? view.state.selection.main.head\n                : view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset);\n            let anchor = iAnchor && iAnchor.node == domSel.anchorNode && iAnchor.offset == domSel.anchorOffset ||\n                !contains(view.contentDOM, domSel.anchorNode)\n                ? view.state.selection.main.anchor\n                : view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset);\n            this.newSel = EditorSelection.single(anchor, head);\n        }\n    }\n}\nfunction applyDOMChange(view, domChange) {\n    let change;\n    let { newSel } = domChange, sel = view.state.selection.main;\n    let lastKey = view.inputState.lastKeyTime > Date.now() - 100 ? view.inputState.lastKeyCode : -1;\n    if (domChange.bounds) {\n        let { from, to } = domChange.bounds;\n        let preferredPos = sel.from, preferredSide = null;\n        // Prefer anchoring to end when Backspace is pressed (or, on\n        // Android, when something was deleted)\n        if (lastKey === 8 || browser.android && domChange.text.length < to - from) {\n            preferredPos = sel.to;\n            preferredSide = \"end\";\n        }\n        let diff = findDiff(view.state.doc.sliceString(from, to, LineBreakPlaceholder), domChange.text, preferredPos - from, preferredSide);\n        if (diff) {\n            // Chrome inserts two newlines when pressing shift-enter at the\n            // end of a line. DomChange drops one of those.\n            if (browser.chrome && lastKey == 13 &&\n                diff.toB == diff.from + 2 && domChange.text.slice(diff.from, diff.toB) == LineBreakPlaceholder + LineBreakPlaceholder)\n                diff.toB--;\n            change = { from: from + diff.from, to: from + diff.toA,\n                insert: Text.of(domChange.text.slice(diff.from, diff.toB).split(LineBreakPlaceholder)) };\n        }\n    }\n    else if (newSel && (!view.hasFocus && view.state.facet(editable) || newSel.main.eq(sel))) {\n        newSel = null;\n    }\n    if (!change && !newSel)\n        return false;\n    if (!change && domChange.typeOver && !sel.empty && newSel && newSel.main.empty) {\n        // Heuristic to notice typing over a selected character\n        change = { from: sel.from, to: sel.to, insert: view.state.doc.slice(sel.from, sel.to) };\n    }\n    else if (change && change.from >= sel.from && change.to <= sel.to &&\n        (change.from != sel.from || change.to != sel.to) &&\n        (sel.to - sel.from) - (change.to - change.from) <= 4) {\n        // If the change is inside the selection and covers most of it,\n        // assume it is a selection replace (with identical characters at\n        // the start/end not included in the diff)\n        change = {\n            from: sel.from, to: sel.to,\n            insert: view.state.doc.slice(sel.from, change.from).append(change.insert).append(view.state.doc.slice(change.to, sel.to))\n        };\n    }\n    else if ((browser.mac || browser.android) && change && change.from == change.to && change.from == sel.head - 1 &&\n        /^\\. ?$/.test(change.insert.toString()) && view.contentDOM.getAttribute(\"autocorrect\") == \"off\") {\n        // Detect insert-period-on-double-space Mac and Android behavior,\n        // and transform it into a regular space insert.\n        if (newSel && change.insert.length == 2)\n            newSel = EditorSelection.single(newSel.main.anchor - 1, newSel.main.head - 1);\n        change = { from: sel.from, to: sel.to, insert: Text.of([\" \"]) };\n    }\n    else if (browser.chrome && change && change.from == change.to && change.from == sel.head &&\n        change.insert.toString() == \"\\n \" && view.lineWrapping) {\n        // In Chrome, if you insert a space at the start of a wrapped\n        // line, it will actually insert a newline and a space, causing a\n        // bogus new line to be created in CodeMirror (#968)\n        if (newSel)\n            newSel = EditorSelection.single(newSel.main.anchor - 1, newSel.main.head - 1);\n        change = { from: sel.from, to: sel.to, insert: Text.of([\" \"]) };\n    }\n    if (change) {\n        if (browser.ios && view.inputState.flushIOSKey())\n            return true;\n        // Android browsers don't fire reasonable key events for enter,\n        // backspace, or delete. So this detects changes that look like\n        // they're caused by those keys, and reinterprets them as key\n        // events. (Some of these keys are also handled by beforeinput\n        // events and the pendingAndroidKey mechanism, but that's not\n        // reliable in all situations.)\n        if (browser.android &&\n            ((change.from == sel.from && change.to == sel.to &&\n                change.insert.length == 1 && change.insert.lines == 2 &&\n                dispatchKey(view.contentDOM, \"Enter\", 13)) ||\n                ((change.from == sel.from - 1 && change.to == sel.to && change.insert.length == 0 ||\n                    lastKey == 8 && change.insert.length < change.to - change.from && change.to > sel.head) &&\n                    dispatchKey(view.contentDOM, \"Backspace\", 8)) ||\n                (change.from == sel.from && change.to == sel.to + 1 && change.insert.length == 0 &&\n                    dispatchKey(view.contentDOM, \"Delete\", 46))))\n            return true;\n        let text = change.insert.toString();\n        if (view.inputState.composing >= 0)\n            view.inputState.composing++;\n        let defaultTr;\n        let defaultInsert = () => defaultTr || (defaultTr = applyDefaultInsert(view, change, newSel));\n        if (!view.state.facet(inputHandler).some(h => h(view, change.from, change.to, text, defaultInsert)))\n            view.dispatch(defaultInsert());\n        return true;\n    }\n    else if (newSel && !newSel.main.eq(sel)) {\n        let scrollIntoView = false, userEvent = \"select\";\n        if (view.inputState.lastSelectionTime > Date.now() - 50) {\n            if (view.inputState.lastSelectionOrigin == \"select\")\n                scrollIntoView = true;\n            userEvent = view.inputState.lastSelectionOrigin;\n        }\n        view.dispatch({ selection: newSel, scrollIntoView, userEvent });\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nfunction applyDefaultInsert(view, change, newSel) {\n    let tr, startState = view.state, sel = startState.selection.main;\n    if (change.from >= sel.from && change.to <= sel.to && change.to - change.from >= (sel.to - sel.from) / 3 &&\n        (!newSel || newSel.main.empty && newSel.main.from == change.from + change.insert.length) &&\n        view.inputState.composing < 0) {\n        let before = sel.from < change.from ? startState.sliceDoc(sel.from, change.from) : \"\";\n        let after = sel.to > change.to ? startState.sliceDoc(change.to, sel.to) : \"\";\n        tr = startState.replaceSelection(view.state.toText(before + change.insert.sliceString(0, undefined, view.state.lineBreak) + after));\n    }\n    else {\n        let changes = startState.changes(change);\n        let mainSel = newSel && newSel.main.to <= changes.newLength ? newSel.main : undefined;\n        // Try to apply a composition change to all cursors\n        if (startState.selection.ranges.length > 1 && view.inputState.composing >= 0 &&\n            change.to <= sel.to && change.to >= sel.to - 10) {\n            let replaced = view.state.sliceDoc(change.from, change.to);\n            let compositionRange, composition = newSel && findCompositionNode(view, newSel.main.head);\n            if (composition) {\n                let dLen = change.insert.length - (change.to - change.from);\n                compositionRange = { from: composition.from, to: composition.to - dLen };\n            }\n            else {\n                compositionRange = view.state.doc.lineAt(sel.head);\n            }\n            let offset = sel.to - change.to, size = sel.to - sel.from;\n            tr = startState.changeByRange(range => {\n                if (range.from == sel.from && range.to == sel.to)\n                    return { changes, range: mainSel || range.map(changes) };\n                let to = range.to - offset, from = to - replaced.length;\n                if (range.to - range.from != size || view.state.sliceDoc(from, to) != replaced ||\n                    // Unfortunately, there's no way to make multiple\n                    // changes in the same node work without aborting\n                    // composition, so cursors in the composition range are\n                    // ignored.\n                    range.to >= compositionRange.from && range.from <= compositionRange.to)\n                    return { range };\n                let rangeChanges = startState.changes({ from, to, insert: change.insert }), selOff = range.to - sel.to;\n                return {\n                    changes: rangeChanges,\n                    range: !mainSel ? range.map(rangeChanges) :\n                        EditorSelection.range(Math.max(0, mainSel.anchor + selOff), Math.max(0, mainSel.head + selOff))\n                };\n            });\n        }\n        else {\n            tr = {\n                changes,\n                selection: mainSel && startState.selection.replaceRange(mainSel)\n            };\n        }\n    }\n    let userEvent = \"input.type\";\n    if (view.composing ||\n        view.inputState.compositionPendingChange && view.inputState.compositionEndedAt > Date.now() - 50) {\n        view.inputState.compositionPendingChange = false;\n        userEvent += \".compose\";\n        if (view.inputState.compositionFirstChange) {\n            userEvent += \".start\";\n            view.inputState.compositionFirstChange = false;\n        }\n    }\n    return startState.update(tr, { userEvent, scrollIntoView: true });\n}\nfunction findDiff(a, b, preferredPos, preferredSide) {\n    let minLen = Math.min(a.length, b.length);\n    let from = 0;\n    while (from < minLen && a.charCodeAt(from) == b.charCodeAt(from))\n        from++;\n    if (from == minLen && a.length == b.length)\n        return null;\n    let toA = a.length, toB = b.length;\n    while (toA > 0 && toB > 0 && a.charCodeAt(toA - 1) == b.charCodeAt(toB - 1)) {\n        toA--;\n        toB--;\n    }\n    if (preferredSide == \"end\") {\n        let adjust = Math.max(0, from - Math.min(toA, toB));\n        preferredPos -= toA + adjust - from;\n    }\n    if (toA < from && a.length < b.length) {\n        let move = preferredPos <= from && preferredPos >= toA ? from - preferredPos : 0;\n        from -= move;\n        toB = from + (toB - toA);\n        toA = from;\n    }\n    else if (toB < from) {\n        let move = preferredPos <= from && preferredPos >= toB ? from - preferredPos : 0;\n        from -= move;\n        toA = from + (toA - toB);\n        toB = from;\n    }\n    return { from, toA, toB };\n}\nfunction selectionPoints(view) {\n    let result = [];\n    if (view.root.activeElement != view.contentDOM)\n        return result;\n    let { anchorNode, anchorOffset, focusNode, focusOffset } = view.observer.selectionRange;\n    if (anchorNode) {\n        result.push(new DOMPoint(anchorNode, anchorOffset));\n        if (focusNode != anchorNode || focusOffset != anchorOffset)\n            result.push(new DOMPoint(focusNode, focusOffset));\n    }\n    return result;\n}\nfunction selectionFromPoints(points, base) {\n    if (points.length == 0)\n        return null;\n    let anchor = points[0].pos, head = points.length == 2 ? points[1].pos : anchor;\n    return anchor > -1 && head > -1 ? EditorSelection.single(anchor + base, head + base) : null;\n}\n\nconst observeOptions = {\n    childList: true,\n    characterData: true,\n    subtree: true,\n    attributes: true,\n    characterDataOldValue: true\n};\n// IE11 has very broken mutation observers, so we also listen to\n// DOMCharacterDataModified there\nconst useCharData = browser.ie && browser.ie_version <= 11;\nclass DOMObserver {\n    constructor(view) {\n        this.view = view;\n        this.active = false;\n        // The known selection. Kept in our own object, as opposed to just\n        // directly accessing the selection because:\n        //  - Safari doesn't report the right selection in shadow DOM\n        //  - Reading from the selection forces a DOM layout\n        //  - This way, we can ignore selectionchange events if we have\n        //    already seen the 'new' selection\n        this.selectionRange = new DOMSelectionState;\n        // Set when a selection change is detected, cleared on flush\n        this.selectionChanged = false;\n        this.delayedFlush = -1;\n        this.resizeTimeout = -1;\n        this.queue = [];\n        this.delayedAndroidKey = null;\n        this.flushingAndroidKey = -1;\n        this.lastChange = 0;\n        this.scrollTargets = [];\n        this.intersection = null;\n        this.resizeScroll = null;\n        this.resizeContent = null;\n        this.intersecting = false;\n        this.gapIntersection = null;\n        this.gaps = [];\n        // Timeout for scheduling check of the parents that need scroll handlers\n        this.parentCheck = -1;\n        this.dom = view.contentDOM;\n        this.observer = new MutationObserver(mutations => {\n            for (let mut of mutations)\n                this.queue.push(mut);\n            // IE11 will sometimes (on typing over a selection or\n            // backspacing out a single character text node) call the\n            // observer callback before actually updating the DOM.\n            //\n            // Unrelatedly, iOS Safari will, when ending a composition,\n            // sometimes first clear it, deliver the mutations, and then\n            // reinsert the finished text. CodeMirror's handling of the\n            // deletion will prevent the reinsertion from happening,\n            // breaking composition.\n            if ((browser.ie && browser.ie_version <= 11 || browser.ios && view.composing) &&\n                mutations.some(m => m.type == \"childList\" && m.removedNodes.length ||\n                    m.type == \"characterData\" && m.oldValue.length > m.target.nodeValue.length))\n                this.flushSoon();\n            else\n                this.flush();\n        });\n        if (useCharData)\n            this.onCharData = (event) => {\n                this.queue.push({ target: event.target,\n                    type: \"characterData\",\n                    oldValue: event.prevValue });\n                this.flushSoon();\n            };\n        this.onSelectionChange = this.onSelectionChange.bind(this);\n        this.onResize = this.onResize.bind(this);\n        this.onPrint = this.onPrint.bind(this);\n        this.onScroll = this.onScroll.bind(this);\n        if (typeof ResizeObserver == \"function\") {\n            this.resizeScroll = new ResizeObserver(() => {\n                var _a;\n                if (((_a = this.view.docView) === null || _a === void 0 ? void 0 : _a.lastUpdate) < Date.now() - 75)\n                    this.onResize();\n            });\n            this.resizeScroll.observe(view.scrollDOM);\n            this.resizeContent = new ResizeObserver(() => this.view.requestMeasure());\n            this.resizeContent.observe(view.contentDOM);\n        }\n        this.addWindowListeners(this.win = view.win);\n        this.start();\n        if (typeof IntersectionObserver == \"function\") {\n            this.intersection = new IntersectionObserver(entries => {\n                if (this.parentCheck < 0)\n                    this.parentCheck = setTimeout(this.listenForScroll.bind(this), 1000);\n                if (entries.length > 0 && (entries[entries.length - 1].intersectionRatio > 0) != this.intersecting) {\n                    this.intersecting = !this.intersecting;\n                    if (this.intersecting != this.view.inView)\n                        this.onScrollChanged(document.createEvent(\"Event\"));\n                }\n            }, { threshold: [0, .001] });\n            this.intersection.observe(this.dom);\n            this.gapIntersection = new IntersectionObserver(entries => {\n                if (entries.length > 0 && entries[entries.length - 1].intersectionRatio > 0)\n                    this.onScrollChanged(document.createEvent(\"Event\"));\n            }, {});\n        }\n        this.listenForScroll();\n        this.readSelectionRange();\n    }\n    onScrollChanged(e) {\n        this.view.inputState.runHandlers(\"scroll\", e);\n        if (this.intersecting)\n            this.view.measure();\n    }\n    onScroll(e) {\n        if (this.intersecting)\n            this.flush(false);\n        this.onScrollChanged(e);\n    }\n    onResize() {\n        if (this.resizeTimeout < 0)\n            this.resizeTimeout = setTimeout(() => {\n                this.resizeTimeout = -1;\n                this.view.requestMeasure();\n            }, 50);\n    }\n    onPrint() {\n        this.view.viewState.printing = true;\n        this.view.measure();\n        setTimeout(() => {\n            this.view.viewState.printing = false;\n            this.view.requestMeasure();\n        }, 500);\n    }\n    updateGaps(gaps) {\n        if (this.gapIntersection && (gaps.length != this.gaps.length || this.gaps.some((g, i) => g != gaps[i]))) {\n            this.gapIntersection.disconnect();\n            for (let gap of gaps)\n                this.gapIntersection.observe(gap);\n            this.gaps = gaps;\n        }\n    }\n    onSelectionChange(event) {\n        let wasChanged = this.selectionChanged;\n        if (!this.readSelectionRange() || this.delayedAndroidKey)\n            return;\n        let { view } = this, sel = this.selectionRange;\n        if (view.state.facet(editable) ? view.root.activeElement != this.dom : !hasSelection(view.dom, sel))\n            return;\n        let context = sel.anchorNode && view.docView.nearest(sel.anchorNode);\n        if (context && context.ignoreEvent(event)) {\n            if (!wasChanged)\n                this.selectionChanged = false;\n            return;\n        }\n        // Deletions on IE11 fire their events in the wrong order, giving\n        // us a selection change event before the DOM changes are\n        // reported.\n        // Chrome Android has a similar issue when backspacing out a\n        // selection (#645).\n        if ((browser.ie && browser.ie_version <= 11 || browser.android && browser.chrome) && !view.state.selection.main.empty &&\n            // (Selection.isCollapsed isn't reliable on IE)\n            sel.focusNode && isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset))\n            this.flushSoon();\n        else\n            this.flush(false);\n    }\n    readSelectionRange() {\n        let { view } = this;\n        // The Selection object is broken in shadow roots in Safari. See\n        // https://github.com/codemirror/dev/issues/414\n        let range = browser.safari && view.root.nodeType == 11 &&\n            deepActiveElement(this.dom.ownerDocument) == this.dom &&\n            safariSelectionRangeHack(this.view) || getSelection(view.root);\n        if (!range || this.selectionRange.eq(range))\n            return false;\n        let local = hasSelection(this.dom, range);\n        // Detect the situation where the browser has, on focus, moved the\n        // selection to the start of the content element. Reset it to the\n        // position from the editor state.\n        if (local && !this.selectionChanged &&\n            view.inputState.lastFocusTime > Date.now() - 200 &&\n            view.inputState.lastTouchTime < Date.now() - 300 &&\n            atElementStart(this.dom, range)) {\n            this.view.inputState.lastFocusTime = 0;\n            view.docView.updateSelection();\n            return false;\n        }\n        this.selectionRange.setRange(range);\n        if (local)\n            this.selectionChanged = true;\n        return true;\n    }\n    setSelectionRange(anchor, head) {\n        this.selectionRange.set(anchor.node, anchor.offset, head.node, head.offset);\n        this.selectionChanged = false;\n    }\n    clearSelectionRange() {\n        this.selectionRange.set(null, 0, null, 0);\n    }\n    listenForScroll() {\n        this.parentCheck = -1;\n        let i = 0, changed = null;\n        for (let dom = this.dom; dom;) {\n            if (dom.nodeType == 1) {\n                if (!changed && i < this.scrollTargets.length && this.scrollTargets[i] == dom)\n                    i++;\n                else if (!changed)\n                    changed = this.scrollTargets.slice(0, i);\n                if (changed)\n                    changed.push(dom);\n                dom = dom.assignedSlot || dom.parentNode;\n            }\n            else if (dom.nodeType == 11) { // Shadow root\n                dom = dom.host;\n            }\n            else {\n                break;\n            }\n        }\n        if (i < this.scrollTargets.length && !changed)\n            changed = this.scrollTargets.slice(0, i);\n        if (changed) {\n            for (let dom of this.scrollTargets)\n                dom.removeEventListener(\"scroll\", this.onScroll);\n            for (let dom of this.scrollTargets = changed)\n                dom.addEventListener(\"scroll\", this.onScroll);\n        }\n    }\n    ignore(f) {\n        if (!this.active)\n            return f();\n        try {\n            this.stop();\n            return f();\n        }\n        finally {\n            this.start();\n            this.clear();\n        }\n    }\n    start() {\n        if (this.active)\n            return;\n        this.observer.observe(this.dom, observeOptions);\n        if (useCharData)\n            this.dom.addEventListener(\"DOMCharacterDataModified\", this.onCharData);\n        this.active = true;\n    }\n    stop() {\n        if (!this.active)\n            return;\n        this.active = false;\n        this.observer.disconnect();\n        if (useCharData)\n            this.dom.removeEventListener(\"DOMCharacterDataModified\", this.onCharData);\n    }\n    // Throw away any pending changes\n    clear() {\n        this.processRecords();\n        this.queue.length = 0;\n        this.selectionChanged = false;\n    }\n    // Chrome Android, especially in combination with GBoard, not only\n    // doesn't reliably fire regular key events, but also often\n    // surrounds the effect of enter or backspace with a bunch of\n    // composition events that, when interrupted, cause text duplication\n    // or other kinds of corruption. This hack makes the editor back off\n    // from handling DOM changes for a moment when such a key is\n    // detected (via beforeinput or keydown), and then tries to flush\n    // them or, if that has no effect, dispatches the given key.\n    delayAndroidKey(key, keyCode) {\n        var _a;\n        if (!this.delayedAndroidKey) {\n            let flush = () => {\n                let key = this.delayedAndroidKey;\n                if (key) {\n                    this.clearDelayedAndroidKey();\n                    this.view.inputState.lastKeyCode = key.keyCode;\n                    this.view.inputState.lastKeyTime = Date.now();\n                    let flushed = this.flush();\n                    if (!flushed && key.force)\n                        dispatchKey(this.dom, key.key, key.keyCode);\n                }\n            };\n            this.flushingAndroidKey = this.view.win.requestAnimationFrame(flush);\n        }\n        // Since backspace beforeinput is sometimes signalled spuriously,\n        // Enter always takes precedence.\n        if (!this.delayedAndroidKey || key == \"Enter\")\n            this.delayedAndroidKey = {\n                key, keyCode,\n                // Only run the key handler when no changes are detected if\n                // this isn't coming right after another change, in which case\n                // it is probably part of a weird chain of updates, and should\n                // be ignored if it returns the DOM to its previous state.\n                force: this.lastChange < Date.now() - 50 || !!((_a = this.delayedAndroidKey) === null || _a === void 0 ? void 0 : _a.force)\n            };\n    }\n    clearDelayedAndroidKey() {\n        this.win.cancelAnimationFrame(this.flushingAndroidKey);\n        this.delayedAndroidKey = null;\n        this.flushingAndroidKey = -1;\n    }\n    flushSoon() {\n        if (this.delayedFlush < 0)\n            this.delayedFlush = this.view.win.requestAnimationFrame(() => { this.delayedFlush = -1; this.flush(); });\n    }\n    forceFlush() {\n        if (this.delayedFlush >= 0) {\n            this.view.win.cancelAnimationFrame(this.delayedFlush);\n            this.delayedFlush = -1;\n        }\n        this.flush();\n    }\n    pendingRecords() {\n        for (let mut of this.observer.takeRecords())\n            this.queue.push(mut);\n        return this.queue;\n    }\n    processRecords() {\n        let records = this.pendingRecords();\n        if (records.length)\n            this.queue = [];\n        let from = -1, to = -1, typeOver = false;\n        for (let record of records) {\n            let range = this.readMutation(record);\n            if (!range)\n                continue;\n            if (range.typeOver)\n                typeOver = true;\n            if (from == -1) {\n                ({ from, to } = range);\n            }\n            else {\n                from = Math.min(range.from, from);\n                to = Math.max(range.to, to);\n            }\n        }\n        return { from, to, typeOver };\n    }\n    readChange() {\n        let { from, to, typeOver } = this.processRecords();\n        let newSel = this.selectionChanged && hasSelection(this.dom, this.selectionRange);\n        if (from < 0 && !newSel)\n            return null;\n        if (from > -1)\n            this.lastChange = Date.now();\n        this.view.inputState.lastFocusTime = 0;\n        this.selectionChanged = false;\n        let change = new DOMChange(this.view, from, to, typeOver);\n        this.view.docView.domChanged = { newSel: change.newSel ? change.newSel.main : null };\n        return change;\n    }\n    // Apply pending changes, if any\n    flush(readSelection = true) {\n        // Completely hold off flushing when pending keys are set—the code\n        // managing those will make sure processRecords is called and the\n        // view is resynchronized after\n        if (this.delayedFlush >= 0 || this.delayedAndroidKey)\n            return false;\n        if (readSelection)\n            this.readSelectionRange();\n        let domChange = this.readChange();\n        if (!domChange)\n            return false;\n        let startState = this.view.state;\n        let handled = applyDOMChange(this.view, domChange);\n        // The view wasn't updated\n        if (this.view.state == startState)\n            this.view.update([]);\n        return handled;\n    }\n    readMutation(rec) {\n        let cView = this.view.docView.nearest(rec.target);\n        if (!cView || cView.ignoreMutation(rec))\n            return null;\n        cView.markDirty(rec.type == \"attributes\");\n        if (rec.type == \"attributes\")\n            cView.flags |= 4 /* ViewFlag.AttrsDirty */;\n        if (rec.type == \"childList\") {\n            let childBefore = findChild(cView, rec.previousSibling || rec.target.previousSibling, -1);\n            let childAfter = findChild(cView, rec.nextSibling || rec.target.nextSibling, 1);\n            return { from: childBefore ? cView.posAfter(childBefore) : cView.posAtStart,\n                to: childAfter ? cView.posBefore(childAfter) : cView.posAtEnd, typeOver: false };\n        }\n        else if (rec.type == \"characterData\") {\n            return { from: cView.posAtStart, to: cView.posAtEnd, typeOver: rec.target.nodeValue == rec.oldValue };\n        }\n        else {\n            return null;\n        }\n    }\n    setWindow(win) {\n        if (win != this.win) {\n            this.removeWindowListeners(this.win);\n            this.win = win;\n            this.addWindowListeners(this.win);\n        }\n    }\n    addWindowListeners(win) {\n        win.addEventListener(\"resize\", this.onResize);\n        win.addEventListener(\"beforeprint\", this.onPrint);\n        win.addEventListener(\"scroll\", this.onScroll);\n        win.document.addEventListener(\"selectionchange\", this.onSelectionChange);\n    }\n    removeWindowListeners(win) {\n        win.removeEventListener(\"scroll\", this.onScroll);\n        win.removeEventListener(\"resize\", this.onResize);\n        win.removeEventListener(\"beforeprint\", this.onPrint);\n        win.document.removeEventListener(\"selectionchange\", this.onSelectionChange);\n    }\n    destroy() {\n        var _a, _b, _c, _d;\n        this.stop();\n        (_a = this.intersection) === null || _a === void 0 ? void 0 : _a.disconnect();\n        (_b = this.gapIntersection) === null || _b === void 0 ? void 0 : _b.disconnect();\n        (_c = this.resizeScroll) === null || _c === void 0 ? void 0 : _c.disconnect();\n        (_d = this.resizeContent) === null || _d === void 0 ? void 0 : _d.disconnect();\n        for (let dom of this.scrollTargets)\n            dom.removeEventListener(\"scroll\", this.onScroll);\n        this.removeWindowListeners(this.win);\n        clearTimeout(this.parentCheck);\n        clearTimeout(this.resizeTimeout);\n        this.win.cancelAnimationFrame(this.delayedFlush);\n        this.win.cancelAnimationFrame(this.flushingAndroidKey);\n    }\n}\nfunction findChild(cView, dom, dir) {\n    while (dom) {\n        let curView = ContentView.get(dom);\n        if (curView && curView.parent == cView)\n            return curView;\n        let parent = dom.parentNode;\n        dom = parent != cView.dom ? parent : dir > 0 ? dom.nextSibling : dom.previousSibling;\n    }\n    return null;\n}\n// Used to work around a Safari Selection/shadow DOM bug (#414)\nfunction safariSelectionRangeHack(view) {\n    let found = null;\n    // Because Safari (at least in 2018-2021) doesn't provide regular\n    // access to the selection inside a shadowroot, we have to perform a\n    // ridiculous hack to get at it—using `execCommand` to trigger a\n    // `beforeInput` event so that we can read the target range from the\n    // event.\n    function read(event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        found = event.getTargetRanges()[0];\n    }\n    view.contentDOM.addEventListener(\"beforeinput\", read, true);\n    view.dom.ownerDocument.execCommand(\"indent\");\n    view.contentDOM.removeEventListener(\"beforeinput\", read, true);\n    if (!found)\n        return null;\n    let anchorNode = found.startContainer, anchorOffset = found.startOffset;\n    let focusNode = found.endContainer, focusOffset = found.endOffset;\n    let curAnchor = view.docView.domAtPos(view.state.selection.main.anchor);\n    // Since such a range doesn't distinguish between anchor and head,\n    // use a heuristic that flips it around if its end matches the\n    // current anchor.\n    if (isEquivalentPosition(curAnchor.node, curAnchor.offset, focusNode, focusOffset))\n        [anchorNode, anchorOffset, focusNode, focusOffset] = [focusNode, focusOffset, anchorNode, anchorOffset];\n    return { anchorNode, anchorOffset, focusNode, focusOffset };\n}\n\n// The editor's update state machine looks something like this:\n//\n//     Idle → Updating ⇆ Idle (unchecked) → Measuring → Idle\n//                                         ↑      ↓\n//                                         Updating (measure)\n//\n// The difference between 'Idle' and 'Idle (unchecked)' lies in\n// whether a layout check has been scheduled. A regular update through\n// the `update` method updates the DOM in a write-only fashion, and\n// relies on a check (scheduled with `requestAnimationFrame`) to make\n// sure everything is where it should be and the viewport covers the\n// visible code. That check continues to measure and then optionally\n// update until it reaches a coherent state.\n/**\nAn editor view represents the editor's user interface. It holds\nthe editable DOM surface, and possibly other elements such as the\nline number gutter. It handles events and dispatches state\ntransactions for editing actions.\n*/\nclass EditorView {\n    /**\n    The current editor state.\n    */\n    get state() { return this.viewState.state; }\n    /**\n    To be able to display large documents without consuming too much\n    memory or overloading the browser, CodeMirror only draws the\n    code that is visible (plus a margin around it) to the DOM. This\n    property tells you the extent of the current drawn viewport, in\n    document positions.\n    */\n    get viewport() { return this.viewState.viewport; }\n    /**\n    When there are, for example, large collapsed ranges in the\n    viewport, its size can be a lot bigger than the actual visible\n    content. Thus, if you are doing something like styling the\n    content in the viewport, it is preferable to only do so for\n    these ranges, which are the subset of the viewport that is\n    actually drawn.\n    */\n    get visibleRanges() { return this.viewState.visibleRanges; }\n    /**\n    Returns false when the editor is entirely scrolled out of view\n    or otherwise hidden.\n    */\n    get inView() { return this.viewState.inView; }\n    /**\n    Indicates whether the user is currently composing text via\n    [IME](https://en.wikipedia.org/wiki/Input_method), and at least\n    one change has been made in the current composition.\n    */\n    get composing() { return this.inputState.composing > 0; }\n    /**\n    Indicates whether the user is currently in composing state. Note\n    that on some platforms, like Android, this will be the case a\n    lot, since just putting the cursor on a word starts a\n    composition there.\n    */\n    get compositionStarted() { return this.inputState.composing >= 0; }\n    /**\n    The document or shadow root that the view lives in.\n    */\n    get root() { return this._root; }\n    /**\n    @internal\n    */\n    get win() { return this.dom.ownerDocument.defaultView || window; }\n    /**\n    Construct a new view. You'll want to either provide a `parent`\n    option, or put `view.dom` into your document after creating a\n    view, so that the user can see the editor.\n    */\n    constructor(config = {}) {\n        this.plugins = [];\n        this.pluginMap = new Map;\n        this.editorAttrs = {};\n        this.contentAttrs = {};\n        this.bidiCache = [];\n        this.destroyed = false;\n        /**\n        @internal\n        */\n        this.updateState = 2 /* UpdateState.Updating */;\n        /**\n        @internal\n        */\n        this.measureScheduled = -1;\n        /**\n        @internal\n        */\n        this.measureRequests = [];\n        this.contentDOM = document.createElement(\"div\");\n        this.scrollDOM = document.createElement(\"div\");\n        this.scrollDOM.tabIndex = -1;\n        this.scrollDOM.className = \"cm-scroller\";\n        this.scrollDOM.appendChild(this.contentDOM);\n        this.announceDOM = document.createElement(\"div\");\n        this.announceDOM.style.cssText = \"position: fixed; top: -10000px\";\n        this.announceDOM.setAttribute(\"aria-live\", \"polite\");\n        this.dom = document.createElement(\"div\");\n        this.dom.appendChild(this.announceDOM);\n        this.dom.appendChild(this.scrollDOM);\n        let { dispatch } = config;\n        this.dispatchTransactions = config.dispatchTransactions ||\n            (dispatch && ((trs) => trs.forEach(tr => dispatch(tr, this)))) ||\n            ((trs) => this.update(trs));\n        this.dispatch = this.dispatch.bind(this);\n        this._root = (config.root || getRoot(config.parent) || document);\n        this.viewState = new ViewState(config.state || EditorState.create(config));\n        this.plugins = this.state.facet(viewPlugin).map(spec => new PluginInstance(spec));\n        for (let plugin of this.plugins)\n            plugin.update(this);\n        this.observer = new DOMObserver(this);\n        this.inputState = new InputState(this);\n        this.inputState.ensureHandlers(this.plugins);\n        this.docView = new DocView(this);\n        this.mountStyles();\n        this.updateAttrs();\n        this.updateState = 0 /* UpdateState.Idle */;\n        this.requestMeasure();\n        if (config.parent)\n            config.parent.appendChild(this.dom);\n    }\n    dispatch(...input) {\n        let trs = input.length == 1 && input[0] instanceof Transaction ? input\n            : input.length == 1 && Array.isArray(input[0]) ? input[0]\n                : [this.state.update(...input)];\n        this.dispatchTransactions(trs, this);\n    }\n    /**\n    Update the view for the given array of transactions. This will\n    update the visible document and selection to match the state\n    produced by the transactions, and notify view plugins of the\n    change. You should usually call\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead, which uses this\n    as a primitive.\n    */\n    update(transactions) {\n        if (this.updateState != 0 /* UpdateState.Idle */)\n            throw new Error(\"Calls to EditorView.update are not allowed while an update is in progress\");\n        let redrawn = false, attrsChanged = false, update;\n        let state = this.state;\n        for (let tr of transactions) {\n            if (tr.startState != state)\n                throw new RangeError(\"Trying to update state with a transaction that doesn't start from the previous state.\");\n            state = tr.state;\n        }\n        if (this.destroyed) {\n            this.viewState.state = state;\n            return;\n        }\n        let focus = this.hasFocus, focusFlag = 0, dispatchFocus = null;\n        if (transactions.some(tr => tr.annotation(isFocusChange))) {\n            this.inputState.notifiedFocused = focus;\n            // If a focus-change transaction is being dispatched, set this update flag.\n            focusFlag = 1 /* UpdateFlag.Focus */;\n        }\n        else if (focus != this.inputState.notifiedFocused) {\n            this.inputState.notifiedFocused = focus;\n            // Schedule a separate focus transaction if necessary, otherwise\n            // add a flag to this update\n            dispatchFocus = focusChangeTransaction(state, focus);\n            if (!dispatchFocus)\n                focusFlag = 1 /* UpdateFlag.Focus */;\n        }\n        // If there was a pending DOM change, eagerly read it and try to\n        // apply it after the given transactions.\n        let pendingKey = this.observer.delayedAndroidKey, domChange = null;\n        if (pendingKey) {\n            this.observer.clearDelayedAndroidKey();\n            domChange = this.observer.readChange();\n            // Only try to apply DOM changes if the transactions didn't\n            // change the doc or selection.\n            if (domChange && !this.state.doc.eq(state.doc) || !this.state.selection.eq(state.selection))\n                domChange = null;\n        }\n        else {\n            this.observer.clear();\n        }\n        // When the phrases change, redraw the editor\n        if (state.facet(EditorState.phrases) != this.state.facet(EditorState.phrases))\n            return this.setState(state);\n        update = ViewUpdate.create(this, state, transactions);\n        update.flags |= focusFlag;\n        let scrollTarget = this.viewState.scrollTarget;\n        try {\n            this.updateState = 2 /* UpdateState.Updating */;\n            for (let tr of transactions) {\n                if (scrollTarget)\n                    scrollTarget = scrollTarget.map(tr.changes);\n                if (tr.scrollIntoView) {\n                    let { main } = tr.state.selection;\n                    scrollTarget = new ScrollTarget(main.empty ? main : EditorSelection.cursor(main.head, main.head > main.anchor ? -1 : 1));\n                }\n                for (let e of tr.effects)\n                    if (e.is(scrollIntoView))\n                        scrollTarget = e.value;\n            }\n            this.viewState.update(update, scrollTarget);\n            this.bidiCache = CachedOrder.update(this.bidiCache, update.changes);\n            if (!update.empty) {\n                this.updatePlugins(update);\n                this.inputState.update(update);\n            }\n            redrawn = this.docView.update(update);\n            if (this.state.facet(styleModule) != this.styleModules)\n                this.mountStyles();\n            attrsChanged = this.updateAttrs();\n            this.showAnnouncements(transactions);\n            this.docView.updateSelection(redrawn, transactions.some(tr => tr.isUserEvent(\"select.pointer\")));\n        }\n        finally {\n            this.updateState = 0 /* UpdateState.Idle */;\n        }\n        if (update.startState.facet(theme) != update.state.facet(theme))\n            this.viewState.mustMeasureContent = true;\n        if (redrawn || attrsChanged || scrollTarget || this.viewState.mustEnforceCursorAssoc || this.viewState.mustMeasureContent)\n            this.requestMeasure();\n        if (!update.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(update);\n        if (dispatchFocus || domChange)\n            Promise.resolve().then(() => {\n                if (dispatchFocus && this.state == dispatchFocus.startState)\n                    this.dispatch(dispatchFocus);\n                if (domChange) {\n                    if (!applyDOMChange(this, domChange) && pendingKey.force)\n                        dispatchKey(this.contentDOM, pendingKey.key, pendingKey.keyCode);\n                }\n            });\n    }\n    /**\n    Reset the view to the given state. (This will cause the entire\n    document to be redrawn and all view plugins to be reinitialized,\n    so you should probably only use it when the new state isn't\n    derived from the old state. Otherwise, use\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead.)\n    */\n    setState(newState) {\n        if (this.updateState != 0 /* UpdateState.Idle */)\n            throw new Error(\"Calls to EditorView.setState are not allowed while an update is in progress\");\n        if (this.destroyed) {\n            this.viewState.state = newState;\n            return;\n        }\n        this.updateState = 2 /* UpdateState.Updating */;\n        let hadFocus = this.hasFocus;\n        try {\n            for (let plugin of this.plugins)\n                plugin.destroy(this);\n            this.viewState = new ViewState(newState);\n            this.plugins = newState.facet(viewPlugin).map(spec => new PluginInstance(spec));\n            this.pluginMap.clear();\n            for (let plugin of this.plugins)\n                plugin.update(this);\n            this.docView = new DocView(this);\n            this.inputState.ensureHandlers(this.plugins);\n            this.mountStyles();\n            this.updateAttrs();\n            this.bidiCache = [];\n        }\n        finally {\n            this.updateState = 0 /* UpdateState.Idle */;\n        }\n        if (hadFocus)\n            this.focus();\n        this.requestMeasure();\n    }\n    updatePlugins(update) {\n        let prevSpecs = update.startState.facet(viewPlugin), specs = update.state.facet(viewPlugin);\n        if (prevSpecs != specs) {\n            let newPlugins = [];\n            for (let spec of specs) {\n                let found = prevSpecs.indexOf(spec);\n                if (found < 0) {\n                    newPlugins.push(new PluginInstance(spec));\n                }\n                else {\n                    let plugin = this.plugins[found];\n                    plugin.mustUpdate = update;\n                    newPlugins.push(plugin);\n                }\n            }\n            for (let plugin of this.plugins)\n                if (plugin.mustUpdate != update)\n                    plugin.destroy(this);\n            this.plugins = newPlugins;\n            this.pluginMap.clear();\n            this.inputState.ensureHandlers(this.plugins);\n        }\n        else {\n            for (let p of this.plugins)\n                p.mustUpdate = update;\n        }\n        for (let i = 0; i < this.plugins.length; i++)\n            this.plugins[i].update(this);\n    }\n    /**\n    @internal\n    */\n    measure(flush = true) {\n        if (this.destroyed)\n            return;\n        if (this.measureScheduled > -1)\n            this.win.cancelAnimationFrame(this.measureScheduled);\n        if (this.observer.delayedAndroidKey) {\n            this.measureScheduled = -1;\n            this.requestMeasure();\n            return;\n        }\n        this.measureScheduled = 0; // Prevent requestMeasure calls from scheduling another animation frame\n        if (flush)\n            this.observer.forceFlush();\n        let updated = null;\n        let sDOM = this.scrollDOM, scrollTop = sDOM.scrollTop * this.scaleY;\n        let { scrollAnchorPos, scrollAnchorHeight } = this.viewState;\n        if (Math.abs(scrollTop - this.viewState.scrollTop) > 1)\n            scrollAnchorHeight = -1;\n        this.viewState.scrollAnchorHeight = -1;\n        try {\n            for (let i = 0;; i++) {\n                if (scrollAnchorHeight < 0) {\n                    if (isScrolledToBottom(sDOM)) {\n                        scrollAnchorPos = -1;\n                        scrollAnchorHeight = this.viewState.heightMap.height;\n                    }\n                    else {\n                        let block = this.viewState.scrollAnchorAt(scrollTop);\n                        scrollAnchorPos = block.from;\n                        scrollAnchorHeight = block.top;\n                    }\n                }\n                this.updateState = 1 /* UpdateState.Measuring */;\n                let changed = this.viewState.measure(this);\n                if (!changed && !this.measureRequests.length && this.viewState.scrollTarget == null)\n                    break;\n                if (i > 5) {\n                    console.warn(this.measureRequests.length\n                        ? \"Measure loop restarted more than 5 times\"\n                        : \"Viewport failed to stabilize\");\n                    break;\n                }\n                let measuring = [];\n                // Only run measure requests in this cycle when the viewport didn't change\n                if (!(changed & 4 /* UpdateFlag.Viewport */))\n                    [this.measureRequests, measuring] = [measuring, this.measureRequests];\n                let measured = measuring.map(m => {\n                    try {\n                        return m.read(this);\n                    }\n                    catch (e) {\n                        logException(this.state, e);\n                        return BadMeasure;\n                    }\n                });\n                let update = ViewUpdate.create(this, this.state, []), redrawn = false;\n                update.flags |= changed;\n                if (!updated)\n                    updated = update;\n                else\n                    updated.flags |= changed;\n                this.updateState = 2 /* UpdateState.Updating */;\n                if (!update.empty) {\n                    this.updatePlugins(update);\n                    this.inputState.update(update);\n                    this.updateAttrs();\n                    redrawn = this.docView.update(update);\n                }\n                for (let i = 0; i < measuring.length; i++)\n                    if (measured[i] != BadMeasure) {\n                        try {\n                            let m = measuring[i];\n                            if (m.write)\n                                m.write(measured[i], this);\n                        }\n                        catch (e) {\n                            logException(this.state, e);\n                        }\n                    }\n                if (redrawn)\n                    this.docView.updateSelection(true);\n                if (!update.viewportChanged && this.measureRequests.length == 0) {\n                    if (this.viewState.editorHeight) {\n                        if (this.viewState.scrollTarget) {\n                            this.docView.scrollIntoView(this.viewState.scrollTarget);\n                            this.viewState.scrollTarget = null;\n                            continue;\n                        }\n                        else {\n                            let newAnchorHeight = scrollAnchorPos < 0 ? this.viewState.heightMap.height :\n                                this.viewState.lineBlockAt(scrollAnchorPos).top;\n                            let diff = newAnchorHeight - scrollAnchorHeight;\n                            if (diff > 1 || diff < -1) {\n                                scrollTop = scrollTop + diff;\n                                sDOM.scrollTop = scrollTop / this.scaleY;\n                                scrollAnchorHeight = -1;\n                                continue;\n                            }\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        finally {\n            this.updateState = 0 /* UpdateState.Idle */;\n            this.measureScheduled = -1;\n        }\n        if (updated && !updated.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(updated);\n    }\n    /**\n    Get the CSS classes for the currently active editor themes.\n    */\n    get themeClasses() {\n        return baseThemeID + \" \" +\n            (this.state.facet(darkTheme) ? baseDarkID : baseLightID) + \" \" +\n            this.state.facet(theme);\n    }\n    updateAttrs() {\n        let editorAttrs = attrsFromFacet(this, editorAttributes, {\n            class: \"cm-editor\" + (this.hasFocus ? \" cm-focused \" : \" \") + this.themeClasses\n        });\n        let contentAttrs = {\n            spellcheck: \"false\",\n            autocorrect: \"off\",\n            autocapitalize: \"off\",\n            translate: \"no\",\n            contenteditable: !this.state.facet(editable) ? \"false\" : \"true\",\n            class: \"cm-content\",\n            style: `${browser.tabSize}: ${this.state.tabSize}`,\n            role: \"textbox\",\n            \"aria-multiline\": \"true\"\n        };\n        if (this.state.readOnly)\n            contentAttrs[\"aria-readonly\"] = \"true\";\n        attrsFromFacet(this, contentAttributes, contentAttrs);\n        let changed = this.observer.ignore(() => {\n            let changedContent = updateAttrs(this.contentDOM, this.contentAttrs, contentAttrs);\n            let changedEditor = updateAttrs(this.dom, this.editorAttrs, editorAttrs);\n            return changedContent || changedEditor;\n        });\n        this.editorAttrs = editorAttrs;\n        this.contentAttrs = contentAttrs;\n        return changed;\n    }\n    showAnnouncements(trs) {\n        let first = true;\n        for (let tr of trs)\n            for (let effect of tr.effects)\n                if (effect.is(EditorView.announce)) {\n                    if (first)\n                        this.announceDOM.textContent = \"\";\n                    first = false;\n                    let div = this.announceDOM.appendChild(document.createElement(\"div\"));\n                    div.textContent = effect.value;\n                }\n    }\n    mountStyles() {\n        this.styleModules = this.state.facet(styleModule);\n        let nonce = this.state.facet(EditorView.cspNonce);\n        StyleModule.mount(this.root, this.styleModules.concat(baseTheme$1).reverse(), nonce ? { nonce } : undefined);\n    }\n    readMeasured() {\n        if (this.updateState == 2 /* UpdateState.Updating */)\n            throw new Error(\"Reading the editor layout isn't allowed during an update\");\n        if (this.updateState == 0 /* UpdateState.Idle */ && this.measureScheduled > -1)\n            this.measure(false);\n    }\n    /**\n    Schedule a layout measurement, optionally providing callbacks to\n    do custom DOM measuring followed by a DOM write phase. Using\n    this is preferable reading DOM layout directly from, for\n    example, an event handler, because it'll make sure measuring and\n    drawing done by other components is synchronized, avoiding\n    unnecessary DOM layout computations.\n    */\n    requestMeasure(request) {\n        if (this.measureScheduled < 0)\n            this.measureScheduled = this.win.requestAnimationFrame(() => this.measure());\n        if (request) {\n            if (this.measureRequests.indexOf(request) > -1)\n                return;\n            if (request.key != null)\n                for (let i = 0; i < this.measureRequests.length; i++) {\n                    if (this.measureRequests[i].key === request.key) {\n                        this.measureRequests[i] = request;\n                        return;\n                    }\n                }\n            this.measureRequests.push(request);\n        }\n    }\n    /**\n    Get the value of a specific plugin, if present. Note that\n    plugins that crash can be dropped from a view, so even when you\n    know you registered a given plugin, it is recommended to check\n    the return value of this method.\n    */\n    plugin(plugin) {\n        let known = this.pluginMap.get(plugin);\n        if (known === undefined || known && known.spec != plugin)\n            this.pluginMap.set(plugin, known = this.plugins.find(p => p.spec == plugin) || null);\n        return known && known.update(this).value;\n    }\n    /**\n    The top position of the document, in screen coordinates. This\n    may be negative when the editor is scrolled down. Points\n    directly to the top of the first line, not above the padding.\n    */\n    get documentTop() {\n        return this.contentDOM.getBoundingClientRect().top + this.viewState.paddingTop;\n    }\n    /**\n    Reports the padding above and below the document.\n    */\n    get documentPadding() {\n        return { top: this.viewState.paddingTop, bottom: this.viewState.paddingBottom };\n    }\n    /**\n    If the editor is transformed with CSS, this provides the scale\n    along the X axis. Otherwise, it will just be 1. Note that\n    transforms other than translation and scaling are not supported.\n    */\n    get scaleX() { return this.viewState.scaleX; }\n    /**\n    Provide the CSS transformed scale along the Y axis.\n    */\n    get scaleY() { return this.viewState.scaleY; }\n    /**\n    Find the text line or block widget at the given vertical\n    position (which is interpreted as relative to the [top of the\n    document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop)).\n    */\n    elementAtHeight(height) {\n        this.readMeasured();\n        return this.viewState.elementAtHeight(height);\n    }\n    /**\n    Find the line block (see\n    [`lineBlockAt`](https://codemirror.net/6/docs/ref/#view.EditorView.lineBlockAt) at the given\n    height, again interpreted relative to the [top of the\n    document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop).\n    */\n    lineBlockAtHeight(height) {\n        this.readMeasured();\n        return this.viewState.lineBlockAtHeight(height);\n    }\n    /**\n    Get the extent and vertical position of all [line\n    blocks](https://codemirror.net/6/docs/ref/#view.EditorView.lineBlockAt) in the viewport. Positions\n    are relative to the [top of the\n    document](https://codemirror.net/6/docs/ref/#view.EditorView.documentTop);\n    */\n    get viewportLineBlocks() {\n        return this.viewState.viewportLines;\n    }\n    /**\n    Find the line block around the given document position. A line\n    block is a range delimited on both sides by either a\n    non-[hidden](https://codemirror.net/6/docs/ref/#view.Decoration^replace) line breaks, or the\n    start/end of the document. It will usually just hold a line of\n    text, but may be broken into multiple textblocks by block\n    widgets.\n    */\n    lineBlockAt(pos) {\n        return this.viewState.lineBlockAt(pos);\n    }\n    /**\n    The editor's total content height.\n    */\n    get contentHeight() {\n        return this.viewState.contentHeight;\n    }\n    /**\n    Move a cursor position by [grapheme\n    cluster](https://codemirror.net/6/docs/ref/#state.findClusterBreak). `forward` determines whether\n    the motion is away from the line start, or towards it. In\n    bidirectional text, the line is traversed in visual order, using\n    the editor's [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).\n    When the start position was the last one on the line, the\n    returned position will be across the line break. If there is no\n    further line, the original position is returned.\n    \n    By default, this method moves over a single cluster. The\n    optional `by` argument can be used to move across more. It will\n    be called with the first cluster as argument, and should return\n    a predicate that determines, for each subsequent cluster,\n    whether it should also be moved over.\n    */\n    moveByChar(start, forward, by) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, by));\n    }\n    /**\n    Move a cursor position across the next group of either\n    [letters](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) or non-letter\n    non-whitespace characters.\n    */\n    moveByGroup(start, forward) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, initial => byGroup(this, start.head, initial)));\n    }\n    /**\n    Move to the next line boundary in the given direction. If\n    `includeWrap` is true, line wrapping is on, and there is a\n    further wrap point on the current line, the wrap point will be\n    returned. Otherwise this function will return the start or end\n    of the line.\n    */\n    moveToLineBoundary(start, forward, includeWrap = true) {\n        return moveToLineBoundary(this, start, forward, includeWrap);\n    }\n    /**\n    Move a cursor position vertically. When `distance` isn't given,\n    it defaults to moving to the next line (including wrapped\n    lines). Otherwise, `distance` should provide a positive distance\n    in pixels.\n    \n    When `start` has a\n    [`goalColumn`](https://codemirror.net/6/docs/ref/#state.SelectionRange.goalColumn), the vertical\n    motion will use that as a target horizontal position. Otherwise,\n    the cursor's own horizontal position is used. The returned\n    cursor will have its goal column set to whichever column was\n    used.\n    */\n    moveVertically(start, forward, distance) {\n        return skipAtoms(this, start, moveVertically(this, start, forward, distance));\n    }\n    /**\n    Find the DOM parent node and offset (child offset if `node` is\n    an element, character offset when it is a text node) at the\n    given document position.\n    \n    Note that for positions that aren't currently in\n    `visibleRanges`, the resulting DOM position isn't necessarily\n    meaningful (it may just point before or after a placeholder\n    element).\n    */\n    domAtPos(pos) {\n        return this.docView.domAtPos(pos);\n    }\n    /**\n    Find the document position at the given DOM node. Can be useful\n    for associating positions with DOM events. Will raise an error\n    when `node` isn't part of the editor content.\n    */\n    posAtDOM(node, offset = 0) {\n        return this.docView.posFromDOM(node, offset);\n    }\n    posAtCoords(coords, precise = true) {\n        this.readMeasured();\n        return posAtCoords(this, coords, precise);\n    }\n    /**\n    Get the screen coordinates at the given document position.\n    `side` determines whether the coordinates are based on the\n    element before (-1) or after (1) the position (if no element is\n    available on the given side, the method will transparently use\n    another strategy to get reasonable coordinates).\n    */\n    coordsAtPos(pos, side = 1) {\n        this.readMeasured();\n        let rect = this.docView.coordsAt(pos, side);\n        if (!rect || rect.left == rect.right)\n            return rect;\n        let line = this.state.doc.lineAt(pos), order = this.bidiSpans(line);\n        let span = order[BidiSpan.find(order, pos - line.from, -1, side)];\n        return flattenRect(rect, (span.dir == Direction.LTR) == (side > 0));\n    }\n    /**\n    Return the rectangle around a given character. If `pos` does not\n    point in front of a character that is in the viewport and\n    rendered (i.e. not replaced, not a line break), this will return\n    null. For space characters that are a line wrap point, this will\n    return the position before the line break.\n    */\n    coordsForChar(pos) {\n        this.readMeasured();\n        return this.docView.coordsForChar(pos);\n    }\n    /**\n    The default width of a character in the editor. May not\n    accurately reflect the width of all characters (given variable\n    width fonts or styling of invididual ranges).\n    */\n    get defaultCharacterWidth() { return this.viewState.heightOracle.charWidth; }\n    /**\n    The default height of a line in the editor. May not be accurate\n    for all lines.\n    */\n    get defaultLineHeight() { return this.viewState.heightOracle.lineHeight; }\n    /**\n    The text direction\n    ([`direction`](https://developer.mozilla.org/en-US/docs/Web/CSS/direction)\n    CSS property) of the editor's content element.\n    */\n    get textDirection() { return this.viewState.defaultTextDirection; }\n    /**\n    Find the text direction of the block at the given position, as\n    assigned by CSS. If\n    [`perLineTextDirection`](https://codemirror.net/6/docs/ref/#view.EditorView^perLineTextDirection)\n    isn't enabled, or the given position is outside of the viewport,\n    this will always return the same as\n    [`textDirection`](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection). Note that\n    this may trigger a DOM layout.\n    */\n    textDirectionAt(pos) {\n        let perLine = this.state.facet(perLineTextDirection);\n        if (!perLine || pos < this.viewport.from || pos > this.viewport.to)\n            return this.textDirection;\n        this.readMeasured();\n        return this.docView.textDirectionAt(pos);\n    }\n    /**\n    Whether this editor [wraps lines](https://codemirror.net/6/docs/ref/#view.EditorView.lineWrapping)\n    (as determined by the\n    [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space)\n    CSS property of its content element).\n    */\n    get lineWrapping() { return this.viewState.heightOracle.lineWrapping; }\n    /**\n    Returns the bidirectional text structure of the given line\n    (which should be in the current document) as an array of span\n    objects. The order of these spans matches the [text\n    direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection)—if that is\n    left-to-right, the leftmost spans come first, otherwise the\n    rightmost spans come first.\n    */\n    bidiSpans(line) {\n        if (line.length > MaxBidiLine)\n            return trivialOrder(line.length);\n        let dir = this.textDirectionAt(line.from), isolates;\n        for (let entry of this.bidiCache) {\n            if (entry.from == line.from && entry.dir == dir &&\n                (entry.fresh || isolatesEq(entry.isolates, isolates = getIsolatedRanges(this, line.from, line.to))))\n                return entry.order;\n        }\n        if (!isolates)\n            isolates = getIsolatedRanges(this, line.from, line.to);\n        let order = computeOrder(line.text, dir, isolates);\n        this.bidiCache.push(new CachedOrder(line.from, line.to, dir, isolates, true, order));\n        return order;\n    }\n    /**\n    Check whether the editor has focus.\n    */\n    get hasFocus() {\n        var _a;\n        // Safari return false for hasFocus when the context menu is open\n        // or closing, which leads us to ignore selection changes from the\n        // context menu because it looks like the editor isn't focused.\n        // This kludges around that.\n        return (this.dom.ownerDocument.hasFocus() || browser.safari && ((_a = this.inputState) === null || _a === void 0 ? void 0 : _a.lastContextMenu) > Date.now() - 3e4) &&\n            this.root.activeElement == this.contentDOM;\n    }\n    /**\n    Put focus on the editor.\n    */\n    focus() {\n        this.observer.ignore(() => {\n            focusPreventScroll(this.contentDOM);\n            this.docView.updateSelection();\n        });\n    }\n    /**\n    Update the [root](https://codemirror.net/6/docs/ref/##view.EditorViewConfig.root) in which the editor lives. This is only\n    necessary when moving the editor's existing DOM to a new window or shadow root.\n    */\n    setRoot(root) {\n        if (this._root != root) {\n            this._root = root;\n            this.observer.setWindow((root.nodeType == 9 ? root : root.ownerDocument).defaultView || window);\n            this.mountStyles();\n        }\n    }\n    /**\n    Clean up this editor view, removing its element from the\n    document, unregistering event handlers, and notifying\n    plugins. The view instance can no longer be used after\n    calling this.\n    */\n    destroy() {\n        for (let plugin of this.plugins)\n            plugin.destroy(this);\n        this.plugins = [];\n        this.inputState.destroy();\n        this.dom.remove();\n        this.observer.destroy();\n        if (this.measureScheduled > -1)\n            this.win.cancelAnimationFrame(this.measureScheduled);\n        this.destroyed = true;\n    }\n    /**\n    Returns an effect that can be\n    [added](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) to a transaction to\n    cause it to scroll the given position or range into view.\n    */\n    static scrollIntoView(pos, options = {}) {\n        return scrollIntoView.of(new ScrollTarget(typeof pos == \"number\" ? EditorSelection.cursor(pos) : pos, options.y, options.x, options.yMargin, options.xMargin));\n    }\n    /**\n    Returns an extension that can be used to add DOM event handlers.\n    The value should be an object mapping event names to handler\n    functions. For any given event, such functions are ordered by\n    extension precedence, and the first handler to return true will\n    be assumed to have handled that event, and no other handlers or\n    built-in behavior will be activated for it. These are registered\n    on the [content element](https://codemirror.net/6/docs/ref/#view.EditorView.contentDOM), except\n    for `scroll` handlers, which will be called any time the\n    editor's [scroll element](https://codemirror.net/6/docs/ref/#view.EditorView.scrollDOM) or one of\n    its parent nodes is scrolled.\n    */\n    static domEventHandlers(handlers) {\n        return ViewPlugin.define(() => ({}), { eventHandlers: handlers });\n    }\n    /**\n    Create an extension that registers DOM event observers. Contrary\n    to event [handlers](https://codemirror.net/6/docs/ref/#view.EditorView^domEventHandlers),\n    observers can't be prevented from running by a higher-precedence\n    handler returning true. They also don't prevent other handlers\n    and observers from running when they return true, and should not\n    call `preventDefault`.\n    */\n    static domEventObservers(observers) {\n        return ViewPlugin.define(() => ({}), { eventObservers: observers });\n    }\n    /**\n    Create a theme extension. The first argument can be a\n    [`style-mod`](https://github.com/marijnh/style-mod#documentation)\n    style spec providing the styles for the theme. These will be\n    prefixed with a generated class for the style.\n    \n    Because the selectors will be prefixed with a scope class, rule\n    that directly match the editor's [wrapper\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.dom)—to which the scope class will be\n    added—need to be explicitly differentiated by adding an `&` to\n    the selector for that element—for example\n    `&.cm-focused`.\n    \n    When `dark` is set to true, the theme will be marked as dark,\n    which will cause the `&dark` rules from [base\n    themes](https://codemirror.net/6/docs/ref/#view.EditorView^baseTheme) to be used (as opposed to\n    `&light` when a light theme is active).\n    */\n    static theme(spec, options) {\n        let prefix = StyleModule.newName();\n        let result = [theme.of(prefix), styleModule.of(buildTheme(`.${prefix}`, spec))];\n        if (options && options.dark)\n            result.push(darkTheme.of(true));\n        return result;\n    }\n    /**\n    Create an extension that adds styles to the base theme. Like\n    with [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme), use `&` to indicate the\n    place of the editor wrapper element when directly targeting\n    that. You can also use `&dark` or `&light` instead to only\n    target editors with a dark or light theme.\n    */\n    static baseTheme(spec) {\n        return Prec.lowest(styleModule.of(buildTheme(\".\" + baseThemeID, spec, lightDarkIDs)));\n    }\n    /**\n    Retrieve an editor view instance from the view's DOM\n    representation.\n    */\n    static findFromDOM(dom) {\n        var _a;\n        let content = dom.querySelector(\".cm-content\");\n        let cView = content && ContentView.get(content) || ContentView.get(dom);\n        return ((_a = cView === null || cView === void 0 ? void 0 : cView.rootView) === null || _a === void 0 ? void 0 : _a.view) || null;\n    }\n}\n/**\nFacet to add a [style\nmodule](https://github.com/marijnh/style-mod#documentation) to\nan editor view. The view will ensure that the module is\nmounted in its [document\nroot](https://codemirror.net/6/docs/ref/#view.EditorView.constructor^config.root).\n*/\nEditorView.styleModule = styleModule;\n/**\nAn input handler can override the way changes to the editable\nDOM content are handled. Handlers are passed the document\npositions between which the change was found, and the new\ncontent. When one returns true, no further input handlers are\ncalled and the default behavior is prevented.\n\nThe `insert` argument can be used to get the default transaction\nthat would be applied for this input. This can be useful when\ndispatching the custom behavior as a separate transaction.\n*/\nEditorView.inputHandler = inputHandler;\n/**\nThis facet can be used to provide functions that create effects\nto be dispatched when the editor's focus state changes.\n*/\nEditorView.focusChangeEffect = focusChangeEffect;\n/**\nBy default, the editor assumes all its content has the same\n[text direction](https://codemirror.net/6/docs/ref/#view.Direction). Configure this with a `true`\nvalue to make it read the text direction of every (rendered)\nline separately.\n*/\nEditorView.perLineTextDirection = perLineTextDirection;\n/**\nAllows you to provide a function that should be called when the\nlibrary catches an exception from an extension (mostly from view\nplugins, but may be used by other extensions to route exceptions\nfrom user-code-provided callbacks). This is mostly useful for\ndebugging and logging. See [`logException`](https://codemirror.net/6/docs/ref/#view.logException).\n*/\nEditorView.exceptionSink = exceptionSink;\n/**\nA facet that can be used to register a function to be called\nevery time the view updates.\n*/\nEditorView.updateListener = updateListener;\n/**\nFacet that controls whether the editor content DOM is editable.\nWhen its highest-precedence value is `false`, the element will\nnot have its `contenteditable` attribute set. (Note that this\ndoesn't affect API calls that change the editor content, even\nwhen those are bound to keys or buttons. See the\n[`readOnly`](https://codemirror.net/6/docs/ref/#state.EditorState.readOnly) facet for that.)\n*/\nEditorView.editable = editable;\n/**\nAllows you to influence the way mouse selection happens. The\nfunctions in this facet will be called for a `mousedown` event\non the editor, and can return an object that overrides the way a\nselection is computed from that mouse click or drag.\n*/\nEditorView.mouseSelectionStyle = mouseSelectionStyle;\n/**\nFacet used to configure whether a given selection drag event\nshould move or copy the selection. The given predicate will be\ncalled with the `mousedown` event, and can return `true` when\nthe drag should move the content.\n*/\nEditorView.dragMovesSelection = dragMovesSelection$1;\n/**\nFacet used to configure whether a given selecting click adds a\nnew range to the existing selection or replaces it entirely. The\ndefault behavior is to check `event.metaKey` on macOS, and\n`event.ctrlKey` elsewhere.\n*/\nEditorView.clickAddsSelectionRange = clickAddsSelectionRange;\n/**\nA facet that determines which [decorations](https://codemirror.net/6/docs/ref/#view.Decoration)\nare shown in the view. Decorations can be provided in two\nways—directly, or via a function that takes an editor view.\n\nOnly decoration sets provided directly are allowed to influence\nthe editor's vertical layout structure. The ones provided as\nfunctions are called _after_ the new viewport has been computed,\nand thus **must not** introduce block widgets or replacing\ndecorations that cover line breaks.\n\nIf you want decorated ranges to behave like atomic units for\ncursor motion and deletion purposes, also provide the range set\ncontaining the decorations to\n[`EditorView.atomicRanges`](https://codemirror.net/6/docs/ref/#view.EditorView^atomicRanges).\n*/\nEditorView.decorations = decorations;\n/**\nUsed to provide ranges that should be treated as atoms as far as\ncursor motion is concerned. This causes methods like\n[`moveByChar`](https://codemirror.net/6/docs/ref/#view.EditorView.moveByChar) and\n[`moveVertically`](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) (and the\ncommands built on top of them) to skip across such regions when\na selection endpoint would enter them. This does _not_ prevent\ndirect programmatic [selection\nupdates](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) from moving into such\nregions.\n*/\nEditorView.atomicRanges = atomicRanges;\n/**\nWhen range decorations add a `unicode-bidi: isolate` style, they\nshould also include a\n[`bidiIsolate`](https://codemirror.net/6/docs/ref/#view.MarkDecorationSpec.bidiIsolate) property\nin their decoration spec, and be exposed through this facet, so\nthat the editor can compute the proper text order. (Other values\nfor `unicode-bidi`, except of course `normal`, are not\nsupported.)\n*/\nEditorView.bidiIsolatedRanges = bidiIsolatedRanges;\n/**\nFacet that allows extensions to provide additional scroll\nmargins (space around the sides of the scrolling element that\nshould be considered invisible). This can be useful when the\nplugin introduces elements that cover part of that element (for\nexample a horizontally fixed gutter).\n*/\nEditorView.scrollMargins = scrollMargins;\n/**\nThis facet records whether a dark theme is active. The extension\nreturned by [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme) automatically\nincludes an instance of this when the `dark` option is set to\ntrue.\n*/\nEditorView.darkTheme = darkTheme;\n/**\nProvides a Content Security Policy nonce to use when creating\nthe style sheets for the editor. Holds the empty string when no\nnonce has been provided.\n*/\nEditorView.cspNonce = /*@__PURE__*/Facet.define({ combine: values => values.length ? values[0] : \"\" });\n/**\nFacet that provides additional DOM attributes for the editor's\neditable DOM element.\n*/\nEditorView.contentAttributes = contentAttributes;\n/**\nFacet that provides DOM attributes for the editor's outer\nelement.\n*/\nEditorView.editorAttributes = editorAttributes;\n/**\nAn extension that enables line wrapping in the editor (by\nsetting CSS `white-space` to `pre-wrap` in the content).\n*/\nEditorView.lineWrapping = /*@__PURE__*/EditorView.contentAttributes.of({ \"class\": \"cm-lineWrapping\" });\n/**\nState effect used to include screen reader announcements in a\ntransaction. These will be added to the DOM in a visually hidden\nelement with `aria-live=\"polite\"` set, and should be used to\ndescribe effects that are visually obvious but may not be\nnoticed by screen reader users (such as moving to the next\nsearch match).\n*/\nEditorView.announce = /*@__PURE__*/StateEffect.define();\n// Maximum line length for which we compute accurate bidi info\nconst MaxBidiLine = 4096;\nconst BadMeasure = {};\nclass CachedOrder {\n    constructor(from, to, dir, isolates, fresh, order) {\n        this.from = from;\n        this.to = to;\n        this.dir = dir;\n        this.isolates = isolates;\n        this.fresh = fresh;\n        this.order = order;\n    }\n    static update(cache, changes) {\n        if (changes.empty && !cache.some(c => c.fresh))\n            return cache;\n        let result = [], lastDir = cache.length ? cache[cache.length - 1].dir : Direction.LTR;\n        for (let i = Math.max(0, cache.length - 10); i < cache.length; i++) {\n            let entry = cache[i];\n            if (entry.dir == lastDir && !changes.touchesRange(entry.from, entry.to))\n                result.push(new CachedOrder(changes.mapPos(entry.from, 1), changes.mapPos(entry.to, -1), entry.dir, entry.isolates, false, entry.order));\n        }\n        return result;\n    }\n}\nfunction attrsFromFacet(view, facet, base) {\n    for (let sources = view.state.facet(facet), i = sources.length - 1; i >= 0; i--) {\n        let source = sources[i], value = typeof source == \"function\" ? source(view) : source;\n        if (value)\n            combineAttrs(value, base);\n    }\n    return base;\n}\n\nconst currentPlatform = browser.mac ? \"mac\" : browser.windows ? \"win\" : browser.linux ? \"linux\" : \"key\";\nfunction normalizeKeyName(name, platform) {\n    const parts = name.split(/-(?!$)/);\n    let result = parts[parts.length - 1];\n    if (result == \"Space\")\n        result = \" \";\n    let alt, ctrl, shift, meta;\n    for (let i = 0; i < parts.length - 1; ++i) {\n        const mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod))\n            meta = true;\n        else if (/^a(lt)?$/i.test(mod))\n            alt = true;\n        else if (/^(c|ctrl|control)$/i.test(mod))\n            ctrl = true;\n        else if (/^s(hift)?$/i.test(mod))\n            shift = true;\n        else if (/^mod$/i.test(mod)) {\n            if (platform == \"mac\")\n                meta = true;\n            else\n                ctrl = true;\n        }\n        else\n            throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt)\n        result = \"Alt-\" + result;\n    if (ctrl)\n        result = \"Ctrl-\" + result;\n    if (meta)\n        result = \"Meta-\" + result;\n    if (shift)\n        result = \"Shift-\" + result;\n    return result;\n}\nfunction modifiers(name, event, shift) {\n    if (event.altKey)\n        name = \"Alt-\" + name;\n    if (event.ctrlKey)\n        name = \"Ctrl-\" + name;\n    if (event.metaKey)\n        name = \"Meta-\" + name;\n    if (shift !== false && event.shiftKey)\n        name = \"Shift-\" + name;\n    return name;\n}\nconst handleKeyEvents = /*@__PURE__*/Prec.default(/*@__PURE__*/EditorView.domEventHandlers({\n    keydown(event, view) {\n        return runHandlers(getKeymap(view.state), event, view, \"editor\");\n    }\n}));\n/**\nFacet used for registering keymaps.\n\nYou can add multiple keymaps to an editor. Their priorities\ndetermine their precedence (the ones specified early or with high\npriority get checked first). When a handler has returned `true`\nfor a given key, no further handlers are called.\n*/\nconst keymap = /*@__PURE__*/Facet.define({ enables: handleKeyEvents });\nconst Keymaps = /*@__PURE__*/new WeakMap();\n// This is hidden behind an indirection, rather than directly computed\n// by the facet, to keep internal types out of the facet's type.\nfunction getKeymap(state) {\n    let bindings = state.facet(keymap);\n    let map = Keymaps.get(bindings);\n    if (!map)\n        Keymaps.set(bindings, map = buildKeymap(bindings.reduce((a, b) => a.concat(b), [])));\n    return map;\n}\n/**\nRun the key handlers registered for a given scope. The event\nobject should be a `\"keydown\"` event. Returns true if any of the\nhandlers handled it.\n*/\nfunction runScopeHandlers(view, event, scope) {\n    return runHandlers(getKeymap(view.state), event, view, scope);\n}\nlet storedPrefix = null;\nconst PrefixTimeout = 4000;\nfunction buildKeymap(bindings, platform = currentPlatform) {\n    let bound = Object.create(null);\n    let isPrefix = Object.create(null);\n    let checkPrefix = (name, is) => {\n        let current = isPrefix[name];\n        if (current == null)\n            isPrefix[name] = is;\n        else if (current != is)\n            throw new Error(\"Key binding \" + name + \" is used both as a regular binding and as a multi-stroke prefix\");\n    };\n    let add = (scope, key, command, preventDefault, stopPropagation) => {\n        var _a, _b;\n        let scopeObj = bound[scope] || (bound[scope] = Object.create(null));\n        let parts = key.split(/ (?!$)/).map(k => normalizeKeyName(k, platform));\n        for (let i = 1; i < parts.length; i++) {\n            let prefix = parts.slice(0, i).join(\" \");\n            checkPrefix(prefix, true);\n            if (!scopeObj[prefix])\n                scopeObj[prefix] = {\n                    preventDefault: true,\n                    stopPropagation: false,\n                    run: [(view) => {\n                            let ourObj = storedPrefix = { view, prefix, scope };\n                            setTimeout(() => { if (storedPrefix == ourObj)\n                                storedPrefix = null; }, PrefixTimeout);\n                            return true;\n                        }]\n                };\n        }\n        let full = parts.join(\" \");\n        checkPrefix(full, false);\n        let binding = scopeObj[full] || (scopeObj[full] = {\n            preventDefault: false,\n            stopPropagation: false,\n            run: ((_b = (_a = scopeObj._any) === null || _a === void 0 ? void 0 : _a.run) === null || _b === void 0 ? void 0 : _b.slice()) || []\n        });\n        if (command)\n            binding.run.push(command);\n        if (preventDefault)\n            binding.preventDefault = true;\n        if (stopPropagation)\n            binding.stopPropagation = true;\n    };\n    for (let b of bindings) {\n        let scopes = b.scope ? b.scope.split(\" \") : [\"editor\"];\n        if (b.any)\n            for (let scope of scopes) {\n                let scopeObj = bound[scope] || (bound[scope] = Object.create(null));\n                if (!scopeObj._any)\n                    scopeObj._any = { preventDefault: false, stopPropagation: false, run: [] };\n                for (let key in scopeObj)\n                    scopeObj[key].run.push(b.any);\n            }\n        let name = b[platform] || b.key;\n        if (!name)\n            continue;\n        for (let scope of scopes) {\n            add(scope, name, b.run, b.preventDefault, b.stopPropagation);\n            if (b.shift)\n                add(scope, \"Shift-\" + name, b.shift, b.preventDefault, b.stopPropagation);\n        }\n    }\n    return bound;\n}\nfunction runHandlers(map, event, view, scope) {\n    let name = keyName(event);\n    let charCode = codePointAt(name, 0), isChar = codePointSize(charCode) == name.length && name != \" \";\n    let prefix = \"\", handled = false, prevented = false, stopPropagation = false;\n    if (storedPrefix && storedPrefix.view == view && storedPrefix.scope == scope) {\n        prefix = storedPrefix.prefix + \" \";\n        if (modifierCodes.indexOf(event.keyCode) < 0) {\n            prevented = true;\n            storedPrefix = null;\n        }\n    }\n    let ran = new Set;\n    let runFor = (binding) => {\n        if (binding) {\n            for (let cmd of binding.run)\n                if (!ran.has(cmd)) {\n                    ran.add(cmd);\n                    if (cmd(view, event)) {\n                        if (binding.stopPropagation)\n                            stopPropagation = true;\n                        return true;\n                    }\n                }\n            if (binding.preventDefault) {\n                if (binding.stopPropagation)\n                    stopPropagation = true;\n                prevented = true;\n            }\n        }\n        return false;\n    };\n    let scopeObj = map[scope], baseName, shiftName;\n    if (scopeObj) {\n        if (runFor(scopeObj[prefix + modifiers(name, event, !isChar)])) {\n            handled = true;\n        }\n        else if (isChar && (event.altKey || event.metaKey || event.ctrlKey) &&\n            // Ctrl-Alt may be used for AltGr on Windows\n            !(browser.windows && event.ctrlKey && event.altKey) &&\n            (baseName = base[event.keyCode]) && baseName != name) {\n            if (runFor(scopeObj[prefix + modifiers(baseName, event, true)])) {\n                handled = true;\n            }\n            else if (event.shiftKey && (shiftName = shift[event.keyCode]) != name && shiftName != baseName &&\n                runFor(scopeObj[prefix + modifiers(shiftName, event, false)])) {\n                handled = true;\n            }\n        }\n        else if (isChar && event.shiftKey &&\n            runFor(scopeObj[prefix + modifiers(name, event, true)])) {\n            handled = true;\n        }\n        if (!handled && runFor(scopeObj._any))\n            handled = true;\n    }\n    if (prevented)\n        handled = true;\n    if (handled && stopPropagation)\n        event.stopPropagation();\n    return handled;\n}\n\n/**\nImplementation of [`LayerMarker`](https://codemirror.net/6/docs/ref/#view.LayerMarker) that creates\na rectangle at a given set of coordinates.\n*/\nclass RectangleMarker {\n    /**\n    Create a marker with the given class and dimensions. If `width`\n    is null, the DOM element will get no width style.\n    */\n    constructor(className, left, top, width, height) {\n        this.className = className;\n        this.left = left;\n        this.top = top;\n        this.width = width;\n        this.height = height;\n    }\n    draw() {\n        let elt = document.createElement(\"div\");\n        elt.className = this.className;\n        this.adjust(elt);\n        return elt;\n    }\n    update(elt, prev) {\n        if (prev.className != this.className)\n            return false;\n        this.adjust(elt);\n        return true;\n    }\n    adjust(elt) {\n        elt.style.left = this.left + \"px\";\n        elt.style.top = this.top + \"px\";\n        if (this.width != null)\n            elt.style.width = this.width + \"px\";\n        elt.style.height = this.height + \"px\";\n    }\n    eq(p) {\n        return this.left == p.left && this.top == p.top && this.width == p.width && this.height == p.height &&\n            this.className == p.className;\n    }\n    /**\n    Create a set of rectangles for the given selection range,\n    assigning them theclass`className`. Will create a single\n    rectangle for empty ranges, and a set of selection-style\n    rectangles covering the range's content (in a bidi-aware\n    way) for non-empty ones.\n    */\n    static forRange(view, className, range) {\n        if (range.empty) {\n            let pos = view.coordsAtPos(range.head, range.assoc || 1);\n            if (!pos)\n                return [];\n            let base = getBase(view);\n            return [new RectangleMarker(className, pos.left - base.left, pos.top - base.top, null, pos.bottom - pos.top)];\n        }\n        else {\n            return rectanglesForRange(view, className, range);\n        }\n    }\n}\nfunction getBase(view) {\n    let rect = view.scrollDOM.getBoundingClientRect();\n    let left = view.textDirection == Direction.LTR ? rect.left : rect.right - view.scrollDOM.clientWidth * view.scaleX;\n    return { left: left - view.scrollDOM.scrollLeft * view.scaleX, top: rect.top - view.scrollDOM.scrollTop * view.scaleY };\n}\nfunction wrappedLine(view, pos, inside) {\n    let range = EditorSelection.cursor(pos);\n    return { from: Math.max(inside.from, view.moveToLineBoundary(range, false, true).from),\n        to: Math.min(inside.to, view.moveToLineBoundary(range, true, true).from),\n        type: BlockType.Text };\n}\nfunction rectanglesForRange(view, className, range) {\n    if (range.to <= view.viewport.from || range.from >= view.viewport.to)\n        return [];\n    let from = Math.max(range.from, view.viewport.from), to = Math.min(range.to, view.viewport.to);\n    let ltr = view.textDirection == Direction.LTR;\n    let content = view.contentDOM, contentRect = content.getBoundingClientRect(), base = getBase(view);\n    let lineElt = content.querySelector(\".cm-line\"), lineStyle = lineElt && window.getComputedStyle(lineElt);\n    let leftSide = contentRect.left +\n        (lineStyle ? parseInt(lineStyle.paddingLeft) + Math.min(0, parseInt(lineStyle.textIndent)) : 0);\n    let rightSide = contentRect.right - (lineStyle ? parseInt(lineStyle.paddingRight) : 0);\n    let startBlock = blockAt(view, from), endBlock = blockAt(view, to);\n    let visualStart = startBlock.type == BlockType.Text ? startBlock : null;\n    let visualEnd = endBlock.type == BlockType.Text ? endBlock : null;\n    if (visualStart && (view.lineWrapping || startBlock.widgetLineBreaks))\n        visualStart = wrappedLine(view, from, visualStart);\n    if (visualEnd && (view.lineWrapping || endBlock.widgetLineBreaks))\n        visualEnd = wrappedLine(view, to, visualEnd);\n    if (visualStart && visualEnd && visualStart.from == visualEnd.from) {\n        return pieces(drawForLine(range.from, range.to, visualStart));\n    }\n    else {\n        let top = visualStart ? drawForLine(range.from, null, visualStart) : drawForWidget(startBlock, false);\n        let bottom = visualEnd ? drawForLine(null, range.to, visualEnd) : drawForWidget(endBlock, true);\n        let between = [];\n        if ((visualStart || startBlock).to < (visualEnd || endBlock).from - (visualStart && visualEnd ? 1 : 0) ||\n            startBlock.widgetLineBreaks > 1 && top.bottom + view.defaultLineHeight / 2 < bottom.top)\n            between.push(piece(leftSide, top.bottom, rightSide, bottom.top));\n        else if (top.bottom < bottom.top && view.elementAtHeight((top.bottom + bottom.top) / 2).type == BlockType.Text)\n            top.bottom = bottom.top = (top.bottom + bottom.top) / 2;\n        return pieces(top).concat(between).concat(pieces(bottom));\n    }\n    function piece(left, top, right, bottom) {\n        return new RectangleMarker(className, left - base.left, top - base.top - 0.01 /* C.Epsilon */, right - left, bottom - top + 0.01 /* C.Epsilon */);\n    }\n    function pieces({ top, bottom, horizontal }) {\n        let pieces = [];\n        for (let i = 0; i < horizontal.length; i += 2)\n            pieces.push(piece(horizontal[i], top, horizontal[i + 1], bottom));\n        return pieces;\n    }\n    // Gets passed from/to in line-local positions\n    function drawForLine(from, to, line) {\n        let top = 1e9, bottom = -1e9, horizontal = [];\n        function addSpan(from, fromOpen, to, toOpen, dir) {\n            // Passing 2/-2 is a kludge to force the view to return\n            // coordinates on the proper side of block widgets, since\n            // normalizing the side there, though appropriate for most\n            // coordsAtPos queries, would break selection drawing.\n            let fromCoords = view.coordsAtPos(from, (from == line.to ? -2 : 2));\n            let toCoords = view.coordsAtPos(to, (to == line.from ? 2 : -2));\n            if (!fromCoords || !toCoords)\n                return;\n            top = Math.min(fromCoords.top, toCoords.top, top);\n            bottom = Math.max(fromCoords.bottom, toCoords.bottom, bottom);\n            if (dir == Direction.LTR)\n                horizontal.push(ltr && fromOpen ? leftSide : fromCoords.left, ltr && toOpen ? rightSide : toCoords.right);\n            else\n                horizontal.push(!ltr && toOpen ? leftSide : toCoords.left, !ltr && fromOpen ? rightSide : fromCoords.right);\n        }\n        let start = from !== null && from !== void 0 ? from : line.from, end = to !== null && to !== void 0 ? to : line.to;\n        // Split the range by visible range and document line\n        for (let r of view.visibleRanges)\n            if (r.to > start && r.from < end) {\n                for (let pos = Math.max(r.from, start), endPos = Math.min(r.to, end);;) {\n                    let docLine = view.state.doc.lineAt(pos);\n                    for (let span of view.bidiSpans(docLine)) {\n                        let spanFrom = span.from + docLine.from, spanTo = span.to + docLine.from;\n                        if (spanFrom >= endPos)\n                            break;\n                        if (spanTo > pos)\n                            addSpan(Math.max(spanFrom, pos), from == null && spanFrom <= start, Math.min(spanTo, endPos), to == null && spanTo >= end, span.dir);\n                    }\n                    pos = docLine.to + 1;\n                    if (pos >= endPos)\n                        break;\n                }\n            }\n        if (horizontal.length == 0)\n            addSpan(start, from == null, end, to == null, view.textDirection);\n        return { top, bottom, horizontal };\n    }\n    function drawForWidget(block, top) {\n        let y = contentRect.top + (top ? block.top : block.bottom);\n        return { top: y, bottom: y, horizontal: [] };\n    }\n}\nfunction sameMarker(a, b) {\n    return a.constructor == b.constructor && a.eq(b);\n}\nclass LayerView {\n    constructor(view, layer) {\n        this.view = view;\n        this.layer = layer;\n        this.drawn = [];\n        this.scaleX = 1;\n        this.scaleY = 1;\n        this.measureReq = { read: this.measure.bind(this), write: this.draw.bind(this) };\n        this.dom = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.dom.classList.add(\"cm-layer\");\n        if (layer.above)\n            this.dom.classList.add(\"cm-layer-above\");\n        if (layer.class)\n            this.dom.classList.add(layer.class);\n        this.scale();\n        this.dom.setAttribute(\"aria-hidden\", \"true\");\n        this.setOrder(view.state);\n        view.requestMeasure(this.measureReq);\n        if (layer.mount)\n            layer.mount(this.dom, view);\n    }\n    update(update) {\n        if (update.startState.facet(layerOrder) != update.state.facet(layerOrder))\n            this.setOrder(update.state);\n        if (this.layer.update(update, this.dom) || update.geometryChanged) {\n            this.scale();\n            update.view.requestMeasure(this.measureReq);\n        }\n    }\n    setOrder(state) {\n        let pos = 0, order = state.facet(layerOrder);\n        while (pos < order.length && order[pos] != this.layer)\n            pos++;\n        this.dom.style.zIndex = String((this.layer.above ? 150 : -1) - pos);\n    }\n    measure() {\n        return this.layer.markers(this.view);\n    }\n    scale() {\n        let { scaleX, scaleY } = this.view;\n        if (scaleX != this.scaleX || scaleY != this.scaleY) {\n            this.scaleX = scaleX;\n            this.scaleY = scaleY;\n            this.dom.style.transform = `scale(${1 / scaleX}, ${1 / scaleY})`;\n        }\n    }\n    draw(markers) {\n        if (markers.length != this.drawn.length || markers.some((p, i) => !sameMarker(p, this.drawn[i]))) {\n            let old = this.dom.firstChild, oldI = 0;\n            for (let marker of markers) {\n                if (marker.update && old && marker.constructor && this.drawn[oldI].constructor &&\n                    marker.update(old, this.drawn[oldI])) {\n                    old = old.nextSibling;\n                    oldI++;\n                }\n                else {\n                    this.dom.insertBefore(marker.draw(), old);\n                }\n            }\n            while (old) {\n                let next = old.nextSibling;\n                old.remove();\n                old = next;\n            }\n            this.drawn = markers;\n        }\n    }\n    destroy() {\n        if (this.layer.destroy)\n            this.layer.destroy(this.dom, this.view);\n        this.dom.remove();\n    }\n}\nconst layerOrder = /*@__PURE__*/Facet.define();\n/**\nDefine a layer.\n*/\nfunction layer(config) {\n    return [\n        ViewPlugin.define(v => new LayerView(v, config)),\n        layerOrder.of(config)\n    ];\n}\n\nconst CanHidePrimary = !browser.ios; // FIXME test IE\nconst selectionConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            cursorBlinkRate: 1200,\n            drawRangeCursor: true\n        }, {\n            cursorBlinkRate: (a, b) => Math.min(a, b),\n            drawRangeCursor: (a, b) => a || b\n        });\n    }\n});\n/**\nReturns an extension that hides the browser's native selection and\ncursor, replacing the selection with a background behind the text\n(with the `cm-selectionBackground` class), and the\ncursors with elements overlaid over the code (using\n`cm-cursor-primary` and `cm-cursor-secondary`).\n\nThis allows the editor to display secondary selection ranges, and\ntends to produce a type of selection more in line with that users\nexpect in a text editor (the native selection styling will often\nleave gaps between lines and won't fill the horizontal space after\na line when the selection continues past it).\n\nIt does have a performance cost, in that it requires an extra DOM\nlayout cycle for many updates (the selection is drawn based on DOM\nlayout information that's only available after laying out the\ncontent).\n*/\nfunction drawSelection(config = {}) {\n    return [\n        selectionConfig.of(config),\n        cursorLayer,\n        selectionLayer,\n        hideNativeSelection,\n        nativeSelectionHidden.of(true)\n    ];\n}\nfunction configChanged(update) {\n    return update.startState.facet(selectionConfig) != update.state.facet(selectionConfig);\n}\nconst cursorLayer = /*@__PURE__*/layer({\n    above: true,\n    markers(view) {\n        let { state } = view, conf = state.facet(selectionConfig);\n        let cursors = [];\n        for (let r of state.selection.ranges) {\n            let prim = r == state.selection.main;\n            if (r.empty ? !prim || CanHidePrimary : conf.drawRangeCursor) {\n                let className = prim ? \"cm-cursor cm-cursor-primary\" : \"cm-cursor cm-cursor-secondary\";\n                let cursor = r.empty ? r : EditorSelection.cursor(r.head, r.head > r.anchor ? -1 : 1);\n                for (let piece of RectangleMarker.forRange(view, className, cursor))\n                    cursors.push(piece);\n            }\n        }\n        return cursors;\n    },\n    update(update, dom) {\n        if (update.transactions.some(tr => tr.selection))\n            dom.style.animationName = dom.style.animationName == \"cm-blink\" ? \"cm-blink2\" : \"cm-blink\";\n        let confChange = configChanged(update);\n        if (confChange)\n            setBlinkRate(update.state, dom);\n        return update.docChanged || update.selectionSet || confChange;\n    },\n    mount(dom, view) {\n        setBlinkRate(view.state, dom);\n    },\n    class: \"cm-cursorLayer\"\n});\nfunction setBlinkRate(state, dom) {\n    dom.style.animationDuration = state.facet(selectionConfig).cursorBlinkRate + \"ms\";\n}\nconst selectionLayer = /*@__PURE__*/layer({\n    above: false,\n    markers(view) {\n        return view.state.selection.ranges.map(r => r.empty ? [] : RectangleMarker.forRange(view, \"cm-selectionBackground\", r))\n            .reduce((a, b) => a.concat(b));\n    },\n    update(update, dom) {\n        return update.docChanged || update.selectionSet || update.viewportChanged || configChanged(update);\n    },\n    class: \"cm-selectionLayer\"\n});\nconst themeSpec = {\n    \".cm-line\": {\n        \"& ::selection\": { backgroundColor: \"transparent !important\" },\n        \"&::selection\": { backgroundColor: \"transparent !important\" }\n    }\n};\nif (CanHidePrimary)\n    themeSpec[\".cm-line\"].caretColor = \"transparent !important\";\nconst hideNativeSelection = /*@__PURE__*/Prec.highest(/*@__PURE__*/EditorView.theme(themeSpec));\n\nconst setDropCursorPos = /*@__PURE__*/StateEffect.define({\n    map(pos, mapping) { return pos == null ? null : mapping.mapPos(pos); }\n});\nconst dropCursorPos = /*@__PURE__*/StateField.define({\n    create() { return null; },\n    update(pos, tr) {\n        if (pos != null)\n            pos = tr.changes.mapPos(pos);\n        return tr.effects.reduce((pos, e) => e.is(setDropCursorPos) ? e.value : pos, pos);\n    }\n});\nconst drawDropCursor = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.cursor = null;\n        this.measureReq = { read: this.readPos.bind(this), write: this.drawCursor.bind(this) };\n    }\n    update(update) {\n        var _a;\n        let cursorPos = update.state.field(dropCursorPos);\n        if (cursorPos == null) {\n            if (this.cursor != null) {\n                (_a = this.cursor) === null || _a === void 0 ? void 0 : _a.remove();\n                this.cursor = null;\n            }\n        }\n        else {\n            if (!this.cursor) {\n                this.cursor = this.view.scrollDOM.appendChild(document.createElement(\"div\"));\n                this.cursor.className = \"cm-dropCursor\";\n            }\n            if (update.startState.field(dropCursorPos) != cursorPos || update.docChanged || update.geometryChanged)\n                this.view.requestMeasure(this.measureReq);\n        }\n    }\n    readPos() {\n        let { view } = this;\n        let pos = view.state.field(dropCursorPos);\n        let rect = pos != null && view.coordsAtPos(pos);\n        if (!rect)\n            return null;\n        let outer = view.scrollDOM.getBoundingClientRect();\n        return {\n            left: rect.left - outer.left + view.scrollDOM.scrollLeft * view.scaleX,\n            top: rect.top - outer.top + view.scrollDOM.scrollTop * view.scaleY,\n            height: rect.bottom - rect.top\n        };\n    }\n    drawCursor(pos) {\n        if (this.cursor) {\n            let { scaleX, scaleY } = this.view;\n            if (pos) {\n                this.cursor.style.left = pos.left / scaleX + \"px\";\n                this.cursor.style.top = pos.top / scaleY + \"px\";\n                this.cursor.style.height = pos.height / scaleY + \"px\";\n            }\n            else {\n                this.cursor.style.left = \"-100000px\";\n            }\n        }\n    }\n    destroy() {\n        if (this.cursor)\n            this.cursor.remove();\n    }\n    setDropPos(pos) {\n        if (this.view.state.field(dropCursorPos) != pos)\n            this.view.dispatch({ effects: setDropCursorPos.of(pos) });\n    }\n}, {\n    eventObservers: {\n        dragover(event) {\n            this.setDropPos(this.view.posAtCoords({ x: event.clientX, y: event.clientY }));\n        },\n        dragleave(event) {\n            if (event.target == this.view.contentDOM || !this.view.contentDOM.contains(event.relatedTarget))\n                this.setDropPos(null);\n        },\n        dragend() {\n            this.setDropPos(null);\n        },\n        drop() {\n            this.setDropPos(null);\n        }\n    }\n});\n/**\nDraws a cursor at the current drop position when something is\ndragged over the editor.\n*/\nfunction dropCursor() {\n    return [dropCursorPos, drawDropCursor];\n}\n\nfunction iterMatches(doc, re, from, to, f) {\n    re.lastIndex = 0;\n    for (let cursor = doc.iterRange(from, to), pos = from, m; !cursor.next().done; pos += cursor.value.length) {\n        if (!cursor.lineBreak)\n            while (m = re.exec(cursor.value))\n                f(pos + m.index, m);\n    }\n}\nfunction matchRanges(view, maxLength) {\n    let visible = view.visibleRanges;\n    if (visible.length == 1 && visible[0].from == view.viewport.from &&\n        visible[0].to == view.viewport.to)\n        return visible;\n    let result = [];\n    for (let { from, to } of visible) {\n        from = Math.max(view.state.doc.lineAt(from).from, from - maxLength);\n        to = Math.min(view.state.doc.lineAt(to).to, to + maxLength);\n        if (result.length && result[result.length - 1].to >= from)\n            result[result.length - 1].to = to;\n        else\n            result.push({ from, to });\n    }\n    return result;\n}\n/**\nHelper class used to make it easier to maintain decorations on\nvisible code that matches a given regular expression. To be used\nin a [view plugin](https://codemirror.net/6/docs/ref/#view.ViewPlugin). Instances of this object\nrepresent a matching configuration.\n*/\nclass MatchDecorator {\n    /**\n    Create a decorator.\n    */\n    constructor(config) {\n        const { regexp, decoration, decorate, boundary, maxLength = 1000 } = config;\n        if (!regexp.global)\n            throw new RangeError(\"The regular expression given to MatchDecorator should have its 'g' flag set\");\n        this.regexp = regexp;\n        if (decorate) {\n            this.addMatch = (match, view, from, add) => decorate(add, from, from + match[0].length, match, view);\n        }\n        else if (typeof decoration == \"function\") {\n            this.addMatch = (match, view, from, add) => {\n                let deco = decoration(match, view, from);\n                if (deco)\n                    add(from, from + match[0].length, deco);\n            };\n        }\n        else if (decoration) {\n            this.addMatch = (match, _view, from, add) => add(from, from + match[0].length, decoration);\n        }\n        else {\n            throw new RangeError(\"Either 'decorate' or 'decoration' should be provided to MatchDecorator\");\n        }\n        this.boundary = boundary;\n        this.maxLength = maxLength;\n    }\n    /**\n    Compute the full set of decorations for matches in the given\n    view's viewport. You'll want to call this when initializing your\n    plugin.\n    */\n    createDeco(view) {\n        let build = new RangeSetBuilder(), add = build.add.bind(build);\n        for (let { from, to } of matchRanges(view, this.maxLength))\n            iterMatches(view.state.doc, this.regexp, from, to, (from, m) => this.addMatch(m, view, from, add));\n        return build.finish();\n    }\n    /**\n    Update a set of decorations for a view update. `deco` _must_ be\n    the set of decorations produced by _this_ `MatchDecorator` for\n    the view state before the update.\n    */\n    updateDeco(update, deco) {\n        let changeFrom = 1e9, changeTo = -1;\n        if (update.docChanged)\n            update.changes.iterChanges((_f, _t, from, to) => {\n                if (to > update.view.viewport.from && from < update.view.viewport.to) {\n                    changeFrom = Math.min(from, changeFrom);\n                    changeTo = Math.max(to, changeTo);\n                }\n            });\n        if (update.viewportChanged || changeTo - changeFrom > 1000)\n            return this.createDeco(update.view);\n        if (changeTo > -1)\n            return this.updateRange(update.view, deco.map(update.changes), changeFrom, changeTo);\n        return deco;\n    }\n    updateRange(view, deco, updateFrom, updateTo) {\n        for (let r of view.visibleRanges) {\n            let from = Math.max(r.from, updateFrom), to = Math.min(r.to, updateTo);\n            if (to > from) {\n                let fromLine = view.state.doc.lineAt(from), toLine = fromLine.to < to ? view.state.doc.lineAt(to) : fromLine;\n                let start = Math.max(r.from, fromLine.from), end = Math.min(r.to, toLine.to);\n                if (this.boundary) {\n                    for (; from > fromLine.from; from--)\n                        if (this.boundary.test(fromLine.text[from - 1 - fromLine.from])) {\n                            start = from;\n                            break;\n                        }\n                    for (; to < toLine.to; to++)\n                        if (this.boundary.test(toLine.text[to - toLine.from])) {\n                            end = to;\n                            break;\n                        }\n                }\n                let ranges = [], m;\n                let add = (from, to, deco) => ranges.push(deco.range(from, to));\n                if (fromLine == toLine) {\n                    this.regexp.lastIndex = start - fromLine.from;\n                    while ((m = this.regexp.exec(fromLine.text)) && m.index < end - fromLine.from)\n                        this.addMatch(m, view, m.index + fromLine.from, add);\n                }\n                else {\n                    iterMatches(view.state.doc, this.regexp, start, end, (from, m) => this.addMatch(m, view, from, add));\n                }\n                deco = deco.update({ filterFrom: start, filterTo: end, filter: (from, to) => from < start || to > end, add: ranges });\n            }\n        }\n        return deco;\n    }\n}\n\nconst UnicodeRegexpSupport = /x/.unicode != null ? \"gu\" : \"g\";\nconst Specials = /*@__PURE__*/new RegExp(\"[\\u0000-\\u0008\\u000a-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\u2066\\u2067\\u2069\\ufeff\\ufff9-\\ufffc]\", UnicodeRegexpSupport);\nconst Names = {\n    0: \"null\",\n    7: \"bell\",\n    8: \"backspace\",\n    10: \"newline\",\n    11: \"vertical tab\",\n    13: \"carriage return\",\n    27: \"escape\",\n    8203: \"zero width space\",\n    8204: \"zero width non-joiner\",\n    8205: \"zero width joiner\",\n    8206: \"left-to-right mark\",\n    8207: \"right-to-left mark\",\n    8232: \"line separator\",\n    8237: \"left-to-right override\",\n    8238: \"right-to-left override\",\n    8294: \"left-to-right isolate\",\n    8295: \"right-to-left isolate\",\n    8297: \"pop directional isolate\",\n    8233: \"paragraph separator\",\n    65279: \"zero width no-break space\",\n    65532: \"object replacement\"\n};\nlet _supportsTabSize = null;\nfunction supportsTabSize() {\n    var _a;\n    if (_supportsTabSize == null && typeof document != \"undefined\" && document.body) {\n        let styles = document.body.style;\n        _supportsTabSize = ((_a = styles.tabSize) !== null && _a !== void 0 ? _a : styles.MozTabSize) != null;\n    }\n    return _supportsTabSize || false;\n}\nconst specialCharConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        let config = combineConfig(configs, {\n            render: null,\n            specialChars: Specials,\n            addSpecialChars: null\n        });\n        if (config.replaceTabs = !supportsTabSize())\n            config.specialChars = new RegExp(\"\\t|\" + config.specialChars.source, UnicodeRegexpSupport);\n        if (config.addSpecialChars)\n            config.specialChars = new RegExp(config.specialChars.source + \"|\" + config.addSpecialChars.source, UnicodeRegexpSupport);\n        return config;\n    }\n});\n/**\nReturns an extension that installs highlighting of special\ncharacters.\n*/\nfunction highlightSpecialChars(\n/**\nConfiguration options.\n*/\nconfig = {}) {\n    return [specialCharConfig.of(config), specialCharPlugin()];\n}\nlet _plugin = null;\nfunction specialCharPlugin() {\n    return _plugin || (_plugin = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.decorations = Decoration.none;\n            this.decorationCache = Object.create(null);\n            this.decorator = this.makeDecorator(view.state.facet(specialCharConfig));\n            this.decorations = this.decorator.createDeco(view);\n        }\n        makeDecorator(conf) {\n            return new MatchDecorator({\n                regexp: conf.specialChars,\n                decoration: (m, view, pos) => {\n                    let { doc } = view.state;\n                    let code = codePointAt(m[0], 0);\n                    if (code == 9) {\n                        let line = doc.lineAt(pos);\n                        let size = view.state.tabSize, col = countColumn(line.text, size, pos - line.from);\n                        return Decoration.replace({\n                            widget: new TabWidget((size - (col % size)) * this.view.defaultCharacterWidth / this.view.scaleX)\n                        });\n                    }\n                    return this.decorationCache[code] ||\n                        (this.decorationCache[code] = Decoration.replace({ widget: new SpecialCharWidget(conf, code) }));\n                },\n                boundary: conf.replaceTabs ? undefined : /[^]/\n            });\n        }\n        update(update) {\n            let conf = update.state.facet(specialCharConfig);\n            if (update.startState.facet(specialCharConfig) != conf) {\n                this.decorator = this.makeDecorator(conf);\n                this.decorations = this.decorator.createDeco(update.view);\n            }\n            else {\n                this.decorations = this.decorator.updateDeco(update, this.decorations);\n            }\n        }\n    }, {\n        decorations: v => v.decorations\n    }));\n}\nconst DefaultPlaceholder = \"\\u2022\";\n// Assigns placeholder characters from the Control Pictures block to\n// ASCII control characters\nfunction placeholder$1(code) {\n    if (code >= 32)\n        return DefaultPlaceholder;\n    if (code == 10)\n        return \"\\u2424\";\n    return String.fromCharCode(9216 + code);\n}\nclass SpecialCharWidget extends WidgetType {\n    constructor(options, code) {\n        super();\n        this.options = options;\n        this.code = code;\n    }\n    eq(other) { return other.code == this.code; }\n    toDOM(view) {\n        let ph = placeholder$1(this.code);\n        let desc = view.state.phrase(\"Control character\") + \" \" + (Names[this.code] || \"0x\" + this.code.toString(16));\n        let custom = this.options.render && this.options.render(this.code, desc, ph);\n        if (custom)\n            return custom;\n        let span = document.createElement(\"span\");\n        span.textContent = ph;\n        span.title = desc;\n        span.setAttribute(\"aria-label\", desc);\n        span.className = \"cm-specialChar\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\nclass TabWidget extends WidgetType {\n    constructor(width) {\n        super();\n        this.width = width;\n    }\n    eq(other) { return other.width == this.width; }\n    toDOM() {\n        let span = document.createElement(\"span\");\n        span.textContent = \"\\t\";\n        span.className = \"cm-tab\";\n        span.style.width = this.width + \"px\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\n\nconst plugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor() {\n        this.height = 1000;\n        this.attrs = { style: \"padding-bottom: 1000px\" };\n    }\n    update(update) {\n        let { view } = update;\n        let height = view.viewState.editorHeight * view.scaleY -\n            view.defaultLineHeight - view.documentPadding.top - 0.5;\n        if (height >= 0 && height != this.height) {\n            this.height = height;\n            this.attrs = { style: `padding-bottom: ${height}px` };\n        }\n    }\n});\n/**\nReturns an extension that makes sure the content has a bottom\nmargin equivalent to the height of the editor, minus one line\nheight, so that every line in the document can be scrolled to the\ntop of the editor.\n\nThis is only meaningful when the editor is scrollable, and should\nnot be enabled in editors that take the size of their content.\n*/\nfunction scrollPastEnd() {\n    return [plugin, contentAttributes.of(view => { var _a; return ((_a = view.plugin(plugin)) === null || _a === void 0 ? void 0 : _a.attrs) || null; })];\n}\n\n/**\nMark lines that have a cursor on them with the `\"cm-activeLine\"`\nDOM class.\n*/\nfunction highlightActiveLine() {\n    return activeLineHighlighter;\n}\nconst lineDeco = /*@__PURE__*/Decoration.line({ class: \"cm-activeLine\" });\nconst activeLineHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.decorations = this.getDeco(view);\n    }\n    update(update) {\n        if (update.docChanged || update.selectionSet)\n            this.decorations = this.getDeco(update.view);\n    }\n    getDeco(view) {\n        let lastLineStart = -1, deco = [];\n        for (let r of view.state.selection.ranges) {\n            let line = view.lineBlockAt(r.head);\n            if (line.from > lastLineStart) {\n                deco.push(lineDeco.range(line.from));\n                lastLineStart = line.from;\n            }\n        }\n        return Decoration.set(deco);\n    }\n}, {\n    decorations: v => v.decorations\n});\n\nclass Placeholder extends WidgetType {\n    constructor(content) {\n        super();\n        this.content = content;\n    }\n    toDOM() {\n        let wrap = document.createElement(\"span\");\n        wrap.className = \"cm-placeholder\";\n        wrap.style.pointerEvents = \"none\";\n        wrap.appendChild(typeof this.content == \"string\" ? document.createTextNode(this.content) : this.content);\n        if (typeof this.content == \"string\")\n            wrap.setAttribute(\"aria-label\", \"placeholder \" + this.content);\n        else\n            wrap.setAttribute(\"aria-hidden\", \"true\");\n        return wrap;\n    }\n    coordsAt(dom) {\n        let rects = dom.firstChild ? clientRectsFor(dom.firstChild) : [];\n        if (!rects.length)\n            return null;\n        let style = window.getComputedStyle(dom.parentNode);\n        let rect = flattenRect(rects[0], style.direction != \"rtl\");\n        let lineHeight = parseInt(style.lineHeight);\n        if (rect.bottom - rect.top > lineHeight * 1.5)\n            return { left: rect.left, right: rect.right, top: rect.top, bottom: rect.top + lineHeight };\n        return rect;\n    }\n    ignoreEvent() { return false; }\n}\n/**\nExtension that enables a placeholder—a piece of example content\nto show when the editor is empty.\n*/\nfunction placeholder(content) {\n    return ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.placeholder = content\n                ? Decoration.set([Decoration.widget({ widget: new Placeholder(content), side: 1 }).range(0)])\n                : Decoration.none;\n        }\n        get decorations() { return this.view.state.doc.length ? Decoration.none : this.placeholder; }\n    }, { decorations: v => v.decorations });\n}\n\n// Don't compute precise column positions for line offsets above this\n// (since it could get expensive). Assume offset==column for them.\nconst MaxOff = 2000;\nfunction rectangleFor(state, a, b) {\n    let startLine = Math.min(a.line, b.line), endLine = Math.max(a.line, b.line);\n    let ranges = [];\n    if (a.off > MaxOff || b.off > MaxOff || a.col < 0 || b.col < 0) {\n        let startOff = Math.min(a.off, b.off), endOff = Math.max(a.off, b.off);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state.doc.line(i);\n            if (line.length <= endOff)\n                ranges.push(EditorSelection.range(line.from + startOff, line.to + endOff));\n        }\n    }\n    else {\n        let startCol = Math.min(a.col, b.col), endCol = Math.max(a.col, b.col);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state.doc.line(i);\n            let start = findColumn(line.text, startCol, state.tabSize, true);\n            if (start < 0) {\n                ranges.push(EditorSelection.cursor(line.to));\n            }\n            else {\n                let end = findColumn(line.text, endCol, state.tabSize);\n                ranges.push(EditorSelection.range(line.from + start, line.from + end));\n            }\n        }\n    }\n    return ranges;\n}\nfunction absoluteColumn(view, x) {\n    let ref = view.coordsAtPos(view.viewport.from);\n    return ref ? Math.round(Math.abs((ref.left - x) / view.defaultCharacterWidth)) : -1;\n}\nfunction getPos(view, event) {\n    let offset = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    let line = view.state.doc.lineAt(offset), off = offset - line.from;\n    let col = off > MaxOff ? -1\n        : off == line.length ? absoluteColumn(view, event.clientX)\n            : countColumn(line.text, view.state.tabSize, offset - line.from);\n    return { line: line.number, col, off };\n}\nfunction rectangleSelectionStyle(view, event) {\n    let start = getPos(view, event), startSel = view.state.selection;\n    if (!start)\n        return null;\n    return {\n        update(update) {\n            if (update.docChanged) {\n                let newStart = update.changes.mapPos(update.startState.doc.line(start.line).from);\n                let newLine = update.state.doc.lineAt(newStart);\n                start = { line: newLine.number, col: start.col, off: Math.min(start.off, newLine.length) };\n                startSel = startSel.map(update.changes);\n            }\n        },\n        get(event, _extend, multiple) {\n            let cur = getPos(view, event);\n            if (!cur)\n                return startSel;\n            let ranges = rectangleFor(view.state, start, cur);\n            if (!ranges.length)\n                return startSel;\n            if (multiple)\n                return EditorSelection.create(ranges.concat(startSel.ranges));\n            else\n                return EditorSelection.create(ranges);\n        }\n    };\n}\n/**\nCreate an extension that enables rectangular selections. By\ndefault, it will react to left mouse drag with the Alt key held\ndown. When such a selection occurs, the text within the rectangle\nthat was dragged over will be selected, as one selection\n[range](https://codemirror.net/6/docs/ref/#state.SelectionRange) per line.\n*/\nfunction rectangularSelection(options) {\n    let filter = (options === null || options === void 0 ? void 0 : options.eventFilter) || (e => e.altKey && e.button == 0);\n    return EditorView.mouseSelectionStyle.of((view, event) => filter(event) ? rectangleSelectionStyle(view, event) : null);\n}\nconst keys = {\n    Alt: [18, e => !!e.altKey],\n    Control: [17, e => !!e.ctrlKey],\n    Shift: [16, e => !!e.shiftKey],\n    Meta: [91, e => !!e.metaKey]\n};\nconst showCrosshair = { style: \"cursor: crosshair\" };\n/**\nReturns an extension that turns the pointer cursor into a\ncrosshair when a given modifier key, defaulting to Alt, is held\ndown. Can serve as a visual hint that rectangular selection is\ngoing to happen when paired with\n[`rectangularSelection`](https://codemirror.net/6/docs/ref/#view.rectangularSelection).\n*/\nfunction crosshairCursor(options = {}) {\n    let [code, getter] = keys[options.key || \"Alt\"];\n    let plugin = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.isDown = false;\n        }\n        set(isDown) {\n            if (this.isDown != isDown) {\n                this.isDown = isDown;\n                this.view.update([]);\n            }\n        }\n    }, {\n        eventObservers: {\n            keydown(e) {\n                this.set(e.keyCode == code || getter(e));\n            },\n            keyup(e) {\n                if (e.keyCode == code || !getter(e))\n                    this.set(false);\n            },\n            mousemove(e) {\n                this.set(getter(e));\n            }\n        }\n    });\n    return [\n        plugin,\n        EditorView.contentAttributes.of(view => { var _a; return ((_a = view.plugin(plugin)) === null || _a === void 0 ? void 0 : _a.isDown) ? showCrosshair : null; })\n    ];\n}\n\nconst Outside = \"-10000px\";\nclass TooltipViewManager {\n    constructor(view, facet, createTooltipView) {\n        this.facet = facet;\n        this.createTooltipView = createTooltipView;\n        this.input = view.state.facet(facet);\n        this.tooltips = this.input.filter(t => t);\n        this.tooltipViews = this.tooltips.map(createTooltipView);\n    }\n    update(update) {\n        var _a;\n        let input = update.state.facet(this.facet);\n        let tooltips = input.filter(x => x);\n        if (input === this.input) {\n            for (let t of this.tooltipViews)\n                if (t.update)\n                    t.update(update);\n            return false;\n        }\n        let tooltipViews = [];\n        for (let i = 0; i < tooltips.length; i++) {\n            let tip = tooltips[i], known = -1;\n            if (!tip)\n                continue;\n            for (let i = 0; i < this.tooltips.length; i++) {\n                let other = this.tooltips[i];\n                if (other && other.create == tip.create)\n                    known = i;\n            }\n            if (known < 0) {\n                tooltipViews[i] = this.createTooltipView(tip);\n            }\n            else {\n                let tooltipView = tooltipViews[i] = this.tooltipViews[known];\n                if (tooltipView.update)\n                    tooltipView.update(update);\n            }\n        }\n        for (let t of this.tooltipViews)\n            if (tooltipViews.indexOf(t) < 0) {\n                t.dom.remove();\n                (_a = t.destroy) === null || _a === void 0 ? void 0 : _a.call(t);\n            }\n        this.input = input;\n        this.tooltips = tooltips;\n        this.tooltipViews = tooltipViews;\n        return true;\n    }\n}\n/**\nCreates an extension that configures tooltip behavior.\n*/\nfunction tooltips(config = {}) {\n    return tooltipConfig.of(config);\n}\nfunction windowSpace(view) {\n    let { win } = view;\n    return { top: 0, left: 0, bottom: win.innerHeight, right: win.innerWidth };\n}\nconst tooltipConfig = /*@__PURE__*/Facet.define({\n    combine: values => {\n        var _a, _b, _c;\n        return ({\n            position: browser.ios ? \"absolute\" : ((_a = values.find(conf => conf.position)) === null || _a === void 0 ? void 0 : _a.position) || \"fixed\",\n            parent: ((_b = values.find(conf => conf.parent)) === null || _b === void 0 ? void 0 : _b.parent) || null,\n            tooltipSpace: ((_c = values.find(conf => conf.tooltipSpace)) === null || _c === void 0 ? void 0 : _c.tooltipSpace) || windowSpace,\n        });\n    }\n});\nconst knownHeight = /*@__PURE__*/new WeakMap();\nconst tooltipPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.inView = true;\n        this.madeAbsolute = false;\n        this.lastTransaction = 0;\n        this.measureTimeout = -1;\n        let config = view.state.facet(tooltipConfig);\n        this.position = config.position;\n        this.parent = config.parent;\n        this.classes = view.themeClasses;\n        this.createContainer();\n        this.measureReq = { read: this.readMeasure.bind(this), write: this.writeMeasure.bind(this), key: this };\n        this.manager = new TooltipViewManager(view, showTooltip, t => this.createTooltip(t));\n        this.intersectionObserver = typeof IntersectionObserver == \"function\" ? new IntersectionObserver(entries => {\n            if (Date.now() > this.lastTransaction - 50 &&\n                entries.length > 0 && entries[entries.length - 1].intersectionRatio < 1)\n                this.measureSoon();\n        }, { threshold: [1] }) : null;\n        this.observeIntersection();\n        view.win.addEventListener(\"resize\", this.measureSoon = this.measureSoon.bind(this));\n        this.maybeMeasure();\n    }\n    createContainer() {\n        if (this.parent) {\n            this.container = document.createElement(\"div\");\n            this.container.style.position = \"relative\";\n            this.container.className = this.view.themeClasses;\n            this.parent.appendChild(this.container);\n        }\n        else {\n            this.container = this.view.dom;\n        }\n    }\n    observeIntersection() {\n        if (this.intersectionObserver) {\n            this.intersectionObserver.disconnect();\n            for (let tooltip of this.manager.tooltipViews)\n                this.intersectionObserver.observe(tooltip.dom);\n        }\n    }\n    measureSoon() {\n        if (this.measureTimeout < 0)\n            this.measureTimeout = setTimeout(() => {\n                this.measureTimeout = -1;\n                this.maybeMeasure();\n            }, 50);\n    }\n    update(update) {\n        if (update.transactions.length)\n            this.lastTransaction = Date.now();\n        let updated = this.manager.update(update);\n        if (updated)\n            this.observeIntersection();\n        let shouldMeasure = updated || update.geometryChanged;\n        let newConfig = update.state.facet(tooltipConfig);\n        if (newConfig.position != this.position && !this.madeAbsolute) {\n            this.position = newConfig.position;\n            for (let t of this.manager.tooltipViews)\n                t.dom.style.position = this.position;\n            shouldMeasure = true;\n        }\n        if (newConfig.parent != this.parent) {\n            if (this.parent)\n                this.container.remove();\n            this.parent = newConfig.parent;\n            this.createContainer();\n            for (let t of this.manager.tooltipViews)\n                this.container.appendChild(t.dom);\n            shouldMeasure = true;\n        }\n        else if (this.parent && this.view.themeClasses != this.classes) {\n            this.classes = this.container.className = this.view.themeClasses;\n        }\n        if (shouldMeasure)\n            this.maybeMeasure();\n    }\n    createTooltip(tooltip) {\n        let tooltipView = tooltip.create(this.view);\n        tooltipView.dom.classList.add(\"cm-tooltip\");\n        if (tooltip.arrow && !tooltipView.dom.querySelector(\".cm-tooltip > .cm-tooltip-arrow\")) {\n            let arrow = document.createElement(\"div\");\n            arrow.className = \"cm-tooltip-arrow\";\n            tooltipView.dom.appendChild(arrow);\n        }\n        tooltipView.dom.style.position = this.position;\n        tooltipView.dom.style.top = Outside;\n        this.container.appendChild(tooltipView.dom);\n        if (tooltipView.mount)\n            tooltipView.mount(this.view);\n        return tooltipView;\n    }\n    destroy() {\n        var _a, _b;\n        this.view.win.removeEventListener(\"resize\", this.measureSoon);\n        for (let tooltipView of this.manager.tooltipViews) {\n            tooltipView.dom.remove();\n            (_a = tooltipView.destroy) === null || _a === void 0 ? void 0 : _a.call(tooltipView);\n        }\n        (_b = this.intersectionObserver) === null || _b === void 0 ? void 0 : _b.disconnect();\n        clearTimeout(this.measureTimeout);\n    }\n    readMeasure() {\n        let editor = this.view.dom.getBoundingClientRect();\n        let scaleX = 1, scaleY = 1, makeAbsolute = false;\n        if (this.position == \"fixed\") {\n            let views = this.manager.tooltipViews;\n            // When the dialog's offset parent isn't the body, we are\n            // probably in a transformed container, and should use absolute\n            // positioning instead, since fixed positioning inside a\n            // transform works in a very broken way.\n            makeAbsolute = views.length > 0 && views[0].dom.offsetParent != this.container.ownerDocument.body;\n        }\n        if (makeAbsolute || this.position == \"absolute\") {\n            if (this.parent) {\n                let rect = this.parent.getBoundingClientRect();\n                if (rect.width && rect.height) {\n                    scaleX = rect.width / this.parent.offsetWidth;\n                    scaleY = rect.height / this.parent.offsetHeight;\n                }\n            }\n            else {\n                ({ scaleX, scaleY } = this.view.viewState);\n            }\n        }\n        return {\n            editor,\n            parent: this.parent ? this.container.getBoundingClientRect() : editor,\n            pos: this.manager.tooltips.map((t, i) => {\n                let tv = this.manager.tooltipViews[i];\n                return tv.getCoords ? tv.getCoords(t.pos) : this.view.coordsAtPos(t.pos);\n            }),\n            size: this.manager.tooltipViews.map(({ dom }) => dom.getBoundingClientRect()),\n            space: this.view.state.facet(tooltipConfig).tooltipSpace(this.view),\n            scaleX, scaleY, makeAbsolute\n        };\n    }\n    writeMeasure(measured) {\n        var _a;\n        if (measured.makeAbsolute) {\n            this.madeAbsolute = true;\n            this.position = \"absolute\";\n            for (let t of this.manager.tooltipViews)\n                t.dom.style.position = \"absolute\";\n        }\n        let { editor, space, scaleX, scaleY } = measured;\n        let others = [];\n        for (let i = 0; i < this.manager.tooltips.length; i++) {\n            let tooltip = this.manager.tooltips[i], tView = this.manager.tooltipViews[i], { dom } = tView;\n            let pos = measured.pos[i], size = measured.size[i];\n            // Hide tooltips that are outside of the editor.\n            if (!pos || pos.bottom <= Math.max(editor.top, space.top) ||\n                pos.top >= Math.min(editor.bottom, space.bottom) ||\n                pos.right < Math.max(editor.left, space.left) - .1 ||\n                pos.left > Math.min(editor.right, space.right) + .1) {\n                dom.style.top = Outside;\n                continue;\n            }\n            let arrow = tooltip.arrow ? tView.dom.querySelector(\".cm-tooltip-arrow\") : null;\n            let arrowHeight = arrow ? 7 /* Arrow.Size */ : 0;\n            let width = size.right - size.left, height = (_a = knownHeight.get(tView)) !== null && _a !== void 0 ? _a : size.bottom - size.top;\n            let offset = tView.offset || noOffset, ltr = this.view.textDirection == Direction.LTR;\n            let left = size.width > space.right - space.left ? (ltr ? space.left : space.right - size.width)\n                : ltr ? Math.min(pos.left - (arrow ? 14 /* Arrow.Offset */ : 0) + offset.x, space.right - width)\n                    : Math.max(space.left, pos.left - width + (arrow ? 14 /* Arrow.Offset */ : 0) - offset.x);\n            let above = !!tooltip.above;\n            if (!tooltip.strictSide && (above\n                ? pos.top - (size.bottom - size.top) - offset.y < space.top\n                : pos.bottom + (size.bottom - size.top) + offset.y > space.bottom) &&\n                above == (space.bottom - pos.bottom > pos.top - space.top))\n                above = !above;\n            let spaceVert = (above ? pos.top - space.top : space.bottom - pos.bottom) - arrowHeight;\n            if (spaceVert < height && tView.resize !== false) {\n                if (spaceVert < this.view.defaultLineHeight) {\n                    dom.style.top = Outside;\n                    continue;\n                }\n                knownHeight.set(tView, height);\n                dom.style.height = (height = spaceVert) / scaleY + \"px\";\n            }\n            else if (dom.style.height) {\n                dom.style.height = \"\";\n            }\n            let top = above ? pos.top - height - arrowHeight - offset.y : pos.bottom + arrowHeight + offset.y;\n            let right = left + width;\n            if (tView.overlap !== true)\n                for (let r of others)\n                    if (r.left < right && r.right > left && r.top < top + height && r.bottom > top)\n                        top = above ? r.top - height - 2 - arrowHeight : r.bottom + arrowHeight + 2;\n            if (this.position == \"absolute\") {\n                dom.style.top = (top - measured.parent.top) / scaleY + \"px\";\n                dom.style.left = (left - measured.parent.left) / scaleX + \"px\";\n            }\n            else {\n                dom.style.top = top / scaleY + \"px\";\n                dom.style.left = left / scaleX + \"px\";\n            }\n            if (arrow) {\n                let arrowLeft = pos.left + (ltr ? offset.x : -offset.x) - (left + 14 /* Arrow.Offset */ - 7 /* Arrow.Size */);\n                arrow.style.left = arrowLeft / scaleX + \"px\";\n            }\n            if (tView.overlap !== true)\n                others.push({ left, top, right, bottom: top + height });\n            dom.classList.toggle(\"cm-tooltip-above\", above);\n            dom.classList.toggle(\"cm-tooltip-below\", !above);\n            if (tView.positioned)\n                tView.positioned(measured.space);\n        }\n    }\n    maybeMeasure() {\n        if (this.manager.tooltips.length) {\n            if (this.view.inView)\n                this.view.requestMeasure(this.measureReq);\n            if (this.inView != this.view.inView) {\n                this.inView = this.view.inView;\n                if (!this.inView)\n                    for (let tv of this.manager.tooltipViews)\n                        tv.dom.style.top = Outside;\n            }\n        }\n    }\n}, {\n    eventObservers: {\n        scroll() { this.maybeMeasure(); }\n    }\n});\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-tooltip\": {\n        zIndex: 100,\n        boxSizing: \"border-box\"\n    },\n    \"&light .cm-tooltip\": {\n        border: \"1px solid #bbb\",\n        backgroundColor: \"#f5f5f5\"\n    },\n    \"&light .cm-tooltip-section:not(:first-child)\": {\n        borderTop: \"1px solid #bbb\",\n    },\n    \"&dark .cm-tooltip\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    },\n    \".cm-tooltip-arrow\": {\n        height: `${7 /* Arrow.Size */}px`,\n        width: `${7 /* Arrow.Size */ * 2}px`,\n        position: \"absolute\",\n        zIndex: -1,\n        overflow: \"hidden\",\n        \"&:before, &:after\": {\n            content: \"''\",\n            position: \"absolute\",\n            width: 0,\n            height: 0,\n            borderLeft: `${7 /* Arrow.Size */}px solid transparent`,\n            borderRight: `${7 /* Arrow.Size */}px solid transparent`,\n        },\n        \".cm-tooltip-above &\": {\n            bottom: `-${7 /* Arrow.Size */}px`,\n            \"&:before\": {\n                borderTop: `${7 /* Arrow.Size */}px solid #bbb`,\n            },\n            \"&:after\": {\n                borderTop: `${7 /* Arrow.Size */}px solid #f5f5f5`,\n                bottom: \"1px\"\n            }\n        },\n        \".cm-tooltip-below &\": {\n            top: `-${7 /* Arrow.Size */}px`,\n            \"&:before\": {\n                borderBottom: `${7 /* Arrow.Size */}px solid #bbb`,\n            },\n            \"&:after\": {\n                borderBottom: `${7 /* Arrow.Size */}px solid #f5f5f5`,\n                top: \"1px\"\n            }\n        },\n    },\n    \"&dark .cm-tooltip .cm-tooltip-arrow\": {\n        \"&:before\": {\n            borderTopColor: \"#333338\",\n            borderBottomColor: \"#333338\"\n        },\n        \"&:after\": {\n            borderTopColor: \"transparent\",\n            borderBottomColor: \"transparent\"\n        }\n    }\n});\nconst noOffset = { x: 0, y: 0 };\n/**\nFacet to which an extension can add a value to show a tooltip.\n*/\nconst showTooltip = /*@__PURE__*/Facet.define({\n    enables: [tooltipPlugin, baseTheme]\n});\nconst showHoverTooltip = /*@__PURE__*/Facet.define();\nclass HoverTooltipHost {\n    // Needs to be static so that host tooltip instances always match\n    static create(view) {\n        return new HoverTooltipHost(view);\n    }\n    constructor(view) {\n        this.view = view;\n        this.mounted = false;\n        this.dom = document.createElement(\"div\");\n        this.dom.classList.add(\"cm-tooltip-hover\");\n        this.manager = new TooltipViewManager(view, showHoverTooltip, t => this.createHostedView(t));\n    }\n    createHostedView(tooltip) {\n        let hostedView = tooltip.create(this.view);\n        hostedView.dom.classList.add(\"cm-tooltip-section\");\n        this.dom.appendChild(hostedView.dom);\n        if (this.mounted && hostedView.mount)\n            hostedView.mount(this.view);\n        return hostedView;\n    }\n    mount(view) {\n        for (let hostedView of this.manager.tooltipViews) {\n            if (hostedView.mount)\n                hostedView.mount(view);\n        }\n        this.mounted = true;\n    }\n    positioned(space) {\n        for (let hostedView of this.manager.tooltipViews) {\n            if (hostedView.positioned)\n                hostedView.positioned(space);\n        }\n    }\n    update(update) {\n        this.manager.update(update);\n    }\n    destroy() {\n        var _a;\n        for (let t of this.manager.tooltipViews)\n            (_a = t.destroy) === null || _a === void 0 ? void 0 : _a.call(t);\n    }\n}\nconst showHoverTooltipHost = /*@__PURE__*/showTooltip.compute([showHoverTooltip], state => {\n    let tooltips = state.facet(showHoverTooltip).filter(t => t);\n    if (tooltips.length === 0)\n        return null;\n    return {\n        pos: Math.min(...tooltips.map(t => t.pos)),\n        end: Math.max(...tooltips.filter(t => t.end != null).map(t => t.end)),\n        create: HoverTooltipHost.create,\n        above: tooltips[0].above,\n        arrow: tooltips.some(t => t.arrow),\n    };\n});\nclass HoverPlugin {\n    constructor(view, source, field, setHover, hoverTime) {\n        this.view = view;\n        this.source = source;\n        this.field = field;\n        this.setHover = setHover;\n        this.hoverTime = hoverTime;\n        this.hoverTimeout = -1;\n        this.restartTimeout = -1;\n        this.pending = null;\n        this.lastMove = { x: 0, y: 0, target: view.dom, time: 0 };\n        this.checkHover = this.checkHover.bind(this);\n        view.dom.addEventListener(\"mouseleave\", this.mouseleave = this.mouseleave.bind(this));\n        view.dom.addEventListener(\"mousemove\", this.mousemove = this.mousemove.bind(this));\n    }\n    update() {\n        if (this.pending) {\n            this.pending = null;\n            clearTimeout(this.restartTimeout);\n            this.restartTimeout = setTimeout(() => this.startHover(), 20);\n        }\n    }\n    get active() {\n        return this.view.state.field(this.field);\n    }\n    checkHover() {\n        this.hoverTimeout = -1;\n        if (this.active)\n            return;\n        let hovered = Date.now() - this.lastMove.time;\n        if (hovered < this.hoverTime)\n            this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime - hovered);\n        else\n            this.startHover();\n    }\n    startHover() {\n        clearTimeout(this.restartTimeout);\n        let { view, lastMove } = this;\n        let desc = view.docView.nearest(lastMove.target);\n        if (!desc)\n            return;\n        let pos, side = 1;\n        if (desc instanceof WidgetView) {\n            pos = desc.posAtStart;\n        }\n        else {\n            pos = view.posAtCoords(lastMove);\n            if (pos == null)\n                return;\n            let posCoords = view.coordsAtPos(pos);\n            if (!posCoords ||\n                lastMove.y < posCoords.top || lastMove.y > posCoords.bottom ||\n                lastMove.x < posCoords.left - view.defaultCharacterWidth ||\n                lastMove.x > posCoords.right + view.defaultCharacterWidth)\n                return;\n            let bidi = view.bidiSpans(view.state.doc.lineAt(pos)).find(s => s.from <= pos && s.to >= pos);\n            let rtl = bidi && bidi.dir == Direction.RTL ? -1 : 1;\n            side = (lastMove.x < posCoords.left ? -rtl : rtl);\n        }\n        let open = this.source(view, pos, side);\n        if (open === null || open === void 0 ? void 0 : open.then) {\n            let pending = this.pending = { pos };\n            open.then(result => {\n                if (this.pending == pending) {\n                    this.pending = null;\n                    if (result)\n                        view.dispatch({ effects: this.setHover.of(result) });\n                }\n            }, e => logException(view.state, e, \"hover tooltip\"));\n        }\n        else if (open) {\n            view.dispatch({ effects: this.setHover.of(open) });\n        }\n    }\n    mousemove(event) {\n        var _a;\n        this.lastMove = { x: event.clientX, y: event.clientY, target: event.target, time: Date.now() };\n        if (this.hoverTimeout < 0)\n            this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime);\n        let tooltip = this.active;\n        if (tooltip && !isInTooltip(this.lastMove.target) || this.pending) {\n            let { pos } = tooltip || this.pending, end = (_a = tooltip === null || tooltip === void 0 ? void 0 : tooltip.end) !== null && _a !== void 0 ? _a : pos;\n            if ((pos == end ? this.view.posAtCoords(this.lastMove) != pos\n                : !isOverRange(this.view, pos, end, event.clientX, event.clientY))) {\n                this.view.dispatch({ effects: this.setHover.of(null) });\n                this.pending = null;\n            }\n        }\n    }\n    mouseleave(e) {\n        clearTimeout(this.hoverTimeout);\n        this.hoverTimeout = -1;\n        if (this.active && !isInTooltip(e.relatedTarget))\n            this.view.dispatch({ effects: this.setHover.of(null) });\n    }\n    destroy() {\n        clearTimeout(this.hoverTimeout);\n        this.view.dom.removeEventListener(\"mouseleave\", this.mouseleave);\n        this.view.dom.removeEventListener(\"mousemove\", this.mousemove);\n    }\n}\nfunction isInTooltip(elt) {\n    for (let cur = elt; cur; cur = cur.parentNode)\n        if (cur.nodeType == 1 && cur.classList.contains(\"cm-tooltip\"))\n            return true;\n    return false;\n}\nfunction isOverRange(view, from, to, x, y, margin) {\n    let rect = view.scrollDOM.getBoundingClientRect();\n    let docBottom = view.documentTop + view.documentPadding.top + view.contentHeight;\n    if (rect.left > x || rect.right < x || rect.top > y || Math.min(rect.bottom, docBottom) < y)\n        return false;\n    let pos = view.posAtCoords({ x, y }, false);\n    return pos >= from && pos <= to;\n}\n/**\nSet up a hover tooltip, which shows up when the pointer hovers\nover ranges of text. The callback is called when the mouse hovers\nover the document text. It should, if there is a tooltip\nassociated with position `pos`, return the tooltip description\n(either directly or in a promise). The `side` argument indicates\non which side of the position the pointer is—it will be -1 if the\npointer is before the position, 1 if after the position.\n\nNote that all hover tooltips are hosted within a single tooltip\ncontainer element. This allows multiple tooltips over the same\nrange to be \"merged\" together without overlapping.\n*/\nfunction hoverTooltip(source, options = {}) {\n    let setHover = StateEffect.define();\n    let hoverState = StateField.define({\n        create() { return null; },\n        update(value, tr) {\n            if (value && (options.hideOnChange && (tr.docChanged || tr.selection) ||\n                options.hideOn && options.hideOn(tr, value)))\n                return null;\n            if (value && tr.docChanged) {\n                let newPos = tr.changes.mapPos(value.pos, -1, MapMode.TrackDel);\n                if (newPos == null)\n                    return null;\n                let copy = Object.assign(Object.create(null), value);\n                copy.pos = newPos;\n                if (value.end != null)\n                    copy.end = tr.changes.mapPos(value.end);\n                value = copy;\n            }\n            for (let effect of tr.effects) {\n                if (effect.is(setHover))\n                    value = effect.value;\n                if (effect.is(closeHoverTooltipEffect))\n                    value = null;\n            }\n            return value;\n        },\n        provide: f => showHoverTooltip.from(f)\n    });\n    return [\n        hoverState,\n        ViewPlugin.define(view => new HoverPlugin(view, source, hoverState, setHover, options.hoverTime || 300 /* Hover.Time */)),\n        showHoverTooltipHost\n    ];\n}\n/**\nGet the active tooltip view for a given tooltip, if available.\n*/\nfunction getTooltip(view, tooltip) {\n    let plugin = view.plugin(tooltipPlugin);\n    if (!plugin)\n        return null;\n    let found = plugin.manager.tooltips.indexOf(tooltip);\n    return found < 0 ? null : plugin.manager.tooltipViews[found];\n}\n/**\nReturns true if any hover tooltips are currently active.\n*/\nfunction hasHoverTooltips(state) {\n    return state.facet(showHoverTooltip).some(x => x);\n}\nconst closeHoverTooltipEffect = /*@__PURE__*/StateEffect.define();\n/**\nTransaction effect that closes all hover tooltips.\n*/\nconst closeHoverTooltips = /*@__PURE__*/closeHoverTooltipEffect.of(null);\n/**\nTell the tooltip extension to recompute the position of the active\ntooltips. This can be useful when something happens (such as a\nre-positioning or CSS change affecting the editor) that could\ninvalidate the existing tooltip positions.\n*/\nfunction repositionTooltips(view) {\n    var _a;\n    (_a = view.plugin(tooltipPlugin)) === null || _a === void 0 ? void 0 : _a.maybeMeasure();\n}\n\nconst panelConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        let topContainer, bottomContainer;\n        for (let c of configs) {\n            topContainer = topContainer || c.topContainer;\n            bottomContainer = bottomContainer || c.bottomContainer;\n        }\n        return { topContainer, bottomContainer };\n    }\n});\n/**\nConfigures the panel-managing extension.\n*/\nfunction panels(config) {\n    return config ? [panelConfig.of(config)] : [];\n}\n/**\nGet the active panel created by the given constructor, if any.\nThis can be useful when you need access to your panels' DOM\nstructure.\n*/\nfunction getPanel(view, panel) {\n    let plugin = view.plugin(panelPlugin);\n    let index = plugin ? plugin.specs.indexOf(panel) : -1;\n    return index > -1 ? plugin.panels[index] : null;\n}\nconst panelPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.input = view.state.facet(showPanel);\n        this.specs = this.input.filter(s => s);\n        this.panels = this.specs.map(spec => spec(view));\n        let conf = view.state.facet(panelConfig);\n        this.top = new PanelGroup(view, true, conf.topContainer);\n        this.bottom = new PanelGroup(view, false, conf.bottomContainer);\n        this.top.sync(this.panels.filter(p => p.top));\n        this.bottom.sync(this.panels.filter(p => !p.top));\n        for (let p of this.panels) {\n            p.dom.classList.add(\"cm-panel\");\n            if (p.mount)\n                p.mount();\n        }\n    }\n    update(update) {\n        let conf = update.state.facet(panelConfig);\n        if (this.top.container != conf.topContainer) {\n            this.top.sync([]);\n            this.top = new PanelGroup(update.view, true, conf.topContainer);\n        }\n        if (this.bottom.container != conf.bottomContainer) {\n            this.bottom.sync([]);\n            this.bottom = new PanelGroup(update.view, false, conf.bottomContainer);\n        }\n        this.top.syncClasses();\n        this.bottom.syncClasses();\n        let input = update.state.facet(showPanel);\n        if (input != this.input) {\n            let specs = input.filter(x => x);\n            let panels = [], top = [], bottom = [], mount = [];\n            for (let spec of specs) {\n                let known = this.specs.indexOf(spec), panel;\n                if (known < 0) {\n                    panel = spec(update.view);\n                    mount.push(panel);\n                }\n                else {\n                    panel = this.panels[known];\n                    if (panel.update)\n                        panel.update(update);\n                }\n                panels.push(panel);\n                (panel.top ? top : bottom).push(panel);\n            }\n            this.specs = specs;\n            this.panels = panels;\n            this.top.sync(top);\n            this.bottom.sync(bottom);\n            for (let p of mount) {\n                p.dom.classList.add(\"cm-panel\");\n                if (p.mount)\n                    p.mount();\n            }\n        }\n        else {\n            for (let p of this.panels)\n                if (p.update)\n                    p.update(update);\n        }\n    }\n    destroy() {\n        this.top.sync([]);\n        this.bottom.sync([]);\n    }\n}, {\n    provide: plugin => EditorView.scrollMargins.of(view => {\n        let value = view.plugin(plugin);\n        return value && { top: value.top.scrollMargin(), bottom: value.bottom.scrollMargin() };\n    })\n});\nclass PanelGroup {\n    constructor(view, top, container) {\n        this.view = view;\n        this.top = top;\n        this.container = container;\n        this.dom = undefined;\n        this.classes = \"\";\n        this.panels = [];\n        this.syncClasses();\n    }\n    sync(panels) {\n        for (let p of this.panels)\n            if (p.destroy && panels.indexOf(p) < 0)\n                p.destroy();\n        this.panels = panels;\n        this.syncDOM();\n    }\n    syncDOM() {\n        if (this.panels.length == 0) {\n            if (this.dom) {\n                this.dom.remove();\n                this.dom = undefined;\n            }\n            return;\n        }\n        if (!this.dom) {\n            this.dom = document.createElement(\"div\");\n            this.dom.className = this.top ? \"cm-panels cm-panels-top\" : \"cm-panels cm-panels-bottom\";\n            this.dom.style[this.top ? \"top\" : \"bottom\"] = \"0\";\n            let parent = this.container || this.view.dom;\n            parent.insertBefore(this.dom, this.top ? parent.firstChild : null);\n        }\n        let curDOM = this.dom.firstChild;\n        for (let panel of this.panels) {\n            if (panel.dom.parentNode == this.dom) {\n                while (curDOM != panel.dom)\n                    curDOM = rm(curDOM);\n                curDOM = curDOM.nextSibling;\n            }\n            else {\n                this.dom.insertBefore(panel.dom, curDOM);\n            }\n        }\n        while (curDOM)\n            curDOM = rm(curDOM);\n    }\n    scrollMargin() {\n        return !this.dom || this.container ? 0\n            : Math.max(0, this.top ?\n                this.dom.getBoundingClientRect().bottom - Math.max(0, this.view.scrollDOM.getBoundingClientRect().top) :\n                Math.min(innerHeight, this.view.scrollDOM.getBoundingClientRect().bottom) - this.dom.getBoundingClientRect().top);\n    }\n    syncClasses() {\n        if (!this.container || this.classes == this.view.themeClasses)\n            return;\n        for (let cls of this.classes.split(\" \"))\n            if (cls)\n                this.container.classList.remove(cls);\n        for (let cls of (this.classes = this.view.themeClasses).split(\" \"))\n            if (cls)\n                this.container.classList.add(cls);\n    }\n}\nfunction rm(node) {\n    let next = node.nextSibling;\n    node.remove();\n    return next;\n}\n/**\nOpening a panel is done by providing a constructor function for\nthe panel through this facet. (The panel is closed again when its\nconstructor is no longer provided.) Values of `null` are ignored.\n*/\nconst showPanel = /*@__PURE__*/Facet.define({\n    enables: panelPlugin\n});\n\n/**\nA gutter marker represents a bit of information attached to a line\nin a specific gutter. Your own custom markers have to extend this\nclass.\n*/\nclass GutterMarker extends RangeValue {\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    Compare this marker to another marker of the same type.\n    */\n    eq(other) { return false; }\n    /**\n    Called if the marker has a `toDOM` method and its representation\n    was removed from a gutter.\n    */\n    destroy(dom) { }\n}\nGutterMarker.prototype.elementClass = \"\";\nGutterMarker.prototype.toDOM = undefined;\nGutterMarker.prototype.mapMode = MapMode.TrackBefore;\nGutterMarker.prototype.startSide = GutterMarker.prototype.endSide = -1;\nGutterMarker.prototype.point = true;\n/**\nFacet used to add a class to all gutter elements for a given line.\nMarkers given to this facet should _only_ define an\n[`elementclass`](https://codemirror.net/6/docs/ref/#view.GutterMarker.elementClass), not a\n[`toDOM`](https://codemirror.net/6/docs/ref/#view.GutterMarker.toDOM) (or the marker will appear\nin all gutters for the line).\n*/\nconst gutterLineClass = /*@__PURE__*/Facet.define();\nconst defaults = {\n    class: \"\",\n    renderEmptyElements: false,\n    elementStyle: \"\",\n    markers: () => RangeSet.empty,\n    lineMarker: () => null,\n    widgetMarker: () => null,\n    lineMarkerChange: null,\n    initialSpacer: null,\n    updateSpacer: null,\n    domEventHandlers: {}\n};\nconst activeGutters = /*@__PURE__*/Facet.define();\n/**\nDefine an editor gutter. The order in which the gutters appear is\ndetermined by their extension priority.\n*/\nfunction gutter(config) {\n    return [gutters(), activeGutters.of(Object.assign(Object.assign({}, defaults), config))];\n}\nconst unfixGutters = /*@__PURE__*/Facet.define({\n    combine: values => values.some(x => x)\n});\n/**\nThe gutter-drawing plugin is automatically enabled when you add a\ngutter, but you can use this function to explicitly configure it.\n\nUnless `fixed` is explicitly set to `false`, the gutters are\nfixed, meaning they don't scroll along with the content\nhorizontally (except on Internet Explorer, which doesn't support\nCSS [`position:\nsticky`](https://developer.mozilla.org/en-US/docs/Web/CSS/position#sticky)).\n*/\nfunction gutters(config) {\n    let result = [\n        gutterView,\n    ];\n    if (config && config.fixed === false)\n        result.push(unfixGutters.of(true));\n    return result;\n}\nconst gutterView = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.prevViewport = view.viewport;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutters\";\n        this.dom.setAttribute(\"aria-hidden\", \"true\");\n        this.dom.style.minHeight = (this.view.contentHeight / this.view.scaleY) + \"px\";\n        this.gutters = view.state.facet(activeGutters).map(conf => new SingleGutterView(view, conf));\n        for (let gutter of this.gutters)\n            this.dom.appendChild(gutter.dom);\n        this.fixed = !view.state.facet(unfixGutters);\n        if (this.fixed) {\n            // FIXME IE11 fallback, which doesn't support position: sticky,\n            // by using position: relative + event handlers that realign the\n            // gutter (or just force fixed=false on IE11?)\n            this.dom.style.position = \"sticky\";\n        }\n        this.syncGutters(false);\n        view.scrollDOM.insertBefore(this.dom, view.contentDOM);\n    }\n    update(update) {\n        if (this.updateGutters(update)) {\n            // Detach during sync when the viewport changed significantly\n            // (such as during scrolling), since for large updates that is\n            // faster.\n            let vpA = this.prevViewport, vpB = update.view.viewport;\n            let vpOverlap = Math.min(vpA.to, vpB.to) - Math.max(vpA.from, vpB.from);\n            this.syncGutters(vpOverlap < (vpB.to - vpB.from) * 0.8);\n        }\n        if (update.geometryChanged)\n            this.dom.style.minHeight = this.view.contentHeight + \"px\";\n        if (this.view.state.facet(unfixGutters) != !this.fixed) {\n            this.fixed = !this.fixed;\n            this.dom.style.position = this.fixed ? \"sticky\" : \"\";\n        }\n        this.prevViewport = update.view.viewport;\n    }\n    syncGutters(detach) {\n        let after = this.dom.nextSibling;\n        if (detach)\n            this.dom.remove();\n        let lineClasses = RangeSet.iter(this.view.state.facet(gutterLineClass), this.view.viewport.from);\n        let classSet = [];\n        let contexts = this.gutters.map(gutter => new UpdateContext(gutter, this.view.viewport, -this.view.documentPadding.top));\n        for (let line of this.view.viewportLineBlocks) {\n            if (classSet.length)\n                classSet = [];\n            if (Array.isArray(line.type)) {\n                let first = true;\n                for (let b of line.type) {\n                    if (b.type == BlockType.Text && first) {\n                        advanceCursor(lineClasses, classSet, b.from);\n                        for (let cx of contexts)\n                            cx.line(this.view, b, classSet);\n                        first = false;\n                    }\n                    else if (b.widget) {\n                        for (let cx of contexts)\n                            cx.widget(this.view, b);\n                    }\n                }\n            }\n            else if (line.type == BlockType.Text) {\n                advanceCursor(lineClasses, classSet, line.from);\n                for (let cx of contexts)\n                    cx.line(this.view, line, classSet);\n            }\n            else if (line.widget) {\n                for (let cx of contexts)\n                    cx.widget(this.view, line);\n            }\n        }\n        for (let cx of contexts)\n            cx.finish();\n        if (detach)\n            this.view.scrollDOM.insertBefore(this.dom, after);\n    }\n    updateGutters(update) {\n        let prev = update.startState.facet(activeGutters), cur = update.state.facet(activeGutters);\n        let change = update.docChanged || update.heightChanged || update.viewportChanged ||\n            !RangeSet.eq(update.startState.facet(gutterLineClass), update.state.facet(gutterLineClass), update.view.viewport.from, update.view.viewport.to);\n        if (prev == cur) {\n            for (let gutter of this.gutters)\n                if (gutter.update(update))\n                    change = true;\n        }\n        else {\n            change = true;\n            let gutters = [];\n            for (let conf of cur) {\n                let known = prev.indexOf(conf);\n                if (known < 0) {\n                    gutters.push(new SingleGutterView(this.view, conf));\n                }\n                else {\n                    this.gutters[known].update(update);\n                    gutters.push(this.gutters[known]);\n                }\n            }\n            for (let g of this.gutters) {\n                g.dom.remove();\n                if (gutters.indexOf(g) < 0)\n                    g.destroy();\n            }\n            for (let g of gutters)\n                this.dom.appendChild(g.dom);\n            this.gutters = gutters;\n        }\n        return change;\n    }\n    destroy() {\n        for (let view of this.gutters)\n            view.destroy();\n        this.dom.remove();\n    }\n}, {\n    provide: plugin => EditorView.scrollMargins.of(view => {\n        let value = view.plugin(plugin);\n        if (!value || value.gutters.length == 0 || !value.fixed)\n            return null;\n        return view.textDirection == Direction.LTR\n            ? { left: value.dom.offsetWidth * view.scaleX }\n            : { right: value.dom.offsetWidth * view.scaleX };\n    })\n});\nfunction asArray(val) { return (Array.isArray(val) ? val : [val]); }\nfunction advanceCursor(cursor, collect, pos) {\n    while (cursor.value && cursor.from <= pos) {\n        if (cursor.from == pos)\n            collect.push(cursor.value);\n        cursor.next();\n    }\n}\nclass UpdateContext {\n    constructor(gutter, viewport, height) {\n        this.gutter = gutter;\n        this.height = height;\n        this.i = 0;\n        this.cursor = RangeSet.iter(gutter.markers, viewport.from);\n    }\n    addElement(view, block, markers) {\n        let { gutter } = this, above = block.top - this.height;\n        if (this.i == gutter.elements.length) {\n            let newElt = new GutterElement(view, block.height, above, markers);\n            gutter.elements.push(newElt);\n            gutter.dom.appendChild(newElt.dom);\n        }\n        else {\n            gutter.elements[this.i].update(view, block.height, above, markers);\n        }\n        this.height = block.bottom;\n        this.i++;\n    }\n    line(view, line, extraMarkers) {\n        let localMarkers = [];\n        advanceCursor(this.cursor, localMarkers, line.from);\n        if (extraMarkers.length)\n            localMarkers = localMarkers.concat(extraMarkers);\n        let forLine = this.gutter.config.lineMarker(view, line, localMarkers);\n        if (forLine)\n            localMarkers.unshift(forLine);\n        let gutter = this.gutter;\n        if (localMarkers.length == 0 && !gutter.config.renderEmptyElements)\n            return;\n        this.addElement(view, line, localMarkers);\n    }\n    widget(view, block) {\n        let marker = this.gutter.config.widgetMarker(view, block.widget, block);\n        if (marker)\n            this.addElement(view, block, [marker]);\n    }\n    finish() {\n        let gutter = this.gutter;\n        while (gutter.elements.length > this.i) {\n            let last = gutter.elements.pop();\n            gutter.dom.removeChild(last.dom);\n            last.destroy();\n        }\n    }\n}\nclass SingleGutterView {\n    constructor(view, config) {\n        this.view = view;\n        this.config = config;\n        this.elements = [];\n        this.spacer = null;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutter\" + (this.config.class ? \" \" + this.config.class : \"\");\n        for (let prop in config.domEventHandlers) {\n            this.dom.addEventListener(prop, (event) => {\n                let target = event.target, y;\n                if (target != this.dom && this.dom.contains(target)) {\n                    while (target.parentNode != this.dom)\n                        target = target.parentNode;\n                    let rect = target.getBoundingClientRect();\n                    y = (rect.top + rect.bottom) / 2;\n                }\n                else {\n                    y = event.clientY;\n                }\n                let line = view.lineBlockAtHeight(y - view.documentTop);\n                if (config.domEventHandlers[prop](view, line, event))\n                    event.preventDefault();\n            });\n        }\n        this.markers = asArray(config.markers(view));\n        if (config.initialSpacer) {\n            this.spacer = new GutterElement(view, 0, 0, [config.initialSpacer(view)]);\n            this.dom.appendChild(this.spacer.dom);\n            this.spacer.dom.style.cssText += \"visibility: hidden; pointer-events: none\";\n        }\n    }\n    update(update) {\n        let prevMarkers = this.markers;\n        this.markers = asArray(this.config.markers(update.view));\n        if (this.spacer && this.config.updateSpacer) {\n            let updated = this.config.updateSpacer(this.spacer.markers[0], update);\n            if (updated != this.spacer.markers[0])\n                this.spacer.update(update.view, 0, 0, [updated]);\n        }\n        let vp = update.view.viewport;\n        return !RangeSet.eq(this.markers, prevMarkers, vp.from, vp.to) ||\n            (this.config.lineMarkerChange ? this.config.lineMarkerChange(update) : false);\n    }\n    destroy() {\n        for (let elt of this.elements)\n            elt.destroy();\n    }\n}\nclass GutterElement {\n    constructor(view, height, above, markers) {\n        this.height = -1;\n        this.above = 0;\n        this.markers = [];\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutterElement\";\n        this.update(view, height, above, markers);\n    }\n    update(view, height, above, markers) {\n        if (this.height != height) {\n            this.height = height;\n            this.dom.style.height = height / view.scaleY + \"px\";\n        }\n        if (this.above != above)\n            this.dom.style.marginTop = (this.above = above) ? above / view.scaleY + \"px\" : \"\";\n        if (!sameMarkers(this.markers, markers))\n            this.setMarkers(view, markers);\n    }\n    setMarkers(view, markers) {\n        let cls = \"cm-gutterElement\", domPos = this.dom.firstChild;\n        for (let iNew = 0, iOld = 0;;) {\n            let skipTo = iOld, marker = iNew < markers.length ? markers[iNew++] : null, matched = false;\n            if (marker) {\n                let c = marker.elementClass;\n                if (c)\n                    cls += \" \" + c;\n                for (let i = iOld; i < this.markers.length; i++)\n                    if (this.markers[i].compare(marker)) {\n                        skipTo = i;\n                        matched = true;\n                        break;\n                    }\n            }\n            else {\n                skipTo = this.markers.length;\n            }\n            while (iOld < skipTo) {\n                let next = this.markers[iOld++];\n                if (next.toDOM) {\n                    next.destroy(domPos);\n                    let after = domPos.nextSibling;\n                    domPos.remove();\n                    domPos = after;\n                }\n            }\n            if (!marker)\n                break;\n            if (marker.toDOM) {\n                if (matched)\n                    domPos = domPos.nextSibling;\n                else\n                    this.dom.insertBefore(marker.toDOM(view), domPos);\n            }\n            if (matched)\n                iOld++;\n        }\n        this.dom.className = cls;\n        this.markers = markers;\n    }\n    destroy() {\n        this.setMarkers(null, []); // First argument not used unless creating markers\n    }\n}\nfunction sameMarkers(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!a[i].compare(b[i]))\n            return false;\n    return true;\n}\n/**\nFacet used to provide markers to the line number gutter.\n*/\nconst lineNumberMarkers = /*@__PURE__*/Facet.define();\nconst lineNumberConfig = /*@__PURE__*/Facet.define({\n    combine(values) {\n        return combineConfig(values, { formatNumber: String, domEventHandlers: {} }, {\n            domEventHandlers(a, b) {\n                let result = Object.assign({}, a);\n                for (let event in b) {\n                    let exists = result[event], add = b[event];\n                    result[event] = exists ? (view, line, event) => exists(view, line, event) || add(view, line, event) : add;\n                }\n                return result;\n            }\n        });\n    }\n});\nclass NumberMarker extends GutterMarker {\n    constructor(number) {\n        super();\n        this.number = number;\n    }\n    eq(other) { return this.number == other.number; }\n    toDOM() { return document.createTextNode(this.number); }\n}\nfunction formatNumber(view, number) {\n    return view.state.facet(lineNumberConfig).formatNumber(number, view.state);\n}\nconst lineNumberGutter = /*@__PURE__*/activeGutters.compute([lineNumberConfig], state => ({\n    class: \"cm-lineNumbers\",\n    renderEmptyElements: false,\n    markers(view) { return view.state.facet(lineNumberMarkers); },\n    lineMarker(view, line, others) {\n        if (others.some(m => m.toDOM))\n            return null;\n        return new NumberMarker(formatNumber(view, view.state.doc.lineAt(line.from).number));\n    },\n    widgetMarker: () => null,\n    lineMarkerChange: update => update.startState.facet(lineNumberConfig) != update.state.facet(lineNumberConfig),\n    initialSpacer(view) {\n        return new NumberMarker(formatNumber(view, maxLineNumber(view.state.doc.lines)));\n    },\n    updateSpacer(spacer, update) {\n        let max = formatNumber(update.view, maxLineNumber(update.view.state.doc.lines));\n        return max == spacer.number ? spacer : new NumberMarker(max);\n    },\n    domEventHandlers: state.facet(lineNumberConfig).domEventHandlers\n}));\n/**\nCreate a line number gutter extension.\n*/\nfunction lineNumbers(config = {}) {\n    return [\n        lineNumberConfig.of(config),\n        gutters(),\n        lineNumberGutter\n    ];\n}\nfunction maxLineNumber(lines) {\n    let last = 9;\n    while (last < lines)\n        last = last * 10 + 9;\n    return last;\n}\nconst activeLineGutterMarker = /*@__PURE__*/new class extends GutterMarker {\n    constructor() {\n        super(...arguments);\n        this.elementClass = \"cm-activeLineGutter\";\n    }\n};\nconst activeLineGutterHighlighter = /*@__PURE__*/gutterLineClass.compute([\"selection\"], state => {\n    let marks = [], last = -1;\n    for (let range of state.selection.ranges) {\n        let linePos = state.doc.lineAt(range.head).from;\n        if (linePos > last) {\n            last = linePos;\n            marks.push(activeLineGutterMarker.range(linePos));\n        }\n    }\n    return RangeSet.of(marks);\n});\n/**\nReturns an extension that adds a `cm-activeLineGutter` class to\nall gutter elements on the [active\nline](https://codemirror.net/6/docs/ref/#view.highlightActiveLine).\n*/\nfunction highlightActiveLineGutter() {\n    return activeLineGutterHighlighter;\n}\n\nconst WhitespaceDeco = /*@__PURE__*/new Map();\nfunction getWhitespaceDeco(space) {\n    let deco = WhitespaceDeco.get(space);\n    if (!deco)\n        WhitespaceDeco.set(space, deco = Decoration.mark({\n            attributes: space === \"\\t\" ? {\n                class: \"cm-highlightTab\",\n            } : {\n                class: \"cm-highlightSpace\",\n                \"data-display\": space.replace(/ /g, \"·\")\n            }\n        }));\n    return deco;\n}\nfunction matcher(decorator) {\n    return ViewPlugin.define(view => ({\n        decorations: decorator.createDeco(view),\n        update(u) {\n            this.decorations = decorator.updateDeco(u, this.decorations);\n        },\n    }), {\n        decorations: v => v.decorations\n    });\n}\nconst whitespaceHighlighter = /*@__PURE__*/matcher(/*@__PURE__*/new MatchDecorator({\n    regexp: /\\t| +/g,\n    decoration: match => getWhitespaceDeco(match[0]),\n    boundary: /\\S/,\n}));\n/**\nReturns an extension that highlights whitespace, adding a\n`cm-highlightSpace` class to stretches of spaces, and a\n`cm-highlightTab` class to individual tab characters. By default,\nthe former are shown as faint dots, and the latter as arrows.\n*/\nfunction highlightWhitespace() {\n    return whitespaceHighlighter;\n}\nconst trailingHighlighter = /*@__PURE__*/matcher(/*@__PURE__*/new MatchDecorator({\n    regexp: /\\s+$/g,\n    decoration: /*@__PURE__*/Decoration.mark({ class: \"cm-trailingSpace\" }),\n    boundary: /\\S/,\n}));\n/**\nReturns an extension that adds a `cm-trailingSpace` class to all\ntrailing whitespace.\n*/\nfunction highlightTrailingWhitespace() {\n    return trailingHighlighter;\n}\n\n/**\n@internal\n*/\nconst __test = { HeightMap, HeightOracle, MeasuredHeights, QueryType, ChangedRange, computeOrder, moveVisually };\n\nexport { BidiSpan, BlockInfo, BlockType, Decoration, Direction, EditorView, GutterMarker, MatchDecorator, RectangleMarker, ViewPlugin, ViewUpdate, WidgetType, __test, closeHoverTooltips, crosshairCursor, drawSelection, dropCursor, getPanel, getTooltip, gutter, gutterLineClass, gutters, hasHoverTooltips, highlightActiveLine, highlightActiveLineGutter, highlightSpecialChars, highlightTrailingWhitespace, highlightWhitespace, hoverTooltip, keymap, layer, lineNumberMarkers, lineNumbers, logException, panels, placeholder, rectangularSelection, repositionTooltips, runScopeHandlers, scrollPastEnd, showPanel, showTooltip, tooltips };\n","/**\nThe default maximum length of a `TreeBuffer` node.\n*/\nconst DefaultBufferLength = 1024;\nlet nextPropID = 0;\nclass Range {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n}\n/**\nEach [node type](#common.NodeType) or [individual tree](#common.Tree)\ncan have metadata associated with it in props. Instances of this\nclass represent prop names.\n*/\nclass NodeProp {\n    /**\n    Create a new node prop type.\n    */\n    constructor(config = {}) {\n        this.id = nextPropID++;\n        this.perNode = !!config.perNode;\n        this.deserialize = config.deserialize || (() => {\n            throw new Error(\"This node type doesn't define a deserialize function\");\n        });\n    }\n    /**\n    This is meant to be used with\n    [`NodeSet.extend`](#common.NodeSet.extend) or\n    [`LRParser.configure`](#lr.ParserConfig.props) to compute\n    prop values for each node type in the set. Takes a [match\n    object](#common.NodeType^match) or function that returns undefined\n    if the node type doesn't get this prop, and the prop's value if\n    it does.\n    */\n    add(match) {\n        if (this.perNode)\n            throw new RangeError(\"Can't add per-node props to node types\");\n        if (typeof match != \"function\")\n            match = NodeType.match(match);\n        return (type) => {\n            let result = match(type);\n            return result === undefined ? null : [this, result];\n        };\n    }\n}\n/**\nProp that is used to describe matching delimiters. For opening\ndelimiters, this holds an array of node names (written as a\nspace-separated string when declaring this prop in a grammar)\nfor the node types of closing delimiters that match it.\n*/\nNodeProp.closedBy = new NodeProp({ deserialize: str => str.split(\" \") });\n/**\nThe inverse of [`closedBy`](#common.NodeProp^closedBy). This is\nattached to closing delimiters, holding an array of node names\nof types of matching opening delimiters.\n*/\nNodeProp.openedBy = new NodeProp({ deserialize: str => str.split(\" \") });\n/**\nUsed to assign node types to groups (for example, all node\ntypes that represent an expression could be tagged with an\n`\"Expression\"` group).\n*/\nNodeProp.group = new NodeProp({ deserialize: str => str.split(\" \") });\n/**\nThe hash of the [context](#lr.ContextTracker.constructor)\nthat the node was parsed in, if any. Used to limit reuse of\ncontextual nodes.\n*/\nNodeProp.contextHash = new NodeProp({ perNode: true });\n/**\nThe distance beyond the end of the node that the tokenizer\nlooked ahead for any of the tokens inside the node. (The LR\nparser only stores this when it is larger than 25, for\nefficiency reasons.)\n*/\nNodeProp.lookAhead = new NodeProp({ perNode: true });\n/**\nThis per-node prop is used to replace a given node, or part of a\nnode, with another tree. This is useful to include trees from\ndifferent languages in mixed-language parsers.\n*/\nNodeProp.mounted = new NodeProp({ perNode: true });\n/**\nA mounted tree, which can be [stored](#common.NodeProp^mounted) on\na tree node to indicate that parts of its content are\nrepresented by another tree.\n*/\nclass MountedTree {\n    constructor(\n    /**\n    The inner tree.\n    */\n    tree, \n    /**\n    If this is null, this tree replaces the entire node (it will\n    be included in the regular iteration instead of its host\n    node). If not, only the given ranges are considered to be\n    covered by this tree. This is used for trees that are mixed in\n    a way that isn't strictly hierarchical. Such mounted trees are\n    only entered by [`resolveInner`](#common.Tree.resolveInner)\n    and [`enter`](#common.SyntaxNode.enter).\n    */\n    overlay, \n    /**\n    The parser used to create this subtree.\n    */\n    parser) {\n        this.tree = tree;\n        this.overlay = overlay;\n        this.parser = parser;\n    }\n    /**\n    @internal\n    */\n    static get(tree) {\n        return tree && tree.props && tree.props[NodeProp.mounted.id];\n    }\n}\nconst noProps = Object.create(null);\n/**\nEach node in a syntax tree has a node type associated with it.\n*/\nclass NodeType {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The name of the node type. Not necessarily unique, but if the\n    grammar was written properly, different node types with the\n    same name within a node set should play the same semantic\n    role.\n    */\n    name, \n    /**\n    @internal\n    */\n    props, \n    /**\n    The id of this node in its set. Corresponds to the term ids\n    used in the parser.\n    */\n    id, \n    /**\n    @internal\n    */\n    flags = 0) {\n        this.name = name;\n        this.props = props;\n        this.id = id;\n        this.flags = flags;\n    }\n    /**\n    Define a node type.\n    */\n    static define(spec) {\n        let props = spec.props && spec.props.length ? Object.create(null) : noProps;\n        let flags = (spec.top ? 1 /* NodeFlag.Top */ : 0) | (spec.skipped ? 2 /* NodeFlag.Skipped */ : 0) |\n            (spec.error ? 4 /* NodeFlag.Error */ : 0) | (spec.name == null ? 8 /* NodeFlag.Anonymous */ : 0);\n        let type = new NodeType(spec.name || \"\", props, spec.id, flags);\n        if (spec.props)\n            for (let src of spec.props) {\n                if (!Array.isArray(src))\n                    src = src(type);\n                if (src) {\n                    if (src[0].perNode)\n                        throw new RangeError(\"Can't store a per-node prop on a node type\");\n                    props[src[0].id] = src[1];\n                }\n            }\n        return type;\n    }\n    /**\n    Retrieves a node prop for this type. Will return `undefined` if\n    the prop isn't present on this node.\n    */\n    prop(prop) { return this.props[prop.id]; }\n    /**\n    True when this is the top node of a grammar.\n    */\n    get isTop() { return (this.flags & 1 /* NodeFlag.Top */) > 0; }\n    /**\n    True when this node is produced by a skip rule.\n    */\n    get isSkipped() { return (this.flags & 2 /* NodeFlag.Skipped */) > 0; }\n    /**\n    Indicates whether this is an error node.\n    */\n    get isError() { return (this.flags & 4 /* NodeFlag.Error */) > 0; }\n    /**\n    When true, this node type doesn't correspond to a user-declared\n    named node, for example because it is used to cache repetition.\n    */\n    get isAnonymous() { return (this.flags & 8 /* NodeFlag.Anonymous */) > 0; }\n    /**\n    Returns true when this node's name or one of its\n    [groups](#common.NodeProp^group) matches the given string.\n    */\n    is(name) {\n        if (typeof name == 'string') {\n            if (this.name == name)\n                return true;\n            let group = this.prop(NodeProp.group);\n            return group ? group.indexOf(name) > -1 : false;\n        }\n        return this.id == name;\n    }\n    /**\n    Create a function from node types to arbitrary values by\n    specifying an object whose property names are node or\n    [group](#common.NodeProp^group) names. Often useful with\n    [`NodeProp.add`](#common.NodeProp.add). You can put multiple\n    names, separated by spaces, in a single property name to map\n    multiple node names to a single value.\n    */\n    static match(map) {\n        let direct = Object.create(null);\n        for (let prop in map)\n            for (let name of prop.split(\" \"))\n                direct[name] = map[prop];\n        return (node) => {\n            for (let groups = node.prop(NodeProp.group), i = -1; i < (groups ? groups.length : 0); i++) {\n                let found = direct[i < 0 ? node.name : groups[i]];\n                if (found)\n                    return found;\n            }\n        };\n    }\n}\n/**\nAn empty dummy node type to use when no actual type is available.\n*/\nNodeType.none = new NodeType(\"\", Object.create(null), 0, 8 /* NodeFlag.Anonymous */);\n/**\nA node set holds a collection of node types. It is used to\ncompactly represent trees by storing their type ids, rather than a\nfull pointer to the type object, in a numeric array. Each parser\n[has](#lr.LRParser.nodeSet) a node set, and [tree\nbuffers](#common.TreeBuffer) can only store collections of nodes\nfrom the same set. A set can have a maximum of 2**16 (65536) node\ntypes in it, so that the ids fit into 16-bit typed array slots.\n*/\nclass NodeSet {\n    /**\n    Create a set with the given types. The `id` property of each\n    type should correspond to its position within the array.\n    */\n    constructor(\n    /**\n    The node types in this set, by id.\n    */\n    types) {\n        this.types = types;\n        for (let i = 0; i < types.length; i++)\n            if (types[i].id != i)\n                throw new RangeError(\"Node type ids should correspond to array positions when creating a node set\");\n    }\n    /**\n    Create a copy of this set with some node properties added. The\n    arguments to this method can be created with\n    [`NodeProp.add`](#common.NodeProp.add).\n    */\n    extend(...props) {\n        let newTypes = [];\n        for (let type of this.types) {\n            let newProps = null;\n            for (let source of props) {\n                let add = source(type);\n                if (add) {\n                    if (!newProps)\n                        newProps = Object.assign({}, type.props);\n                    newProps[add[0].id] = add[1];\n                }\n            }\n            newTypes.push(newProps ? new NodeType(type.name, newProps, type.id, type.flags) : type);\n        }\n        return new NodeSet(newTypes);\n    }\n}\nconst CachedNode = new WeakMap(), CachedInnerNode = new WeakMap();\n/**\nOptions that control iteration. Can be combined with the `|`\noperator to enable multiple ones.\n*/\nvar IterMode;\n(function (IterMode) {\n    /**\n    When enabled, iteration will only visit [`Tree`](#common.Tree)\n    objects, not nodes packed into\n    [`TreeBuffer`](#common.TreeBuffer)s.\n    */\n    IterMode[IterMode[\"ExcludeBuffers\"] = 1] = \"ExcludeBuffers\";\n    /**\n    Enable this to make iteration include anonymous nodes (such as\n    the nodes that wrap repeated grammar constructs into a balanced\n    tree).\n    */\n    IterMode[IterMode[\"IncludeAnonymous\"] = 2] = \"IncludeAnonymous\";\n    /**\n    By default, regular [mounted](#common.NodeProp^mounted) nodes\n    replace their base node in iteration. Enable this to ignore them\n    instead.\n    */\n    IterMode[IterMode[\"IgnoreMounts\"] = 4] = \"IgnoreMounts\";\n    /**\n    This option only applies in\n    [`enter`](#common.SyntaxNode.enter)-style methods. It tells the\n    library to not enter mounted overlays if one covers the given\n    position.\n    */\n    IterMode[IterMode[\"IgnoreOverlays\"] = 8] = \"IgnoreOverlays\";\n})(IterMode || (IterMode = {}));\n/**\nA piece of syntax tree. There are two ways to approach these\ntrees: the way they are actually stored in memory, and the\nconvenient way.\n\nSyntax trees are stored as a tree of `Tree` and `TreeBuffer`\nobjects. By packing detail information into `TreeBuffer` leaf\nnodes, the representation is made a lot more memory-efficient.\n\nHowever, when you want to actually work with tree nodes, this\nrepresentation is very awkward, so most client code will want to\nuse the [`TreeCursor`](#common.TreeCursor) or\n[`SyntaxNode`](#common.SyntaxNode) interface instead, which provides\na view on some part of this data structure, and can be used to\nmove around to adjacent nodes.\n*/\nclass Tree {\n    /**\n    Construct a new tree. See also [`Tree.build`](#common.Tree^build).\n    */\n    constructor(\n    /**\n    The type of the top node.\n    */\n    type, \n    /**\n    This node's child nodes.\n    */\n    children, \n    /**\n    The positions (offsets relative to the start of this tree) of\n    the children.\n    */\n    positions, \n    /**\n    The total length of this tree\n    */\n    length, \n    /**\n    Per-node [node props](#common.NodeProp) to associate with this node.\n    */\n    props) {\n        this.type = type;\n        this.children = children;\n        this.positions = positions;\n        this.length = length;\n        /**\n        @internal\n        */\n        this.props = null;\n        if (props && props.length) {\n            this.props = Object.create(null);\n            for (let [prop, value] of props)\n                this.props[typeof prop == \"number\" ? prop : prop.id] = value;\n        }\n    }\n    /**\n    @internal\n    */\n    toString() {\n        let mounted = MountedTree.get(this);\n        if (mounted && !mounted.overlay)\n            return mounted.tree.toString();\n        let children = \"\";\n        for (let ch of this.children) {\n            let str = ch.toString();\n            if (str) {\n                if (children)\n                    children += \",\";\n                children += str;\n            }\n        }\n        return !this.type.name ? children :\n            (/\\W/.test(this.type.name) && !this.type.isError ? JSON.stringify(this.type.name) : this.type.name) +\n                (children.length ? \"(\" + children + \")\" : \"\");\n    }\n    /**\n    Get a [tree cursor](#common.TreeCursor) positioned at the top of\n    the tree. Mode can be used to [control](#common.IterMode) which\n    nodes the cursor visits.\n    */\n    cursor(mode = 0) {\n        return new TreeCursor(this.topNode, mode);\n    }\n    /**\n    Get a [tree cursor](#common.TreeCursor) pointing into this tree\n    at the given position and side (see\n    [`moveTo`](#common.TreeCursor.moveTo).\n    */\n    cursorAt(pos, side = 0, mode = 0) {\n        let scope = CachedNode.get(this) || this.topNode;\n        let cursor = new TreeCursor(scope);\n        cursor.moveTo(pos, side);\n        CachedNode.set(this, cursor._tree);\n        return cursor;\n    }\n    /**\n    Get a [syntax node](#common.SyntaxNode) object for the top of the\n    tree.\n    */\n    get topNode() {\n        return new TreeNode(this, 0, 0, null);\n    }\n    /**\n    Get the [syntax node](#common.SyntaxNode) at the given position.\n    If `side` is -1, this will move into nodes that end at the\n    position. If 1, it'll move into nodes that start at the\n    position. With 0, it'll only enter nodes that cover the position\n    from both sides.\n    \n    Note that this will not enter\n    [overlays](#common.MountedTree.overlay), and you often want\n    [`resolveInner`](#common.Tree.resolveInner) instead.\n    */\n    resolve(pos, side = 0) {\n        let node = resolveNode(CachedNode.get(this) || this.topNode, pos, side, false);\n        CachedNode.set(this, node);\n        return node;\n    }\n    /**\n    Like [`resolve`](#common.Tree.resolve), but will enter\n    [overlaid](#common.MountedTree.overlay) nodes, producing a syntax node\n    pointing into the innermost overlaid tree at the given position\n    (with parent links going through all parent structure, including\n    the host trees).\n    */\n    resolveInner(pos, side = 0) {\n        let node = resolveNode(CachedInnerNode.get(this) || this.topNode, pos, side, true);\n        CachedInnerNode.set(this, node);\n        return node;\n    }\n    /**\n    In some situations, it can be useful to iterate through all\n    nodes around a position, including those in overlays that don't\n    directly cover the position. This method gives you an iterator\n    that will produce all nodes, from small to big, around the given\n    position.\n    */\n    resolveStack(pos, side = 0) {\n        return stackIterator(this, pos, side);\n    }\n    /**\n    Iterate over the tree and its children, calling `enter` for any\n    node that touches the `from`/`to` region (if given) before\n    running over such a node's children, and `leave` (if given) when\n    leaving the node. When `enter` returns `false`, that node will\n    not have its children iterated over (or `leave` called).\n    */\n    iterate(spec) {\n        let { enter, leave, from = 0, to = this.length } = spec;\n        let mode = spec.mode || 0, anon = (mode & IterMode.IncludeAnonymous) > 0;\n        for (let c = this.cursor(mode | IterMode.IncludeAnonymous);;) {\n            let entered = false;\n            if (c.from <= to && c.to >= from && (!anon && c.type.isAnonymous || enter(c) !== false)) {\n                if (c.firstChild())\n                    continue;\n                entered = true;\n            }\n            for (;;) {\n                if (entered && leave && (anon || !c.type.isAnonymous))\n                    leave(c);\n                if (c.nextSibling())\n                    break;\n                if (!c.parent())\n                    return;\n                entered = true;\n            }\n        }\n    }\n    /**\n    Get the value of the given [node prop](#common.NodeProp) for this\n    node. Works with both per-node and per-type props.\n    */\n    prop(prop) {\n        return !prop.perNode ? this.type.prop(prop) : this.props ? this.props[prop.id] : undefined;\n    }\n    /**\n    Returns the node's [per-node props](#common.NodeProp.perNode) in a\n    format that can be passed to the [`Tree`](#common.Tree)\n    constructor.\n    */\n    get propValues() {\n        let result = [];\n        if (this.props)\n            for (let id in this.props)\n                result.push([+id, this.props[id]]);\n        return result;\n    }\n    /**\n    Balance the direct children of this tree, producing a copy of\n    which may have children grouped into subtrees with type\n    [`NodeType.none`](#common.NodeType^none).\n    */\n    balance(config = {}) {\n        return this.children.length <= 8 /* Balance.BranchFactor */ ? this :\n            balanceRange(NodeType.none, this.children, this.positions, 0, this.children.length, 0, this.length, (children, positions, length) => new Tree(this.type, children, positions, length, this.propValues), config.makeTree || ((children, positions, length) => new Tree(NodeType.none, children, positions, length)));\n    }\n    /**\n    Build a tree from a postfix-ordered buffer of node information,\n    or a cursor over such a buffer.\n    */\n    static build(data) { return buildTree(data); }\n}\n/**\nThe empty tree\n*/\nTree.empty = new Tree(NodeType.none, [], [], 0);\nclass FlatBufferCursor {\n    constructor(buffer, index) {\n        this.buffer = buffer;\n        this.index = index;\n    }\n    get id() { return this.buffer[this.index - 4]; }\n    get start() { return this.buffer[this.index - 3]; }\n    get end() { return this.buffer[this.index - 2]; }\n    get size() { return this.buffer[this.index - 1]; }\n    get pos() { return this.index; }\n    next() { this.index -= 4; }\n    fork() { return new FlatBufferCursor(this.buffer, this.index); }\n}\n/**\nTree buffers contain (type, start, end, endIndex) quads for each\nnode. In such a buffer, nodes are stored in prefix order (parents\nbefore children, with the endIndex of the parent indicating which\nchildren belong to it).\n*/\nclass TreeBuffer {\n    /**\n    Create a tree buffer.\n    */\n    constructor(\n    /**\n    The buffer's content.\n    */\n    buffer, \n    /**\n    The total length of the group of nodes in the buffer.\n    */\n    length, \n    /**\n    The node set used in this buffer.\n    */\n    set) {\n        this.buffer = buffer;\n        this.length = length;\n        this.set = set;\n    }\n    /**\n    @internal\n    */\n    get type() { return NodeType.none; }\n    /**\n    @internal\n    */\n    toString() {\n        let result = [];\n        for (let index = 0; index < this.buffer.length;) {\n            result.push(this.childString(index));\n            index = this.buffer[index + 3];\n        }\n        return result.join(\",\");\n    }\n    /**\n    @internal\n    */\n    childString(index) {\n        let id = this.buffer[index], endIndex = this.buffer[index + 3];\n        let type = this.set.types[id], result = type.name;\n        if (/\\W/.test(result) && !type.isError)\n            result = JSON.stringify(result);\n        index += 4;\n        if (endIndex == index)\n            return result;\n        let children = [];\n        while (index < endIndex) {\n            children.push(this.childString(index));\n            index = this.buffer[index + 3];\n        }\n        return result + \"(\" + children.join(\",\") + \")\";\n    }\n    /**\n    @internal\n    */\n    findChild(startIndex, endIndex, dir, pos, side) {\n        let { buffer } = this, pick = -1;\n        for (let i = startIndex; i != endIndex; i = buffer[i + 3]) {\n            if (checkSide(side, pos, buffer[i + 1], buffer[i + 2])) {\n                pick = i;\n                if (dir > 0)\n                    break;\n            }\n        }\n        return pick;\n    }\n    /**\n    @internal\n    */\n    slice(startI, endI, from) {\n        let b = this.buffer;\n        let copy = new Uint16Array(endI - startI), len = 0;\n        for (let i = startI, j = 0; i < endI;) {\n            copy[j++] = b[i++];\n            copy[j++] = b[i++] - from;\n            let to = copy[j++] = b[i++] - from;\n            copy[j++] = b[i++] - startI;\n            len = Math.max(len, to);\n        }\n        return new TreeBuffer(copy, len, this.set);\n    }\n}\nfunction checkSide(side, pos, from, to) {\n    switch (side) {\n        case -2 /* Side.Before */: return from < pos;\n        case -1 /* Side.AtOrBefore */: return to >= pos && from < pos;\n        case 0 /* Side.Around */: return from < pos && to > pos;\n        case 1 /* Side.AtOrAfter */: return from <= pos && to > pos;\n        case 2 /* Side.After */: return to > pos;\n        case 4 /* Side.DontCare */: return true;\n    }\n}\nfunction resolveNode(node, pos, side, overlays) {\n    var _a;\n    // Move up to a node that actually holds the position, if possible\n    while (node.from == node.to ||\n        (side < 1 ? node.from >= pos : node.from > pos) ||\n        (side > -1 ? node.to <= pos : node.to < pos)) {\n        let parent = !overlays && node instanceof TreeNode && node.index < 0 ? null : node.parent;\n        if (!parent)\n            return node;\n        node = parent;\n    }\n    let mode = overlays ? 0 : IterMode.IgnoreOverlays;\n    // Must go up out of overlays when those do not overlap with pos\n    if (overlays)\n        for (let scan = node, parent = scan.parent; parent; scan = parent, parent = scan.parent) {\n            if (scan instanceof TreeNode && scan.index < 0 && ((_a = parent.enter(pos, side, mode)) === null || _a === void 0 ? void 0 : _a.from) != scan.from)\n                node = parent;\n        }\n    for (;;) {\n        let inner = node.enter(pos, side, mode);\n        if (!inner)\n            return node;\n        node = inner;\n    }\n}\nclass BaseNode {\n    cursor(mode = 0) { return new TreeCursor(this, mode); }\n    getChild(type, before = null, after = null) {\n        let r = getChildren(this, type, before, after);\n        return r.length ? r[0] : null;\n    }\n    getChildren(type, before = null, after = null) {\n        return getChildren(this, type, before, after);\n    }\n    resolve(pos, side = 0) {\n        return resolveNode(this, pos, side, false);\n    }\n    resolveInner(pos, side = 0) {\n        return resolveNode(this, pos, side, true);\n    }\n    matchContext(context) {\n        return matchNodeContext(this, context);\n    }\n    enterUnfinishedNodesBefore(pos) {\n        let scan = this.childBefore(pos), node = this;\n        while (scan) {\n            let last = scan.lastChild;\n            if (!last || last.to != scan.to)\n                break;\n            if (last.type.isError && last.from == last.to) {\n                node = scan;\n                scan = last.prevSibling;\n            }\n            else {\n                scan = last;\n            }\n        }\n        return node;\n    }\n    get node() { return this; }\n    get next() { return this.parent; }\n}\nclass TreeNode extends BaseNode {\n    constructor(_tree, from, \n    // Index in parent node, set to -1 if the node is not a direct child of _parent.node (overlay)\n    index, _parent) {\n        super();\n        this._tree = _tree;\n        this.from = from;\n        this.index = index;\n        this._parent = _parent;\n    }\n    get type() { return this._tree.type; }\n    get name() { return this._tree.type.name; }\n    get to() { return this.from + this._tree.length; }\n    nextChild(i, dir, pos, side, mode = 0) {\n        for (let parent = this;;) {\n            for (let { children, positions } = parent._tree, e = dir > 0 ? children.length : -1; i != e; i += dir) {\n                let next = children[i], start = positions[i] + parent.from;\n                if (!checkSide(side, pos, start, start + next.length))\n                    continue;\n                if (next instanceof TreeBuffer) {\n                    if (mode & IterMode.ExcludeBuffers)\n                        continue;\n                    let index = next.findChild(0, next.buffer.length, dir, pos - start, side);\n                    if (index > -1)\n                        return new BufferNode(new BufferContext(parent, next, i, start), null, index);\n                }\n                else if ((mode & IterMode.IncludeAnonymous) || (!next.type.isAnonymous || hasChild(next))) {\n                    let mounted;\n                    if (!(mode & IterMode.IgnoreMounts) && (mounted = MountedTree.get(next)) && !mounted.overlay)\n                        return new TreeNode(mounted.tree, start, i, parent);\n                    let inner = new TreeNode(next, start, i, parent);\n                    return (mode & IterMode.IncludeAnonymous) || !inner.type.isAnonymous ? inner\n                        : inner.nextChild(dir < 0 ? next.children.length - 1 : 0, dir, pos, side);\n                }\n            }\n            if ((mode & IterMode.IncludeAnonymous) || !parent.type.isAnonymous)\n                return null;\n            if (parent.index >= 0)\n                i = parent.index + dir;\n            else\n                i = dir < 0 ? -1 : parent._parent._tree.children.length;\n            parent = parent._parent;\n            if (!parent)\n                return null;\n        }\n    }\n    get firstChild() { return this.nextChild(0, 1, 0, 4 /* Side.DontCare */); }\n    get lastChild() { return this.nextChild(this._tree.children.length - 1, -1, 0, 4 /* Side.DontCare */); }\n    childAfter(pos) { return this.nextChild(0, 1, pos, 2 /* Side.After */); }\n    childBefore(pos) { return this.nextChild(this._tree.children.length - 1, -1, pos, -2 /* Side.Before */); }\n    enter(pos, side, mode = 0) {\n        let mounted;\n        if (!(mode & IterMode.IgnoreOverlays) && (mounted = MountedTree.get(this._tree)) && mounted.overlay) {\n            let rPos = pos - this.from;\n            for (let { from, to } of mounted.overlay) {\n                if ((side > 0 ? from <= rPos : from < rPos) &&\n                    (side < 0 ? to >= rPos : to > rPos))\n                    return new TreeNode(mounted.tree, mounted.overlay[0].from + this.from, -1, this);\n            }\n        }\n        return this.nextChild(0, 1, pos, side, mode);\n    }\n    nextSignificantParent() {\n        let val = this;\n        while (val.type.isAnonymous && val._parent)\n            val = val._parent;\n        return val;\n    }\n    get parent() {\n        return this._parent ? this._parent.nextSignificantParent() : null;\n    }\n    get nextSibling() {\n        return this._parent && this.index >= 0 ? this._parent.nextChild(this.index + 1, 1, 0, 4 /* Side.DontCare */) : null;\n    }\n    get prevSibling() {\n        return this._parent && this.index >= 0 ? this._parent.nextChild(this.index - 1, -1, 0, 4 /* Side.DontCare */) : null;\n    }\n    get tree() { return this._tree; }\n    toTree() { return this._tree; }\n    /**\n    @internal\n    */\n    toString() { return this._tree.toString(); }\n}\nfunction getChildren(node, type, before, after) {\n    let cur = node.cursor(), result = [];\n    if (!cur.firstChild())\n        return result;\n    if (before != null)\n        while (!cur.type.is(before))\n            if (!cur.nextSibling())\n                return result;\n    for (;;) {\n        if (after != null && cur.type.is(after))\n            return result;\n        if (cur.type.is(type))\n            result.push(cur.node);\n        if (!cur.nextSibling())\n            return after == null ? result : [];\n    }\n}\nfunction matchNodeContext(node, context, i = context.length - 1) {\n    for (let p = node.parent; i >= 0; p = p.parent) {\n        if (!p)\n            return false;\n        if (!p.type.isAnonymous) {\n            if (context[i] && context[i] != p.name)\n                return false;\n            i--;\n        }\n    }\n    return true;\n}\nclass BufferContext {\n    constructor(parent, buffer, index, start) {\n        this.parent = parent;\n        this.buffer = buffer;\n        this.index = index;\n        this.start = start;\n    }\n}\nclass BufferNode extends BaseNode {\n    get name() { return this.type.name; }\n    get from() { return this.context.start + this.context.buffer.buffer[this.index + 1]; }\n    get to() { return this.context.start + this.context.buffer.buffer[this.index + 2]; }\n    constructor(context, _parent, index) {\n        super();\n        this.context = context;\n        this._parent = _parent;\n        this.index = index;\n        this.type = context.buffer.set.types[context.buffer.buffer[index]];\n    }\n    child(dir, pos, side) {\n        let { buffer } = this.context;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, pos - this.context.start, side);\n        return index < 0 ? null : new BufferNode(this.context, this, index);\n    }\n    get firstChild() { return this.child(1, 0, 4 /* Side.DontCare */); }\n    get lastChild() { return this.child(-1, 0, 4 /* Side.DontCare */); }\n    childAfter(pos) { return this.child(1, pos, 2 /* Side.After */); }\n    childBefore(pos) { return this.child(-1, pos, -2 /* Side.Before */); }\n    enter(pos, side, mode = 0) {\n        if (mode & IterMode.ExcludeBuffers)\n            return null;\n        let { buffer } = this.context;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], side > 0 ? 1 : -1, pos - this.context.start, side);\n        return index < 0 ? null : new BufferNode(this.context, this, index);\n    }\n    get parent() {\n        return this._parent || this.context.parent.nextSignificantParent();\n    }\n    externalSibling(dir) {\n        return this._parent ? null : this.context.parent.nextChild(this.context.index + dir, dir, 0, 4 /* Side.DontCare */);\n    }\n    get nextSibling() {\n        let { buffer } = this.context;\n        let after = buffer.buffer[this.index + 3];\n        if (after < (this._parent ? buffer.buffer[this._parent.index + 3] : buffer.buffer.length))\n            return new BufferNode(this.context, this._parent, after);\n        return this.externalSibling(1);\n    }\n    get prevSibling() {\n        let { buffer } = this.context;\n        let parentStart = this._parent ? this._parent.index + 4 : 0;\n        if (this.index == parentStart)\n            return this.externalSibling(-1);\n        return new BufferNode(this.context, this._parent, buffer.findChild(parentStart, this.index, -1, 0, 4 /* Side.DontCare */));\n    }\n    get tree() { return null; }\n    toTree() {\n        let children = [], positions = [];\n        let { buffer } = this.context;\n        let startI = this.index + 4, endI = buffer.buffer[this.index + 3];\n        if (endI > startI) {\n            let from = buffer.buffer[this.index + 1];\n            children.push(buffer.slice(startI, endI, from));\n            positions.push(0);\n        }\n        return new Tree(this.type, children, positions, this.to - this.from);\n    }\n    /**\n    @internal\n    */\n    toString() { return this.context.buffer.childString(this.index); }\n}\nfunction iterStack(heads) {\n    if (!heads.length)\n        return null;\n    if (heads.length == 1)\n        return heads[0];\n    let pick = 0, picked = heads[0];\n    for (let i = 1; i < heads.length; i++) {\n        let node = heads[i];\n        if (node.from > picked.from || node.to < picked.to) {\n            picked = node;\n            pick = i;\n        }\n    }\n    let next = picked instanceof TreeNode && picked.index < 0 ? null : picked.parent;\n    let newHeads = heads.slice();\n    if (next)\n        newHeads[pick] = next;\n    else\n        newHeads.splice(pick, 1);\n    return new StackIterator(newHeads, picked);\n}\nclass StackIterator {\n    constructor(heads, node) {\n        this.heads = heads;\n        this.node = node;\n    }\n    get next() { return iterStack(this.heads); }\n}\nfunction stackIterator(tree, pos, side) {\n    let inner = tree.resolveInner(pos, side), layers = null;\n    for (let scan = inner instanceof TreeNode ? inner : inner.context.parent; scan; scan = scan.parent) {\n        if (scan.index < 0) { // This is an overlay root\n            let parent = scan.parent;\n            (layers || (layers = [inner])).push(parent.resolve(pos, side));\n            scan = parent;\n        }\n        else {\n            let mount = MountedTree.get(scan.tree);\n            // Relevant overlay branching off\n            if (mount && mount.overlay && mount.overlay[0].from <= pos && mount.overlay[mount.overlay.length - 1].to >= pos) {\n                let root = new TreeNode(mount.tree, mount.overlay[0].from + scan.from, 0, null);\n                (layers || (layers = [inner])).push(resolveNode(root, pos, side, false));\n            }\n        }\n    }\n    return layers ? iterStack(layers) : inner;\n}\n/**\nA tree cursor object focuses on a given node in a syntax tree, and\nallows you to move to adjacent nodes.\n*/\nclass TreeCursor {\n    /**\n    Shorthand for `.type.name`.\n    */\n    get name() { return this.type.name; }\n    /**\n    @internal\n    */\n    constructor(node, \n    /**\n    @internal\n    */\n    mode = 0) {\n        this.mode = mode;\n        /**\n        @internal\n        */\n        this.buffer = null;\n        this.stack = [];\n        /**\n        @internal\n        */\n        this.index = 0;\n        this.bufferNode = null;\n        if (node instanceof TreeNode) {\n            this.yieldNode(node);\n        }\n        else {\n            this._tree = node.context.parent;\n            this.buffer = node.context;\n            for (let n = node._parent; n; n = n._parent)\n                this.stack.unshift(n.index);\n            this.bufferNode = node;\n            this.yieldBuf(node.index);\n        }\n    }\n    yieldNode(node) {\n        if (!node)\n            return false;\n        this._tree = node;\n        this.type = node.type;\n        this.from = node.from;\n        this.to = node.to;\n        return true;\n    }\n    yieldBuf(index, type) {\n        this.index = index;\n        let { start, buffer } = this.buffer;\n        this.type = type || buffer.set.types[buffer.buffer[index]];\n        this.from = start + buffer.buffer[index + 1];\n        this.to = start + buffer.buffer[index + 2];\n        return true;\n    }\n    yield(node) {\n        if (!node)\n            return false;\n        if (node instanceof TreeNode) {\n            this.buffer = null;\n            return this.yieldNode(node);\n        }\n        this.buffer = node.context;\n        return this.yieldBuf(node.index, node.type);\n    }\n    /**\n    @internal\n    */\n    toString() {\n        return this.buffer ? this.buffer.buffer.childString(this.index) : this._tree.toString();\n    }\n    /**\n    @internal\n    */\n    enterChild(dir, pos, side) {\n        if (!this.buffer)\n            return this.yield(this._tree.nextChild(dir < 0 ? this._tree._tree.children.length - 1 : 0, dir, pos, side, this.mode));\n        let { buffer } = this.buffer;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, pos - this.buffer.start, side);\n        if (index < 0)\n            return false;\n        this.stack.push(this.index);\n        return this.yieldBuf(index);\n    }\n    /**\n    Move the cursor to this node's first child. When this returns\n    false, the node has no child, and the cursor has not been moved.\n    */\n    firstChild() { return this.enterChild(1, 0, 4 /* Side.DontCare */); }\n    /**\n    Move the cursor to this node's last child.\n    */\n    lastChild() { return this.enterChild(-1, 0, 4 /* Side.DontCare */); }\n    /**\n    Move the cursor to the first child that ends after `pos`.\n    */\n    childAfter(pos) { return this.enterChild(1, pos, 2 /* Side.After */); }\n    /**\n    Move to the last child that starts before `pos`.\n    */\n    childBefore(pos) { return this.enterChild(-1, pos, -2 /* Side.Before */); }\n    /**\n    Move the cursor to the child around `pos`. If side is -1 the\n    child may end at that position, when 1 it may start there. This\n    will also enter [overlaid](#common.MountedTree.overlay)\n    [mounted](#common.NodeProp^mounted) trees unless `overlays` is\n    set to false.\n    */\n    enter(pos, side, mode = this.mode) {\n        if (!this.buffer)\n            return this.yield(this._tree.enter(pos, side, mode));\n        return mode & IterMode.ExcludeBuffers ? false : this.enterChild(1, pos, side);\n    }\n    /**\n    Move to the node's parent node, if this isn't the top node.\n    */\n    parent() {\n        if (!this.buffer)\n            return this.yieldNode((this.mode & IterMode.IncludeAnonymous) ? this._tree._parent : this._tree.parent);\n        if (this.stack.length)\n            return this.yieldBuf(this.stack.pop());\n        let parent = (this.mode & IterMode.IncludeAnonymous) ? this.buffer.parent : this.buffer.parent.nextSignificantParent();\n        this.buffer = null;\n        return this.yieldNode(parent);\n    }\n    /**\n    @internal\n    */\n    sibling(dir) {\n        if (!this.buffer)\n            return !this._tree._parent ? false\n                : this.yield(this._tree.index < 0 ? null\n                    : this._tree._parent.nextChild(this._tree.index + dir, dir, 0, 4 /* Side.DontCare */, this.mode));\n        let { buffer } = this.buffer, d = this.stack.length - 1;\n        if (dir < 0) {\n            let parentStart = d < 0 ? 0 : this.stack[d] + 4;\n            if (this.index != parentStart)\n                return this.yieldBuf(buffer.findChild(parentStart, this.index, -1, 0, 4 /* Side.DontCare */));\n        }\n        else {\n            let after = buffer.buffer[this.index + 3];\n            if (after < (d < 0 ? buffer.buffer.length : buffer.buffer[this.stack[d] + 3]))\n                return this.yieldBuf(after);\n        }\n        return d < 0 ? this.yield(this.buffer.parent.nextChild(this.buffer.index + dir, dir, 0, 4 /* Side.DontCare */, this.mode)) : false;\n    }\n    /**\n    Move to this node's next sibling, if any.\n    */\n    nextSibling() { return this.sibling(1); }\n    /**\n    Move to this node's previous sibling, if any.\n    */\n    prevSibling() { return this.sibling(-1); }\n    atLastNode(dir) {\n        let index, parent, { buffer } = this;\n        if (buffer) {\n            if (dir > 0) {\n                if (this.index < buffer.buffer.buffer.length)\n                    return false;\n            }\n            else {\n                for (let i = 0; i < this.index; i++)\n                    if (buffer.buffer.buffer[i + 3] < this.index)\n                        return false;\n            }\n            ({ index, parent } = buffer);\n        }\n        else {\n            ({ index, _parent: parent } = this._tree);\n        }\n        for (; parent; { index, _parent: parent } = parent) {\n            if (index > -1)\n                for (let i = index + dir, e = dir < 0 ? -1 : parent._tree.children.length; i != e; i += dir) {\n                    let child = parent._tree.children[i];\n                    if ((this.mode & IterMode.IncludeAnonymous) ||\n                        child instanceof TreeBuffer ||\n                        !child.type.isAnonymous ||\n                        hasChild(child))\n                        return false;\n                }\n        }\n        return true;\n    }\n    move(dir, enter) {\n        if (enter && this.enterChild(dir, 0, 4 /* Side.DontCare */))\n            return true;\n        for (;;) {\n            if (this.sibling(dir))\n                return true;\n            if (this.atLastNode(dir) || !this.parent())\n                return false;\n        }\n    }\n    /**\n    Move to the next node in a\n    [pre-order](https://en.wikipedia.org/wiki/Tree_traversal#Pre-order,_NLR)\n    traversal, going from a node to its first child or, if the\n    current node is empty or `enter` is false, its next sibling or\n    the next sibling of the first parent node that has one.\n    */\n    next(enter = true) { return this.move(1, enter); }\n    /**\n    Move to the next node in a last-to-first pre-order traveral. A\n    node is followed by its last child or, if it has none, its\n    previous sibling or the previous sibling of the first parent\n    node that has one.\n    */\n    prev(enter = true) { return this.move(-1, enter); }\n    /**\n    Move the cursor to the innermost node that covers `pos`. If\n    `side` is -1, it will enter nodes that end at `pos`. If it is 1,\n    it will enter nodes that start at `pos`.\n    */\n    moveTo(pos, side = 0) {\n        // Move up to a node that actually holds the position, if possible\n        while (this.from == this.to ||\n            (side < 1 ? this.from >= pos : this.from > pos) ||\n            (side > -1 ? this.to <= pos : this.to < pos))\n            if (!this.parent())\n                break;\n        // Then scan down into child nodes as far as possible\n        while (this.enterChild(1, pos, side)) { }\n        return this;\n    }\n    /**\n    Get a [syntax node](#common.SyntaxNode) at the cursor's current\n    position.\n    */\n    get node() {\n        if (!this.buffer)\n            return this._tree;\n        let cache = this.bufferNode, result = null, depth = 0;\n        if (cache && cache.context == this.buffer) {\n            scan: for (let index = this.index, d = this.stack.length; d >= 0;) {\n                for (let c = cache; c; c = c._parent)\n                    if (c.index == index) {\n                        if (index == this.index)\n                            return c;\n                        result = c;\n                        depth = d + 1;\n                        break scan;\n                    }\n                index = this.stack[--d];\n            }\n        }\n        for (let i = depth; i < this.stack.length; i++)\n            result = new BufferNode(this.buffer, result, this.stack[i]);\n        return this.bufferNode = new BufferNode(this.buffer, result, this.index);\n    }\n    /**\n    Get the [tree](#common.Tree) that represents the current node, if\n    any. Will return null when the node is in a [tree\n    buffer](#common.TreeBuffer).\n    */\n    get tree() {\n        return this.buffer ? null : this._tree._tree;\n    }\n    /**\n    Iterate over the current node and all its descendants, calling\n    `enter` when entering a node and `leave`, if given, when leaving\n    one. When `enter` returns `false`, any children of that node are\n    skipped, and `leave` isn't called for it.\n    */\n    iterate(enter, leave) {\n        for (let depth = 0;;) {\n            let mustLeave = false;\n            if (this.type.isAnonymous || enter(this) !== false) {\n                if (this.firstChild()) {\n                    depth++;\n                    continue;\n                }\n                if (!this.type.isAnonymous)\n                    mustLeave = true;\n            }\n            for (;;) {\n                if (mustLeave && leave)\n                    leave(this);\n                mustLeave = this.type.isAnonymous;\n                if (this.nextSibling())\n                    break;\n                if (!depth)\n                    return;\n                this.parent();\n                depth--;\n                mustLeave = true;\n            }\n        }\n    }\n    /**\n    Test whether the current node matches a given context—a sequence\n    of direct parent node names. Empty strings in the context array\n    are treated as wildcards.\n    */\n    matchContext(context) {\n        if (!this.buffer)\n            return matchNodeContext(this.node, context);\n        let { buffer } = this.buffer, { types } = buffer.set;\n        for (let i = context.length - 1, d = this.stack.length - 1; i >= 0; d--) {\n            if (d < 0)\n                return matchNodeContext(this.node, context, i);\n            let type = types[buffer.buffer[this.stack[d]]];\n            if (!type.isAnonymous) {\n                if (context[i] && context[i] != type.name)\n                    return false;\n                i--;\n            }\n        }\n        return true;\n    }\n}\nfunction hasChild(tree) {\n    return tree.children.some(ch => ch instanceof TreeBuffer || !ch.type.isAnonymous || hasChild(ch));\n}\nfunction buildTree(data) {\n    var _a;\n    let { buffer, nodeSet, maxBufferLength = DefaultBufferLength, reused = [], minRepeatType = nodeSet.types.length } = data;\n    let cursor = Array.isArray(buffer) ? new FlatBufferCursor(buffer, buffer.length) : buffer;\n    let types = nodeSet.types;\n    let contextHash = 0, lookAhead = 0;\n    function takeNode(parentStart, minPos, children, positions, inRepeat) {\n        let { id, start, end, size } = cursor;\n        let lookAheadAtStart = lookAhead;\n        while (size < 0) {\n            cursor.next();\n            if (size == -1 /* SpecialRecord.Reuse */) {\n                let node = reused[id];\n                children.push(node);\n                positions.push(start - parentStart);\n                return;\n            }\n            else if (size == -3 /* SpecialRecord.ContextChange */) { // Context change\n                contextHash = id;\n                return;\n            }\n            else if (size == -4 /* SpecialRecord.LookAhead */) {\n                lookAhead = id;\n                return;\n            }\n            else {\n                throw new RangeError(`Unrecognized record size: ${size}`);\n            }\n        }\n        let type = types[id], node, buffer;\n        let startPos = start - parentStart;\n        if (end - start <= maxBufferLength && (buffer = findBufferSize(cursor.pos - minPos, inRepeat))) {\n            // Small enough for a buffer, and no reused nodes inside\n            let data = new Uint16Array(buffer.size - buffer.skip);\n            let endPos = cursor.pos - buffer.size, index = data.length;\n            while (cursor.pos > endPos)\n                index = copyToBuffer(buffer.start, data, index);\n            node = new TreeBuffer(data, end - buffer.start, nodeSet);\n            startPos = buffer.start - parentStart;\n        }\n        else { // Make it a node\n            let endPos = cursor.pos - size;\n            cursor.next();\n            let localChildren = [], localPositions = [];\n            let localInRepeat = id >= minRepeatType ? id : -1;\n            let lastGroup = 0, lastEnd = end;\n            while (cursor.pos > endPos) {\n                if (localInRepeat >= 0 && cursor.id == localInRepeat && cursor.size >= 0) {\n                    if (cursor.end <= lastEnd - maxBufferLength) {\n                        makeRepeatLeaf(localChildren, localPositions, start, lastGroup, cursor.end, lastEnd, localInRepeat, lookAheadAtStart);\n                        lastGroup = localChildren.length;\n                        lastEnd = cursor.end;\n                    }\n                    cursor.next();\n                }\n                else {\n                    takeNode(start, endPos, localChildren, localPositions, localInRepeat);\n                }\n            }\n            if (localInRepeat >= 0 && lastGroup > 0 && lastGroup < localChildren.length)\n                makeRepeatLeaf(localChildren, localPositions, start, lastGroup, start, lastEnd, localInRepeat, lookAheadAtStart);\n            localChildren.reverse();\n            localPositions.reverse();\n            if (localInRepeat > -1 && lastGroup > 0) {\n                let make = makeBalanced(type);\n                node = balanceRange(type, localChildren, localPositions, 0, localChildren.length, 0, end - start, make, make);\n            }\n            else {\n                node = makeTree(type, localChildren, localPositions, end - start, lookAheadAtStart - end);\n            }\n        }\n        children.push(node);\n        positions.push(startPos);\n    }\n    function makeBalanced(type) {\n        return (children, positions, length) => {\n            let lookAhead = 0, lastI = children.length - 1, last, lookAheadProp;\n            if (lastI >= 0 && (last = children[lastI]) instanceof Tree) {\n                if (!lastI && last.type == type && last.length == length)\n                    return last;\n                if (lookAheadProp = last.prop(NodeProp.lookAhead))\n                    lookAhead = positions[lastI] + last.length + lookAheadProp;\n            }\n            return makeTree(type, children, positions, length, lookAhead);\n        };\n    }\n    function makeRepeatLeaf(children, positions, base, i, from, to, type, lookAhead) {\n        let localChildren = [], localPositions = [];\n        while (children.length > i) {\n            localChildren.push(children.pop());\n            localPositions.push(positions.pop() + base - from);\n        }\n        children.push(makeTree(nodeSet.types[type], localChildren, localPositions, to - from, lookAhead - to));\n        positions.push(from - base);\n    }\n    function makeTree(type, children, positions, length, lookAhead = 0, props) {\n        if (contextHash) {\n            let pair = [NodeProp.contextHash, contextHash];\n            props = props ? [pair].concat(props) : [pair];\n        }\n        if (lookAhead > 25) {\n            let pair = [NodeProp.lookAhead, lookAhead];\n            props = props ? [pair].concat(props) : [pair];\n        }\n        return new Tree(type, children, positions, length, props);\n    }\n    function findBufferSize(maxSize, inRepeat) {\n        // Scan through the buffer to find previous siblings that fit\n        // together in a TreeBuffer, and don't contain any reused nodes\n        // (which can't be stored in a buffer).\n        // If `inRepeat` is > -1, ignore node boundaries of that type for\n        // nesting, but make sure the end falls either at the start\n        // (`maxSize`) or before such a node.\n        let fork = cursor.fork();\n        let size = 0, start = 0, skip = 0, minStart = fork.end - maxBufferLength;\n        let result = { size: 0, start: 0, skip: 0 };\n        scan: for (let minPos = fork.pos - maxSize; fork.pos > minPos;) {\n            let nodeSize = fork.size;\n            // Pretend nested repeat nodes of the same type don't exist\n            if (fork.id == inRepeat && nodeSize >= 0) {\n                // Except that we store the current state as a valid return\n                // value.\n                result.size = size;\n                result.start = start;\n                result.skip = skip;\n                skip += 4;\n                size += 4;\n                fork.next();\n                continue;\n            }\n            let startPos = fork.pos - nodeSize;\n            if (nodeSize < 0 || startPos < minPos || fork.start < minStart)\n                break;\n            let localSkipped = fork.id >= minRepeatType ? 4 : 0;\n            let nodeStart = fork.start;\n            fork.next();\n            while (fork.pos > startPos) {\n                if (fork.size < 0) {\n                    if (fork.size == -3 /* SpecialRecord.ContextChange */)\n                        localSkipped += 4;\n                    else\n                        break scan;\n                }\n                else if (fork.id >= minRepeatType) {\n                    localSkipped += 4;\n                }\n                fork.next();\n            }\n            start = nodeStart;\n            size += nodeSize;\n            skip += localSkipped;\n        }\n        if (inRepeat < 0 || size == maxSize) {\n            result.size = size;\n            result.start = start;\n            result.skip = skip;\n        }\n        return result.size > 4 ? result : undefined;\n    }\n    function copyToBuffer(bufferStart, buffer, index) {\n        let { id, start, end, size } = cursor;\n        cursor.next();\n        if (size >= 0 && id < minRepeatType) {\n            let startIndex = index;\n            if (size > 4) {\n                let endPos = cursor.pos - (size - 4);\n                while (cursor.pos > endPos)\n                    index = copyToBuffer(bufferStart, buffer, index);\n            }\n            buffer[--index] = startIndex;\n            buffer[--index] = end - bufferStart;\n            buffer[--index] = start - bufferStart;\n            buffer[--index] = id;\n        }\n        else if (size == -3 /* SpecialRecord.ContextChange */) {\n            contextHash = id;\n        }\n        else if (size == -4 /* SpecialRecord.LookAhead */) {\n            lookAhead = id;\n        }\n        return index;\n    }\n    let children = [], positions = [];\n    while (cursor.pos > 0)\n        takeNode(data.start || 0, data.bufferStart || 0, children, positions, -1);\n    let length = (_a = data.length) !== null && _a !== void 0 ? _a : (children.length ? positions[0] + children[0].length : 0);\n    return new Tree(types[data.topID], children.reverse(), positions.reverse(), length);\n}\nconst nodeSizeCache = new WeakMap;\nfunction nodeSize(balanceType, node) {\n    if (!balanceType.isAnonymous || node instanceof TreeBuffer || node.type != balanceType)\n        return 1;\n    let size = nodeSizeCache.get(node);\n    if (size == null) {\n        size = 1;\n        for (let child of node.children) {\n            if (child.type != balanceType || !(child instanceof Tree)) {\n                size = 1;\n                break;\n            }\n            size += nodeSize(balanceType, child);\n        }\n        nodeSizeCache.set(node, size);\n    }\n    return size;\n}\nfunction balanceRange(\n// The type the balanced tree's inner nodes.\nbalanceType, \n// The direct children and their positions\nchildren, positions, \n// The index range in children/positions to use\nfrom, to, \n// The start position of the nodes, relative to their parent.\nstart, \n// Length of the outer node\nlength, \n// Function to build the top node of the balanced tree\nmkTop, \n// Function to build internal nodes for the balanced tree\nmkTree) {\n    let total = 0;\n    for (let i = from; i < to; i++)\n        total += nodeSize(balanceType, children[i]);\n    let maxChild = Math.ceil((total * 1.5) / 8 /* Balance.BranchFactor */);\n    let localChildren = [], localPositions = [];\n    function divide(children, positions, from, to, offset) {\n        for (let i = from; i < to;) {\n            let groupFrom = i, groupStart = positions[i], groupSize = nodeSize(balanceType, children[i]);\n            i++;\n            for (; i < to; i++) {\n                let nextSize = nodeSize(balanceType, children[i]);\n                if (groupSize + nextSize >= maxChild)\n                    break;\n                groupSize += nextSize;\n            }\n            if (i == groupFrom + 1) {\n                if (groupSize > maxChild) {\n                    let only = children[groupFrom]; // Only trees can have a size > 1\n                    divide(only.children, only.positions, 0, only.children.length, positions[groupFrom] + offset);\n                    continue;\n                }\n                localChildren.push(children[groupFrom]);\n            }\n            else {\n                let length = positions[i - 1] + children[i - 1].length - groupStart;\n                localChildren.push(balanceRange(balanceType, children, positions, groupFrom, i, groupStart, length, null, mkTree));\n            }\n            localPositions.push(groupStart + offset - start);\n        }\n    }\n    divide(children, positions, from, to, 0);\n    return (mkTop || mkTree)(localChildren, localPositions, length);\n}\n/**\nProvides a way to associate values with pieces of trees. As long\nas that part of the tree is reused, the associated values can be\nretrieved from an updated tree.\n*/\nclass NodeWeakMap {\n    constructor() {\n        this.map = new WeakMap();\n    }\n    setBuffer(buffer, index, value) {\n        let inner = this.map.get(buffer);\n        if (!inner)\n            this.map.set(buffer, inner = new Map);\n        inner.set(index, value);\n    }\n    getBuffer(buffer, index) {\n        let inner = this.map.get(buffer);\n        return inner && inner.get(index);\n    }\n    /**\n    Set the value for this syntax node.\n    */\n    set(node, value) {\n        if (node instanceof BufferNode)\n            this.setBuffer(node.context.buffer, node.index, value);\n        else if (node instanceof TreeNode)\n            this.map.set(node.tree, value);\n    }\n    /**\n    Retrieve value for this syntax node, if it exists in the map.\n    */\n    get(node) {\n        return node instanceof BufferNode ? this.getBuffer(node.context.buffer, node.index)\n            : node instanceof TreeNode ? this.map.get(node.tree) : undefined;\n    }\n    /**\n    Set the value for the node that a cursor currently points to.\n    */\n    cursorSet(cursor, value) {\n        if (cursor.buffer)\n            this.setBuffer(cursor.buffer.buffer, cursor.index, value);\n        else\n            this.map.set(cursor.tree, value);\n    }\n    /**\n    Retrieve the value for the node that a cursor currently points\n    to.\n    */\n    cursorGet(cursor) {\n        return cursor.buffer ? this.getBuffer(cursor.buffer.buffer, cursor.index) : this.map.get(cursor.tree);\n    }\n}\n\n/**\nTree fragments are used during [incremental\nparsing](#common.Parser.startParse) to track parts of old trees\nthat can be reused in a new parse. An array of fragments is used\nto track regions of an old tree whose nodes might be reused in new\nparses. Use the static\n[`applyChanges`](#common.TreeFragment^applyChanges) method to\nupdate fragments for document changes.\n*/\nclass TreeFragment {\n    /**\n    Construct a tree fragment. You'll usually want to use\n    [`addTree`](#common.TreeFragment^addTree) and\n    [`applyChanges`](#common.TreeFragment^applyChanges) instead of\n    calling this directly.\n    */\n    constructor(\n    /**\n    The start of the unchanged range pointed to by this fragment.\n    This refers to an offset in the _updated_ document (as opposed\n    to the original tree).\n    */\n    from, \n    /**\n    The end of the unchanged range.\n    */\n    to, \n    /**\n    The tree that this fragment is based on.\n    */\n    tree, \n    /**\n    The offset between the fragment's tree and the document that\n    this fragment can be used against. Add this when going from\n    document to tree positions, subtract it to go from tree to\n    document positions.\n    */\n    offset, openStart = false, openEnd = false) {\n        this.from = from;\n        this.to = to;\n        this.tree = tree;\n        this.offset = offset;\n        this.open = (openStart ? 1 /* Open.Start */ : 0) | (openEnd ? 2 /* Open.End */ : 0);\n    }\n    /**\n    Whether the start of the fragment represents the start of a\n    parse, or the end of a change. (In the second case, it may not\n    be safe to reuse some nodes at the start, depending on the\n    parsing algorithm.)\n    */\n    get openStart() { return (this.open & 1 /* Open.Start */) > 0; }\n    /**\n    Whether the end of the fragment represents the end of a\n    full-document parse, or the start of a change.\n    */\n    get openEnd() { return (this.open & 2 /* Open.End */) > 0; }\n    /**\n    Create a set of fragments from a freshly parsed tree, or update\n    an existing set of fragments by replacing the ones that overlap\n    with a tree with content from the new tree. When `partial` is\n    true, the parse is treated as incomplete, and the resulting\n    fragment has [`openEnd`](#common.TreeFragment.openEnd) set to\n    true.\n    */\n    static addTree(tree, fragments = [], partial = false) {\n        let result = [new TreeFragment(0, tree.length, tree, 0, false, partial)];\n        for (let f of fragments)\n            if (f.to > tree.length)\n                result.push(f);\n        return result;\n    }\n    /**\n    Apply a set of edits to an array of fragments, removing or\n    splitting fragments as necessary to remove edited ranges, and\n    adjusting offsets for fragments that moved.\n    */\n    static applyChanges(fragments, changes, minGap = 128) {\n        if (!changes.length)\n            return fragments;\n        let result = [];\n        let fI = 1, nextF = fragments.length ? fragments[0] : null;\n        for (let cI = 0, pos = 0, off = 0;; cI++) {\n            let nextC = cI < changes.length ? changes[cI] : null;\n            let nextPos = nextC ? nextC.fromA : 1e9;\n            if (nextPos - pos >= minGap)\n                while (nextF && nextF.from < nextPos) {\n                    let cut = nextF;\n                    if (pos >= cut.from || nextPos <= cut.to || off) {\n                        let fFrom = Math.max(cut.from, pos) - off, fTo = Math.min(cut.to, nextPos) - off;\n                        cut = fFrom >= fTo ? null : new TreeFragment(fFrom, fTo, cut.tree, cut.offset + off, cI > 0, !!nextC);\n                    }\n                    if (cut)\n                        result.push(cut);\n                    if (nextF.to > nextPos)\n                        break;\n                    nextF = fI < fragments.length ? fragments[fI++] : null;\n                }\n            if (!nextC)\n                break;\n            pos = nextC.toA;\n            off = nextC.toA - nextC.toB;\n        }\n        return result;\n    }\n}\n/**\nA superclass that parsers should extend.\n*/\nclass Parser {\n    /**\n    Start a parse, returning a [partial parse](#common.PartialParse)\n    object. [`fragments`](#common.TreeFragment) can be passed in to\n    make the parse incremental.\n    \n    By default, the entire input is parsed. You can pass `ranges`,\n    which should be a sorted array of non-empty, non-overlapping\n    ranges, to parse only those ranges. The tree returned in that\n    case will start at `ranges[0].from`.\n    */\n    startParse(input, fragments, ranges) {\n        if (typeof input == \"string\")\n            input = new StringInput(input);\n        ranges = !ranges ? [new Range(0, input.length)] : ranges.length ? ranges.map(r => new Range(r.from, r.to)) : [new Range(0, 0)];\n        return this.createParse(input, fragments || [], ranges);\n    }\n    /**\n    Run a full parse, returning the resulting tree.\n    */\n    parse(input, fragments, ranges) {\n        let parse = this.startParse(input, fragments, ranges);\n        for (;;) {\n            let done = parse.advance();\n            if (done)\n                return done;\n        }\n    }\n}\nclass StringInput {\n    constructor(string) {\n        this.string = string;\n    }\n    get length() { return this.string.length; }\n    chunk(from) { return this.string.slice(from); }\n    get lineChunks() { return false; }\n    read(from, to) { return this.string.slice(from, to); }\n}\n\n/**\nCreate a parse wrapper that, after the inner parse completes,\nscans its tree for mixed language regions with the `nest`\nfunction, runs the resulting [inner parses](#common.NestedParse),\nand then [mounts](#common.NodeProp^mounted) their results onto the\ntree.\n*/\nfunction parseMixed(nest) {\n    return (parse, input, fragments, ranges) => new MixedParse(parse, nest, input, fragments, ranges);\n}\nclass InnerParse {\n    constructor(parser, parse, overlay, target, ranges) {\n        this.parser = parser;\n        this.parse = parse;\n        this.overlay = overlay;\n        this.target = target;\n        this.ranges = ranges;\n        if (!ranges.length || ranges.some(r => r.from >= r.to))\n            throw new RangeError(\"Invalid inner parse ranges given: \" + JSON.stringify(ranges));\n    }\n}\nclass ActiveOverlay {\n    constructor(parser, predicate, mounts, index, start, target, prev) {\n        this.parser = parser;\n        this.predicate = predicate;\n        this.mounts = mounts;\n        this.index = index;\n        this.start = start;\n        this.target = target;\n        this.prev = prev;\n        this.depth = 0;\n        this.ranges = [];\n    }\n}\nconst stoppedInner = new NodeProp({ perNode: true });\nclass MixedParse {\n    constructor(base, nest, input, fragments, ranges) {\n        this.nest = nest;\n        this.input = input;\n        this.fragments = fragments;\n        this.ranges = ranges;\n        this.inner = [];\n        this.innerDone = 0;\n        this.baseTree = null;\n        this.stoppedAt = null;\n        this.baseParse = base;\n    }\n    advance() {\n        if (this.baseParse) {\n            let done = this.baseParse.advance();\n            if (!done)\n                return null;\n            this.baseParse = null;\n            this.baseTree = done;\n            this.startInner();\n            if (this.stoppedAt != null)\n                for (let inner of this.inner)\n                    inner.parse.stopAt(this.stoppedAt);\n        }\n        if (this.innerDone == this.inner.length) {\n            let result = this.baseTree;\n            if (this.stoppedAt != null)\n                result = new Tree(result.type, result.children, result.positions, result.length, result.propValues.concat([[stoppedInner, this.stoppedAt]]));\n            return result;\n        }\n        let inner = this.inner[this.innerDone], done = inner.parse.advance();\n        if (done) {\n            this.innerDone++;\n            // This is a somewhat dodgy but super helpful hack where we\n            // patch up nodes created by the inner parse (and thus\n            // presumably not aliased anywhere else) to hold the information\n            // about the inner parse.\n            let props = Object.assign(Object.create(null), inner.target.props);\n            props[NodeProp.mounted.id] = new MountedTree(done, inner.overlay, inner.parser);\n            inner.target.props = props;\n        }\n        return null;\n    }\n    get parsedPos() {\n        if (this.baseParse)\n            return 0;\n        let pos = this.input.length;\n        for (let i = this.innerDone; i < this.inner.length; i++) {\n            if (this.inner[i].ranges[0].from < pos)\n                pos = Math.min(pos, this.inner[i].parse.parsedPos);\n        }\n        return pos;\n    }\n    stopAt(pos) {\n        this.stoppedAt = pos;\n        if (this.baseParse)\n            this.baseParse.stopAt(pos);\n        else\n            for (let i = this.innerDone; i < this.inner.length; i++)\n                this.inner[i].parse.stopAt(pos);\n    }\n    startInner() {\n        let fragmentCursor = new FragmentCursor(this.fragments);\n        let overlay = null;\n        let covered = null;\n        let cursor = new TreeCursor(new TreeNode(this.baseTree, this.ranges[0].from, 0, null), IterMode.IncludeAnonymous | IterMode.IgnoreMounts);\n        scan: for (let nest, isCovered; this.stoppedAt == null || cursor.from < this.stoppedAt;) {\n            let enter = true, range;\n            if (fragmentCursor.hasNode(cursor)) {\n                if (overlay) {\n                    let match = overlay.mounts.find(m => m.frag.from <= cursor.from && m.frag.to >= cursor.to && m.mount.overlay);\n                    if (match)\n                        for (let r of match.mount.overlay) {\n                            let from = r.from + match.pos, to = r.to + match.pos;\n                            if (from >= cursor.from && to <= cursor.to && !overlay.ranges.some(r => r.from < to && r.to > from))\n                                overlay.ranges.push({ from, to });\n                        }\n                }\n                enter = false;\n            }\n            else if (covered && (isCovered = checkCover(covered.ranges, cursor.from, cursor.to))) {\n                enter = isCovered != 2 /* Cover.Full */;\n            }\n            else if (!cursor.type.isAnonymous && cursor.from < cursor.to && (nest = this.nest(cursor, this.input))) {\n                if (!cursor.tree)\n                    materialize(cursor);\n                let oldMounts = fragmentCursor.findMounts(cursor.from, nest.parser);\n                if (typeof nest.overlay == \"function\") {\n                    overlay = new ActiveOverlay(nest.parser, nest.overlay, oldMounts, this.inner.length, cursor.from, cursor.tree, overlay);\n                }\n                else {\n                    let ranges = punchRanges(this.ranges, nest.overlay || [new Range(cursor.from, cursor.to)]);\n                    if (ranges.length)\n                        this.inner.push(new InnerParse(nest.parser, nest.parser.startParse(this.input, enterFragments(oldMounts, ranges), ranges), nest.overlay ? nest.overlay.map(r => new Range(r.from - cursor.from, r.to - cursor.from)) : null, cursor.tree, ranges));\n                    if (!nest.overlay)\n                        enter = false;\n                    else if (ranges.length)\n                        covered = { ranges, depth: 0, prev: covered };\n                }\n            }\n            else if (overlay && (range = overlay.predicate(cursor))) {\n                if (range === true)\n                    range = new Range(cursor.from, cursor.to);\n                if (range.from < range.to)\n                    overlay.ranges.push(range);\n            }\n            if (enter && cursor.firstChild()) {\n                if (overlay)\n                    overlay.depth++;\n                if (covered)\n                    covered.depth++;\n            }\n            else {\n                for (;;) {\n                    if (cursor.nextSibling())\n                        break;\n                    if (!cursor.parent())\n                        break scan;\n                    if (overlay && !--overlay.depth) {\n                        let ranges = punchRanges(this.ranges, overlay.ranges);\n                        if (ranges.length)\n                            this.inner.splice(overlay.index, 0, new InnerParse(overlay.parser, overlay.parser.startParse(this.input, enterFragments(overlay.mounts, ranges), ranges), overlay.ranges.map(r => new Range(r.from - overlay.start, r.to - overlay.start)), overlay.target, ranges));\n                        overlay = overlay.prev;\n                    }\n                    if (covered && !--covered.depth)\n                        covered = covered.prev;\n                }\n            }\n        }\n    }\n}\nfunction checkCover(covered, from, to) {\n    for (let range of covered) {\n        if (range.from >= to)\n            break;\n        if (range.to > from)\n            return range.from <= from && range.to >= to ? 2 /* Cover.Full */ : 1 /* Cover.Partial */;\n    }\n    return 0 /* Cover.None */;\n}\n// Take a piece of buffer and convert it into a stand-alone\n// TreeBuffer.\nfunction sliceBuf(buf, startI, endI, nodes, positions, off) {\n    if (startI < endI) {\n        let from = buf.buffer[startI + 1];\n        nodes.push(buf.slice(startI, endI, from));\n        positions.push(from - off);\n    }\n}\n// This function takes a node that's in a buffer, and converts it, and\n// its parent buffer nodes, into a Tree. This is again acting on the\n// assumption that the trees and buffers have been constructed by the\n// parse that was ran via the mix parser, and thus aren't shared with\n// any other code, making violations of the immutability safe.\nfunction materialize(cursor) {\n    let { node } = cursor, depth = 0;\n    // Scan up to the nearest tree\n    do {\n        cursor.parent();\n        depth++;\n    } while (!cursor.tree);\n    // Find the index of the buffer in that tree\n    let i = 0, base = cursor.tree, off = 0;\n    for (;; i++) {\n        off = base.positions[i] + cursor.from;\n        if (off <= node.from && off + base.children[i].length >= node.to)\n            break;\n    }\n    let buf = base.children[i], b = buf.buffer;\n    // Split a level in the buffer, putting the nodes before and after\n    // the child that contains `node` into new buffers.\n    function split(startI, endI, type, innerOffset, length) {\n        let i = startI;\n        while (b[i + 2] + off <= node.from)\n            i = b[i + 3];\n        let children = [], positions = [];\n        sliceBuf(buf, startI, i, children, positions, innerOffset);\n        let from = b[i + 1], to = b[i + 2];\n        let isTarget = from + off == node.from && to + off == node.to && b[i] == node.type.id;\n        children.push(isTarget ? node.toTree() : split(i + 4, b[i + 3], buf.set.types[b[i]], from, to - from));\n        positions.push(from - innerOffset);\n        sliceBuf(buf, b[i + 3], endI, children, positions, innerOffset);\n        return new Tree(type, children, positions, length);\n    }\n    base.children[i] = split(0, b.length, NodeType.none, 0, buf.length);\n    // Move the cursor back to the target node\n    for (let d = 0; d <= depth; d++)\n        cursor.childAfter(node.from);\n}\nclass StructureCursor {\n    constructor(root, offset) {\n        this.offset = offset;\n        this.done = false;\n        this.cursor = root.cursor(IterMode.IncludeAnonymous | IterMode.IgnoreMounts);\n    }\n    // Move to the first node (in pre-order) that starts at or after `pos`.\n    moveTo(pos) {\n        let { cursor } = this, p = pos - this.offset;\n        while (!this.done && cursor.from < p) {\n            if (cursor.to >= pos && cursor.enter(p, 1, IterMode.IgnoreOverlays | IterMode.ExcludeBuffers)) ;\n            else if (!cursor.next(false))\n                this.done = true;\n        }\n    }\n    hasNode(cursor) {\n        this.moveTo(cursor.from);\n        if (!this.done && this.cursor.from + this.offset == cursor.from && this.cursor.tree) {\n            for (let tree = this.cursor.tree;;) {\n                if (tree == cursor.tree)\n                    return true;\n                if (tree.children.length && tree.positions[0] == 0 && tree.children[0] instanceof Tree)\n                    tree = tree.children[0];\n                else\n                    break;\n            }\n        }\n        return false;\n    }\n}\nclass FragmentCursor {\n    constructor(fragments) {\n        var _a;\n        this.fragments = fragments;\n        this.curTo = 0;\n        this.fragI = 0;\n        if (fragments.length) {\n            let first = this.curFrag = fragments[0];\n            this.curTo = (_a = first.tree.prop(stoppedInner)) !== null && _a !== void 0 ? _a : first.to;\n            this.inner = new StructureCursor(first.tree, -first.offset);\n        }\n        else {\n            this.curFrag = this.inner = null;\n        }\n    }\n    hasNode(node) {\n        while (this.curFrag && node.from >= this.curTo)\n            this.nextFrag();\n        return this.curFrag && this.curFrag.from <= node.from && this.curTo >= node.to && this.inner.hasNode(node);\n    }\n    nextFrag() {\n        var _a;\n        this.fragI++;\n        if (this.fragI == this.fragments.length) {\n            this.curFrag = this.inner = null;\n        }\n        else {\n            let frag = this.curFrag = this.fragments[this.fragI];\n            this.curTo = (_a = frag.tree.prop(stoppedInner)) !== null && _a !== void 0 ? _a : frag.to;\n            this.inner = new StructureCursor(frag.tree, -frag.offset);\n        }\n    }\n    findMounts(pos, parser) {\n        var _a;\n        let result = [];\n        if (this.inner) {\n            this.inner.cursor.moveTo(pos, 1);\n            for (let pos = this.inner.cursor.node; pos; pos = pos.parent) {\n                let mount = (_a = pos.tree) === null || _a === void 0 ? void 0 : _a.prop(NodeProp.mounted);\n                if (mount && mount.parser == parser) {\n                    for (let i = this.fragI; i < this.fragments.length; i++) {\n                        let frag = this.fragments[i];\n                        if (frag.from >= pos.to)\n                            break;\n                        if (frag.tree == this.curFrag.tree)\n                            result.push({\n                                frag,\n                                pos: pos.from - frag.offset,\n                                mount\n                            });\n                    }\n                }\n            }\n        }\n        return result;\n    }\n}\nfunction punchRanges(outer, ranges) {\n    let copy = null, current = ranges;\n    for (let i = 1, j = 0; i < outer.length; i++) {\n        let gapFrom = outer[i - 1].to, gapTo = outer[i].from;\n        for (; j < current.length; j++) {\n            let r = current[j];\n            if (r.from >= gapTo)\n                break;\n            if (r.to <= gapFrom)\n                continue;\n            if (!copy)\n                current = copy = ranges.slice();\n            if (r.from < gapFrom) {\n                copy[j] = new Range(r.from, gapFrom);\n                if (r.to > gapTo)\n                    copy.splice(j + 1, 0, new Range(gapTo, r.to));\n            }\n            else if (r.to > gapTo) {\n                copy[j--] = new Range(gapTo, r.to);\n            }\n            else {\n                copy.splice(j--, 1);\n            }\n        }\n    }\n    return current;\n}\nfunction findCoverChanges(a, b, from, to) {\n    let iA = 0, iB = 0, inA = false, inB = false, pos = -1e9;\n    let result = [];\n    for (;;) {\n        let nextA = iA == a.length ? 1e9 : inA ? a[iA].to : a[iA].from;\n        let nextB = iB == b.length ? 1e9 : inB ? b[iB].to : b[iB].from;\n        if (inA != inB) {\n            let start = Math.max(pos, from), end = Math.min(nextA, nextB, to);\n            if (start < end)\n                result.push(new Range(start, end));\n        }\n        pos = Math.min(nextA, nextB);\n        if (pos == 1e9)\n            break;\n        if (nextA == pos) {\n            if (!inA)\n                inA = true;\n            else {\n                inA = false;\n                iA++;\n            }\n        }\n        if (nextB == pos) {\n            if (!inB)\n                inB = true;\n            else {\n                inB = false;\n                iB++;\n            }\n        }\n    }\n    return result;\n}\n// Given a number of fragments for the outer tree, and a set of ranges\n// to parse, find fragments for inner trees mounted around those\n// ranges, if any.\nfunction enterFragments(mounts, ranges) {\n    let result = [];\n    for (let { pos, mount, frag } of mounts) {\n        let startPos = pos + (mount.overlay ? mount.overlay[0].from : 0), endPos = startPos + mount.tree.length;\n        let from = Math.max(frag.from, startPos), to = Math.min(frag.to, endPos);\n        if (mount.overlay) {\n            let overlay = mount.overlay.map(r => new Range(r.from + pos, r.to + pos));\n            let changes = findCoverChanges(ranges, overlay, from, to);\n            for (let i = 0, pos = from;; i++) {\n                let last = i == changes.length, end = last ? to : changes[i].from;\n                if (end > pos)\n                    result.push(new TreeFragment(pos, end, mount.tree, -startPos, frag.from >= pos || frag.openStart, frag.to <= end || frag.openEnd));\n                if (last)\n                    break;\n                pos = changes[i].to;\n            }\n        }\n        else {\n            result.push(new TreeFragment(from, to, mount.tree, -startPos, frag.from >= startPos || frag.openStart, frag.to <= endPos || frag.openEnd));\n        }\n    }\n    return result;\n}\n\nexport { DefaultBufferLength, IterMode, MountedTree, NodeProp, NodeSet, NodeType, NodeWeakMap, Parser, Tree, TreeBuffer, TreeCursor, TreeFragment, parseMixed };\n","import { NodeProp } from '@lezer/common';\n\nlet nextTagID = 0;\n/**\nHighlighting tags are markers that denote a highlighting category.\nThey are [associated](#highlight.styleTags) with parts of a syntax\ntree by a language mode, and then mapped to an actual CSS style by\na [highlighter](#highlight.Highlighter).\n\nBecause syntax tree node types and highlight styles have to be\nable to talk the same language, CodeMirror uses a mostly _closed_\n[vocabulary](#highlight.tags) of syntax tags (as opposed to\ntraditional open string-based systems, which make it hard for\nhighlighting themes to cover all the tokens produced by the\nvarious languages).\n\nIt _is_ possible to [define](#highlight.Tag^define) your own\nhighlighting tags for system-internal use (where you control both\nthe language package and the highlighter), but such tags will not\nbe picked up by regular highlighters (though you can derive them\nfrom standard tags to allow highlighters to fall back to those).\n*/\nclass Tag {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The set of this tag and all its parent tags, starting with\n    this one itself and sorted in order of decreasing specificity.\n    */\n    set, \n    /**\n    The base unmodified tag that this one is based on, if it's\n    modified @internal\n    */\n    base, \n    /**\n    The modifiers applied to this.base @internal\n    */\n    modified) {\n        this.set = set;\n        this.base = base;\n        this.modified = modified;\n        /**\n        @internal\n        */\n        this.id = nextTagID++;\n    }\n    /**\n    Define a new tag. If `parent` is given, the tag is treated as a\n    sub-tag of that parent, and\n    [highlighters](#highlight.tagHighlighter) that don't mention\n    this tag will try to fall back to the parent tag (or grandparent\n    tag, etc).\n    */\n    static define(parent) {\n        if (parent === null || parent === void 0 ? void 0 : parent.base)\n            throw new Error(\"Can not derive from a modified tag\");\n        let tag = new Tag([], null, []);\n        tag.set.push(tag);\n        if (parent)\n            for (let t of parent.set)\n                tag.set.push(t);\n        return tag;\n    }\n    /**\n    Define a tag _modifier_, which is a function that, given a tag,\n    will return a tag that is a subtag of the original. Applying the\n    same modifier to a twice tag will return the same value (`m1(t1)\n    == m1(t1)`) and applying multiple modifiers will, regardless or\n    order, produce the same tag (`m1(m2(t1)) == m2(m1(t1))`).\n    \n    When multiple modifiers are applied to a given base tag, each\n    smaller set of modifiers is registered as a parent, so that for\n    example `m1(m2(m3(t1)))` is a subtype of `m1(m2(t1))`,\n    `m1(m3(t1)`, and so on.\n    */\n    static defineModifier() {\n        let mod = new Modifier;\n        return (tag) => {\n            if (tag.modified.indexOf(mod) > -1)\n                return tag;\n            return Modifier.get(tag.base || tag, tag.modified.concat(mod).sort((a, b) => a.id - b.id));\n        };\n    }\n}\nlet nextModifierID = 0;\nclass Modifier {\n    constructor() {\n        this.instances = [];\n        this.id = nextModifierID++;\n    }\n    static get(base, mods) {\n        if (!mods.length)\n            return base;\n        let exists = mods[0].instances.find(t => t.base == base && sameArray(mods, t.modified));\n        if (exists)\n            return exists;\n        let set = [], tag = new Tag(set, base, mods);\n        for (let m of mods)\n            m.instances.push(tag);\n        let configs = powerSet(mods);\n        for (let parent of base.set)\n            if (!parent.modified.length)\n                for (let config of configs)\n                    set.push(Modifier.get(parent, config));\n        return tag;\n    }\n}\nfunction sameArray(a, b) {\n    return a.length == b.length && a.every((x, i) => x == b[i]);\n}\nfunction powerSet(array) {\n    let sets = [[]];\n    for (let i = 0; i < array.length; i++) {\n        for (let j = 0, e = sets.length; j < e; j++) {\n            sets.push(sets[j].concat(array[i]));\n        }\n    }\n    return sets.sort((a, b) => b.length - a.length);\n}\n/**\nThis function is used to add a set of tags to a language syntax\nvia [`NodeSet.extend`](#common.NodeSet.extend) or\n[`LRParser.configure`](#lr.LRParser.configure).\n\nThe argument object maps node selectors to [highlighting\ntags](#highlight.Tag) or arrays of tags.\n\nNode selectors may hold one or more (space-separated) node paths.\nSuch a path can be a [node name](#common.NodeType.name), or\nmultiple node names (or `*` wildcards) separated by slash\ncharacters, as in `\"Block/Declaration/VariableName\"`. Such a path\nmatches the final node but only if its direct parent nodes are the\nother nodes mentioned. A `*` in such a path matches any parent,\nbut only a single level—wildcards that match multiple parents\naren't supported, both for efficiency reasons and because Lezer\ntrees make it rather hard to reason about what they would match.)\n\nA path can be ended with `/...` to indicate that the tag assigned\nto the node should also apply to all child nodes, even if they\nmatch their own style (by default, only the innermost style is\nused).\n\nWhen a path ends in `!`, as in `Attribute!`, no further matching\nhappens for the node's child nodes, and the entire node gets the\ngiven style.\n\nIn this notation, node names that contain `/`, `!`, `*`, or `...`\nmust be quoted as JSON strings.\n\nFor example:\n\n```javascript\nparser.withProps(\n  styleTags({\n    // Style Number and BigNumber nodes\n    \"Number BigNumber\": tags.number,\n    // Style Escape nodes whose parent is String\n    \"String/Escape\": tags.escape,\n    // Style anything inside Attributes nodes\n    \"Attributes!\": tags.meta,\n    // Add a style to all content inside Italic nodes\n    \"Italic/...\": tags.emphasis,\n    // Style InvalidString nodes as both `string` and `invalid`\n    \"InvalidString\": [tags.string, tags.invalid],\n    // Style the node named \"/\" as punctuation\n    '\"/\"': tags.punctuation\n  })\n)\n```\n*/\nfunction styleTags(spec) {\n    let byName = Object.create(null);\n    for (let prop in spec) {\n        let tags = spec[prop];\n        if (!Array.isArray(tags))\n            tags = [tags];\n        for (let part of prop.split(\" \"))\n            if (part) {\n                let pieces = [], mode = 2 /* Normal */, rest = part;\n                for (let pos = 0;;) {\n                    if (rest == \"...\" && pos > 0 && pos + 3 == part.length) {\n                        mode = 1 /* Inherit */;\n                        break;\n                    }\n                    let m = /^\"(?:[^\"\\\\]|\\\\.)*?\"|[^\\/!]+/.exec(rest);\n                    if (!m)\n                        throw new RangeError(\"Invalid path: \" + part);\n                    pieces.push(m[0] == \"*\" ? \"\" : m[0][0] == '\"' ? JSON.parse(m[0]) : m[0]);\n                    pos += m[0].length;\n                    if (pos == part.length)\n                        break;\n                    let next = part[pos++];\n                    if (pos == part.length && next == \"!\") {\n                        mode = 0 /* Opaque */;\n                        break;\n                    }\n                    if (next != \"/\")\n                        throw new RangeError(\"Invalid path: \" + part);\n                    rest = part.slice(pos);\n                }\n                let last = pieces.length - 1, inner = pieces[last];\n                if (!inner)\n                    throw new RangeError(\"Invalid path: \" + part);\n                let rule = new Rule(tags, mode, last > 0 ? pieces.slice(0, last) : null);\n                byName[inner] = rule.sort(byName[inner]);\n            }\n    }\n    return ruleNodeProp.add(byName);\n}\nconst ruleNodeProp = new NodeProp();\nclass Rule {\n    constructor(tags, mode, context, next) {\n        this.tags = tags;\n        this.mode = mode;\n        this.context = context;\n        this.next = next;\n    }\n    get opaque() { return this.mode == 0 /* Opaque */; }\n    get inherit() { return this.mode == 1 /* Inherit */; }\n    sort(other) {\n        if (!other || other.depth < this.depth) {\n            this.next = other;\n            return this;\n        }\n        other.next = this.sort(other.next);\n        return other;\n    }\n    get depth() { return this.context ? this.context.length : 0; }\n}\nRule.empty = new Rule([], 2 /* Normal */, null);\n/**\nDefine a [highlighter](#highlight.Highlighter) from an array of\ntag/class pairs. Classes associated with more specific tags will\ntake precedence.\n*/\nfunction tagHighlighter(tags, options) {\n    let map = Object.create(null);\n    for (let style of tags) {\n        if (!Array.isArray(style.tag))\n            map[style.tag.id] = style.class;\n        else\n            for (let tag of style.tag)\n                map[tag.id] = style.class;\n    }\n    let { scope, all = null } = options || {};\n    return {\n        style: (tags) => {\n            let cls = all;\n            for (let tag of tags) {\n                for (let sub of tag.set) {\n                    let tagClass = map[sub.id];\n                    if (tagClass) {\n                        cls = cls ? cls + \" \" + tagClass : tagClass;\n                        break;\n                    }\n                }\n            }\n            return cls;\n        },\n        scope\n    };\n}\nfunction highlightTags(highlighters, tags) {\n    let result = null;\n    for (let highlighter of highlighters) {\n        let value = highlighter.style(tags);\n        if (value)\n            result = result ? result + \" \" + value : value;\n    }\n    return result;\n}\n/**\nHighlight the given [tree](#common.Tree) with the given\n[highlighter](#highlight.Highlighter).\n*/\nfunction highlightTree(tree, highlighter, \n/**\nAssign styling to a region of the text. Will be called, in order\nof position, for any ranges where more than zero classes apply.\n`classes` is a space separated string of CSS classes.\n*/\nputStyle, \n/**\nThe start of the range to highlight.\n*/\nfrom = 0, \n/**\nThe end of the range.\n*/\nto = tree.length) {\n    let builder = new HighlightBuilder(from, Array.isArray(highlighter) ? highlighter : [highlighter], putStyle);\n    builder.highlightRange(tree.cursor(), from, to, \"\", builder.highlighters);\n    builder.flush(to);\n}\nclass HighlightBuilder {\n    constructor(at, highlighters, span) {\n        this.at = at;\n        this.highlighters = highlighters;\n        this.span = span;\n        this.class = \"\";\n    }\n    startSpan(at, cls) {\n        if (cls != this.class) {\n            this.flush(at);\n            if (at > this.at)\n                this.at = at;\n            this.class = cls;\n        }\n    }\n    flush(to) {\n        if (to > this.at && this.class)\n            this.span(this.at, to, this.class);\n    }\n    highlightRange(cursor, from, to, inheritedClass, highlighters) {\n        let { type, from: start, to: end } = cursor;\n        if (start >= to || end <= from)\n            return;\n        if (type.isTop)\n            highlighters = this.highlighters.filter(h => !h.scope || h.scope(type));\n        let cls = inheritedClass;\n        let rule = getStyleTags(cursor) || Rule.empty;\n        let tagCls = highlightTags(highlighters, rule.tags);\n        if (tagCls) {\n            if (cls)\n                cls += \" \";\n            cls += tagCls;\n            if (rule.mode == 1 /* Inherit */)\n                inheritedClass += (inheritedClass ? \" \" : \"\") + tagCls;\n        }\n        this.startSpan(Math.max(from, start), cls);\n        if (rule.opaque)\n            return;\n        let mounted = cursor.tree && cursor.tree.prop(NodeProp.mounted);\n        if (mounted && mounted.overlay) {\n            let inner = cursor.node.enter(mounted.overlay[0].from + start, 1);\n            let innerHighlighters = this.highlighters.filter(h => !h.scope || h.scope(mounted.tree.type));\n            let hasChild = cursor.firstChild();\n            for (let i = 0, pos = start;; i++) {\n                let next = i < mounted.overlay.length ? mounted.overlay[i] : null;\n                let nextPos = next ? next.from + start : end;\n                let rangeFrom = Math.max(from, pos), rangeTo = Math.min(to, nextPos);\n                if (rangeFrom < rangeTo && hasChild) {\n                    while (cursor.from < rangeTo) {\n                        this.highlightRange(cursor, rangeFrom, rangeTo, inheritedClass, highlighters);\n                        this.startSpan(Math.min(rangeTo, cursor.to), cls);\n                        if (cursor.to >= nextPos || !cursor.nextSibling())\n                            break;\n                    }\n                }\n                if (!next || nextPos > to)\n                    break;\n                pos = next.to + start;\n                if (pos > from) {\n                    this.highlightRange(inner.cursor(), Math.max(from, next.from + start), Math.min(to, pos), \"\", innerHighlighters);\n                    this.startSpan(Math.min(to, pos), cls);\n                }\n            }\n            if (hasChild)\n                cursor.parent();\n        }\n        else if (cursor.firstChild()) {\n            if (mounted)\n                inheritedClass = \"\";\n            do {\n                if (cursor.to <= from)\n                    continue;\n                if (cursor.from >= to)\n                    break;\n                this.highlightRange(cursor, from, to, inheritedClass, highlighters);\n                this.startSpan(Math.min(to, cursor.to), cls);\n            } while (cursor.nextSibling());\n            cursor.parent();\n        }\n    }\n}\n/**\nMatch a syntax node's [highlight rules](#highlight.styleTags). If\nthere's a match, return its set of tags, and whether it is\nopaque (uses a `!`) or applies to all child nodes (`/...`).\n*/\nfunction getStyleTags(node) {\n    let rule = node.type.prop(ruleNodeProp);\n    while (rule && rule.context && !node.matchContext(rule.context))\n        rule = rule.next;\n    return rule || null;\n}\nconst t = Tag.define;\nconst comment = t(), name = t(), typeName = t(name), propertyName = t(name), literal = t(), string = t(literal), number = t(literal), content = t(), heading = t(content), keyword = t(), operator = t(), punctuation = t(), bracket = t(punctuation), meta = t();\n/**\nThe default set of highlighting [tags](#highlight.Tag).\n\nThis collection is heavily biased towards programming languages,\nand necessarily incomplete. A full ontology of syntactic\nconstructs would fill a stack of books, and be impractical to\nwrite themes for. So try to make do with this set. If all else\nfails, [open an\nissue](https://github.com/codemirror/codemirror.next) to propose a\nnew tag, or [define](#highlight.Tag^define) a local custom tag for\nyour use case.\n\nNote that it is not obligatory to always attach the most specific\ntag possible to an element—if your grammar can't easily\ndistinguish a certain type of element (such as a local variable),\nit is okay to style it as its more general variant (a variable).\n\nFor tags that extend some parent tag, the documentation links to\nthe parent.\n*/\nconst tags = {\n    /**\n    A comment.\n    */\n    comment,\n    /**\n    A line [comment](#highlight.tags.comment).\n    */\n    lineComment: t(comment),\n    /**\n    A block [comment](#highlight.tags.comment).\n    */\n    blockComment: t(comment),\n    /**\n    A documentation [comment](#highlight.tags.comment).\n    */\n    docComment: t(comment),\n    /**\n    Any kind of identifier.\n    */\n    name,\n    /**\n    The [name](#highlight.tags.name) of a variable.\n    */\n    variableName: t(name),\n    /**\n    A type [name](#highlight.tags.name).\n    */\n    typeName: typeName,\n    /**\n    A tag name (subtag of [`typeName`](#highlight.tags.typeName)).\n    */\n    tagName: t(typeName),\n    /**\n    A property or field [name](#highlight.tags.name).\n    */\n    propertyName: propertyName,\n    /**\n    An attribute name (subtag of [`propertyName`](#highlight.tags.propertyName)).\n    */\n    attributeName: t(propertyName),\n    /**\n    The [name](#highlight.tags.name) of a class.\n    */\n    className: t(name),\n    /**\n    A label [name](#highlight.tags.name).\n    */\n    labelName: t(name),\n    /**\n    A namespace [name](#highlight.tags.name).\n    */\n    namespace: t(name),\n    /**\n    The [name](#highlight.tags.name) of a macro.\n    */\n    macroName: t(name),\n    /**\n    A literal value.\n    */\n    literal,\n    /**\n    A string [literal](#highlight.tags.literal).\n    */\n    string,\n    /**\n    A documentation [string](#highlight.tags.string).\n    */\n    docString: t(string),\n    /**\n    A character literal (subtag of [string](#highlight.tags.string)).\n    */\n    character: t(string),\n    /**\n    An attribute value (subtag of [string](#highlight.tags.string)).\n    */\n    attributeValue: t(string),\n    /**\n    A number [literal](#highlight.tags.literal).\n    */\n    number,\n    /**\n    An integer [number](#highlight.tags.number) literal.\n    */\n    integer: t(number),\n    /**\n    A floating-point [number](#highlight.tags.number) literal.\n    */\n    float: t(number),\n    /**\n    A boolean [literal](#highlight.tags.literal).\n    */\n    bool: t(literal),\n    /**\n    Regular expression [literal](#highlight.tags.literal).\n    */\n    regexp: t(literal),\n    /**\n    An escape [literal](#highlight.tags.literal), for example a\n    backslash escape in a string.\n    */\n    escape: t(literal),\n    /**\n    A color [literal](#highlight.tags.literal).\n    */\n    color: t(literal),\n    /**\n    A URL [literal](#highlight.tags.literal).\n    */\n    url: t(literal),\n    /**\n    A language keyword.\n    */\n    keyword,\n    /**\n    The [keyword](#highlight.tags.keyword) for the self or this\n    object.\n    */\n    self: t(keyword),\n    /**\n    The [keyword](#highlight.tags.keyword) for null.\n    */\n    null: t(keyword),\n    /**\n    A [keyword](#highlight.tags.keyword) denoting some atomic value.\n    */\n    atom: t(keyword),\n    /**\n    A [keyword](#highlight.tags.keyword) that represents a unit.\n    */\n    unit: t(keyword),\n    /**\n    A modifier [keyword](#highlight.tags.keyword).\n    */\n    modifier: t(keyword),\n    /**\n    A [keyword](#highlight.tags.keyword) that acts as an operator.\n    */\n    operatorKeyword: t(keyword),\n    /**\n    A control-flow related [keyword](#highlight.tags.keyword).\n    */\n    controlKeyword: t(keyword),\n    /**\n    A [keyword](#highlight.tags.keyword) that defines something.\n    */\n    definitionKeyword: t(keyword),\n    /**\n    A [keyword](#highlight.tags.keyword) related to defining or\n    interfacing with modules.\n    */\n    moduleKeyword: t(keyword),\n    /**\n    An operator.\n    */\n    operator,\n    /**\n    An [operator](#highlight.tags.operator) that dereferences something.\n    */\n    derefOperator: t(operator),\n    /**\n    Arithmetic-related [operator](#highlight.tags.operator).\n    */\n    arithmeticOperator: t(operator),\n    /**\n    Logical [operator](#highlight.tags.operator).\n    */\n    logicOperator: t(operator),\n    /**\n    Bit [operator](#highlight.tags.operator).\n    */\n    bitwiseOperator: t(operator),\n    /**\n    Comparison [operator](#highlight.tags.operator).\n    */\n    compareOperator: t(operator),\n    /**\n    [Operator](#highlight.tags.operator) that updates its operand.\n    */\n    updateOperator: t(operator),\n    /**\n    [Operator](#highlight.tags.operator) that defines something.\n    */\n    definitionOperator: t(operator),\n    /**\n    Type-related [operator](#highlight.tags.operator).\n    */\n    typeOperator: t(operator),\n    /**\n    Control-flow [operator](#highlight.tags.operator).\n    */\n    controlOperator: t(operator),\n    /**\n    Program or markup punctuation.\n    */\n    punctuation,\n    /**\n    [Punctuation](#highlight.tags.punctuation) that separates\n    things.\n    */\n    separator: t(punctuation),\n    /**\n    Bracket-style [punctuation](#highlight.tags.punctuation).\n    */\n    bracket,\n    /**\n    Angle [brackets](#highlight.tags.bracket) (usually `<` and `>`\n    tokens).\n    */\n    angleBracket: t(bracket),\n    /**\n    Square [brackets](#highlight.tags.bracket) (usually `[` and `]`\n    tokens).\n    */\n    squareBracket: t(bracket),\n    /**\n    Parentheses (usually `(` and `)` tokens). Subtag of\n    [bracket](#highlight.tags.bracket).\n    */\n    paren: t(bracket),\n    /**\n    Braces (usually `{` and `}` tokens). Subtag of\n    [bracket](#highlight.tags.bracket).\n    */\n    brace: t(bracket),\n    /**\n    Content, for example plain text in XML or markup documents.\n    */\n    content,\n    /**\n    [Content](#highlight.tags.content) that represents a heading.\n    */\n    heading,\n    /**\n    A level 1 [heading](#highlight.tags.heading).\n    */\n    heading1: t(heading),\n    /**\n    A level 2 [heading](#highlight.tags.heading).\n    */\n    heading2: t(heading),\n    /**\n    A level 3 [heading](#highlight.tags.heading).\n    */\n    heading3: t(heading),\n    /**\n    A level 4 [heading](#highlight.tags.heading).\n    */\n    heading4: t(heading),\n    /**\n    A level 5 [heading](#highlight.tags.heading).\n    */\n    heading5: t(heading),\n    /**\n    A level 6 [heading](#highlight.tags.heading).\n    */\n    heading6: t(heading),\n    /**\n    A prose separator (such as a horizontal rule).\n    */\n    contentSeparator: t(content),\n    /**\n    [Content](#highlight.tags.content) that represents a list.\n    */\n    list: t(content),\n    /**\n    [Content](#highlight.tags.content) that represents a quote.\n    */\n    quote: t(content),\n    /**\n    [Content](#highlight.tags.content) that is emphasized.\n    */\n    emphasis: t(content),\n    /**\n    [Content](#highlight.tags.content) that is styled strong.\n    */\n    strong: t(content),\n    /**\n    [Content](#highlight.tags.content) that is part of a link.\n    */\n    link: t(content),\n    /**\n    [Content](#highlight.tags.content) that is styled as code or\n    monospace.\n    */\n    monospace: t(content),\n    /**\n    [Content](#highlight.tags.content) that has a strike-through\n    style.\n    */\n    strikethrough: t(content),\n    /**\n    Inserted text in a change-tracking format.\n    */\n    inserted: t(),\n    /**\n    Deleted text.\n    */\n    deleted: t(),\n    /**\n    Changed text.\n    */\n    changed: t(),\n    /**\n    An invalid or unsyntactic element.\n    */\n    invalid: t(),\n    /**\n    Metadata or meta-instruction.\n    */\n    meta,\n    /**\n    [Metadata](#highlight.tags.meta) that applies to the entire\n    document.\n    */\n    documentMeta: t(meta),\n    /**\n    [Metadata](#highlight.tags.meta) that annotates or adds\n    attributes to a given syntactic element.\n    */\n    annotation: t(meta),\n    /**\n    Processing instruction or preprocessor directive. Subtag of\n    [meta](#highlight.tags.meta).\n    */\n    processingInstruction: t(meta),\n    /**\n    [Modifier](#highlight.Tag^defineModifier) that indicates that a\n    given element is being defined. Expected to be used with the\n    various [name](#highlight.tags.name) tags.\n    */\n    definition: Tag.defineModifier(),\n    /**\n    [Modifier](#highlight.Tag^defineModifier) that indicates that\n    something is constant. Mostly expected to be used with\n    [variable names](#highlight.tags.variableName).\n    */\n    constant: Tag.defineModifier(),\n    /**\n    [Modifier](#highlight.Tag^defineModifier) used to indicate that\n    a [variable](#highlight.tags.variableName) or [property\n    name](#highlight.tags.propertyName) is being called or defined\n    as a function.\n    */\n    function: Tag.defineModifier(),\n    /**\n    [Modifier](#highlight.Tag^defineModifier) that can be applied to\n    [names](#highlight.tags.name) to indicate that they belong to\n    the language's standard environment.\n    */\n    standard: Tag.defineModifier(),\n    /**\n    [Modifier](#highlight.Tag^defineModifier) that indicates a given\n    [names](#highlight.tags.name) is local to some scope.\n    */\n    local: Tag.defineModifier(),\n    /**\n    A generic variant [modifier](#highlight.Tag^defineModifier) that\n    can be used to tag language-specific alternative variants of\n    some common tag. It is recommended for themes to define special\n    forms of at least the [string](#highlight.tags.string) and\n    [variable name](#highlight.tags.variableName) tags, since those\n    come up a lot.\n    */\n    special: Tag.defineModifier()\n};\n/**\nThis is a highlighter that adds stable, predictable classes to\ntokens, for styling with external CSS.\n\nThe following tags are mapped to their name prefixed with `\"tok-\"`\n(for example `\"tok-comment\"`):\n\n* [`link`](#highlight.tags.link)\n* [`heading`](#highlight.tags.heading)\n* [`emphasis`](#highlight.tags.emphasis)\n* [`strong`](#highlight.tags.strong)\n* [`keyword`](#highlight.tags.keyword)\n* [`atom`](#highlight.tags.atom)\n* [`bool`](#highlight.tags.bool)\n* [`url`](#highlight.tags.url)\n* [`labelName`](#highlight.tags.labelName)\n* [`inserted`](#highlight.tags.inserted)\n* [`deleted`](#highlight.tags.deleted)\n* [`literal`](#highlight.tags.literal)\n* [`string`](#highlight.tags.string)\n* [`number`](#highlight.tags.number)\n* [`variableName`](#highlight.tags.variableName)\n* [`typeName`](#highlight.tags.typeName)\n* [`namespace`](#highlight.tags.namespace)\n* [`className`](#highlight.tags.className)\n* [`macroName`](#highlight.tags.macroName)\n* [`propertyName`](#highlight.tags.propertyName)\n* [`operator`](#highlight.tags.operator)\n* [`comment`](#highlight.tags.comment)\n* [`meta`](#highlight.tags.meta)\n* [`punctuation`](#highlight.tags.punctuation)\n* [`invalid`](#highlight.tags.invalid)\n\nIn addition, these mappings are provided:\n\n* [`regexp`](#highlight.tags.regexp),\n  [`escape`](#highlight.tags.escape), and\n  [`special`](#highlight.tags.special)[`(string)`](#highlight.tags.string)\n  are mapped to `\"tok-string2\"`\n* [`special`](#highlight.tags.special)[`(variableName)`](#highlight.tags.variableName)\n  to `\"tok-variableName2\"`\n* [`local`](#highlight.tags.local)[`(variableName)`](#highlight.tags.variableName)\n  to `\"tok-variableName tok-local\"`\n* [`definition`](#highlight.tags.definition)[`(variableName)`](#highlight.tags.variableName)\n  to `\"tok-variableName tok-definition\"`\n* [`definition`](#highlight.tags.definition)[`(propertyName)`](#highlight.tags.propertyName)\n  to `\"tok-propertyName tok-definition\"`\n*/\nconst classHighlighter = tagHighlighter([\n    { tag: tags.link, class: \"tok-link\" },\n    { tag: tags.heading, class: \"tok-heading\" },\n    { tag: tags.emphasis, class: \"tok-emphasis\" },\n    { tag: tags.strong, class: \"tok-strong\" },\n    { tag: tags.keyword, class: \"tok-keyword\" },\n    { tag: tags.atom, class: \"tok-atom\" },\n    { tag: tags.bool, class: \"tok-bool\" },\n    { tag: tags.url, class: \"tok-url\" },\n    { tag: tags.labelName, class: \"tok-labelName\" },\n    { tag: tags.inserted, class: \"tok-inserted\" },\n    { tag: tags.deleted, class: \"tok-deleted\" },\n    { tag: tags.literal, class: \"tok-literal\" },\n    { tag: tags.string, class: \"tok-string\" },\n    { tag: tags.number, class: \"tok-number\" },\n    { tag: [tags.regexp, tags.escape, tags.special(tags.string)], class: \"tok-string2\" },\n    { tag: tags.variableName, class: \"tok-variableName\" },\n    { tag: tags.local(tags.variableName), class: \"tok-variableName tok-local\" },\n    { tag: tags.definition(tags.variableName), class: \"tok-variableName tok-definition\" },\n    { tag: tags.special(tags.variableName), class: \"tok-variableName2\" },\n    { tag: tags.definition(tags.propertyName), class: \"tok-propertyName tok-definition\" },\n    { tag: tags.typeName, class: \"tok-typeName\" },\n    { tag: tags.namespace, class: \"tok-namespace\" },\n    { tag: tags.className, class: \"tok-className\" },\n    { tag: tags.macroName, class: \"tok-macroName\" },\n    { tag: tags.propertyName, class: \"tok-propertyName\" },\n    { tag: tags.operator, class: \"tok-operator\" },\n    { tag: tags.comment, class: \"tok-comment\" },\n    { tag: tags.meta, class: \"tok-meta\" },\n    { tag: tags.invalid, class: \"tok-invalid\" },\n    { tag: tags.punctuation, class: \"tok-punctuation\" }\n]);\n\nexport { Tag, classHighlighter, getStyleTags, highlightTree, styleTags, tagHighlighter, tags };\n","import { ContextTracker, ExternalTokenizer, LRParser, LocalTokenGroup } from '@lezer/lr';\nimport { styleTags, tags } from '@lezer/highlight';\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst noSemi = 304,\n  incdec = 1,\n  incdecPrefix = 2,\n  insertSemi = 305,\n  spaces = 307,\n  newline = 308,\n  LineComment = 3,\n  BlockComment = 4;\n\n/* Hand-written tokenizers for JavaScript tokens that can't be\n   expressed by lezer's built-in tokenizer. */\n\nconst space = [9, 10, 11, 12, 13, 32, 133, 160, 5760, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8199, 8200,\n               8201, 8202, 8232, 8233, 8239, 8287, 12288];\n\nconst braceR = 125, semicolon = 59, slash = 47, star = 42, plus = 43, minus = 45;\n\nconst trackNewline = new ContextTracker({\n  start: false,\n  shift(context, term) {\n    return term == LineComment || term == BlockComment || term == spaces ? context : term == newline\n  },\n  strict: false\n});\n\nconst insertSemicolon = new ExternalTokenizer((input, stack) => {\n  let {next} = input;\n  if (next == braceR || next == -1 || stack.context)\n    input.acceptToken(insertSemi);\n}, {contextual: true, fallback: true});\n\nconst noSemicolon = new ExternalTokenizer((input, stack) => {\n  let {next} = input, after;\n  if (space.indexOf(next) > -1) return\n  if (next == slash && ((after = input.peek(1)) == slash || after == star)) return\n  if (next != braceR && next != semicolon && next != -1 && !stack.context)\n    input.acceptToken(noSemi);\n}, {contextual: true});\n\nconst incdecToken = new ExternalTokenizer((input, stack) => {\n  let {next} = input;\n  if (next == plus || next == minus) {\n    input.advance();\n    if (next == input.next) {\n      input.advance();\n      let mayPostfix = !stack.context && stack.canShift(incdec);\n      input.acceptToken(mayPostfix ? incdec : incdecPrefix);\n    }\n  }\n}, {contextual: true});\n\nconst jsHighlight = styleTags({\n  \"get set async static\": tags.modifier,\n  \"for while do if else switch try catch finally return throw break continue default case\": tags.controlKeyword,\n  \"in of await yield void typeof delete instanceof\": tags.operatorKeyword,\n  \"let var const using function class extends\": tags.definitionKeyword,\n  \"import export from\": tags.moduleKeyword,\n  \"with debugger as new\": tags.keyword,\n  TemplateString: tags.special(tags.string),\n  super: tags.atom,\n  BooleanLiteral: tags.bool,\n  this: tags.self,\n  null: tags.null,\n  Star: tags.modifier,\n  VariableName: tags.variableName,\n  \"CallExpression/VariableName TaggedTemplateExpression/VariableName\": tags.function(tags.variableName),\n  VariableDefinition: tags.definition(tags.variableName),\n  Label: tags.labelName,\n  PropertyName: tags.propertyName,\n  PrivatePropertyName: tags.special(tags.propertyName),\n  \"CallExpression/MemberExpression/PropertyName\": tags.function(tags.propertyName),\n  \"FunctionDeclaration/VariableDefinition\": tags.function(tags.definition(tags.variableName)),\n  \"ClassDeclaration/VariableDefinition\": tags.definition(tags.className),\n  PropertyDefinition: tags.definition(tags.propertyName),\n  PrivatePropertyDefinition: tags.definition(tags.special(tags.propertyName)),\n  UpdateOp: tags.updateOperator,\n  \"LineComment Hashbang\": tags.lineComment,\n  BlockComment: tags.blockComment,\n  Number: tags.number,\n  String: tags.string,\n  Escape: tags.escape,\n  ArithOp: tags.arithmeticOperator,\n  LogicOp: tags.logicOperator,\n  BitOp: tags.bitwiseOperator,\n  CompareOp: tags.compareOperator,\n  RegExp: tags.regexp,\n  Equals: tags.definitionOperator,\n  Arrow: tags.function(tags.punctuation),\n  \": Spread\": tags.punctuation,\n  \"( )\": tags.paren,\n  \"[ ]\": tags.squareBracket,\n  \"{ }\": tags.brace,\n  \"InterpolationStart InterpolationEnd\": tags.special(tags.brace),\n  \".\": tags.derefOperator,\n  \", ;\": tags.separator,\n  \"@\": tags.meta,\n\n  TypeName: tags.typeName,\n  TypeDefinition: tags.definition(tags.typeName),\n  \"type enum interface implements namespace module declare\": tags.definitionKeyword,\n  \"abstract global Privacy readonly override\": tags.modifier,\n  \"is keyof unique infer\": tags.operatorKeyword,\n\n  JSXAttributeValue: tags.attributeValue,\n  JSXText: tags.content,\n  \"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag\": tags.angleBracket,\n  \"JSXIdentifier JSXNameSpacedName\": tags.tagName,\n  \"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName\": tags.attributeName,\n  \"JSXBuiltin/JSXIdentifier\": tags.standard(tags.tagName)\n});\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst spec_identifier = {__proto__:null,export:16, as:21, from:29, default:32, async:37, function:38, extends:48, this:52, true:60, false:60, null:72, void:76, typeof:80, super:98, new:132, delete:148, yield:157, await:161, class:166, public:223, private:223, protected:223, readonly:225, instanceof:244, satisfies:247, in:248, const:250, import:282, keyof:337, unique:341, infer:347, is:383, abstract:403, implements:405, type:407, let:410, var:412, using:415, interface:421, enum:425, namespace:431, module:433, declare:437, global:441, for:460, of:469, while:472, with:476, do:480, if:484, else:486, switch:490, case:496, try:502, catch:506, finally:510, return:514, throw:518, break:522, continue:526, debugger:530};\nconst spec_word = {__proto__:null,async:119, get:121, set:123, declare:183, public:185, private:185, protected:185, static:187, abstract:189, override:191, readonly:197, accessor:199, new:387};\nconst spec_LessThan = {__proto__:null,\"<\":139};\nconst parser = LRParser.deserialize({\n  version: 14,\n  states: \"$6zO%TQUOOO%[QUOOO'_QWOOP(lOSOOO*zQ(CjO'#CgO+ROpO'#ChO+aO!bO'#ChO+oO07`O'#D[O.QQUO'#DbO.bQUO'#DmO%[QUO'#DwO0fQUO'#EPOOQ(CY'#EX'#EXO1PQSO'#EUOOQO'#Ej'#EjOOQO'#Id'#IdO1XQSO'#GlO1dQSO'#EiO1iQSO'#EiO3kQ(CjO'#JeO6[Q(CjO'#JfO6xQSO'#FXO6}Q#tO'#FpOOQ(CY'#Fa'#FaO7YO&jO'#FaO7hQ,UO'#FwO9OQSO'#FvOOQ(CY'#Jf'#JfOOQ(CW'#Je'#JeO9TQSO'#GpOOQQ'#KQ'#KQO9`QSO'#IQO9eQ(C[O'#IROOQQ'#JR'#JROOQQ'#IV'#IVQ`QUOOO`QUOOO%[QUO'#DoO9mQUO'#D{O9tQUO'#D}O9ZQSO'#GlO9{Q,UO'#CmO:ZQSO'#EhO:fQSO'#EsO:kQ,UO'#F`O;YQSO'#GlOOQO'#KR'#KRO;_QSO'#KRO;mQSO'#GtO;mQSO'#GuO;mQSO'#GwO9ZQSO'#GzO<dQSO'#G}O={QSO'#CcO>]QSO'#HZO>eQSO'#HaO>eQSO'#HcO`QUO'#HeO>eQSO'#HgO>eQSO'#HjO>jQSO'#HpO>oQ(C]O'#HvO%[QUO'#HxO>zQ(C]O'#HzO?VQ(C]O'#H|O9eQ(C[O'#IOO?bQ(CjO'#CgO@dQWO'#DgQOQSOOO%[QUO'#D}O@zQSO'#EQO9{Q,UO'#EhOAVQSO'#EhOAbQ`O'#F`OOQQ'#Ce'#CeOOQ(CW'#Dl'#DlOOQ(CW'#Ji'#JiO%[QUO'#JiOOQO'#Jm'#JmOOQO'#Ia'#IaOBbQWO'#EaOOQ(CW'#E`'#E`OC^Q(C`O'#EaOChQWO'#ETOOQO'#Jl'#JlOC|QWO'#JmOEZQWO'#ETOChQWO'#EaPEhO?MpO'#C`POOO)CDp)CDpOOOO'#IW'#IWOEsOpO,59SOOQ(CY,59S,59SOOOO'#IX'#IXOFRO!bO,59SO%[QUO'#D^OOOO'#IZ'#IZOFaO07`O,59vOOQ(CY,59v,59vOFoQUO'#I[OGSQSO'#JgOIUQbO'#JgO+}QUO'#JgOI]QSO,59|OIsQSO'#EjOJQQSO'#JuOJ]QSO'#JtOJ]QSO'#JtOJeQSO,5;WOJjQSO'#JsOOQ(CY,5:X,5:XOJqQUO,5:XOLrQ(CjO,5:cOMcQSO,5:kOM|Q(C[O'#JrONTQSO'#JqO9TQSO'#JqONiQSO'#JqONqQSO,5;VONvQSO'#JqO!#OQbO'#JfOOQ(CY'#Cg'#CgO%[QUO'#EPO!#nQ`O,5:pOOQO'#Jn'#JnOOQO-E<b-E<bO9ZQSO,5=WO!$UQSO,5=WO!$ZQUO,5;TO!&^Q,UO'#EeO!'qQSO,5;TO!)ZQ,UO'#DqO!)bQUO'#DvO!)lQWO,5;^O!)tQWO,5;^O%[QUO,5;^OOQQ'#FP'#FPOOQQ'#FR'#FRO%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_O%[QUO,5;_OOQQ'#FV'#FVO!*SQUO,5;pOOQ(CY,5;u,5;uOOQ(CY,5;v,5;vO!,VQSO,5;vOOQ(CY,5;w,5;wO%[QUO'#IhO!,_Q(C[O,5<dO!&^Q,UO,5;_O!,|Q,UO,5;_O%[QUO,5;sO!-TQ#tO'#FfO!.QQ#tO'#JyO!-lQ#tO'#JyO!.XQ#tO'#JyOOQO'#Jy'#JyO!.mQ#tO,5<OOOOO,5<[,5<[O!/OQUO'#FrOOOO'#Ig'#IgO7YO&jO,5;{O!/VQ#tO'#FtOOQ(CY,5;{,5;{O!/vQ7[O'#CsOOQ(CY'#Cw'#CwO!0ZQSO'#CwO!0`O07`O'#C{O!0|Q,UO,5<aO!1TQSO,5<cO!2jQMhO'#GRO!2wQSO'#GSO!2|QSO'#GSO!3RQMhO'#GWO!4QQWO'#G[O!4sQ7[O'#J`OOQ(CY'#J`'#J`O!4}QSO'#J_O!5]QSO'#J^O!5eQSO'#CrOOQ(CY'#Cu'#CuOOQ(CY'#DP'#DPOOQ(CY'#DR'#DRO1SQSO'#DTO!'vQ,UO'#FyO!'vQ,UO'#F{O!5mQSO'#F}O!5rQSO'#GOO!2|QSO'#GUO!'vQ,UO'#GZO!5wQSO'#EkO!6fQSO,5<bOOQ(CW'#Cp'#CpO!6nQSO'#ElO!7hQWO'#EmOOQ(CW'#Js'#JsO!7oQ(C[O'#KSO9eQ(C[O,5=[O`QUO,5>lOOQQ'#JZ'#JZOOQQ,5>m,5>mOOQQ-E<T-E<TO!9qQ(CjO,5:ZO!<_Q(CjO,5:gO%[QUO,5:gO!>xQ(CjO,5:iOOQO,5@m,5@mO!?iQ,UO,5=WO!?wQ(C[O'#J[O9OQSO'#J[O!@YQ(C[O,59XO!@eQWO,59XO!@mQ,UO,59XO9{Q,UO,59XO!@xQSO,5;TO!AQQSO'#HYO!AcQSO'#KVO%[QUO,5;xO!7cQWO,5;zO!AkQSO,5=sO!ApQSO,5=sO!AuQSO,5=sO9eQ(C[O,5=sO;mQSO,5=cOOQO'#Cs'#CsO!BTQWO,5=`O!B]Q,UO,5=aO!BhQSO,5=cO!BmQ`O,5=fO!BuQSO'#KRO>jQSO'#HPO9ZQSO'#HRO!BzQSO'#HRO9{Q,UO'#HTO!CPQSO'#HTOOQQ,5=i,5=iO!CUQSO'#HUO!C^QSO'#CmO!CcQSO,58}O!CmQSO,58}O!ErQUO,58}OOQQ,58},58}O!FSQ(C[O,58}O%[QUO,58}O!H_QUO'#H]OOQQ'#H^'#H^OOQQ'#H_'#H_O`QUO,5=uO!HuQSO,5=uO`QUO,5={O`QUO,5=}O!HzQSO,5>PO`QUO,5>RO!IPQSO,5>UO!IUQUO,5>[OOQQ,5>b,5>bO%[QUO,5>bO9eQ(C[O,5>dOOQQ,5>f,5>fO!M`QSO,5>fOOQQ,5>h,5>hO!M`QSO,5>hOOQQ,5>j,5>jO!MeQWO'#DYO%[QUO'#JiO!NSQWO'#JiO!NqQWO'#DhO# SQWO'#DhO##eQUO'#DhO##lQSO'#JhO##tQSO,5:RO##yQSO'#EnO#$XQSO'#JvO#$aQSO,5;XO#$fQWO'#DhO#$sQWO'#ESOOQ(CY,5:l,5:lO%[QUO,5:lO#$zQSO,5:lO>jQSO,5;SO!@eQWO,5;SO!@mQ,UO,5;SO9{Q,UO,5;SO#%SQSO,5@TO#%XQ!LQO,5:pOOQO-E<_-E<_O#&_Q(C`O,5:{OChQWO,5:oO#&iQWO,5:oOChQWO,5:{O!@YQ(C[O,5:oOOQ(CW'#Ed'#EdOOQO,5:{,5:{O%[QUO,5:{O#&vQ(C[O,5:{O#'RQ(C[O,5:{O!@eQWO,5:oOOQO,5;R,5;RO#'aQ(C[O,5:{POOO'#IU'#IUP#'uO?MpO,58zPOOO,58z,58zOOOO-E<U-E<UOOQ(CY1G.n1G.nOOOO-E<V-E<VO#(QQ`O,59xOOOO-E<X-E<XOOQ(CY1G/b1G/bO#(VQbO,5>vO+}QUO,5>vOOQO,5>|,5>|O#(aQUO'#I[OOQO-E<Y-E<YO#(nQSO,5@RO#(vQbO,5@RO#(}QSO,5@`OOQ(CY1G/h1G/hO%[QUO,5@aO#)VQSO'#IbOOQO-E<`-E<`O#(}QSO,5@`OOQ(CW1G0r1G0rOOQ(CY1G/s1G/sOOQ(CY1G0V1G0VO%[QUO,5@^O#)kQ(C[O,5@^O#)|Q(C[O,5@^O#*TQSO,5@]O9TQSO,5@]O#*]QSO,5@]O#*kQSO'#IeO#*TQSO,5@]OOQ(CW1G0q1G0qO!)lQWO,5:rO!)wQWO,5:rOOQO,5:t,5:tO#+]QSO,5:tO#+eQ,UO1G2rO9ZQSO1G2rOOQ(CY1G0o1G0oO#+sQ(CjO1G0oO#,xQ(ChO,5;POOQ(CY'#GQ'#GQO#-fQ(CjO'#J`O!$ZQUO1G0oO#/nQ,UO'#JjO#/xQSO,5:]O#/}QbO'#JkO%[QUO'#JkO#0XQSO,5:bOOQ(CY'#DY'#DYOOQ(CY1G0x1G0xO%[QUO1G0xOOQ(CY1G1b1G1bO#0^QSO1G0xO#2uQ(CjO1G0yO#2|Q(CjO1G0yO#5gQ(CjO1G0yO#5nQ(CjO1G0yO#7xQ(CjO1G0yO#8`Q(CjO1G0yO#;YQ(CjO1G0yO#;aQ(CjO1G0yO#=zQ(CjO1G0yO#>RQ(CjO1G0yO#?yQ(CjO1G0yO#ByQ$IUO'#CgO#DwQ$IUO1G1[O#EOQ$IUO'#JfO!,YQSO1G1bO#E`Q(CjO,5?SOOQ(CW-E<f-E<fO#FSQ(CjO1G0yOOQ(CY1G0y1G0yO#H_Q(CjO1G1_O#IRQ#tO,5<SO#IZQ#tO,5<TO#IcQ#tO'#FkO#IzQSO'#FjOOQO'#Jz'#JzOOQO'#If'#IfO#JPQ#tO1G1jOOQ(CY1G1j1G1jOOOO1G1u1G1uO#JbQ$IUO'#JeO#JlQSO,5<^O!*SQUO,5<^OOOO-E<e-E<eOOQ(CY1G1g1G1gO#JqQWO'#JyOOQ(CY,5<`,5<`O#JyQWO,5<`OOQ(CY,59c,59cO!&^Q,UO'#C}OOOO'#IY'#IYO#KOO07`O,59gOOQ(CY,59g,59gO%[QUO1G1{O!5rQSO'#IjO#KZQ,UO,5<tOOQ(CY,5<q,5<qOOQO'#Gg'#GgO!'vQ,UO,5=QOOQO'#Gi'#GiO!'vQ,UO,5=SO!&^Q,UO,5=UOOQO1G1}1G1}O#KbQ`O'#CpO#KuQ`O,5<mO#K|QSO'#J}O9ZQSO'#J}O#L[QSO,5<oO!'vQ,UO,5<nO#LaQSO'#GTO#LlQSO,5<nO#LqQ`O'#GQO#MOQ`O'#KOO#MYQSO'#KOO!&^Q,UO'#KOO#M_QSO,5<rO#MdQWO'#G]O!3{QWO'#G]O#MuQSO'#G_O#MzQSO'#GaO!2|QSO'#GdO#NPQ(C[O'#IlO#N[QWO,5<vOOQ(CY,5<v,5<vO#NcQWO'#G]O#NqQWO'#G^O#NyQWO'#G^OOQ(CY,5=V,5=VO!'vQ,UO,5?yO!'vQ,UO,5?yO$ OQSO'#ImO$ ZQSO,5?xO$ cQSO,59^O$!SQ,UO,59oOOQ(CY,59o,59oO$!uQ,UO,5<eO$#hQ,UO,5<gO@[QSO,5<iOOQ(CY,5<j,5<jO$#rQSO,5<pO$#wQ,UO,5<uO$$XQSO'#JqO!$ZQUO1G1|O$$^QSO1G1|O9TQSO'#JtO9TQSO'#EnO%[QUO'#EnO9TQSO'#IoO$$cQ(C[O,5@nOOQQ1G2v1G2vOOQQ1G4W1G4WOOQ(CY1G/u1G/uO!,VQSO1G/uO$&hQ(CjO1G0ROOQQ1G2r1G2rO!&^Q,UO1G2rO%[QUO1G2rO$'XQSO1G2rO$'dQ,UO'#EeOOQ(CW,5?v,5?vO$'nQ(C[O,5?vOOQQ1G.s1G.sO!@YQ(C[O1G.sO!@eQWO1G.sO!@mQ,UO1G.sO$(PQSO1G0oO$(UQSO'#CgO$(aQSO'#KWO$(iQSO,5=tO$(nQSO'#KWO$(sQSO'#KWO$)OQSO'#IuO$)^QSO,5@qO$)fQbO1G1dOOQ(CY1G1f1G1fO9ZQSO1G3_O@[QSO1G3_O$)mQSO1G3_O$)rQSO1G3_OOQQ1G3_1G3_O!BhQSO1G2}O!&^Q,UO1G2zO$)wQSO1G2zOOQQ1G2{1G2{O!&^Q,UO1G2{O$)|QSO1G2{O$*UQWO'#GyOOQQ1G2}1G2}O!3{QWO'#IqO!BmQ`O1G3QOOQQ1G3Q1G3QOOQQ,5=k,5=kO$*^Q,UO,5=mO9ZQSO,5=mO#MzQSO,5=oO9OQSO,5=oO!@eQWO,5=oO!@mQ,UO,5=oO9{Q,UO,5=oO$*lQSO'#KUO$*wQSO,5=pOOQQ1G.i1G.iO$*|Q(C[O1G.iO@[QSO1G.iO$+XQSO1G.iO9eQ(C[O1G.iO$-^QbO,5@sO$-nQSO,5@sO9TQSO,5@sO$-yQUO,5=wO$.QQSO,5=wOOQQ1G3a1G3aO`QUO1G3aOOQQ1G3g1G3gOOQQ1G3i1G3iO>eQSO1G3kO$.VQUO1G3mO$2ZQUO'#HlOOQQ1G3p1G3pO$2hQSO'#HrO>jQSO'#HtOOQQ1G3v1G3vO$2pQUO1G3vO9eQ(C[O1G3|OOQQ1G4O1G4OOOQ(CW'#GX'#GXO9eQ(C[O1G4QO9eQ(C[O1G4SO$6wQSO,5@TO!*SQUO,5;YO9TQSO,5;YO>jQSO,5:SO!*SQUO,5:SO!@eQWO,5:SO$6|Q$IUO,5:SOOQO,5;Y,5;YO$7WQWO'#I]O$7nQSO,5@SOOQ(CY1G/m1G/mO$7vQWO'#IcO$8QQSO,5@bOOQ(CW1G0s1G0sO# SQWO,5:SOOQO'#I`'#I`O$8YQWO,5:nOOQ(CY,5:n,5:nO#$}QSO1G0WOOQ(CY1G0W1G0WO%[QUO1G0WOOQ(CY1G0n1G0nO>jQSO1G0nO!@eQWO1G0nO!@mQ,UO1G0nOOQ(CW1G5o1G5oO!@YQ(C[O1G0ZOOQO1G0g1G0gO%[QUO1G0gO$8aQ(C[O1G0gO$8lQ(C[O1G0gO!@eQWO1G0ZOChQWO1G0ZO$8zQ(C[O1G0gOOQO1G0Z1G0ZO$9`Q(CjO1G0gPOOO-E<S-E<SPOOO1G.f1G.fOOOO1G/d1G/dO$9jQ`O,5<dO$9rQbO1G4bOOQO1G4h1G4hO%[QUO,5>vO$9|QSO1G5mO$:UQSO1G5zO$:^QbO1G5{O9TQSO,5>|O$:hQ(CjO1G5xO%[QUO1G5xO$:xQ(C[O1G5xO$;ZQSO1G5wO$;ZQSO1G5wO9TQSO1G5wO$;cQSO,5?PO9TQSO,5?POOQO,5?P,5?PO$;wQSO,5?PO$$XQSO,5?POOQO-E<c-E<cOOQO1G0^1G0^OOQO1G0`1G0`O!,YQSO1G0`OOQQ7+(^7+(^O!&^Q,UO7+(^O%[QUO7+(^O$<VQSO7+(^O$<bQ,UO7+(^O$<pQ(CjO,59oO$>xQ(CjO,5<eO$ATQ(CjO,5<gO$C`Q(CjO,5<uOOQ(CY7+&Z7+&ZO$EqQ(CjO7+&ZO$FeQ,UO'#I^O$FoQSO,5@UOOQ(CY1G/w1G/wO$FwQUO'#I_O$GUQSO,5@VO$G^QbO,5@VOOQ(CY1G/|1G/|O$GhQSO7+&dOOQ(CY7+&d7+&dO$GmQ$IUO,5:cO%[QUO7+&vO$GwQ$IUO,5:ZO$HUQ$IUO,5:gO$H`Q$IUO,5:iOOQ(CY7+&|7+&|OOQO1G1n1G1nOOQO1G1o1G1oO$HjQ#tO,5<VO!*SQUO,5<UOOQO-E<d-E<dOOQ(CY7+'U7+'UOOOO7+'a7+'aOOOO1G1x1G1xO$HuQSO1G1xOOQ(CY1G1z1G1zO$HzQ`O,59iOOOO-E<W-E<WOOQ(CY1G/R1G/RO$IRQ(CjO7+'gOOQ(CY,5?U,5?UO$IuQ`O,5?UOOQ(CY1G2`1G2`P!&^Q,UO'#IjPOQ(CY-E<h-E<hO$JeQ,UO1G2lO$KWQ,UO1G2nO$KbQ`O1G2pOOQ(CY1G2X1G2XO$KiQSO'#IiO$KwQSO,5@iO$KwQSO,5@iO$LPQSO,5@iO$L[QSO,5@iOOQO1G2Z1G2ZO$LjQ,UO1G2YO!'vQ,UO1G2YO$LzQMhO'#IkO$M[QSO,5@jO!&^Q,UO,5@jO$MdQ`O,5@jOOQ(CY1G2^1G2^OOQ(CW,5<w,5<wOOQ(CW,5<x,5<xO$$XQSO,5<xOCXQSO,5<xO!@eQWO,5<wOOQO'#G`'#G`O$MnQSO,5<yOOQ(CW,5<{,5<{O$$XQSO,5=OOOQO,5?W,5?WOOQO-E<j-E<jOOQ(CY1G2b1G2bO!3{QWO,5<wO$MvQSO,5<xO#MuQSO,5<yO!3{QWO,5<xO$NRQ,UO1G5eO$N]Q,UO1G5eOOQO,5?X,5?XOOQO-E<k-E<kOOQO1G.x1G.xO!7cQWO,59qO%[QUO,59qO$NjQSO1G2TO!'vQ,UO1G2[O$NoQ(CjO7+'hOOQ(CY7+'h7+'hO!$ZQUO7+'hO% cQSO,5;YOOQ(CW,5?Z,5?ZOOQ(CW-E<m-E<mOOQ(CY7+%a7+%aO% hQ`O'#KPO#$}QSO7+(^O% rQbO7+(^O$<YQSO7+(^O% yQ(ChO'#CgO%!^Q(ChO,5<|O%#OQSO,5<|OOQ(CW1G5b1G5bOOQQ7+$_7+$_O!@YQ(C[O7+$_O!@eQWO7+$_O!$ZQUO7+&ZO%#TQSO'#ItO%#iQSO,5@rOOQO1G3`1G3`O9ZQSO,5@rO%#iQSO,5@rO%#qQSO,5@rOOQO,5?a,5?aOOQO-E<s-E<sOOQ(CY7+'O7+'OO%#vQSO7+(yO9eQ(C[O7+(yO9ZQSO7+(yO@[QSO7+(yOOQQ7+(i7+(iO%#{Q(ChO7+(fO!&^Q,UO7+(fO%$VQ`O7+(gOOQQ7+(g7+(gO!&^Q,UO7+(gO%$^QSO'#KTO%$iQSO,5=eOOQO,5?],5?]OOQO-E<o-E<oOOQQ7+(l7+(lO%%xQWO'#HSOOQQ1G3X1G3XO!&^Q,UO1G3XO%[QUO1G3XO%&PQSO1G3XO%&[Q,UO1G3XO9eQ(C[O1G3ZO#MzQSO1G3ZO9OQSO1G3ZO!@eQWO1G3ZO!@mQ,UO1G3ZO%&jQSO'#IsO%&uQSO,5@pO%&}QWO,5@pOOQ(CW1G3[1G3[OOQQ7+$T7+$TO@[QSO7+$TO9eQ(C[O7+$TO%'YQSO7+$TO%[QUO1G6_O%[QUO1G6`O%'_Q(C[O1G6_O%'iQUO1G3cO%'pQSO1G3cO%'uQUO1G3cOOQQ7+({7+({O9eQ(C[O7+)VO`QUO7+)XOOQQ'#KZ'#KZOOQQ'#Iv'#IvO%'|QUO,5>WOOQQ,5>W,5>WO%[QUO'#HmO%(ZQSO'#HoOOQQ,5>^,5>^O9TQSO,5>^OOQQ,5>`,5>`OOQQ7+)b7+)bOOQQ7+)h7+)hOOQQ7+)l7+)lOOQQ7+)n7+)nO%(`QWO1G5oO%(tQ$IUO1G0tO%)OQSO1G0tOOQO1G/n1G/nO%)ZQ$IUO1G/nO>jQSO1G/nO!*SQUO'#DhOOQO,5>w,5>wOOQO-E<Z-E<ZOOQO,5>},5>}OOQO-E<a-E<aO!@eQWO1G/nOOQO-E<^-E<^OOQ(CY1G0Y1G0YOOQ(CY7+%r7+%rO#$}QSO7+%rOOQ(CY7+&Y7+&YO>jQSO7+&YO!@eQWO7+&YOOQO7+%u7+%uO$9`Q(CjO7+&ROOQO7+&R7+&RO%[QUO7+&RO%)eQ(C[O7+&RO!@YQ(C[O7+%uO!@eQWO7+%uO%)pQ(C[O7+&RO%*OQ(CjO7++dO%[QUO7++dO%*`QSO7++cO%*`QSO7++cOOQO1G4k1G4kO9TQSO1G4kO%*hQSO1G4kOOQO7+%z7+%zO#$}QSO<<KxO% rQbO<<KxO%*vQSO<<KxOOQQ<<Kx<<KxO!&^Q,UO<<KxO%[QUO<<KxO%+OQSO<<KxO%+ZQ(CjO1G2lO%-fQ(CjO1G2nO%/qQ(CjO1G2YO%2SQ,UO,5>xOOQO-E<[-E<[O%2^QbO,5>yO%[QUO,5>yOOQO-E<]-E<]O%2hQSO1G5qOOQ(CY<<JO<<JOO%2pQ$IUO1G0oO%4zQ$IUO1G0yO%5RQ$IUO1G0yO%7VQ$IUO1G0yO%7^Q$IUO1G0yO%9RQ$IUO1G0yO%9iQ$IUO1G0yO%;|Q$IUO1G0yO%<TQ$IUO1G0yO%>XQ$IUO1G0yO%>`Q$IUO1G0yO%@WQ$IUO1G0yO%@kQ(CjO<<JbO%ApQ$IUO1G0yO%CfQ$IUO'#J`O%EiQ$IUO1G1_O%EvQ$IUO1G0RO!*SQUO'#FmOOQO'#J{'#J{OOQO1G1q1G1qO%FQQSO1G1pO%FVQ$IUO,5?SOOOO7+'d7+'dOOOO1G/T1G/TOOQ(CY1G4p1G4pO!'vQ,UO7+([O%FaQSO,5?TO9ZQSO,5?TOOQO-E<g-E<gO%FoQSO1G6TO%FoQSO1G6TO%FwQSO1G6TO%GSQ,UO7+'tO%GdQ`O,5?VO%GnQSO,5?VO!&^Q,UO,5?VOOQO-E<i-E<iO%GsQ`O1G6UO%G}QSO1G6UOOQ(CW1G2d1G2dO$$XQSO1G2dOOQ(CW1G2c1G2cO%HVQSO1G2eO!&^Q,UO1G2eOOQ(CW1G2j1G2jO!@eQWO1G2cOCXQSO1G2dO%H[QSO1G2eO%HdQSO1G2dO!'vQ,UO7++POOQ(CY1G/]1G/]O%HoQSO1G/]OOQ(CY7+'o7+'oO%HtQ,UO7+'vO%IUQ(CjO<<KSOOQ(CY<<KS<<KSO%IxQSO1G0tO!&^Q,UO'#InO%I}QSO,5@kO!&^Q,UO1G2hOOQQ<<Gy<<GyO!@YQ(C[O<<GyO%JVQ(CjO<<IuOOQ(CY<<Iu<<IuOOQO,5?`,5?`O%JyQSO,5?`O$(sQSO,5?`OOQO-E<r-E<rO%KOQSO1G6^O%KOQSO1G6^O9ZQSO1G6^O@[QSO<<LeOOQQ<<Le<<LeO%KWQSO<<LeO9eQ(C[O<<LeOOQQ<<LQ<<LQO%#{Q(ChO<<LQOOQQ<<LR<<LRO%$VQ`O<<LRO%K]QWO'#IpO%KhQSO,5@oO!*SQUO,5@oOOQQ1G3P1G3PO%KpQUO'#JiOOQO'#Ir'#IrO9eQ(C[O'#IrO%KzQWO,5=nOOQQ,5=n,5=nO%LRQWO'#EaO%LgQSO7+(sO%LlQSO7+(sOOQQ7+(s7+(sO!&^Q,UO7+(sO%[QUO7+(sO%LtQSO7+(sOOQQ7+(u7+(uO9eQ(C[O7+(uO#MzQSO7+(uO9OQSO7+(uO!@eQWO7+(uO%MPQSO,5?_OOQO-E<q-E<qOOQO'#HV'#HVO%M[QSO1G6[O9eQ(C[O<<GoOOQQ<<Go<<GoO@[QSO<<GoO%MdQSO7++yO%MiQSO7++zO%[QUO7++yO%[QUO7++zOOQQ7+(}7+(}O%MnQSO7+(}O%MsQUO7+(}O%MzQSO7+(}OOQQ<<Lq<<LqOOQQ<<Ls<<LsOOQQ-E<t-E<tOOQQ1G3r1G3rO%NPQSO,5>XOOQQ,5>Z,5>ZO%NUQSO1G3xO9TQSO7+&`O!*SQUO7+&`OOQO7+%Y7+%YO%NZQ$IUO1G5{O>jQSO7+%YOOQ(CY<<I^<<I^OOQ(CY<<It<<ItO>jQSO<<ItOOQO<<Im<<ImO$9`Q(CjO<<ImO%[QUO<<ImOOQO<<Ia<<IaO!@YQ(C[O<<IaO%NeQ(C[O<<ImO%NpQ(CjO<= OO& QQSO<<N}OOQO7+*V7+*VO9TQSO7+*VOOQQANAdANAdO& YQSOANAdO!&^Q,UOANAdO#$}QSOANAdO% rQbOANAdO%[QUOANAdO& bQ(CjO7+'tO&#sQ(CjO7+'vO&&UQbO1G4eO&&`Q$IUO7+&ZO&&mQ$IUO,59oO&(pQ$IUO,5<eO&*sQ$IUO,5<gO&,vQ$IUO,5<uO&.lQ$IUO7+'gO&.yQ$IUO7+'hO&/WQSO,5<XOOQO7+'[7+'[O&/]Q,UO<<KvOOQO1G4o1G4oO&/dQSO1G4oO&/oQSO1G4oO&/}QSO7++oO&/}QSO7++oO!&^Q,UO1G4qO&0VQ`O1G4qO&0aQSO7++pOOQ(CW7+(O7+(OO$$XQSO7+(PO&0iQ`O7+(POOQ(CW7+'}7+'}O$$XQSO7+(OO&0pQSO7+(PO!&^Q,UO7+(POCXQSO7+(OO&0uQ,UO<<NkOOQ(CY7+$w7+$wO&1PQ`O,5?YOOQO-E<l-E<lO&1ZQ(ChO7+(SOOQQAN=eAN=eO9ZQSO1G4zOOQO1G4z1G4zO&1kQSO1G4zO&1pQSO7++xO&1pQSO7++xO9eQ(C[OANBPO@[QSOANBPOOQQANBPANBPOOQQANAlANAlOOQQANAmANAmO&1xQSO,5?[OOQO-E<n-E<nO&2TQ$IUO1G6ZO&4eQbO'#CgOOQO,5?^,5?^OOQO-E<p-E<pOOQQ1G3Y1G3YO%KpQUO,5<yOOQQ<<L_<<L_O!&^Q,UO<<L_O%LgQSO<<L_O&4oQSO<<L_O%[QUO<<L_OOQQ<<La<<LaO9eQ(C[O<<LaO#MzQSO<<LaO9OQSO<<LaO&4wQWO1G4yO&5SQSO7++vOOQQAN=ZAN=ZO9eQ(C[OAN=ZOOQQ<= e<= eOOQQ<= f<= fO&5[QSO<= eO&5aQSO<= fOOQQ<<Li<<LiO&5fQSO<<LiO&5kQUO<<LiOOQQ1G3s1G3sO>jQSO7+)dO&5rQSO<<IzO&5}Q$IUO<<IzOOQO<<Ht<<HtOOQ(CYAN?`AN?`OOQOAN?XAN?XO$9`Q(CjOAN?XOOQOAN>{AN>{O%[QUOAN?XOOQO<<Mq<<MqOOQQG27OG27OO!&^Q,UOG27OO#$}QSOG27OO&6XQSOG27OO% rQbOG27OO&6aQ$IUO<<JbO&6nQ$IUO1G2YO&8dQ$IUO1G2lO&:gQ$IUO1G2nO&<jQ$IUO<<KSO&<wQ$IUO<<IuOOQO1G1s1G1sO!'vQ,UOANAbOOQO7+*Z7+*ZO&=UQSO7+*ZO&=aQSO<= ZO&=iQ`O7+*]OOQ(CW<<Kk<<KkO$$XQSO<<KkOOQ(CW<<Kj<<KjO&=sQ`O<<KkO$$XQSO<<KjOOQO7+*f7+*fO9ZQSO7+*fO&=zQSO<= dOOQQG27kG27kO9eQ(C[OG27kO!*SQUO1G4vO&>SQSO7++uO%LgQSOANAyOOQQANAyANAyO!&^Q,UOANAyO&>[QSOANAyOOQQANA{ANA{O9eQ(C[OANA{O#MzQSOANA{OOQO'#HW'#HWOOQO7+*e7+*eOOQQG22uG22uOOQQANEPANEPOOQQANEQANEQOOQQANBTANBTO&>dQSOANBTOOQQ<<MO<<MOO!*SQUOAN?fOOQOG24sG24sO$9`Q(CjOG24sO#$}QSOLD,jOOQQLD,jLD,jO!&^Q,UOLD,jO&>iQSOLD,jO&>qQ$IUO7+'tO&@gQ$IUO7+'vO&B]Q,UOG26|OOQO<<Mu<<MuOOQ(CWANAVANAVO$$XQSOANAVOOQ(CWANAUANAUOOQO<<NQ<<NQOOQQLD-VLD-VO&BmQ$IUO7+*bOOQQG27eG27eO%LgQSOG27eO!&^Q,UOG27eOOQQG27gG27gO9eQ(C[OG27gOOQQG27oG27oO&BwQ$IUOG25QOOQOLD*_LD*_OOQQ!$(!U!$(!UO#$}QSO!$(!UO!&^Q,UO!$(!UO&CRQ(CjOG26|OOQ(CWG26qG26qOOQQLD-PLD-PO%LgQSOLD-POOQQLD-RLD-ROOQQ!)9Ep!)9EpO#$}QSO!)9EpOOQQ!$(!k!$(!kOOQQ!.K;[!.K;[O&EdQ$IUOG26|O!*SQUO'#DwO1PQSO'#EUO&GYQbO'#JeO!*SQUO'#DoO&GaQUO'#D{O&GhQbO'#CgO&JOQbO'#CgO!*SQUO'#D}O&J`QUO,5;TO!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO,5;_O!*SQUO'#IhO&LcQSO,5<dO&LkQ,UO,5;_O&NOQ,UO,5;_O!*SQUO,5;sO1SQSO'#DTO1SQSO'#DTO!&^Q,UO'#FyO&LkQ,UO'#FyO!&^Q,UO'#F{O&LkQ,UO'#F{O!&^Q,UO'#GZO&LkQ,UO'#GZO!*SQUO,5:gO!*SQUO,5@aO&J`QUO1G0oO&NVQ$IUO'#CgO!*SQUO1G1{O!&^Q,UO,5=QO&LkQ,UO,5=QO!&^Q,UO,5=SO&LkQ,UO,5=SO!&^Q,UO,5<nO&LkQ,UO,5<nO&J`QUO1G1|O!*SQUO7+&vO!&^Q,UO1G2YO&LkQ,UO1G2YO!&^Q,UO1G2[O&LkQ,UO1G2[O&J`QUO7+'hO&J`QUO7+&ZO!&^Q,UOANAbO&LkQ,UOANAbO&NaQSO'#EiO&NfQSO'#EiO&NnQSO'#FXO&NsQSO'#EsO&NxQSO'#JuO' TQSO'#JsO' `QSO,5;TO' eQ,UO,5<aO' lQSO'#GSO' qQSO'#GSO' vQSO,5<bO'!OQSO,5;TO'!WQ$IUO1G1[O'!_QSO,5<nO'!dQSO,5<nO'!iQSO,5<pO'!nQSO,5<pO'!sQSO1G1|O'!xQSO1G0oO'!}Q,UO<<KvO'#UQ,UO<<KvO7hQ,UO'#FwO9OQSO'#FvOAVQSO'#EhO!*SQUO,5;pO!2|QSO'#GSO!2|QSO'#GSO!2|QSO'#GUO!2|QSO'#GUO!'vQ,UO7+([O!'vQ,UO7+([O$KbQ`O1G2pO$KbQ`O1G2pO!&^Q,UO,5=UO!&^Q,UO,5=U\",\n  stateData: \"'$_~O'oOS'pOSROS'qRQ~OPYOQYOW!VO_qObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!rwO!uxO!y]O#q!PO$R|O$VfO%a}O%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO&O!WO&U!XO&W!YO&Y!ZO&[![O&_!]O&e!^O&k!_O&m!`O&o!aO&q!bO&s!cO'vSO'xTO'{UO(TVO(c[O(piO~OUtO~P`OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_!vOm!nO}!oO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!wO#Q!pO#R!pO#U!yO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O'q!zO~OPZXYZX_ZXlZXzZX{ZX}ZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX'mZX(TZX(dZX(kZX(lZX~O!b${X~P(qO]!|O'x#OO'y!|O'z#OO~O]#PO'z#OO'{#OO'|#PO~Or#RO!P#SO(U#SO(V#UO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v9vO'xTO'{UO(TVO(c[O(piO~O!V#YO!W#VO!T(ZP!T(hP~P+}O!X#bO~P`OPYOQYOb!jOc!iOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(piO~Oj#lO!V#hO!y]O#c#kO#d#hO'v9wO!h(eP~P.iO!i#nO'v#mO~O!u#rO!y]O%a#sO~O#e#tO~O!b#uO#e#tO~OP$]OY$dOl$QOz#yO{#zO}#{O!W$aO!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_(XX'm(XX'k(XX!h(XX!T(XX!Y(XX%b(XX!b(XX~P1qO#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX!Y(YX%b(YX~O_(YX!g(YX'm(YX'k(YX!T(YX!h(YXp(YX!b(YX~P4XO#Y$eO~O$X$gO$Z$fO$b$lO~O!Y$mO$VfO$e$nO$g$pO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v$rO'xTO'{UO(P%RO(T$uOe(QP~O!i%^O~O}%aO!Y%bO'v%`O~O!b%fO~O_%gO'm%gO~O'w!lO~P%[O%g%nO~P%[O!i%^O'v%`O'w!lO(P%RO~Oc%uO!i%^O'v%`O~O#p$SO~Oz%zO!Y%wO!i%yO%c%}O'v%`O'w!lO'xTO'{UO^(yP~O!u#rO~O%l&PO}(uX!Y(uX'v(uX~O'v&QO~O!r&VO#q!PO%c!QO%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO~Ob&[Oc&ZO!u&XO%a&YO%t&WO~P;rOb&_OcyO!Y&^O!r&VO!uxO!y]O#q!PO%a}O%e!OO%f!OO%g!OO%j!RO%l!SO%o!TO%p!TO%r!UO~O`&bO#Y&eO%c&`O'w!lO~P<wO!i&fO!r&jO~O!i#nO~O!YXO~O_%gO'l&rO'm%gO~O_%gO'l&uO'm%gO~O_%gO'l&wO'm%gO~O'kZX!TZXpZX!hZX&SZX!YZX%bZX!bZX~P(qO!]'UO!^&}O!_&}O'w!lO'xTO'{UO~Om&{O}&zO!V'OO(W&yO!X([P!X(jP~P@OOh'XO!Y'VO'v%`O~Oc'^O!i%^O'v%`O~Oz%zO!i%yO~Om!nO}!oO!y9rO!}!pO#O!pO#Q!pO#R!pO'w!lO'xTO'{UO(W!mO(c!sO~O!]'dO!^'cO!_'cO#P!pO#U'eO#V'eO~PAjO_%gO!b#uO!i%^O'm%gO(P%RO(d'gO~O!m'kO#Y'iO~PBxOm!nO}!oO'xTO'{UO(W!mO(c!sO~O!YXOm(aX}(aX!](aX!^(aX!_(aX!y(aX!}(aX#O(aX#P(aX#Q(aX#R(aX#U(aX#V(aX'w(aX'x(aX'{(aX(W(aX(c(aX~O!^'cO!_'cO'w!lO~PChO'r'oO's'oO't'qO~O]!|O'x'sO'y!|O'z'sO~O]#PO'z'sO'{'sO'|#PO~Or#RO!P#SO(U#SO(V'wO~O!V'yO!T'OX!T'UX!W'OX!W'UX~P+}O!W'{O!T(ZX~OP$]OY$dOl$QOz#yO{#zO}#{O!W'{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O!T(ZX~PG[O!T(QO~O!T(gX!W(gX!b(gX!h(gX(d(gX~O#Y(gX#e#^X!X(gX~PIbO#Y(RO!T(iX!W(iX~O!W(SO!T(hX~O!T(VO~O#Y$eO~PIbO!X(WO~P`Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!kaY!kal!ka!W!ka!f!ka!m!ka#h!ka#i!ka#j!ka#k!ka#l!ka#m!ka#n!ka#o!ka#p!ka#r!ka#t!ka#v!ka#w!ka(d!ka(k!ka(l!ka~O_!ka'm!ka'k!ka!T!ka!h!kap!ka!Y!ka%b!ka!b!ka~PJxO!h(XO~O!b#uO#Y(YO(d'gO!W(fX_(fX'm(fX~O!h(fX~PMhO}%aO!Y%bO!y]O#c(_O#d(^O'v%`O~O!W(`O!h(eX~O!h(bO~O}%aO!Y%bO#d(^O'v%`O~OP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!g(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#p(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O!b#uO!h(YX~P! UOz(cO{(dO!g#wO!i#xO!y!xa}!xa~O!u!xa%a!xa!Y!xa#c!xa#d!xa'v!xa~P!#YO!u(hO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!YXO!duO!iZO!lYO!mYO!nYO!pvO!r!gO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#e(nO~Oj%SOl$tOm$sOn$sOt%TOv%UOx%VO}${O!Y$|O!d%[O!i$xO#d%]O$R%YO$n%WO$p%XO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~Oe(^P~P!'vO!V(rO!h(_P~P%[O(W(tO(c[O~O}(vO!i#xO(W(tO(c[O~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O{)XO!i#xO~O!W$aO_$la'm$la'k$la!h$la!T$la!Y$la%b$la!b$la~O#q)]O~P!&^Oz)`O!b)_O!Y$YX$U$YX$X$YX$Z$YX$b$YX~O!b)_O!Y(mX$U(mX$X(mX$Z(mX$b(mX~Oz)`O~P!-lOz)`O!Y(mX$U(mX$X(mX$Z(mX$b(mX~O!Y)bO$U)fO$X)aO$Z)aO$b)gO~O!V)jO~P!*SO$X$gO$Z$fO$b)nO~Oh$tXz$tX}$tX!g$tX(k$tX(l$tX~OegXe$tXhgX!WgX#YgX~P!/bOm)pO~Or)qO(U)rO(V)tO~Oh)}Oz)vO})wO(k)yO(l){O~Oe)uO~P!0kOe*OO~Oj%SOl$tOm$sOn$sOt%TOv%UOx:[O}${O!Y$|O!d;fO!i$xO#d:bO$R%YO$n:^O$p:`O$s%ZO'xTO'{UO(P%RO(T$uO~O!V*SO'v*PO!h(qP~P!1YO#e*UO~O!i*VO~O!V*[O'v*XO!T(rP~P!1YOl*hO}*`O!]*fO!^*_O!_*_O!i*VO#U*gO%X*bO'w!lO(W!mO~O!X*eO~P!3`O!g#wOh(SXz(SX}(SX(k(SX(l(SX!W(SX#Y(SX~Oe(SX#z(SX~P!4XOh*kO#Y*jOe(RX!W(RX~O!W*lOe(QX~O'v&QOe(QP~O!i*sO~O'v(lO~Oj*wO}%aO!V#hO!Y%bO!y]O#c#kO#d#hO'v%`O!h(eP~O!b#uO#e*xO~O}%aO!V*zO!W(SO!Y%bO'v%`O!T(hP~Om'RO}*|O!V*{O'xTO'{UO(W(tO~O!X(jP~P!7SO!W*}O_(vX'm(vX~OP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO#w$YO(TVO(d$ZO(k#|O(l#}O~O_!ca!W!ca'm!ca'k!ca!T!ca!h!cap!ca!Y!ca%b!ca!b!ca~P!7zOz#yO{#zO}#{O!g#wO!i#xO(TVOP!oaY!oal!oa!W!oa!f!oa!m!oa#h!oa#i!oa#j!oa#k!oa#l!oa#m!oa#n!oa#o!oa#p!oa#r!oa#t!oa#v!oa#w!oa(d!oa(k!oa(l!oa~O_!oa'm!oa'k!oa!T!oa!h!oap!oa!Y!oa%b!oa!b!oa~P!:eOz#yO{#zO}#{O!g#wO!i#xO(TVOP!qaY!qal!qa!W!qa!f!qa!m!qa#h!qa#i!qa#j!qa#k!qa#l!qa#m!qa#n!qa#o!qa#p!qa#r!qa#t!qa#v!qa#w!qa(d!qa(k!qa(l!qa~O_!qa'm!qa'k!qa!T!qa!h!qap!qa!Y!qa%b!qa!b!qa~P!=OOh+WO!Y'VO%b+VO(P%RO~O!b+YO_(OX!Y(OX'm(OX!W(OX~O_%gO!YXO'm%gO~O!i%^O(P%RO~O!i%^O'v%`O(P%RO~O!b#uO#e(nO~O%c+fO'v+bO'xTO'{UO!X(zP~O!W+gO^(yX~OY+kO~O^+lO~O!Y%wO'v%`O'w!lO^(yP~O#Y+qO(P%RO~Oh+tO!Y$|O(P%RO~O!Y+vO~Oz+xO!YXO~O%g%nO~O!u+}O~Oc,SO~O'v#mO!X(xP~Oc%uO~O%c!QO'v&QO~P<wOY,YO^,XO~OPYOQYObzOcyOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!duO!iZO!lYO!mYO!nYO!pvO!uxO!y]O$VfO%a}O'xTO'{UO(TVO(c[O(piO~O!Y!eO!r!gO$R!kO'v!dO~P!CuO^,XO_%gO'm%gO~OPYOQYOb!jOc!iOjkOlYOmkOnkOtkOvYOxYO}WO!RkO!SkO!Y!eO!duO!iZO!lYO!mYO!nYO!pvO!u!hO$R!kO$VfO'v!dO'xTO'{UO(TVO(c[O(piO~O_,_O!rwO#q!OO%e!OO%f!OO%g!OO~P!F_O!i&fO~O&U,eO~O!Y,gO~O&g,iO&i,jOP&daQ&daW&da_&dab&dac&daj&dal&dam&dan&dat&dav&dax&da}&da!R&da!S&da!Y&da!d&da!i&da!l&da!m&da!n&da!p&da!r&da!u&da!y&da#q&da$R&da$V&da%a&da%c&da%e&da%f&da%g&da%j&da%l&da%o&da%p&da%r&da&O&da&U&da&W&da&Y&da&[&da&_&da&e&da&k&da&m&da&o&da&q&da&s&da'k&da'v&da'x&da'{&da(T&da(c&da(p&da!X&da&]&da`&da&b&da~O'v,oO~O!W|X!W!`X!X|X!X!`X!b|X!b!`X!i!`X#Y|X(P!`X~O!b,tO#Y,sO!W#bX!W(]X!X#bX!X(]X!b(]X!i(]X(P(]X~O!b,vO!i%^O(P%RO!W![X!X![X~Om!nO}!oO'xTO'{UO(W!mO~OP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!Y!eO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'xTO'{UO(TVO(c[O(p;`O~O'v:gO~P# eO!W,zO!X([X~O!X,|O~O!b,tO#Y,sO!W#bX!X#bX~O!W,}O!X(jX~O!X-PO~O!^-QO!_-QO'w!lO~P# SO!X-TO~P'_Oh-WO!Y'VO~O!T-]O~Om!xa!]!xa!^!xa!_!xa!}!xa#O!xa#P!xa#Q!xa#R!xa#U!xa#V!xa'w!xa'x!xa'{!xa(W!xa(c!xa~P!#YO!m-bO#Y-`O~PBxO!^-dO!_-dO'w!lO~PChO_%gO#Y-`O'm%gO~O_%gO!b#uO#Y-`O'm%gO~O_%gO!b#uO!m-bO#Y-`O'm%gO(d'gO~O'r'oO's'oO't-iO~Op-jO~O!T'Oa!W'Oa~P!7zO!V-nO!T'OX!W'OX~P%[O!W'{O!T(Za~O!T(Za~PG[O!W(SO!T(ha~O}%aO!V-rO!Y%bO'v%`O!T'UX!W'UX~O#Y-tO!W(fa!h(fa_(fa'm(fa~O!b#uO~P#)kO!W(`O!h(ea~O}%aO!Y%bO#d-xO'v%`O~Oj-}O}%aO!V-zO!Y%bO!y]O#c-|O#d-zO'v%`O!W'XX!h'XX~O{.RO!i#xO~Oh.UO!Y'VO%b.TO(P%RO~O_#]i!W#]i'm#]i'k#]i!T#]i!h#]ip#]i!Y#]i%b#]i!b#]i~P!7zOh;lOz)vO})wO(k)yO(l){O~O#e#Xa_#Xa#Y#Xa'm#Xa!W#Xa!h#Xa!Y#Xa!T#Xa~P#,gO#e(SXP(SXY(SX_(SXl(SX{(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX'm(SX(T(SX(d(SX!h(SX!T(SX'k(SXp(SX!Y(SX%b(SX!b(SX~P!4XO!W._Oe(^X~P!0kOe.aO~O!W.bO!h(_X~P!7zO!h.eO~O!T.gO~OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gi_#gil#gi!W#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O#h#gi~P#0cO#h$OO~P#0cOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO(TVOY#gi_#gi!W#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~Ol#gi~P#3TOl$QO~P#3TOP$]Ol$QOz#yO{#zO}#{O!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO(TVO_#gi!W#gi#r#gi#t#gi#v#gi#w#gi'm#gi(d#gi(k#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P#5uOY$dO!f$SO#m$SO#n$SO#o$cO#p$SO~P#5uOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO(TVO_#gi!W#gi#t#gi#v#gi#w#gi'm#gi(d#gi(l#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(k#gi~P#8vO(k#|O~P#8vOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO(TVO(k#|O_#gi!W#gi#v#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~O(l#gi~P#;hO(l#}O~P#;hOP$]OY$dOl$QOz#yO{#zO}#{O!f$SO!g#wO!i#xO!m$]O#h$OO#i$PO#j$PO#k$PO#l$RO#m$SO#n$SO#o$cO#p$SO#r$TO#t$VO#v$XO(TVO(k#|O(l#}O~O_#gi!W#gi#w#gi'm#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#>YOPZXYZXlZXzZX{ZX}ZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX!WZX!XZX~O#zZX~P#@sOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO#w:UO(TVO(d$ZO(k#|O(l#}O~O#z.iO~P#CQO#Y:ZO#|:ZO#z(YX!X(YX~P! UO_'[a!W'[a'm'[a'k'[a!h'[a!T'[ap'[a!Y'[a%b'[a!b'[a~P!7zOP#giY#gi_#gil#gi{#gi!W#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi'm#gi(T#gi(d#gi'k#gi!T#gi!h#gip#gi!Y#gi%b#gi!b#gi~P#,gO_#{i!W#{i'm#{i'k#{i!T#{i!h#{ip#{i!Y#{i%b#{i!b#{i~P!7zO$X.nO$Z.nO~O$X.oO$Z.oO~O!b)_O#Y.pO!Y$_X$U$_X$X$_X$Z$_X$b$_X~O!V.qO~O!Y)bO$U.sO$X)aO$Z)aO$b.tO~O!W:VO!X(XX~P#CQO!X.uO~O!b)_O$b(mX~O$b.wO~Or)qO(U)rO(V.zO~O!T/OO~P!&^O!WdX!bdX!hdX!h$tX(ddX~P!/bO!h/UO~P#,gO!W/VO!b#uO(d'gO!h(qX~O!h/[O~O!V*SO'v%`O!h(qP~O#e/^O~O!T$tX!W$tX!b${X~P!/bO!W/_O!T(rX~P#,gO!b/aO~O!T/cO~Ol/gO!b#uO!i%^O(P%RO(d'gO~O'v/iO~O!b+YO~O_%gO!W/mO'm%gO~O!X/oO~P!3`O!^/pO!_/pO'w!lO(W!mO~O}/rO(W!mO~O#U/sO~O'v&QOe'aX!W'aX~O!W*lOe(Qa~Oe/xO~Oz/yO{/yO}/zOhwa(kwa(lwa!Wwa#Ywa~Oewa#zwa~P$ hOz)vO})wOh$ma(k$ma(l$ma!W$ma#Y$ma~Oe$ma#z$ma~P$!^Oz)vO})wOh$oa(k$oa(l$oa!W$oa#Y$oa~Oe$oa#z$oa~P$#PO#e/|O~Oe$}a!W$}a#Y$}a#z$}a~P!0kO!b#uO~O#e0PO~O!W*}O_(va'm(va~Oz#yO{#zO}#{O!g#wO!i#xO(TVOP!oiY!oil!oi!W!oi!f!oi!m!oi#h!oi#i!oi#j!oi#k!oi#l!oi#m!oi#n!oi#o!oi#p!oi#r!oi#t!oi#v!oi#w!oi(d!oi(k!oi(l!oi~O_!oi'm!oi'k!oi!T!oi!h!oip!oi!Y!oi%b!oi!b!oi~P$$nOh.UO!Y'VO%b.TO~Oj0ZO'v0YO~P!1]O!b+YO_(Oa!Y(Oa'm(Oa!W(Oa~O#e0aO~OYZX!WdX!XdX~O!W0bO!X(zX~O!X0dO~OY0eO~O'v+bO'xTO'{UO~O!Y%wO'v%`O^'iX!W'iX~O!W+gO^(ya~O!h0jO~P!7zOY0mO~O^0nO~O#Y0qO~Oh0tO!Y$|O~O(W(tO!X(wP~Oh0}O!Y0zO%b0|O(P%RO~OY1XO!W1VO!X(xX~O!X1YO~O^1[O_%gO'm%gO~O'v#mO'xTO'{UO~O#Y$eO#|$eOP(YXY(YXl(YXz(YX{(YX}(YX!W(YX!f(YX!i(YX!m(YX#h(YX#i(YX#j(YX#k(YX#l(YX#m(YX#n(YX#o(YX#r(YX#t(YX#v(YX#w(YX(T(YX(d(YX(k(YX(l(YX~O#p1_O&S1`O_(YX!g(YX~P$+dO#Y$eO#p1_O&S1`O~O_1bO~P%[O_1dO~O&]1gOP&ZiQ&ZiW&Zi_&Zib&Zic&Zij&Zil&Zim&Zin&Zit&Ziv&Zix&Zi}&Zi!R&Zi!S&Zi!Y&Zi!d&Zi!i&Zi!l&Zi!m&Zi!n&Zi!p&Zi!r&Zi!u&Zi!y&Zi#q&Zi$R&Zi$V&Zi%a&Zi%c&Zi%e&Zi%f&Zi%g&Zi%j&Zi%l&Zi%o&Zi%p&Zi%r&Zi&O&Zi&U&Zi&W&Zi&Y&Zi&[&Zi&_&Zi&e&Zi&k&Zi&m&Zi&o&Zi&q&Zi&s&Zi'k&Zi'v&Zi'x&Zi'{&Zi(T&Zi(c&Zi(p&Zi!X&Zi`&Zi&b&Zi~O`1mO!X1kO&b1lO~P`O!YXO!i1oO~O&i,jOP&diQ&diW&di_&dib&dic&dij&dil&dim&din&dit&div&dix&di}&di!R&di!S&di!Y&di!d&di!i&di!l&di!m&di!n&di!p&di!r&di!u&di!y&di#q&di$R&di$V&di%a&di%c&di%e&di%f&di%g&di%j&di%l&di%o&di%p&di%r&di&O&di&U&di&W&di&Y&di&[&di&_&di&e&di&k&di&m&di&o&di&q&di&s&di'k&di'v&di'x&di'{&di(T&di(c&di(p&di!X&di&]&di`&di&b&di~O!T1uO~O!W![a!X![a~P#CQOm!nO}!oO!V1{O(W!mO!W'PX!X'PX~P@OO!W,zO!X([a~O!W'VX!X'VX~P!7SO!W,}O!X(ja~O!X2SO~P'_O_%gO#Y2]O'm%gO~O_%gO!b#uO#Y2]O'm%gO~O_%gO!b#uO!m2aO#Y2]O'm%gO(d'gO~O_%gO'm%gO~P!7zO!W$aOp$la~O!T'Oi!W'Oi~P!7zO!W'{O!T(Zi~O!W(SO!T(hi~O!T(ii!W(ii~P!7zO!W(fi!h(fi_(fi'm(fi~P!7zO#Y2cO!W(fi!h(fi_(fi'm(fi~O!W(`O!h(ei~O}%aO!Y%bO!y]O#c2hO#d2gO'v%`O~O}%aO!Y%bO#d2gO'v%`O~Oh2oO!Y'VO%b2nO~Oh2oO!Y'VO%b2nO(P%RO~O#ewaPwaYwa_walwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa'mwa(Twa(dwa!hwa!Twa'kwapwa!Ywa%bwa!bwa~P$ hO#e$maP$maY$ma_$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma'm$ma(T$ma(d$ma!h$ma!T$ma'k$map$ma!Y$ma%b$ma!b$ma~P$!^O#e$oaP$oaY$oa_$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa'm$oa(T$oa(d$oa!h$oa!T$oa'k$oap$oa!Y$oa%b$oa!b$oa~P$#PO#e$}aP$}aY$}a_$}al$}a{$}a!W$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a'm$}a(T$}a(d$}a!h$}a!T$}a'k$}a#Y$}ap$}a!Y$}a%b$}a!b$}a~P#,gO_#]q!W#]q'm#]q'k#]q!T#]q!h#]qp#]q!Y#]q%b#]q!b#]q~P!7zOe'QX!W'QX~P!'vO!W._Oe(^a~O!V2wO!W'RX!h'RX~P%[O!W.bO!h(_a~O!W.bO!h(_a~P!7zO!T2zO~O#z!ka!X!ka~PJxO#z!ca!W!ca!X!ca~P#CQO#z!oa!X!oa~P!:eO#z!qa!X!qa~P!=OO!Y3^O$VfO$`3_O~O!X3cO~Op3dO~P#,gO_$iq!W$iq'm$iq'k$iq!T$iq!h$iqp$iq!Y$iq%b$iq!b$iq~P!7zO!T3eO~P#,gOz)vO})wO(l){Oh%Yi(k%Yi!W%Yi#Y%Yi~Oe%Yi#z%Yi~P$I|Oz)vO})wOh%[i(k%[i(l%[i!W%[i#Y%[i~Oe%[i#z%[i~P$JoO(d$ZO~P#,gO!V3hO'v%`O!W']X!h']X~O!W/VO!h(qa~O!W/VO!b#uO!h(qa~O!W/VO!b#uO(d'gO!h(qa~Oe$vi!W$vi#Y$vi#z$vi~P!0kO!V3pO'v*XO!T'_X!W'_X~P!1YO!W/_O!T(ra~O!W/_O!T(ra~P#,gO!b#uO#p3xO~Ol3{O!b#uO(d'gO~Oe(Ri!W(Ri~P!0kO#Y4OOe(Ri!W(Ri~P!0kO!h4RO~O_$jq!W$jq'm$jq'k$jq!T$jq!h$jqp$jq!Y$jq%b$jq!b$jq~P!7zO!T4VO~O!W4WO!Y(sX~P#,gO!g#wO~P4XO_$tX!Y$tX%VZX'm$tX!W$tX~P!/bO%V4YO_iXhiXziX}iX!YiX'miX(kiX(liX!WiX~O%V4YO~O%c4aO'v+bO'xTO'{UO!W'hX!X'hX~O!W0bO!X(za~OY4eO~O^4fO~O_%gO'm%gO~P#,gO!Y$|O~P#,gO!W4nO#Y4pO!X(wX~O!X4qO~Om!nO}4rO!]!xO!^!uO!_!uO!y9rO!}!pO#O!pO#P!pO#Q!pO#R!pO#U4wO#V!yO'w!lO'xTO'{UO(W!mO(c!sO~O!X4vO~P%$nOh4|O!Y0zO%b4{O~Oh4|O!Y0zO%b4{O(P%RO~O'v#mO!W'gX!X'gX~O!W1VO!X(xa~O'xTO'{UO(W5VO~O^5ZO~O#p5^O&S5_O~PMhO!h5`O~P%[O_5bO~O_5bO~P%[O`1mO!X5gO&b1lO~P`O!b5iO~O!b5kO!W(]i!X(]i!b(]i!i(]i(P(]i~O!W#bi!X#bi~P#CQO#Y5lO!W#bi!X#bi~O!W![i!X![i~P#CQO_%gO#Y5uO'm%gO~O_%gO!b#uO#Y5uO'm%gO~O!W(fq!h(fq_(fq'm(fq~P!7zO!W(`O!h(eq~O}%aO!Y%bO#d5|O'v%`O~O!Y'VO%b6PO~Oh6SO!Y'VO%b6PO~O#e%YiP%YiY%Yi_%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi'm%Yi(T%Yi(d%Yi!h%Yi!T%Yi'k%Yip%Yi!Y%Yi%b%Yi!b%Yi~P$I|O#e%[iP%[iY%[i_%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i'm%[i(T%[i(d%[i!h%[i!T%[i'k%[ip%[i!Y%[i%b%[i!b%[i~P$JoO#e$viP$viY$vi_$vil$vi{$vi!W$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi'm$vi(T$vi(d$vi!h$vi!T$vi'k$vi#Y$vip$vi!Y$vi%b$vi!b$vi~P#,gOe'Qa!W'Qa~P!0kO!W'Ra!h'Ra~P!7zO!W.bO!h(_i~O#z#]i!W#]i!X#]i~P#CQOP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O(TVOY#gil#gi!f#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~O#h#gi~P%2}O#h9zO~P%2}OP$]Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O(TVOY#gi!f#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~Ol#gi~P%5YOl9|O~P%5YOP$]Ol9|Oz#yO{#zO}#{O!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O(TVO#r#gi#t#gi#v#gi#w#gi#z#gi(d#gi(k#gi(l#gi!W#gi!X#gi~OY#gi!f#gi#m#gi#n#gi#o#gi#p#gi~P%7eOY:YO!f:OO#m:OO#n:OO#o:XO#p:OO~P%7eOP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO(TVO#t#gi#v#gi#w#gi#z#gi(d#gi(l#gi!W#gi!X#gi~O(k#gi~P%:PO(k#|O~P%:POP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO(TVO(k#|O#v#gi#w#gi#z#gi(d#gi!W#gi!X#gi~O(l#gi~P%<[O(l#}O~P%<[OP$]OY:YOl9|Oz#yO{#zO}#{O!f:OO!g#wO!i#xO!m$]O#h9zO#i9{O#j9{O#k9{O#l9}O#m:OO#n:OO#o:XO#p:OO#r:PO#t:RO#v:TO(TVO(k#|O(l#}O~O#w#gi#z#gi(d#gi!W#gi!X#gi~P%>gO_#xy!W#xy'm#xy'k#xy!T#xy!h#xyp#xy!Y#xy%b#xy!b#xy~P!7zOh;mOz)vO})wO(k)yO(l){O~OP#giY#gil#gi{#gi!f#gi!g#gi!i#gi!m#gi#h#gi#i#gi#j#gi#k#gi#l#gi#m#gi#n#gi#o#gi#p#gi#r#gi#t#gi#v#gi#w#gi#z#gi(T#gi(d#gi!W#gi!X#gi~P%A_O!g#wOP(SXY(SXh(SXl(SXz(SX{(SX}(SX!f(SX!i(SX!m(SX#h(SX#i(SX#j(SX#k(SX#l(SX#m(SX#n(SX#o(SX#p(SX#r(SX#t(SX#v(SX#w(SX#z(SX(T(SX(d(SX(k(SX(l(SX!W(SX!X(SX~O#z#{i!W#{i!X#{i~P#CQO#z!oi!X!oi~P$$nO!X6`O~O!W'[a!X'[a~P#CQO!b#uO(d'gO!W']a!h']a~O!W/VO!h(qi~O!W/VO!b#uO!h(qi~Oe$vq!W$vq#Y$vq#z$vq~P!0kO!T'_a!W'_a~P#,gO!b6gO~O!W/_O!T(ri~P#,gO!W/_O!T(ri~O!T6kO~O!b#uO#p6pO~Ol6qO!b#uO(d'gO~O!T6sO~Oe$xq!W$xq#Y$xq#z$xq~P!0kO_$jy!W$jy'm$jy'k$jy!T$jy!h$jyp$jy!Y$jy%b$jy!b$jy~P!7zO!b5kO~O!W4WO!Y(sa~O_#]y!W#]y'm#]y'k#]y!T#]y!h#]yp#]y!Y#]y%b#]y!b#]y~P!7zOY6xO~O!W0bO!X(zi~O^7OO~O(W(tO!W'dX!X'dX~O!W4nO!X(wa~OjkO'v7VO~P.iO!X7YO~P%$nOm!nO}7ZO'xTO'{UO(W!mO(c!sO~O!Y0zO~O!Y0zO%b7]O~Oh7`O!Y0zO%b7]O~OY7eO!W'ga!X'ga~O!W1VO!X(xi~O!h7iO~O!h7jO~O!h7mO~O!h7mO~P%[O_7oO~O!b7pO~O!h7qO~O!W(ii!X(ii~P#CQO_%gO#Y7yO'm%gO~O!W(fy!h(fy_(fy'm(fy~P!7zO!W(`O!h(ey~O!Y'VO%b7|O~O#e$vqP$vqY$vq_$vql$vq{$vq!W$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq'm$vq(T$vq(d$vq!h$vq!T$vq'k$vq#Y$vqp$vq!Y$vq%b$vq!b$vq~P#,gO#e$xqP$xqY$xq_$xql$xq{$xq!W$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq'm$xq(T$xq(d$xq!h$xq!T$xq'k$xq#Y$xqp$xq!Y$xq%b$xq!b$xq~P#,gO!W'Ri!h'Ri~P!7zO#z#]q!W#]q!X#]q~P#CQOz/yO{/yO}/zOPwaYwahwalwa!fwa!gwa!iwa!mwa#hwa#iwa#jwa#kwa#lwa#mwa#nwa#owa#pwa#rwa#twa#vwa#wwa#zwa(Twa(dwa(kwa(lwa!Wwa!Xwa~Oz)vO})wOP$maY$mah$mal$ma{$ma!f$ma!g$ma!i$ma!m$ma#h$ma#i$ma#j$ma#k$ma#l$ma#m$ma#n$ma#o$ma#p$ma#r$ma#t$ma#v$ma#w$ma#z$ma(T$ma(d$ma(k$ma(l$ma!W$ma!X$ma~Oz)vO})wOP$oaY$oah$oal$oa{$oa!f$oa!g$oa!i$oa!m$oa#h$oa#i$oa#j$oa#k$oa#l$oa#m$oa#n$oa#o$oa#p$oa#r$oa#t$oa#v$oa#w$oa#z$oa(T$oa(d$oa(k$oa(l$oa!W$oa!X$oa~OP$}aY$}al$}a{$}a!f$}a!g$}a!i$}a!m$}a#h$}a#i$}a#j$}a#k$}a#l$}a#m$}a#n$}a#o$}a#p$}a#r$}a#t$}a#v$}a#w$}a#z$}a(T$}a(d$}a!W$}a!X$}a~P%A_O#z$iq!W$iq!X$iq~P#CQO#z$jq!W$jq!X$jq~P#CQO!X8WO~O#z8XO~P!0kO!b#uO!W']i!h']i~O!b#uO(d'gO!W']i!h']i~O!W/VO!h(qq~O!T'_i!W'_i~P#,gO!W/_O!T(rq~O!T8_O~P#,gO!T8_O~Oe(Ry!W(Ry~P!0kO!W'ba!Y'ba~P#,gO_%Uq!Y%Uq'm%Uq!W%Uq~P#,gOY8dO~O!W0bO!X(zq~O#Y8hO!W'da!X'da~O!W4nO!X(wi~P#CQOPZXYZXlZXzZX{ZX}ZX!TZX!WZX!fZX!gZX!iZX!mZX#YZX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!b%SX#p%SX~P&2_O!Y0zO%b8lO~O'xTO'{UO(W8qO~O!W1VO!X(xq~O!h8tO~O!h8uO~O!h8vO~O!h8vO~P%[O#Y8yO!W#by!X#by~O!W#by!X#by~P#CQO!Y'VO%b9OO~O#z#xy!W#xy!X#xy~P#CQOP$viY$vil$vi{$vi!f$vi!g$vi!i$vi!m$vi#h$vi#i$vi#j$vi#k$vi#l$vi#m$vi#n$vi#o$vi#p$vi#r$vi#t$vi#v$vi#w$vi#z$vi(T$vi(d$vi!W$vi!X$vi~P%A_Oz)vO})wO(l){OP%YiY%Yih%Yil%Yi{%Yi!f%Yi!g%Yi!i%Yi!m%Yi#h%Yi#i%Yi#j%Yi#k%Yi#l%Yi#m%Yi#n%Yi#o%Yi#p%Yi#r%Yi#t%Yi#v%Yi#w%Yi#z%Yi(T%Yi(d%Yi(k%Yi!W%Yi!X%Yi~Oz)vO})wOP%[iY%[ih%[il%[i{%[i!f%[i!g%[i!i%[i!m%[i#h%[i#i%[i#j%[i#k%[i#l%[i#m%[i#n%[i#o%[i#p%[i#r%[i#t%[i#v%[i#w%[i#z%[i(T%[i(d%[i(k%[i(l%[i!W%[i!X%[i~O#z$jy!W$jy!X$jy~P#CQO#z#]y!W#]y!X#]y~P#CQO!b#uO!W']q!h']q~O!W/VO!h(qy~O!T'_q!W'_q~P#,gO!T9VO~P#,gO!W0bO!X(zy~O!W4nO!X(wq~O!Y0zO%b9^O~O!h9aO~O!Y'VO%b9fO~OP$vqY$vql$vq{$vq!f$vq!g$vq!i$vq!m$vq#h$vq#i$vq#j$vq#k$vq#l$vq#m$vq#n$vq#o$vq#p$vq#r$vq#t$vq#v$vq#w$vq#z$vq(T$vq(d$vq!W$vq!X$vq~P%A_OP$xqY$xql$xq{$xq!f$xq!g$xq!i$xq!m$xq#h$xq#i$xq#j$xq#k$xq#l$xq#m$xq#n$xq#o$xq#p$xq#r$xq#t$xq#v$xq#w$xq#z$xq(T$xq(d$xq!W$xq!X$xq~P%A_Oe%^!Z!W%^!Z#Y%^!Z#z%^!Z~P!0kO!W'dq!X'dq~P#CQO!W#b!Z!X#b!Z~P#CQO#e%^!ZP%^!ZY%^!Z_%^!Zl%^!Z{%^!Z!W%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z'm%^!Z(T%^!Z(d%^!Z!h%^!Z!T%^!Z'k%^!Z#Y%^!Zp%^!Z!Y%^!Z%b%^!Z!b%^!Z~P#,gOP%^!ZY%^!Zl%^!Z{%^!Z!f%^!Z!g%^!Z!i%^!Z!m%^!Z#h%^!Z#i%^!Z#j%^!Z#k%^!Z#l%^!Z#m%^!Z#n%^!Z#o%^!Z#p%^!Z#r%^!Z#t%^!Z#v%^!Z#w%^!Z#z%^!Z(T%^!Z(d%^!Z!W%^!Z!X%^!Z~P%A_Op(XX~P1qO'w!lO~P!*SO!TdX!WdX#YdX~P&2_OPZXYZXlZXzZX{ZX}ZX!WZX!WdX!fZX!gZX!iZX!mZX#YZX#YdX#edX#hZX#iZX#jZX#kZX#lZX#mZX#nZX#oZX#pZX#rZX#tZX#vZX#wZX#|ZX(TZX(dZX(kZX(lZX~O!bdX!hZX!hdX(ddX~P&GuOP9qOQ9qOb;bOc!iOjkOl9qOmkOnkOtkOv9qOx9qO}WO!RkO!SkO!YXO!d9tO!iZO!l9qO!m9qO!n9qO!p9uO!r9xO!u!hO$R!kO$VfO'v)UO'xTO'{UO(TVO(c[O(p;`O~O!W:VO!X$la~Oj%SOl$tOm$sOn$sOt%TOv%UOx:]O}${O!Y$|O!d;gO!i$xO#d:cO$R%YO$n:_O$p:aO$s%ZO'v(lO'xTO'{UO(P%RO(T$uO~O#q)]O~P&LkO!XZX!XdX~P&GuO#e9yO~O!b#uO#e9yO~O#Y:ZO~O#p:OO~O#Y:eO!W(iX!X(iX~O#Y:ZO!W(gX!X(gX~O#e:fO~Oe:hO~P!0kO#e:mO~O#e:nO~O!b#uO#e:oO~O!b#uO#e:fO~O#z:pO~P#CQO#e:qO~O#e:rO~O#e:sO~O#e:tO~O#e:uO~O#e:vO~O#z:wO~P!0kO#z:xO~P!0kO$V~!g!}#O#Q#R#U#c#d#o(p$n$p$s%V%a%b%c%j%l%o%p%r%t~'qR$V(p#i!S'o'w#jm#h#klz'p(W'p'v$X$Z$X~\",\n  goto: \"$'R)OPPPP)PPP)SP)eP*t.xPPPP5YPP5pP;l>sP?WP?WPPP?WP@xP?WP?WP?WP@|PPARPAlPFdPPPFhPPPPFhIiPPPIoJjPFhPLxPPPP! WFhPPPFhPFhP!#fFhP!&z!'|!(VP!(y!(}!(yPPPPP!,Y!'|PP!,v!-pP!0dFhFh!0i!3s!8Y!8Y!<OPPP!<VFhPPPPPPPPPPP!?dP!@uPPFh!BSPFhPFhFhFhFhPFh!CfPP!FnP!IrP!Iv!JQ!JU!JUP!FkP!JY!JYP!M^P!MbFhFh!Mh#!k?WP?WP?W?WP##v?W?W#%r?W#(R?W#)w?W?W#*f#,d#,d#,h#,p#,d#,xP#,dP?W#-b?W#.k?W?W5YPPP#/wPPP#0b#0bP#0bP#0x#0bPP#1OP#0uP#0u#1c#0u#1}#2T5V)S#2W)SP#2_#2_#2_P)SP)SP)SP)SPP)SP#2e#2hP#2h)SP#2lP#2oP)SP)SP)SP)SP)SP)S)SPP#2u#2{#3W#3^#3d#3j#3p#4O#4U#4[#4f#4l#4v#5V#5]#5}#6a#6g#6m#6{#7b#8s#9R#9X#9_#9e#9k#9u#9{#:R#:]#:o#:uPPPPPPPPPP#:{PPPPPPP#;p#>wP#@W#@_#@gPPPP#Du#Gl#NT#NW#NZ$ S$ V$ Y$ a$ iPP$ o$ s$!k$#j$#n$$SPP$$W$$^$$bP$$e$$i$$l$%b$%y$&b$&f$&i$&l$&r$&u$&y$&}R!{RoqOXst!Z#c%f&i&k&l&n,b,g1g1jY!uQ'V-S0z4uQ%lvQ%tyQ%{|Q&a!VS&}!e,zQ']!iS'c!r!xS*_$|*dQ+`%uQ+m%}Q,R&ZQ-Q'UQ-['^Q-d'dQ/p*fQ1U,SR:d9u%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7yS#p]9r!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ*o%VQ+e%wQ,T&^Q,[&fQ.X:[Q0W+WQ0[+YQ0g+fQ1^,YQ2k.UQ4`0bQ5T1VQ6R2oQ6X:]Q6z4aR8P6S&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;ct!nQ!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4w$^$si#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ&O|Q&{!eS'R%b,}Q+e%wQ/{*sQ0g+fQ0l+lQ1],XQ1^,YQ4`0bQ4i0nQ5W1XQ5X1[Q6z4aQ6}4fQ7h5ZQ8g7OR8r7ernOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR,V&b&v^OPXYstuvwz!Z!`!g!j!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;b;c[#[WZ#V#Y'O'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q%oxQ%syS%x|%}Q&U!TQ'Y!hQ'[!iQ(g#rS*R$x*VS+_%t%uQ+c%wQ+|&XQ,Q&ZS-Z']'^Q.W(hQ/Z*SQ0`+`Q0f+fQ0h+gQ0k+kQ1P+}S1T,R,SQ2X-[Q3g/VQ4_0bQ4c0eQ4h0mQ5S1UQ6d3hQ6y4aQ6|4eQ8c6xR9X8dv$zi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i!S%qy!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zQ+X%oQ+r&RQ+u&SQ,P&ZQ.V(gQ1O+|U1S,Q,R,SQ2p.WQ4}1PS5R1T1UQ7d5S#O;d#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg;e:X:Y:_:a:c:j:l:n:r:t:xW%Pi%R*l;`S&R!Q&`Q&S!RQ&T!SR+p&P$_%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mT)r$u)sV*p%V:[:]U'R!e%b,}S(u#y#zQ+j%zS.P(c(dQ0u+vQ4P/yR7S4n&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c$i$`c#X#d%j%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.j.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VT#SV#T&}kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ'P!eR1|,zv!nQ!e!r!u!x!y&}'U'V'c'd'e,z-Q-S-d0z4u4wS*^$|*dS/h*_*fQ/q*gQ0w+xQ3z/pR3}/snqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&p!^Q'm!wS(i#t9yQ+]%rQ+z&UQ+{&WQ-X'ZQ-f'fS.](n:fS0O*x:oQ0^+^Q0y+yQ1n,iQ1p,jQ1x,uQ2V-YQ2Y-^S4U0P:uQ4Z0_S4^0a:vQ5m1zQ5q2WQ5v2_Q6w4[Q7t5oQ7u5rQ7x5wR8x7q$d$_c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(f#o'`U*i$}(m3ZS+S%j.jQ2l0WQ6O2kQ8O6RR9P8P$d$^c#X#d%k%m'x(O(j(q(y(z({(|(})O)P)Q)R)S)T)V)Y)^)h+T+i,x-g-l-q-s.^.d.h.k.l.{/}1v1y2Z2b2v2{2|2}3O3P3Q3R3S3T3U3V3W3X3[3]3b4T4]5n5t5y6V6W6]6^7U7s7w8Q8U8V8{9Z9b9s;VS(e#o'`S(w#z$_S+R%j.jS.Q(d(fQ.m)XQ0T+SR2i.R&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS#p]9rQ&k!XQ&l!YQ&n![Q&o!]R1f,eQ'W!hQ+U%oQ-V'YS.S(g+XQ2T-UW2m.V.W0V0XQ5p2UU5}2j2l2pS7{6O6QS8}7}8OS9d8|9PQ9l9eR9o9mU!vQ'V-ST4s0z4u!Q_OXZ`st!V!Z#c#g%^%f&`&b&i&k&l&n(`,b,g-y1g1j]!pQ!r'V-S0z4uT#p]9r%Y{OPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS(u#y#zS.P(c(d!s:|$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cY!tQ'V-S0z4uQ'b!rS'l!u!xS'n!y4wS-c'c'dQ-e'eR2`-dQ'k!tS([#f1aS-b'b'nQ/Y*RQ/f*^Q2a-eQ3l/ZS3u/g/qQ6c3gS6n3{3}Q8Z6dR8b6qQ#vbQ'j!tS(Z#f1aS(]#l*wQ*y%_Q+Z%pQ+a%vU-a'b'k'nQ-u([Q/X*RQ/e*^Q/k*aQ0]+[Q1Q,OS2^-b-eQ2f-}S3k/Y/ZS3t/f/qQ3w/jQ3y/lQ5P1RQ5x2aQ6b3gQ6f3lS6j3u3}Q6o3|Q7b5QS8Y6c6dQ8^6kQ8`6nQ8o7cQ9T8ZQ9U8_Q9W8bQ9`8pQ9h9VQ;P:zQ;[;TR;];UV!vQ'V-S%YaOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yS#vz!j!r:y$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;P;b%YbOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yQ%_j!S%py!i!t%s%t%u&|'[']'^'b'l*^+_+`,w-Z-[-c/h0`2Q2X2`3zS%vz!jQ+[%qQ,O&ZW1R,P,Q,R,SU5Q1S1T1US7c5R5SQ8p7d!r:z$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ;T;aR;U;b$|eOPXYstuvw!Z!`!g!o#R#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7yY#aWZ#V#Y'y!S%cm#g#h#k%^%a(S(^(_(`*z*{*},^,t-r-x-y-z-|1o2g2h5k5|Q,]&f!p:{$[$m)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cR;O'OS'S!e%bR2O,}%OdOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|,_,b,g-W-`-n-t.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2w4r4|5^5_5b5u7Z7`7o7y!r)W$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cQ,[&fQ0W+WQ2k.UQ6R2oR8P6S!f$Uc#X%j'x(O(j(q)Q)R)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!T:Q)V)h,x.j1v1y2{3T3U3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!b$Wc#X%j'x(O(j(q)S)T)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9s!P:S)V)h,x.j1v1y2{3V3W3[3b5n6W6]6^7U7s8Q8U8V9Z9b;V!^$[c#X%j'x(O(j(q)Y)^+i-g-l-q-s.^.d.{/}2Z2b2v3X4T4]5t5y6V7w8{9sQ3f/Tz;c)V)h,x.j1v1y2{3[3b5n6W6]6^7U7s8Q8U8V9Z9b;VQ;h;jR;i;k&|kOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cS$nh$oR3_.p'TgOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$jf$pQ$hfS)a$k)eR)m$pT$if$pT)c$k)e'ThOPWXYZhstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$[$a$e$m$o%f%l%y&b&e&f&i&k&l&n&r&z'O'X'i'y'{(R(Y(n(r(v)j)u*x*|+W,_,b,g,s,v-W-`-n-t.U.b.i.p.q/z0P0a0}1_1`1b1d1g1j1l1{2]2c2o2w3^4p4r4|5^5_5b5l5u6S7Z7`7o7y8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;cT$nh$oQ$qhR)l$o%YjOPWXYZstuvw!Z!`!g!o#R#V#Y#c#n#t#x#{$O$P$Q$R$S$T$U$V$W$X$Y$a$e%f%l%y&b&e&f&i&k&l&n&r&z'X'i'y'{(R(Y(n(r(v)u*x*|+W,_,b,g-W-`-n-t.U.b.i/z0P0a0}1_1`1b1d1g1j1l2]2c2o2w4r4|5^5_5b5u6S7Z7`7o7y!s;a$[$m'O)j,s,v.q1{3^4p5l8h8y9q9t9u9x9y9z9{9|9}:O:P:Q:R:S:T:U:V:Z:d:e:f:h:o:p:u:v;c#clOPXZst!Z!`!o#R#c#n#{$m%f&b&e&f&i&k&l&n&r&z'X(v)j*|+W,_,b,g-W.U.q/z0}1_1`1b1d1g1j1l2o3^4r4|5^5_5b6S7Z7`7ov$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mQ*t%ZQ.|)vg3Z:X:Y:_:a:c:j:l:n:r:t:xv$yi#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;iQ*W$zS*a$|*dQ*u%[Q/l*b#O;R#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mf;S:X:Y:_:a:c:j:l:n:r:t:xQ;W;dQ;X;eQ;Y;fR;Z;gv$}i#w%W%X%])z)|*U*j*k._/^/|3f4O8X;`;h;i#O(m#u$c$d$x${)q)w)}*[+V+Y+q+t.T/P/_/a0q0t0|2n3p3x4W4Y4{6P6g6p7]7|8l9O9^9f:^:`:b:i:k:m:q:s:w;l;mg3Z:X:Y:_:a:c:j:l:n:r:t:xnoOXst!Z#c%f&i&k&l&n,b,g1g1jQ*Z${Q,p&uQ,q&wR3o/_$^%Oi#u#w$c$d$x${%W%X%])q)w)z)|)}*U*[*j*k+V+Y+q+t.T._/P/^/_/a/|0q0t0|2n3f3p3x4O4W4Y4{6P6g6p7]7|8X8l9O9^9f:X:Y:^:_:`:a:b:c:i:j:k:l:m:n:q:r:s:t:w:x;`;h;i;l;mQ+s&SQ0s+uQ4l0rR7R4mT*c$|*dS*c$|*dT4t0z4uS/j*`4rT3|/r7ZQ+Z%pQ/k*aQ0]+[Q1Q,OQ5P1RQ7b5QQ8o7cR9`8pn)z$v(o*v/]/t/u2t3m4S6a6r9S;Q;^;_!Y:i(k)[*Q*Y.[.x.}/T/b0U0p0r2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k]:j3Y6[8R9Q9R9pp)|$v(o*v/R/]/t/u2t3m4S6a6r9S;Q;^;_![:k(k)[*Q*Y.[.x.}/T/b0U0p0r2q2s3n3r4k4m6T6U6h6l6t6v8]8a9g;j;k_:l3Y6[8R8S9Q9R9prnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ&]!UR,_&frnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jR&]!UQ+w&TR0o+psnOXst!V!Z#c%f&`&i&k&l&n,b,g1g1jQ0{+|S4z1O1PU7[4x4y4}S8k7^7_S9[8j8mQ9i9]R9n9jQ&d!VR,W&`R5W1XS%x|%}R0h+gQ&i!WR,b&jR,h&oT1h,g1jR,l&pQ,k&pR1q,lQ'p!zR-h'pSsOtQ#cXT%is#cQ!}TR'r!}Q#QUR't#QQ)s$uR.y)sQ#TVR'v#TQ#WWU'|#W'}-oQ'}#XR-o(OQ,{'PR1},{Q.`(oR2u.`Q.c(qS2x.c2yR2y.dQ-S'VR2R-SY!rQ'V-S0z4uR'a!rS#^W%aU(T#^(U-pQ(U#_R-p(PQ-O'SR2P-Ot`OXst!V!Z#c%f&`&b&i&k&l&n,b,g1g1jS#gZ%^U#q`#g-yR-y(`Q(a#iQ-v(]W.O(a-v2d5zQ2d-wR5z2eQ)e$kR.r)eQ$ohR)k$oQ$bcU)Z$b-k:WQ-k9sR:W)hQ/W*RW3i/W3j6e8[U3j/X/Y/ZS6e3k3lR8[6f#o)x$v(k(o)[*Q*Y*q*r*v.Y.Z.[.x.}/R/S/T/]/b/t/u0U0p0r2q2r2s2t3Y3m3n3r4S4k4m6T6U6Y6Z6[6a6h6l6r6t6v8R8S8T8]8a9Q9R9S9g9p;Q;^;_;j;kQ/`*YU3q/`3s6iQ3s/bR6i3rQ*d$|R/n*dQ*m%QR/w*mQ4X0UR6u4XQ+O%dR0S+OQ4o0uS7T4o8iR8i7UQ+y&UR0x+yQ4u0zR7X4uQ1W,TS5U1W7fR7f5WQ0c+cW4b0c4d6{8eQ4d0fQ6{4cR8e6|Q+h%xR0i+hQ1j,gR5f1jYrOXst#cQ&m!ZQ+Q%fQ,a&iQ,c&kQ,d&lQ,f&nQ1e,bS1h,g1jR5e1gQ%hpQ&q!_Q&t!aQ&v!bQ&x!cQ'h!tQ+P%eQ+]%rQ+o&OQ,V&dQ,n&sW-_'b'j'k'nQ-f'fQ/m*cQ0^+^S1Z,W,ZQ1r,mQ1s,pQ1t,qQ2Y-^W2[-a-b-e-gQ4Z0_Q4g0lQ4j0pQ5O1QQ5Y1]Q5d1fU5s2Z2^2aQ5v2_Q6w4[Q7P4iQ7Q4kQ7W4tQ7a5PQ7g5XS7v5t5xQ7x5wQ8f6}Q8n7bQ8s7hQ8z7wQ9Y8gQ9_8oQ9c8{R9k9`Q%ryQ'Z!iQ'f!tU+^%s%t%uQ,u&|U-Y'[']'^S-^'b'lQ/d*^S0_+_+`Q1z,wS2W-Z-[Q2_-cQ3v/hQ4[0`Q5o2QQ5r2XQ5w2`R6m3zS$wi;`R*n%RU%Qi%R;`R/v*lQ$viS(k#u+YQ(o#wS)[$c$dQ*Q$xQ*Y${Q*q%WQ*r%XQ*v%]Q.Y:^Q.Z:`Q.[:bQ.x)qS.})w/PQ/R)zQ/S)|Q/T)}Q/]*UQ/b*[Q/t*jQ/u*kh0U+V.T0|2n4{6P7]7|8l9O9^9fQ0p+qQ0r+tQ2q:iQ2r:kQ2s:mQ2t._S3Y:X:YQ3m/^Q3n/_Q3r/aQ4S/|Q4k0qQ4m0tQ6T:qQ6U:sQ6Y:_Q6Z:aQ6[:cQ6a3fQ6h3pQ6l3xQ6r4OQ6t4WQ6v4YQ8R:nQ8S:jQ8T:lQ8]6gQ8a6pQ9Q:rQ9R:tQ9S8XQ9g:wQ9p:xQ;Q;`Q;^;hQ;_;iQ;j;lR;k;mnpOXst!Z#c%f&i&k&l&n,b,g1g1jQ!fPS#eZ#nQ&s!`U'_!o4r7ZQ'u#RQ(x#{Q)i$mS,Z&b&eQ,`&fQ,m&rQ,r&zQ-U'XQ.f(vQ.v)jQ0Q*|Q0X+WQ1c,_Q2U-WQ2l.UQ3a.qQ4Q/zQ4y0}Q5[1_Q5]1`Q5a1bQ5c1dQ5h1lQ6O2oQ6_3^Q7_4|Q7k5^Q7l5_Q7n5bQ8O6SQ8m7`R8w7o#WcOPXZst!Z!`!o#c#n#{%f&b&e&f&i&k&l&n&r&z'X(v*|+W,_,b,g-W.U/z0}1_1`1b1d1g1j1l2o4r4|5^5_5b6S7Z7`7oQ#XWQ#dYQ%juQ%kvS%mw!gS'x#V'{Q(O#YQ(j#tQ(q#xQ(y$OQ(z$PQ({$QQ(|$RQ(}$SQ)O$TQ)P$UQ)Q$VQ)R$WQ)S$XQ)T$YQ)V$[Q)Y$aQ)^$eW)h$m)j.q3^Q+T%lQ+i%yS,x'O1{Q-g'iS-l'y-nQ-q(RQ-s(YQ.^(nQ.d(rQ.h9qQ.j9tQ.k9uQ.l9xQ.{)uQ/}*xQ1v,sQ1y,vQ2Z-`Q2b-tQ2v.bQ2{9yQ2|9zQ2}9{Q3O9|Q3P9}Q3Q:OQ3R:PQ3S:QQ3T:RQ3U:SQ3V:TQ3W:UQ3X.iQ3[:ZQ3]:dQ3b:VQ4T0PQ4]0aQ5n:eQ5t2]Q5y2cQ6V2wQ6W:fQ6]:hQ6^:oQ7U4pQ7s5lQ7w5uQ8Q:pQ8U:uQ8V:vQ8{7yQ9Z8hQ9b8yQ9s#RR;V;cR#ZWR'Q!eY!tQ'V-S0z4uS&|!e,zQ'b!rS'l!u!xS'n!y4wS,w&}'US-c'c'dQ-e'eQ2Q-QR2`-dR(p#wR(s#xQ!fQT-R'V-S]!qQ!r'V-S0z4uQ#o]R'`9rT#jZ%^S#iZ%^S%dm,^U(]#g#h#kS-w(^(_Q-{(`Q0R*}Q2e-xU2f-y-z-|S5{2g2hR7z5|`#]W#V#Y%a'y(S*z-rr#fZm#g#h#k%^(^(_(`*}-x-y-z-|2g2h5|Q1a,^Q1w,tQ5j1oQ7r5kT:}'O*{T#`W%aS#_W%aS'z#V(SS(P#Y*zS,y'O*{T-m'y-rT'T!e%bQ$kfR)o$pT)d$k)eR3`.pT*T$x*VR*]${Q0V+VQ2j.TQ4x0|Q6Q2nQ7^4{Q7}6PQ8j7]Q8|7|Q9]8lQ9e9OQ9j9^R9m9fnqOXst!Z#c%f&i&k&l&n,b,g1g1jQ&c!VR,V&`tmOXst!U!V!Z#c%f&`&i&k&l&n,b,g1g1jR,^&fT%em,^R0v+vR,U&^Q%||R+n%}R+d%wT&g!W&jT&h!W&jT1i,g1j\",\n  nodeNames: \"⚠ ArithOp ArithOp LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > TypeParamList TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies in const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem\",\n  maxTerm: 367,\n  context: trackNewline,\n  nodeProps: [\n    [\"group\", -26,7,15,17,63,200,204,208,209,211,214,217,227,229,235,237,239,241,244,250,256,258,260,262,264,266,267,\"Statement\",-32,11,12,26,29,30,36,46,49,50,52,57,65,73,77,79,81,82,104,105,114,115,132,135,137,138,139,140,142,143,163,164,166,\"Expression\",-23,25,27,31,35,37,39,167,169,171,172,174,175,176,178,179,180,182,183,184,194,196,198,199,\"Type\",-3,85,97,103,\"ClassItem\"],\n    [\"openedBy\", 32,\"InterpolationStart\",51,\"[\",55,\"{\",70,\"(\",144,\"JSXStartTag\",156,\"JSXStartTag JSXStartCloseTag\"],\n    [\"closedBy\", 34,\"InterpolationEnd\",45,\"]\",56,\"}\",71,\")\",145,\"JSXSelfCloseEndTag JSXEndTag\",161,\"JSXEndTag\"]\n  ],\n  propSources: [jsHighlight],\n  skippedNodes: [0,3,4,270],\n  repeatNodeCount: 33,\n  tokenData: \"$Fl(CSR!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#8g!R![#:v![!]#Gv!]!^#IS!^!_#J^!_!`#Nu!`!a$#a!a!b$(n!b!c$,m!c!}Er!}#O$-w#O#P$/R#P#Q$4j#Q#R$5t#R#SEr#S#T$7R#T#o$8]#o#p$<m#p#q$=c#q#r$>s#r#s$@P#s$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$I|Er$I|$I}$Df$I}$JO$Df$JO$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(n%d_$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z(CS+rq$e&j'yp'|!b'o(;dOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z(CS.ST'z#S$e&j'p(;dO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c(CS.n_$e&j'yp'|!b'p(;dOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`/x`$e&j!m$Ip'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S1V`#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S2d_#r$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b3l_'x$(n$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k*r4r_$e&j'|!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k)`5vX$e&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q)`6jT$`#t$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#t6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y#t7bO$`#t#t7eP;=`<%l6y)`7kP;=`<%l5q*r7w]$`#t$e&j'|!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}%W8uZ'|!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p%W9oU$`#t'|!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}%W:UP;=`<%l8p*r:[P;=`<%l4k#%|:hh$e&j'yp'|!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__US$e&j'yp'|!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]US$e&j'|!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXUS$e&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSUSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWUS'|!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]US$e&j'ypOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWUS'ypOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYUS'yp'|!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S#%|C}i$e&j(c!L^'yp'|!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr#%|EoP;=`<%lCr(CSFRk$e&j'yp'|!b(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$e&j'yp'|!b$X#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv(CSJPP;=`<%lEr%#SJ_`$e&j'yp'|!b#j$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SKl_$e&j#|$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%DfLva(l%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#SNW`$e&j#v$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$2b! c_'{$)`$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b*Q!!i_$e&j'ypOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b)`!#mX$e&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h#t!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y#t!$oP;=`<%l!$Y)`!$uP;=`<%l!#h*Q!%R]$`#t$e&j'ypOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r$f!&PZ'ypOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z$f!&yU$`#t'ypOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r$f!'`P;=`<%l!%z*Q!'fP;=`<%l!!b(*Q!'t_!i(!b$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'l!)O_!hM|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h!*[b$e&j'yp'|!b'w#)d#k$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S!+o`$e&j'yp'|!b#h$IdOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&-O!,|`$e&j'yp'|!bl&%`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&C[!.Z_!W&;l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!/ec$e&j'yp'|!bz'<nOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!0ya$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z!'d!2Z_!VMt$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!3eg$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!5Vg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!6wc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l!8_c$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS!9uf$e&j'yp'|!b#i$IdOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpxz!;Zz{#,f{!P!;Z!P!Q#-{!Q!^!;Z!^!_#'Z!_!`#5k!`!a#7Q!a!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(r!;fb$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(Q!<w`$e&j'|!b!SSOY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eb!Q!^!<n!^!_!GY!_!}!<n!}#O!Ja#O#P!Dj#P#o!<n#o#p!GY#p;'S!<n;'S;=`!Kj<%lO!<n&n!>Q^$e&j!SSOY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@Y!_!}!=y!}#O!Bw#O#P!Dj#P#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!?Ta$e&j!SSO!^&c!_#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&cS!@_X!SSOY!@YZ!P!@Y!P!Q!@z!Q!}!@Y!}#O!Ac#O#P!Bb#P;'S!@Y;'S;=`!Bq<%lO!@YS!APU!SS#Z#[!@z#]#^!@z#a#b!@z#g#h!@z#i#j!@z#m#n!@zS!AfVOY!AcZ#O!Ac#O#P!A{#P#Q!@Y#Q;'S!Ac;'S;=`!B[<%lO!AcS!BOSOY!AcZ;'S!Ac;'S;=`!B[<%lO!AcS!B_P;=`<%l!AcS!BeSOY!@YZ;'S!@Y;'S;=`!Bq<%lO!@YS!BtP;=`<%l!@Y&n!B|[$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#O!Bw#O#P!Cr#P#Q!=y#Q#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!CwX$e&jOY!BwYZ&cZ!^!Bw!^!_!Ac!_#o!Bw#o#p!Ac#p;'S!Bw;'S;=`!Dd<%lO!Bw&n!DgP;=`<%l!Bw&n!DoX$e&jOY!=yYZ&cZ!^!=y!^!_!@Y!_#o!=y#o#p!@Y#p;'S!=y;'S;=`!E[<%lO!=y&n!E_P;=`<%l!=y(Q!Eki$e&j'|!b!SSOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#Z&}#Z#[!Eb#[#]&}#]#^!Eb#^#a&}#a#b!Eb#b#g&}#g#h!Eb#h#i&}#i#j!Eb#j#m&}#m#n!Eb#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!f!GaZ'|!b!SSOY!GYZw!GYwx!@Yx!P!GY!P!Q!HS!Q!}!GY!}#O!Ic#O#P!Bb#P;'S!GY;'S;=`!JZ<%lO!GY!f!HZb'|!b!SSOY'}Zw'}x#O'}#P#Z'}#Z#[!HS#[#]'}#]#^!HS#^#a'}#a#b!HS#b#g'}#g#h!HS#h#i'}#i#j!HS#j#m'}#m#n!HS#n;'S'};'S;=`(f<%lO'}!f!IhX'|!bOY!IcZw!Icwx!Acx#O!Ic#O#P!A{#P#Q!GY#Q;'S!Ic;'S;=`!JT<%lO!Ic!f!JWP;=`<%l!Ic!f!J^P;=`<%l!GY(Q!Jh^$e&j'|!bOY!JaYZ&cZw!Jawx!Bwx!^!Ja!^!_!Ic!_#O!Ja#O#P!Cr#P#Q!<n#Q#o!Ja#o#p!Ic#p;'S!Ja;'S;=`!Kd<%lO!Ja(Q!KgP;=`<%l!Ja(Q!KmP;=`<%l!<n'`!Ky`$e&j'yp!SSOY!KpYZ&cZr!Kprs!=ys!P!Kp!P!Q!L{!Q!^!Kp!^!_!Ns!_!}!Kp!}#O##z#O#P!Dj#P#o!Kp#o#p!Ns#p;'S!Kp;'S;=`#%T<%lO!Kp'`!MUi$e&j'yp!SSOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#Z(r#Z#[!L{#[#](r#]#^!L{#^#a(r#a#b!L{#b#g(r#g#h!L{#h#i(r#i#j!L{#j#m(r#m#n!L{#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rt!NzZ'yp!SSOY!NsZr!Nsrs!@Ys!P!Ns!P!Q# m!Q!}!Ns!}#O#!|#O#P!Bb#P;'S!Ns;'S;=`##t<%lO!Nst# tb'yp!SSOY)rZr)rs#O)r#P#Z)r#Z#[# m#[#])r#]#^# m#^#a)r#a#b# m#b#g)r#g#h# m#h#i)r#i#j# m#j#m)r#m#n# m#n;'S)r;'S;=`*Z<%lO)rt##RX'ypOY#!|Zr#!|rs!Acs#O#!|#O#P!A{#P#Q!Ns#Q;'S#!|;'S;=`##n<%lO#!|t##qP;=`<%l#!|t##wP;=`<%l!Ns'`#$R^$e&j'ypOY##zYZ&cZr##zrs!Bws!^##z!^!_#!|!_#O##z#O#P!Cr#P#Q!Kp#Q#o##z#o#p#!|#p;'S##z;'S;=`#$}<%lO##z'`#%QP;=`<%l##z'`#%WP;=`<%l!Kp(r#%fk$e&j'yp'|!b!SSOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#Z%Z#Z#[#%Z#[#]%Z#]#^#%Z#^#a%Z#a#b#%Z#b#g%Z#g#h#%Z#h#i%Z#i#j#%Z#j#m%Z#m#n#%Z#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#W#'d]'yp'|!b!SSOY#'ZZr#'Zrs!GYsw#'Zwx!Nsx!P#'Z!P!Q#(]!Q!}#'Z!}#O#)w#O#P!Bb#P;'S#'Z;'S;=`#*w<%lO#'Z#W#(fe'yp'|!b!SSOY*gZr*grs'}sw*gwx)rx#O*g#P#Z*g#Z#[#(]#[#]*g#]#^#(]#^#a*g#a#b#(]#b#g*g#g#h#(]#h#i*g#i#j#(]#j#m*g#m#n#(]#n;'S*g;'S;=`+Z<%lO*g#W#*OZ'yp'|!bOY#)wZr#)wrs!Icsw#)wwx#!|x#O#)w#O#P!A{#P#Q#'Z#Q;'S#)w;'S;=`#*q<%lO#)w#W#*tP;=`<%l#)w#W#*zP;=`<%l#'Z(r#+W`$e&j'yp'|!bOY#*}YZ&cZr#*}rs!Jasw#*}wx##zx!^#*}!^!_#)w!_#O#*}#O#P!Cr#P#Q!;Z#Q#o#*}#o#p#)w#p;'S#*};'S;=`#,Y<%lO#*}(r#,]P;=`<%l#*}(r#,cP;=`<%l!;Z(CS#,sb$e&j'yp'|!b'q(;d!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z(CS#.W_$e&j'yp'|!bR(;dOY#-{YZ&cZr#-{rs#/Vsw#-{wx#2gx!^#-{!^!_#4f!_#O#-{#O#P#0X#P#o#-{#o#p#4f#p;'S#-{;'S;=`#5e<%lO#-{(Bb#/`]$e&j'|!bR(;dOY#/VYZ&cZw#/Vwx#0Xx!^#/V!^!_#1j!_#O#/V#O#P#0X#P#o#/V#o#p#1j#p;'S#/V;'S;=`#2a<%lO#/V(AO#0`X$e&jR(;dOY#0XYZ&cZ!^#0X!^!_#0{!_#o#0X#o#p#0{#p;'S#0X;'S;=`#1d<%lO#0X(;d#1QSR(;dOY#0{Z;'S#0{;'S;=`#1^<%lO#0{(;d#1aP;=`<%l#0{(AO#1gP;=`<%l#0X(<v#1qW'|!bR(;dOY#1jZw#1jwx#0{x#O#1j#O#P#0{#P;'S#1j;'S;=`#2Z<%lO#1j(<v#2^P;=`<%l#1j(Bb#2dP;=`<%l#/V(Ap#2p]$e&j'ypR(;dOY#2gYZ&cZr#2grs#0Xs!^#2g!^!_#3i!_#O#2g#O#P#0X#P#o#2g#o#p#3i#p;'S#2g;'S;=`#4`<%lO#2g(<U#3pW'ypR(;dOY#3iZr#3irs#0{s#O#3i#O#P#0{#P;'S#3i;'S;=`#4Y<%lO#3i(<U#4]P;=`<%l#3i(Ap#4cP;=`<%l#2g(=h#4oY'yp'|!bR(;dOY#4fZr#4frs#1jsw#4fwx#3ix#O#4f#O#P#0{#P;'S#4f;'S;=`#5_<%lO#4f(=h#5bP;=`<%l#4f(CS#5hP;=`<%l#-{%#W#5xb$e&j#|$Id'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z+h#7_b$U#t$e&j'yp'|!b!SSOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Kpx!P!;Z!P!Q#%Z!Q!^!;Z!^!_#'Z!_!}!;Z!}#O#*}#O#P!Dj#P#o!;Z#o#p#'Z#p;'S!;Z;'S;=`#,`<%lO!;Z$/l#8rp$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#U%Z#U#V#>Q#V#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#d#AY#d#l%Z#l#m#D[#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#;Rk$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#:v![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#:v#S#X%Z#X#Y!4|#Y#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#=R_$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#>Zd$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#?tf$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#?i!R!S#?i!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#?i#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Acc$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Bye$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#Bn!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#Bn#S#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#Deg$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z$/l#FXi$e&j'yp'|!bm$'|OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#E|![!^%Z!^!_*g!_!c%Z!c!i#E|!i#O%Z#O#P&c#P#R%Z#R#S#E|#S#T%Z#T#Z#E|#Z#b%Z#b#c#<v#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh#HT_!b$b$e&j#z%<f'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#I___l$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS#Jm^(P!*v!f'.r'yp'|!b$V)d(pSOY*gZr*grs'}sw*gwx)rx!P*g!P!Q#Ki!Q!^*g!^!_#L_!_!`#NP!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#KrX$g&j'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#LhZ#l$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#MZ!`#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#MdX#|$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g$Kh#NYX#m$Id'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Gh$ Qa#Y%?x$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$!V!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#W$!b_#e$Ih$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%Gh$#paeBf#m$Id$b#|$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$$u!`!a$&P!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$%Q_#m$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$&[a#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$'a!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$'l`#l$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+h$(yc(d$Ip$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P$*U!P!^%Z!^!_*g!_!a%Z!a!b$+`!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'+`$*a_{'#p$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$+k`$e&j#w$Id'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&^$,x_!y!Ln$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(@^$.S_}(8n$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/WZ$e&jO!^$/y!^!_$0a!_#i$/y#i#j$0f#j#l$/y#l#m$2X#m#o$/y#o#p$0a#p;'S$/y;'S;=`$4d<%lO$/y(n$0QT]#S$e&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0fO]#S(n$0k[$e&jO!Q&c!Q![$1a![!^&c!_!c&c!c!i$1a!i#T&c#T#Z$1a#Z#o&c#o#p$3w#p;'S&c;'S;=`&w<%lO&c(n$1fZ$e&jO!Q&c!Q![$2X![!^&c!_!c&c!c!i$2X!i#T&c#T#Z$2X#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2^Z$e&jO!Q&c!Q![$3P![!^&c!_!c&c!c!i$3P!i#T&c#T#Z$3P#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3UZ$e&jO!Q&c!Q![$/y![!^&c!_!c&c!c!i$/y!i#T&c#T#Z$/y#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$3zR!Q![$4T!c!i$4T#T#Z$4T#S$4WS!Q![$4T!c!i$4T#T#Z$4T#q#r$0a(n$4gP;=`<%l$/y!2r$4u_!T!+S$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#S$6P`#t$Id$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&,v$7^_$e&j'yp'|!b(T&%WOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$8lk$e&j'yp'|!b(W!LY'v&;d$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$8]uw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$8]![!^%Z!^!_*g!_!c%Z!c!}$8]!}#O%Z#O#P&c#P#R%Z#R#S$8]#S#T%Z#T#o$8]#o#p*g#p$g%Z$g;'S$8];'S;=`$<g<%lO$8]+d$:lk$e&j'yp'|!b$Z#tOY%ZYZ&cZr%Zrs&}st%Ztu$:auw%Zwx(rx}%Z}!O$:a!O!Q%Z!Q![$:a![!^%Z!^!_*g!_!c%Z!c!}$:a!}#O%Z#O#P&c#P#R%Z#R#S$:a#S#T%Z#T#o$:a#o#p*g#p$g%Z$g;'S$:a;'S;=`$<a<%lO$:a+d$<dP;=`<%l$:a(CS$<jP;=`<%l$8]!5p$<vX!Y!3l'yp'|!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g%Df$=na(k%<v$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+`#q;'S%Z;'S;=`+a<%lO%Z%#`$?Q_!X$I`p`$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(r$@[_!nS$e&j'yp'|!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(CS$Al|$e&j'yp'|!b'o(;d(W!LY'v&;d$X#tOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$AZ#BZ$ISEr$IS$I_$AZ$I_$JTEr$JT$JU$AZ$JU$KVEr$KV$KW$AZ$KW&FUEr&FU&FV$AZ&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$AZ?HUOEr(CS$Dwk$e&j'yp'|!b'p(;d(W!LY'v&;d$X#tOY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr\",\n  tokenizers: [noSemicolon, incdecToken, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, insertSemicolon, new LocalTokenGroup(\"$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOr~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!P~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(V~~\", 141, 328), new LocalTokenGroup(\"j~RQYZXz{^~^O's~~aP!P!Qd~iO't~~\", 25, 310)],\n  topRules: {\"Script\":[0,5],\"SingleExpression\":[1,268],\"SingleClassItem\":[2,269]},\n  dialects: {jsx: 12801, ts: 12803},\n  dynamicPrecedences: {\"67\":1,\"77\":1,\"79\":1,\"164\":1,\"192\":1},\n  specialized: [{term: 314, get: (value) => spec_identifier[value] || -1},{term: 330, get: (value) => spec_word[value] || -1},{term: 68, get: (value) => spec_LessThan[value] || -1}],\n  tokenPrec: 12827\n});\n\nexport { parser };\n","import { Parser, NodeProp, NodeSet, NodeType, DefaultBufferLength, Tree, IterMode } from '@lezer/common';\n\n/**\nA parse stack. These are used internally by the parser to track\nparsing progress. They also provide some properties and methods\nthat external code such as a tokenizer can use to get information\nabout the parse state.\n*/\nclass Stack {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The parse that this stack is part of @internal\n    */\n    p, \n    /**\n    Holds state, input pos, buffer index triplets for all but the\n    top state @internal\n    */\n    stack, \n    /**\n    The current parse state @internal\n    */\n    state, \n    // The position at which the next reduce should take place. This\n    // can be less than `this.pos` when skipped expressions have been\n    // added to the stack (which should be moved outside of the next\n    // reduction)\n    /**\n    @internal\n    */\n    reducePos, \n    /**\n    The input position up to which this stack has parsed.\n    */\n    pos, \n    /**\n    The dynamic score of the stack, including dynamic precedence\n    and error-recovery penalties\n    @internal\n    */\n    score, \n    // The output buffer. Holds (type, start, end, size) quads\n    // representing nodes created by the parser, where `size` is\n    // amount of buffer array entries covered by this node.\n    /**\n    @internal\n    */\n    buffer, \n    // The base offset of the buffer. When stacks are split, the split\n    // instance shared the buffer history with its parent up to\n    // `bufferBase`, which is the absolute offset (including the\n    // offset of previous splits) into the buffer at which this stack\n    // starts writing.\n    /**\n    @internal\n    */\n    bufferBase, \n    /**\n    @internal\n    */\n    curContext, \n    /**\n    @internal\n    */\n    lookAhead = 0, \n    // A parent stack from which this was split off, if any. This is\n    // set up so that it always points to a stack that has some\n    // additional buffer content, never to a stack with an equal\n    // `bufferBase`.\n    /**\n    @internal\n    */\n    parent) {\n        this.p = p;\n        this.stack = stack;\n        this.state = state;\n        this.reducePos = reducePos;\n        this.pos = pos;\n        this.score = score;\n        this.buffer = buffer;\n        this.bufferBase = bufferBase;\n        this.curContext = curContext;\n        this.lookAhead = lookAhead;\n        this.parent = parent;\n    }\n    /**\n    @internal\n    */\n    toString() {\n        return `[${this.stack.filter((_, i) => i % 3 == 0).concat(this.state)}]@${this.pos}${this.score ? \"!\" + this.score : \"\"}`;\n    }\n    // Start an empty stack\n    /**\n    @internal\n    */\n    static start(p, state, pos = 0) {\n        let cx = p.parser.context;\n        return new Stack(p, [], state, pos, pos, 0, [], 0, cx ? new StackContext(cx, cx.start) : null, 0, null);\n    }\n    /**\n    The stack's current [context](#lr.ContextTracker) value, if\n    any. Its type will depend on the context tracker's type\n    parameter, or it will be `null` if there is no context\n    tracker.\n    */\n    get context() { return this.curContext ? this.curContext.context : null; }\n    // Push a state onto the stack, tracking its start position as well\n    // as the buffer base at that point.\n    /**\n    @internal\n    */\n    pushState(state, start) {\n        this.stack.push(this.state, start, this.bufferBase + this.buffer.length);\n        this.state = state;\n    }\n    // Apply a reduce action\n    /**\n    @internal\n    */\n    reduce(action) {\n        var _a;\n        let depth = action >> 19 /* Action.ReduceDepthShift */, type = action & 65535 /* Action.ValueMask */;\n        let { parser } = this.p;\n        let dPrec = parser.dynamicPrecedence(type);\n        if (dPrec)\n            this.score += dPrec;\n        if (depth == 0) {\n            this.pushState(parser.getGoto(this.state, type, true), this.reducePos);\n            // Zero-depth reductions are a special case—they add stuff to\n            // the stack without popping anything off.\n            if (type < parser.minRepeatTerm)\n                this.storeNode(type, this.reducePos, this.reducePos, 4, true);\n            this.reduceContext(type, this.reducePos);\n            return;\n        }\n        // Find the base index into `this.stack`, content after which will\n        // be dropped. Note that with `StayFlag` reductions we need to\n        // consume two extra frames (the dummy parent node for the skipped\n        // expression and the state that we'll be staying in, which should\n        // be moved to `this.state`).\n        let base = this.stack.length - ((depth - 1) * 3) - (action & 262144 /* Action.StayFlag */ ? 6 : 0);\n        let start = base ? this.stack[base - 2] : this.p.ranges[0].from, size = this.reducePos - start;\n        // This is a kludge to try and detect overly deep left-associative\n        // trees, which will not increase the parse stack depth and thus\n        // won't be caught by the regular stack-depth limit check.\n        if (size >= 2000 /* Recover.MinBigReduction */ && !((_a = this.p.parser.nodeSet.types[type]) === null || _a === void 0 ? void 0 : _a.isAnonymous)) {\n            if (start == this.p.lastBigReductionStart) {\n                this.p.bigReductionCount++;\n                this.p.lastBigReductionSize = size;\n            }\n            else if (this.p.lastBigReductionSize < size) {\n                this.p.bigReductionCount = 1;\n                this.p.lastBigReductionStart = start;\n                this.p.lastBigReductionSize = size;\n            }\n        }\n        let bufferBase = base ? this.stack[base - 1] : 0, count = this.bufferBase + this.buffer.length - bufferBase;\n        // Store normal terms or `R -> R R` repeat reductions\n        if (type < parser.minRepeatTerm || (action & 131072 /* Action.RepeatFlag */)) {\n            let pos = parser.stateFlag(this.state, 1 /* StateFlag.Skipped */) ? this.pos : this.reducePos;\n            this.storeNode(type, start, pos, count + 4, true);\n        }\n        if (action & 262144 /* Action.StayFlag */) {\n            this.state = this.stack[base];\n        }\n        else {\n            let baseStateID = this.stack[base - 3];\n            this.state = parser.getGoto(baseStateID, type, true);\n        }\n        while (this.stack.length > base)\n            this.stack.pop();\n        this.reduceContext(type, start);\n    }\n    // Shift a value into the buffer\n    /**\n    @internal\n    */\n    storeNode(term, start, end, size = 4, isReduce = false) {\n        if (term == 0 /* Term.Err */ &&\n            (!this.stack.length || this.stack[this.stack.length - 1] < this.buffer.length + this.bufferBase)) {\n            // Try to omit/merge adjacent error nodes\n            let cur = this, top = this.buffer.length;\n            if (top == 0 && cur.parent) {\n                top = cur.bufferBase - cur.parent.bufferBase;\n                cur = cur.parent;\n            }\n            if (top > 0 && cur.buffer[top - 4] == 0 /* Term.Err */ && cur.buffer[top - 1] > -1) {\n                if (start == end)\n                    return;\n                if (cur.buffer[top - 2] >= start) {\n                    cur.buffer[top - 2] = end;\n                    return;\n                }\n            }\n        }\n        if (!isReduce || this.pos == end) { // Simple case, just append\n            this.buffer.push(term, start, end, size);\n        }\n        else { // There may be skipped nodes that have to be moved forward\n            let index = this.buffer.length;\n            if (index > 0 && this.buffer[index - 4] != 0 /* Term.Err */)\n                while (index > 0 && this.buffer[index - 2] > end) {\n                    // Move this record forward\n                    this.buffer[index] = this.buffer[index - 4];\n                    this.buffer[index + 1] = this.buffer[index - 3];\n                    this.buffer[index + 2] = this.buffer[index - 2];\n                    this.buffer[index + 3] = this.buffer[index - 1];\n                    index -= 4;\n                    if (size > 4)\n                        size -= 4;\n                }\n            this.buffer[index] = term;\n            this.buffer[index + 1] = start;\n            this.buffer[index + 2] = end;\n            this.buffer[index + 3] = size;\n        }\n    }\n    // Apply a shift action\n    /**\n    @internal\n    */\n    shift(action, type, start, end) {\n        if (action & 131072 /* Action.GotoFlag */) {\n            this.pushState(action & 65535 /* Action.ValueMask */, this.pos);\n        }\n        else if ((action & 262144 /* Action.StayFlag */) == 0) { // Regular shift\n            let nextState = action, { parser } = this.p;\n            if (end > this.pos || type <= parser.maxNode) {\n                this.pos = end;\n                if (!parser.stateFlag(nextState, 1 /* StateFlag.Skipped */))\n                    this.reducePos = end;\n            }\n            this.pushState(nextState, start);\n            this.shiftContext(type, start);\n            if (type <= parser.maxNode)\n                this.buffer.push(type, start, end, 4);\n        }\n        else { // Shift-and-stay, which means this is a skipped token\n            this.pos = end;\n            this.shiftContext(type, start);\n            if (type <= this.p.parser.maxNode)\n                this.buffer.push(type, start, end, 4);\n        }\n    }\n    // Apply an action\n    /**\n    @internal\n    */\n    apply(action, next, nextStart, nextEnd) {\n        if (action & 65536 /* Action.ReduceFlag */)\n            this.reduce(action);\n        else\n            this.shift(action, next, nextStart, nextEnd);\n    }\n    // Add a prebuilt (reused) node into the buffer.\n    /**\n    @internal\n    */\n    useNode(value, next) {\n        let index = this.p.reused.length - 1;\n        if (index < 0 || this.p.reused[index] != value) {\n            this.p.reused.push(value);\n            index++;\n        }\n        let start = this.pos;\n        this.reducePos = this.pos = start + value.length;\n        this.pushState(next, start);\n        this.buffer.push(index, start, this.reducePos, -1 /* size == -1 means this is a reused value */);\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.reuse(this.curContext.context, value, this, this.p.stream.reset(this.pos - value.length)));\n    }\n    // Split the stack. Due to the buffer sharing and the fact\n    // that `this.stack` tends to stay quite shallow, this isn't very\n    // expensive.\n    /**\n    @internal\n    */\n    split() {\n        let parent = this;\n        let off = parent.buffer.length;\n        // Because the top of the buffer (after this.pos) may be mutated\n        // to reorder reductions and skipped tokens, and shared buffers\n        // should be immutable, this copies any outstanding skipped tokens\n        // to the new buffer, and puts the base pointer before them.\n        while (off > 0 && parent.buffer[off - 2] > parent.reducePos)\n            off -= 4;\n        let buffer = parent.buffer.slice(off), base = parent.bufferBase + off;\n        // Make sure parent points to an actual parent with content, if there is such a parent.\n        while (parent && base == parent.bufferBase)\n            parent = parent.parent;\n        return new Stack(this.p, this.stack.slice(), this.state, this.reducePos, this.pos, this.score, buffer, base, this.curContext, this.lookAhead, parent);\n    }\n    // Try to recover from an error by 'deleting' (ignoring) one token.\n    /**\n    @internal\n    */\n    recoverByDelete(next, nextEnd) {\n        let isNode = next <= this.p.parser.maxNode;\n        if (isNode)\n            this.storeNode(next, this.pos, nextEnd, 4);\n        this.storeNode(0 /* Term.Err */, this.pos, nextEnd, isNode ? 8 : 4);\n        this.pos = this.reducePos = nextEnd;\n        this.score -= 190 /* Recover.Delete */;\n    }\n    /**\n    Check if the given term would be able to be shifted (optionally\n    after some reductions) on this stack. This can be useful for\n    external tokenizers that want to make sure they only provide a\n    given token when it applies.\n    */\n    canShift(term) {\n        for (let sim = new SimulatedStack(this);;) {\n            let action = this.p.parser.stateSlot(sim.state, 4 /* ParseState.DefaultReduce */) || this.p.parser.hasAction(sim.state, term);\n            if (action == 0)\n                return false;\n            if ((action & 65536 /* Action.ReduceFlag */) == 0)\n                return true;\n            sim.reduce(action);\n        }\n    }\n    // Apply up to Recover.MaxNext recovery actions that conceptually\n    // inserts some missing token or rule.\n    /**\n    @internal\n    */\n    recoverByInsert(next) {\n        if (this.stack.length >= 300 /* Recover.MaxInsertStackDepth */)\n            return [];\n        let nextStates = this.p.parser.nextStates(this.state);\n        if (nextStates.length > 4 /* Recover.MaxNext */ << 1 || this.stack.length >= 120 /* Recover.DampenInsertStackDepth */) {\n            let best = [];\n            for (let i = 0, s; i < nextStates.length; i += 2) {\n                if ((s = nextStates[i + 1]) != this.state && this.p.parser.hasAction(s, next))\n                    best.push(nextStates[i], s);\n            }\n            if (this.stack.length < 120 /* Recover.DampenInsertStackDepth */)\n                for (let i = 0; best.length < 4 /* Recover.MaxNext */ << 1 && i < nextStates.length; i += 2) {\n                    let s = nextStates[i + 1];\n                    if (!best.some((v, i) => (i & 1) && v == s))\n                        best.push(nextStates[i], s);\n                }\n            nextStates = best;\n        }\n        let result = [];\n        for (let i = 0; i < nextStates.length && result.length < 4 /* Recover.MaxNext */; i += 2) {\n            let s = nextStates[i + 1];\n            if (s == this.state)\n                continue;\n            let stack = this.split();\n            stack.pushState(s, this.pos);\n            stack.storeNode(0 /* Term.Err */, stack.pos, stack.pos, 4, true);\n            stack.shiftContext(nextStates[i], this.pos);\n            stack.reducePos = this.pos;\n            stack.score -= 200 /* Recover.Insert */;\n            result.push(stack);\n        }\n        return result;\n    }\n    // Force a reduce, if possible. Return false if that can't\n    // be done.\n    /**\n    @internal\n    */\n    forceReduce() {\n        let { parser } = this.p;\n        let reduce = parser.stateSlot(this.state, 5 /* ParseState.ForcedReduce */);\n        if ((reduce & 65536 /* Action.ReduceFlag */) == 0)\n            return false;\n        if (!parser.validAction(this.state, reduce)) {\n            let depth = reduce >> 19 /* Action.ReduceDepthShift */, term = reduce & 65535 /* Action.ValueMask */;\n            let target = this.stack.length - depth * 3;\n            if (target < 0 || parser.getGoto(this.stack[target], term, false) < 0) {\n                let backup = this.findForcedReduction();\n                if (backup == null)\n                    return false;\n                reduce = backup;\n            }\n            this.storeNode(0 /* Term.Err */, this.pos, this.pos, 4, true);\n            this.score -= 100 /* Recover.Reduce */;\n        }\n        this.reducePos = this.pos;\n        this.reduce(reduce);\n        return true;\n    }\n    /**\n    Try to scan through the automaton to find some kind of reduction\n    that can be applied. Used when the regular ForcedReduce field\n    isn't a valid action. @internal\n    */\n    findForcedReduction() {\n        let { parser } = this.p, seen = [];\n        let explore = (state, depth) => {\n            if (seen.includes(state))\n                return;\n            seen.push(state);\n            return parser.allActions(state, (action) => {\n                if (action & (262144 /* Action.StayFlag */ | 131072 /* Action.GotoFlag */)) ;\n                else if (action & 65536 /* Action.ReduceFlag */) {\n                    let rDepth = (action >> 19 /* Action.ReduceDepthShift */) - depth;\n                    if (rDepth > 1) {\n                        let term = action & 65535 /* Action.ValueMask */, target = this.stack.length - rDepth * 3;\n                        if (target >= 0 && parser.getGoto(this.stack[target], term, false) >= 0)\n                            return (rDepth << 19 /* Action.ReduceDepthShift */) | 65536 /* Action.ReduceFlag */ | term;\n                    }\n                }\n                else {\n                    let found = explore(action, depth + 1);\n                    if (found != null)\n                        return found;\n                }\n            });\n        };\n        return explore(this.state, 0);\n    }\n    /**\n    @internal\n    */\n    forceAll() {\n        while (!this.p.parser.stateFlag(this.state, 2 /* StateFlag.Accepting */)) {\n            if (!this.forceReduce()) {\n                this.storeNode(0 /* Term.Err */, this.pos, this.pos, 4, true);\n                break;\n            }\n        }\n        return this;\n    }\n    /**\n    Check whether this state has no further actions (assumed to be a direct descendant of the\n    top state, since any other states must be able to continue\n    somehow). @internal\n    */\n    get deadEnd() {\n        if (this.stack.length != 3)\n            return false;\n        let { parser } = this.p;\n        return parser.data[parser.stateSlot(this.state, 1 /* ParseState.Actions */)] == 65535 /* Seq.End */ &&\n            !parser.stateSlot(this.state, 4 /* ParseState.DefaultReduce */);\n    }\n    /**\n    Restart the stack (put it back in its start state). Only safe\n    when this.stack.length == 3 (state is directly below the top\n    state). @internal\n    */\n    restart() {\n        this.storeNode(0 /* Term.Err */, this.pos, this.pos, 4, true);\n        this.state = this.stack[0];\n        this.stack.length = 0;\n    }\n    /**\n    @internal\n    */\n    sameState(other) {\n        if (this.state != other.state || this.stack.length != other.stack.length)\n            return false;\n        for (let i = 0; i < this.stack.length; i += 3)\n            if (this.stack[i] != other.stack[i])\n                return false;\n        return true;\n    }\n    /**\n    Get the parser used by this stack.\n    */\n    get parser() { return this.p.parser; }\n    /**\n    Test whether a given dialect (by numeric ID, as exported from\n    the terms file) is enabled.\n    */\n    dialectEnabled(dialectID) { return this.p.parser.dialect.flags[dialectID]; }\n    shiftContext(term, start) {\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.shift(this.curContext.context, term, this, this.p.stream.reset(start)));\n    }\n    reduceContext(term, start) {\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.reduce(this.curContext.context, term, this, this.p.stream.reset(start)));\n    }\n    /**\n    @internal\n    */\n    emitContext() {\n        let last = this.buffer.length - 1;\n        if (last < 0 || this.buffer[last] != -3)\n            this.buffer.push(this.curContext.hash, this.pos, this.pos, -3);\n    }\n    /**\n    @internal\n    */\n    emitLookAhead() {\n        let last = this.buffer.length - 1;\n        if (last < 0 || this.buffer[last] != -4)\n            this.buffer.push(this.lookAhead, this.pos, this.pos, -4);\n    }\n    updateContext(context) {\n        if (context != this.curContext.context) {\n            let newCx = new StackContext(this.curContext.tracker, context);\n            if (newCx.hash != this.curContext.hash)\n                this.emitContext();\n            this.curContext = newCx;\n        }\n    }\n    /**\n    @internal\n    */\n    setLookAhead(lookAhead) {\n        if (lookAhead > this.lookAhead) {\n            this.emitLookAhead();\n            this.lookAhead = lookAhead;\n        }\n    }\n    /**\n    @internal\n    */\n    close() {\n        if (this.curContext && this.curContext.tracker.strict)\n            this.emitContext();\n        if (this.lookAhead > 0)\n            this.emitLookAhead();\n    }\n}\nclass StackContext {\n    constructor(tracker, context) {\n        this.tracker = tracker;\n        this.context = context;\n        this.hash = tracker.strict ? tracker.hash(context) : 0;\n    }\n}\n// Used to cheaply run some reductions to scan ahead without mutating\n// an entire stack\nclass SimulatedStack {\n    constructor(start) {\n        this.start = start;\n        this.state = start.state;\n        this.stack = start.stack;\n        this.base = this.stack.length;\n    }\n    reduce(action) {\n        let term = action & 65535 /* Action.ValueMask */, depth = action >> 19 /* Action.ReduceDepthShift */;\n        if (depth == 0) {\n            if (this.stack == this.start.stack)\n                this.stack = this.stack.slice();\n            this.stack.push(this.state, 0, 0);\n            this.base += 3;\n        }\n        else {\n            this.base -= (depth - 1) * 3;\n        }\n        let goto = this.start.p.parser.getGoto(this.stack[this.base - 3], term, true);\n        this.state = goto;\n    }\n}\n// This is given to `Tree.build` to build a buffer, and encapsulates\n// the parent-stack-walking necessary to read the nodes.\nclass StackBufferCursor {\n    constructor(stack, pos, index) {\n        this.stack = stack;\n        this.pos = pos;\n        this.index = index;\n        this.buffer = stack.buffer;\n        if (this.index == 0)\n            this.maybeNext();\n    }\n    static create(stack, pos = stack.bufferBase + stack.buffer.length) {\n        return new StackBufferCursor(stack, pos, pos - stack.bufferBase);\n    }\n    maybeNext() {\n        let next = this.stack.parent;\n        if (next != null) {\n            this.index = this.stack.bufferBase - next.bufferBase;\n            this.stack = next;\n            this.buffer = next.buffer;\n        }\n    }\n    get id() { return this.buffer[this.index - 4]; }\n    get start() { return this.buffer[this.index - 3]; }\n    get end() { return this.buffer[this.index - 2]; }\n    get size() { return this.buffer[this.index - 1]; }\n    next() {\n        this.index -= 4;\n        this.pos -= 4;\n        if (this.index == 0)\n            this.maybeNext();\n    }\n    fork() {\n        return new StackBufferCursor(this.stack, this.pos, this.index);\n    }\n}\n\n// See lezer-generator/src/encode.ts for comments about the encoding\n// used here\nfunction decodeArray(input, Type = Uint16Array) {\n    if (typeof input != \"string\")\n        return input;\n    let array = null;\n    for (let pos = 0, out = 0; pos < input.length;) {\n        let value = 0;\n        for (;;) {\n            let next = input.charCodeAt(pos++), stop = false;\n            if (next == 126 /* Encode.BigValCode */) {\n                value = 65535 /* Encode.BigVal */;\n                break;\n            }\n            if (next >= 92 /* Encode.Gap2 */)\n                next--;\n            if (next >= 34 /* Encode.Gap1 */)\n                next--;\n            let digit = next - 32 /* Encode.Start */;\n            if (digit >= 46 /* Encode.Base */) {\n                digit -= 46 /* Encode.Base */;\n                stop = true;\n            }\n            value += digit;\n            if (stop)\n                break;\n            value *= 46 /* Encode.Base */;\n        }\n        if (array)\n            array[out++] = value;\n        else\n            array = new Type(value);\n    }\n    return array;\n}\n\nclass CachedToken {\n    constructor() {\n        this.start = -1;\n        this.value = -1;\n        this.end = -1;\n        this.extended = -1;\n        this.lookAhead = 0;\n        this.mask = 0;\n        this.context = 0;\n    }\n}\nconst nullToken = new CachedToken;\n/**\n[Tokenizers](#lr.ExternalTokenizer) interact with the input\nthrough this interface. It presents the input as a stream of\ncharacters, tracking lookahead and hiding the complexity of\n[ranges](#common.Parser.parse^ranges) from tokenizer code.\n*/\nclass InputStream {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    input, \n    /**\n    @internal\n    */\n    ranges) {\n        this.input = input;\n        this.ranges = ranges;\n        /**\n        @internal\n        */\n        this.chunk = \"\";\n        /**\n        @internal\n        */\n        this.chunkOff = 0;\n        /**\n        Backup chunk\n        */\n        this.chunk2 = \"\";\n        this.chunk2Pos = 0;\n        /**\n        The character code of the next code unit in the input, or -1\n        when the stream is at the end of the input.\n        */\n        this.next = -1;\n        /**\n        @internal\n        */\n        this.token = nullToken;\n        this.rangeIndex = 0;\n        this.pos = this.chunkPos = ranges[0].from;\n        this.range = ranges[0];\n        this.end = ranges[ranges.length - 1].to;\n        this.readNext();\n    }\n    /**\n    @internal\n    */\n    resolveOffset(offset, assoc) {\n        let range = this.range, index = this.rangeIndex;\n        let pos = this.pos + offset;\n        while (pos < range.from) {\n            if (!index)\n                return null;\n            let next = this.ranges[--index];\n            pos -= range.from - next.to;\n            range = next;\n        }\n        while (assoc < 0 ? pos > range.to : pos >= range.to) {\n            if (index == this.ranges.length - 1)\n                return null;\n            let next = this.ranges[++index];\n            pos += next.from - range.to;\n            range = next;\n        }\n        return pos;\n    }\n    /**\n    @internal\n    */\n    clipPos(pos) {\n        if (pos >= this.range.from && pos < this.range.to)\n            return pos;\n        for (let range of this.ranges)\n            if (range.to > pos)\n                return Math.max(pos, range.from);\n        return this.end;\n    }\n    /**\n    Look at a code unit near the stream position. `.peek(0)` equals\n    `.next`, `.peek(-1)` gives you the previous character, and so\n    on.\n    \n    Note that looking around during tokenizing creates dependencies\n    on potentially far-away content, which may reduce the\n    effectiveness incremental parsing—when looking forward—or even\n    cause invalid reparses when looking backward more than 25 code\n    units, since the library does not track lookbehind.\n    */\n    peek(offset) {\n        let idx = this.chunkOff + offset, pos, result;\n        if (idx >= 0 && idx < this.chunk.length) {\n            pos = this.pos + offset;\n            result = this.chunk.charCodeAt(idx);\n        }\n        else {\n            let resolved = this.resolveOffset(offset, 1);\n            if (resolved == null)\n                return -1;\n            pos = resolved;\n            if (pos >= this.chunk2Pos && pos < this.chunk2Pos + this.chunk2.length) {\n                result = this.chunk2.charCodeAt(pos - this.chunk2Pos);\n            }\n            else {\n                let i = this.rangeIndex, range = this.range;\n                while (range.to <= pos)\n                    range = this.ranges[++i];\n                this.chunk2 = this.input.chunk(this.chunk2Pos = pos);\n                if (pos + this.chunk2.length > range.to)\n                    this.chunk2 = this.chunk2.slice(0, range.to - pos);\n                result = this.chunk2.charCodeAt(0);\n            }\n        }\n        if (pos >= this.token.lookAhead)\n            this.token.lookAhead = pos + 1;\n        return result;\n    }\n    /**\n    Accept a token. By default, the end of the token is set to the\n    current stream position, but you can pass an offset (relative to\n    the stream position) to change that.\n    */\n    acceptToken(token, endOffset = 0) {\n        let end = endOffset ? this.resolveOffset(endOffset, -1) : this.pos;\n        if (end == null || end < this.token.start)\n            throw new RangeError(\"Token end out of bounds\");\n        this.token.value = token;\n        this.token.end = end;\n    }\n    getChunk() {\n        if (this.pos >= this.chunk2Pos && this.pos < this.chunk2Pos + this.chunk2.length) {\n            let { chunk, chunkPos } = this;\n            this.chunk = this.chunk2;\n            this.chunkPos = this.chunk2Pos;\n            this.chunk2 = chunk;\n            this.chunk2Pos = chunkPos;\n            this.chunkOff = this.pos - this.chunkPos;\n        }\n        else {\n            this.chunk2 = this.chunk;\n            this.chunk2Pos = this.chunkPos;\n            let nextChunk = this.input.chunk(this.pos);\n            let end = this.pos + nextChunk.length;\n            this.chunk = end > this.range.to ? nextChunk.slice(0, this.range.to - this.pos) : nextChunk;\n            this.chunkPos = this.pos;\n            this.chunkOff = 0;\n        }\n    }\n    readNext() {\n        if (this.chunkOff >= this.chunk.length) {\n            this.getChunk();\n            if (this.chunkOff == this.chunk.length)\n                return this.next = -1;\n        }\n        return this.next = this.chunk.charCodeAt(this.chunkOff);\n    }\n    /**\n    Move the stream forward N (defaults to 1) code units. Returns\n    the new value of [`next`](#lr.InputStream.next).\n    */\n    advance(n = 1) {\n        this.chunkOff += n;\n        while (this.pos + n >= this.range.to) {\n            if (this.rangeIndex == this.ranges.length - 1)\n                return this.setDone();\n            n -= this.range.to - this.pos;\n            this.range = this.ranges[++this.rangeIndex];\n            this.pos = this.range.from;\n        }\n        this.pos += n;\n        if (this.pos >= this.token.lookAhead)\n            this.token.lookAhead = this.pos + 1;\n        return this.readNext();\n    }\n    setDone() {\n        this.pos = this.chunkPos = this.end;\n        this.range = this.ranges[this.rangeIndex = this.ranges.length - 1];\n        this.chunk = \"\";\n        return this.next = -1;\n    }\n    /**\n    @internal\n    */\n    reset(pos, token) {\n        if (token) {\n            this.token = token;\n            token.start = pos;\n            token.lookAhead = pos + 1;\n            token.value = token.extended = -1;\n        }\n        else {\n            this.token = nullToken;\n        }\n        if (this.pos != pos) {\n            this.pos = pos;\n            if (pos == this.end) {\n                this.setDone();\n                return this;\n            }\n            while (pos < this.range.from)\n                this.range = this.ranges[--this.rangeIndex];\n            while (pos >= this.range.to)\n                this.range = this.ranges[++this.rangeIndex];\n            if (pos >= this.chunkPos && pos < this.chunkPos + this.chunk.length) {\n                this.chunkOff = pos - this.chunkPos;\n            }\n            else {\n                this.chunk = \"\";\n                this.chunkOff = 0;\n            }\n            this.readNext();\n        }\n        return this;\n    }\n    /**\n    @internal\n    */\n    read(from, to) {\n        if (from >= this.chunkPos && to <= this.chunkPos + this.chunk.length)\n            return this.chunk.slice(from - this.chunkPos, to - this.chunkPos);\n        if (from >= this.chunk2Pos && to <= this.chunk2Pos + this.chunk2.length)\n            return this.chunk2.slice(from - this.chunk2Pos, to - this.chunk2Pos);\n        if (from >= this.range.from && to <= this.range.to)\n            return this.input.read(from, to);\n        let result = \"\";\n        for (let r of this.ranges) {\n            if (r.from >= to)\n                break;\n            if (r.to > from)\n                result += this.input.read(Math.max(r.from, from), Math.min(r.to, to));\n        }\n        return result;\n    }\n}\n/**\n@internal\n*/\nclass TokenGroup {\n    constructor(data, id) {\n        this.data = data;\n        this.id = id;\n    }\n    token(input, stack) {\n        let { parser } = stack.p;\n        readToken(this.data, input, stack, this.id, parser.data, parser.tokenPrecTable);\n    }\n}\nTokenGroup.prototype.contextual = TokenGroup.prototype.fallback = TokenGroup.prototype.extend = false;\n/**\n@hide\n*/\nclass LocalTokenGroup {\n    constructor(data, precTable, elseToken) {\n        this.precTable = precTable;\n        this.elseToken = elseToken;\n        this.data = typeof data == \"string\" ? decodeArray(data) : data;\n    }\n    token(input, stack) {\n        let start = input.pos, skipped = 0;\n        for (;;) {\n            let atEof = input.next < 0, nextPos = input.resolveOffset(1, 1);\n            readToken(this.data, input, stack, 0, this.data, this.precTable);\n            if (input.token.value > -1)\n                break;\n            if (this.elseToken == null)\n                return;\n            if (!atEof)\n                skipped++;\n            if (nextPos == null)\n                break;\n            input.reset(nextPos, input.token);\n        }\n        if (skipped) {\n            input.reset(start, input.token);\n            input.acceptToken(this.elseToken, skipped);\n        }\n    }\n}\nLocalTokenGroup.prototype.contextual = TokenGroup.prototype.fallback = TokenGroup.prototype.extend = false;\n/**\n`@external tokens` declarations in the grammar should resolve to\nan instance of this class.\n*/\nclass ExternalTokenizer {\n    /**\n    Create a tokenizer. The first argument is the function that,\n    given an input stream, scans for the types of tokens it\n    recognizes at the stream's position, and calls\n    [`acceptToken`](#lr.InputStream.acceptToken) when it finds\n    one.\n    */\n    constructor(\n    /**\n    @internal\n    */\n    token, options = {}) {\n        this.token = token;\n        this.contextual = !!options.contextual;\n        this.fallback = !!options.fallback;\n        this.extend = !!options.extend;\n    }\n}\n// Tokenizer data is stored a big uint16 array containing, for each\n// state:\n//\n//  - A group bitmask, indicating what token groups are reachable from\n//    this state, so that paths that can only lead to tokens not in\n//    any of the current groups can be cut off early.\n//\n//  - The position of the end of the state's sequence of accepting\n//    tokens\n//\n//  - The number of outgoing edges for the state\n//\n//  - The accepting tokens, as (token id, group mask) pairs\n//\n//  - The outgoing edges, as (start character, end character, state\n//    index) triples, with end character being exclusive\n//\n// This function interprets that data, running through a stream as\n// long as new states with the a matching group mask can be reached,\n// and updating `input.token` when it matches a token.\nfunction readToken(data, input, stack, group, precTable, precOffset) {\n    let state = 0, groupMask = 1 << group, { dialect } = stack.p.parser;\n    scan: for (;;) {\n        if ((groupMask & data[state]) == 0)\n            break;\n        let accEnd = data[state + 1];\n        // Check whether this state can lead to a token in the current group\n        // Accept tokens in this state, possibly overwriting\n        // lower-precedence / shorter tokens\n        for (let i = state + 3; i < accEnd; i += 2)\n            if ((data[i + 1] & groupMask) > 0) {\n                let term = data[i];\n                if (dialect.allows(term) &&\n                    (input.token.value == -1 || input.token.value == term ||\n                        overrides(term, input.token.value, precTable, precOffset))) {\n                    input.acceptToken(term);\n                    break;\n                }\n            }\n        let next = input.next, low = 0, high = data[state + 2];\n        // Special case for EOF\n        if (input.next < 0 && high > low && data[accEnd + high * 3 - 3] == 65535 /* Seq.End */ && data[accEnd + high * 3 - 3] == 65535 /* Seq.End */) {\n            state = data[accEnd + high * 3 - 1];\n            continue scan;\n        }\n        // Do a binary search on the state's edges\n        for (; low < high;) {\n            let mid = (low + high) >> 1;\n            let index = accEnd + mid + (mid << 1);\n            let from = data[index], to = data[index + 1] || 0x10000;\n            if (next < from)\n                high = mid;\n            else if (next >= to)\n                low = mid + 1;\n            else {\n                state = data[index + 2];\n                input.advance();\n                continue scan;\n            }\n        }\n        break;\n    }\n}\nfunction findOffset(data, start, term) {\n    for (let i = start, next; (next = data[i]) != 65535 /* Seq.End */; i++)\n        if (next == term)\n            return i - start;\n    return -1;\n}\nfunction overrides(token, prev, tableData, tableOffset) {\n    let iPrev = findOffset(tableData, tableOffset, prev);\n    return iPrev < 0 || findOffset(tableData, tableOffset, token) < iPrev;\n}\n\n// Environment variable used to control console output\nconst verbose = typeof process != \"undefined\" && process.env && /\\bparse\\b/.test(process.env.LOG);\nlet stackIDs = null;\nfunction cutAt(tree, pos, side) {\n    let cursor = tree.cursor(IterMode.IncludeAnonymous);\n    cursor.moveTo(pos);\n    for (;;) {\n        if (!(side < 0 ? cursor.childBefore(pos) : cursor.childAfter(pos)))\n            for (;;) {\n                if ((side < 0 ? cursor.to < pos : cursor.from > pos) && !cursor.type.isError)\n                    return side < 0 ? Math.max(0, Math.min(cursor.to - 1, pos - 25 /* Safety.Margin */))\n                        : Math.min(tree.length, Math.max(cursor.from + 1, pos + 25 /* Safety.Margin */));\n                if (side < 0 ? cursor.prevSibling() : cursor.nextSibling())\n                    break;\n                if (!cursor.parent())\n                    return side < 0 ? 0 : tree.length;\n            }\n    }\n}\nclass FragmentCursor {\n    constructor(fragments, nodeSet) {\n        this.fragments = fragments;\n        this.nodeSet = nodeSet;\n        this.i = 0;\n        this.fragment = null;\n        this.safeFrom = -1;\n        this.safeTo = -1;\n        this.trees = [];\n        this.start = [];\n        this.index = [];\n        this.nextFragment();\n    }\n    nextFragment() {\n        let fr = this.fragment = this.i == this.fragments.length ? null : this.fragments[this.i++];\n        if (fr) {\n            this.safeFrom = fr.openStart ? cutAt(fr.tree, fr.from + fr.offset, 1) - fr.offset : fr.from;\n            this.safeTo = fr.openEnd ? cutAt(fr.tree, fr.to + fr.offset, -1) - fr.offset : fr.to;\n            while (this.trees.length) {\n                this.trees.pop();\n                this.start.pop();\n                this.index.pop();\n            }\n            this.trees.push(fr.tree);\n            this.start.push(-fr.offset);\n            this.index.push(0);\n            this.nextStart = this.safeFrom;\n        }\n        else {\n            this.nextStart = 1e9;\n        }\n    }\n    // `pos` must be >= any previously given `pos` for this cursor\n    nodeAt(pos) {\n        if (pos < this.nextStart)\n            return null;\n        while (this.fragment && this.safeTo <= pos)\n            this.nextFragment();\n        if (!this.fragment)\n            return null;\n        for (;;) {\n            let last = this.trees.length - 1;\n            if (last < 0) { // End of tree\n                this.nextFragment();\n                return null;\n            }\n            let top = this.trees[last], index = this.index[last];\n            if (index == top.children.length) {\n                this.trees.pop();\n                this.start.pop();\n                this.index.pop();\n                continue;\n            }\n            let next = top.children[index];\n            let start = this.start[last] + top.positions[index];\n            if (start > pos) {\n                this.nextStart = start;\n                return null;\n            }\n            if (next instanceof Tree) {\n                if (start == pos) {\n                    if (start < this.safeFrom)\n                        return null;\n                    let end = start + next.length;\n                    if (end <= this.safeTo) {\n                        let lookAhead = next.prop(NodeProp.lookAhead);\n                        if (!lookAhead || end + lookAhead < this.fragment.to)\n                            return next;\n                    }\n                }\n                this.index[last]++;\n                if (start + next.length >= Math.max(this.safeFrom, pos)) { // Enter this node\n                    this.trees.push(next);\n                    this.start.push(start);\n                    this.index.push(0);\n                }\n            }\n            else {\n                this.index[last]++;\n                this.nextStart = start + next.length;\n            }\n        }\n    }\n}\nclass TokenCache {\n    constructor(parser, stream) {\n        this.stream = stream;\n        this.tokens = [];\n        this.mainToken = null;\n        this.actions = [];\n        this.tokens = parser.tokenizers.map(_ => new CachedToken);\n    }\n    getActions(stack) {\n        let actionIndex = 0;\n        let main = null;\n        let { parser } = stack.p, { tokenizers } = parser;\n        let mask = parser.stateSlot(stack.state, 3 /* ParseState.TokenizerMask */);\n        let context = stack.curContext ? stack.curContext.hash : 0;\n        let lookAhead = 0;\n        for (let i = 0; i < tokenizers.length; i++) {\n            if (((1 << i) & mask) == 0)\n                continue;\n            let tokenizer = tokenizers[i], token = this.tokens[i];\n            if (main && !tokenizer.fallback)\n                continue;\n            if (tokenizer.contextual || token.start != stack.pos || token.mask != mask || token.context != context) {\n                this.updateCachedToken(token, tokenizer, stack);\n                token.mask = mask;\n                token.context = context;\n            }\n            if (token.lookAhead > token.end + 25 /* Safety.Margin */)\n                lookAhead = Math.max(token.lookAhead, lookAhead);\n            if (token.value != 0 /* Term.Err */) {\n                let startIndex = actionIndex;\n                if (token.extended > -1)\n                    actionIndex = this.addActions(stack, token.extended, token.end, actionIndex);\n                actionIndex = this.addActions(stack, token.value, token.end, actionIndex);\n                if (!tokenizer.extend) {\n                    main = token;\n                    if (actionIndex > startIndex)\n                        break;\n                }\n            }\n        }\n        while (this.actions.length > actionIndex)\n            this.actions.pop();\n        if (lookAhead)\n            stack.setLookAhead(lookAhead);\n        if (!main && stack.pos == this.stream.end) {\n            main = new CachedToken;\n            main.value = stack.p.parser.eofTerm;\n            main.start = main.end = stack.pos;\n            actionIndex = this.addActions(stack, main.value, main.end, actionIndex);\n        }\n        this.mainToken = main;\n        return this.actions;\n    }\n    getMainToken(stack) {\n        if (this.mainToken)\n            return this.mainToken;\n        let main = new CachedToken, { pos, p } = stack;\n        main.start = pos;\n        main.end = Math.min(pos + 1, p.stream.end);\n        main.value = pos == p.stream.end ? p.parser.eofTerm : 0 /* Term.Err */;\n        return main;\n    }\n    updateCachedToken(token, tokenizer, stack) {\n        let start = this.stream.clipPos(stack.pos);\n        tokenizer.token(this.stream.reset(start, token), stack);\n        if (token.value > -1) {\n            let { parser } = stack.p;\n            for (let i = 0; i < parser.specialized.length; i++)\n                if (parser.specialized[i] == token.value) {\n                    let result = parser.specializers[i](this.stream.read(token.start, token.end), stack);\n                    if (result >= 0 && stack.p.parser.dialect.allows(result >> 1)) {\n                        if ((result & 1) == 0 /* Specialize.Specialize */)\n                            token.value = result >> 1;\n                        else\n                            token.extended = result >> 1;\n                        break;\n                    }\n                }\n        }\n        else {\n            token.value = 0 /* Term.Err */;\n            token.end = this.stream.clipPos(start + 1);\n        }\n    }\n    putAction(action, token, end, index) {\n        // Don't add duplicate actions\n        for (let i = 0; i < index; i += 3)\n            if (this.actions[i] == action)\n                return index;\n        this.actions[index++] = action;\n        this.actions[index++] = token;\n        this.actions[index++] = end;\n        return index;\n    }\n    addActions(stack, token, end, index) {\n        let { state } = stack, { parser } = stack.p, { data } = parser;\n        for (let set = 0; set < 2; set++) {\n            for (let i = parser.stateSlot(state, set ? 2 /* ParseState.Skip */ : 1 /* ParseState.Actions */);; i += 3) {\n                if (data[i] == 65535 /* Seq.End */) {\n                    if (data[i + 1] == 1 /* Seq.Next */) {\n                        i = pair(data, i + 2);\n                    }\n                    else {\n                        if (index == 0 && data[i + 1] == 2 /* Seq.Other */)\n                            index = this.putAction(pair(data, i + 2), token, end, index);\n                        break;\n                    }\n                }\n                if (data[i] == token)\n                    index = this.putAction(pair(data, i + 1), token, end, index);\n            }\n        }\n        return index;\n    }\n}\nclass Parse {\n    constructor(parser, input, fragments, ranges) {\n        this.parser = parser;\n        this.input = input;\n        this.ranges = ranges;\n        this.recovering = 0;\n        this.nextStackID = 0x2654; // ♔, ♕, ♖, ♗, ♘, ♙, ♠, ♡, ♢, ♣, ♤, ♥, ♦, ♧\n        this.minStackPos = 0;\n        this.reused = [];\n        this.stoppedAt = null;\n        this.lastBigReductionStart = -1;\n        this.lastBigReductionSize = 0;\n        this.bigReductionCount = 0;\n        this.stream = new InputStream(input, ranges);\n        this.tokens = new TokenCache(parser, this.stream);\n        this.topTerm = parser.top[1];\n        let { from } = ranges[0];\n        this.stacks = [Stack.start(this, parser.top[0], from)];\n        this.fragments = fragments.length && this.stream.end - from > parser.bufferLength * 4\n            ? new FragmentCursor(fragments, parser.nodeSet) : null;\n    }\n    get parsedPos() {\n        return this.minStackPos;\n    }\n    // Move the parser forward. This will process all parse stacks at\n    // `this.pos` and try to advance them to a further position. If no\n    // stack for such a position is found, it'll start error-recovery.\n    //\n    // When the parse is finished, this will return a syntax tree. When\n    // not, it returns `null`.\n    advance() {\n        let stacks = this.stacks, pos = this.minStackPos;\n        // This will hold stacks beyond `pos`.\n        let newStacks = this.stacks = [];\n        let stopped, stoppedTokens;\n        // If a large amount of reductions happened with the same start\n        // position, force the stack out of that production in order to\n        // avoid creating a tree too deep to recurse through.\n        // (This is an ugly kludge, because unfortunately there is no\n        // straightforward, cheap way to check for this happening, due to\n        // the history of reductions only being available in an\n        // expensive-to-access format in the stack buffers.)\n        if (this.bigReductionCount > 300 /* Rec.MaxLeftAssociativeReductionCount */ && stacks.length == 1) {\n            let [s] = stacks;\n            while (s.forceReduce() && s.stack.length && s.stack[s.stack.length - 2] >= this.lastBigReductionStart) { }\n            this.bigReductionCount = this.lastBigReductionSize = 0;\n        }\n        // Keep advancing any stacks at `pos` until they either move\n        // forward or can't be advanced. Gather stacks that can't be\n        // advanced further in `stopped`.\n        for (let i = 0; i < stacks.length; i++) {\n            let stack = stacks[i];\n            for (;;) {\n                this.tokens.mainToken = null;\n                if (stack.pos > pos) {\n                    newStacks.push(stack);\n                }\n                else if (this.advanceStack(stack, newStacks, stacks)) {\n                    continue;\n                }\n                else {\n                    if (!stopped) {\n                        stopped = [];\n                        stoppedTokens = [];\n                    }\n                    stopped.push(stack);\n                    let tok = this.tokens.getMainToken(stack);\n                    stoppedTokens.push(tok.value, tok.end);\n                }\n                break;\n            }\n        }\n        if (!newStacks.length) {\n            let finished = stopped && findFinished(stopped);\n            if (finished) {\n                if (verbose)\n                    console.log(\"Finish with \" + this.stackID(finished));\n                return this.stackToTree(finished);\n            }\n            if (this.parser.strict) {\n                if (verbose && stopped)\n                    console.log(\"Stuck with token \" + (this.tokens.mainToken ? this.parser.getName(this.tokens.mainToken.value) : \"none\"));\n                throw new SyntaxError(\"No parse at \" + pos);\n            }\n            if (!this.recovering)\n                this.recovering = 5 /* Rec.Distance */;\n        }\n        if (this.recovering && stopped) {\n            let finished = this.stoppedAt != null && stopped[0].pos > this.stoppedAt ? stopped[0]\n                : this.runRecovery(stopped, stoppedTokens, newStacks);\n            if (finished) {\n                if (verbose)\n                    console.log(\"Force-finish \" + this.stackID(finished));\n                return this.stackToTree(finished.forceAll());\n            }\n        }\n        if (this.recovering) {\n            let maxRemaining = this.recovering == 1 ? 1 : this.recovering * 3 /* Rec.MaxRemainingPerStep */;\n            if (newStacks.length > maxRemaining) {\n                newStacks.sort((a, b) => b.score - a.score);\n                while (newStacks.length > maxRemaining)\n                    newStacks.pop();\n            }\n            if (newStacks.some(s => s.reducePos > pos))\n                this.recovering--;\n        }\n        else if (newStacks.length > 1) {\n            // Prune stacks that are in the same state, or that have been\n            // running without splitting for a while, to avoid getting stuck\n            // with multiple successful stacks running endlessly on.\n            outer: for (let i = 0; i < newStacks.length - 1; i++) {\n                let stack = newStacks[i];\n                for (let j = i + 1; j < newStacks.length; j++) {\n                    let other = newStacks[j];\n                    if (stack.sameState(other) ||\n                        stack.buffer.length > 500 /* Rec.MinBufferLengthPrune */ && other.buffer.length > 500 /* Rec.MinBufferLengthPrune */) {\n                        if (((stack.score - other.score) || (stack.buffer.length - other.buffer.length)) > 0) {\n                            newStacks.splice(j--, 1);\n                        }\n                        else {\n                            newStacks.splice(i--, 1);\n                            continue outer;\n                        }\n                    }\n                }\n            }\n            if (newStacks.length > 12 /* Rec.MaxStackCount */)\n                newStacks.splice(12 /* Rec.MaxStackCount */, newStacks.length - 12 /* Rec.MaxStackCount */);\n        }\n        this.minStackPos = newStacks[0].pos;\n        for (let i = 1; i < newStacks.length; i++)\n            if (newStacks[i].pos < this.minStackPos)\n                this.minStackPos = newStacks[i].pos;\n        return null;\n    }\n    stopAt(pos) {\n        if (this.stoppedAt != null && this.stoppedAt < pos)\n            throw new RangeError(\"Can't move stoppedAt forward\");\n        this.stoppedAt = pos;\n    }\n    // Returns an updated version of the given stack, or null if the\n    // stack can't advance normally. When `split` and `stacks` are\n    // given, stacks split off by ambiguous operations will be pushed to\n    // `split`, or added to `stacks` if they move `pos` forward.\n    advanceStack(stack, stacks, split) {\n        let start = stack.pos, { parser } = this;\n        let base = verbose ? this.stackID(stack) + \" -> \" : \"\";\n        if (this.stoppedAt != null && start > this.stoppedAt)\n            return stack.forceReduce() ? stack : null;\n        if (this.fragments) {\n            let strictCx = stack.curContext && stack.curContext.tracker.strict, cxHash = strictCx ? stack.curContext.hash : 0;\n            for (let cached = this.fragments.nodeAt(start); cached;) {\n                let match = this.parser.nodeSet.types[cached.type.id] == cached.type ? parser.getGoto(stack.state, cached.type.id) : -1;\n                if (match > -1 && cached.length && (!strictCx || (cached.prop(NodeProp.contextHash) || 0) == cxHash)) {\n                    stack.useNode(cached, match);\n                    if (verbose)\n                        console.log(base + this.stackID(stack) + ` (via reuse of ${parser.getName(cached.type.id)})`);\n                    return true;\n                }\n                if (!(cached instanceof Tree) || cached.children.length == 0 || cached.positions[0] > 0)\n                    break;\n                let inner = cached.children[0];\n                if (inner instanceof Tree && cached.positions[0] == 0)\n                    cached = inner;\n                else\n                    break;\n            }\n        }\n        let defaultReduce = parser.stateSlot(stack.state, 4 /* ParseState.DefaultReduce */);\n        if (defaultReduce > 0) {\n            stack.reduce(defaultReduce);\n            if (verbose)\n                console.log(base + this.stackID(stack) + ` (via always-reduce ${parser.getName(defaultReduce & 65535 /* Action.ValueMask */)})`);\n            return true;\n        }\n        if (stack.stack.length >= 9000 /* Rec.CutDepth */) {\n            while (stack.stack.length > 6000 /* Rec.CutTo */ && stack.forceReduce()) { }\n        }\n        let actions = this.tokens.getActions(stack);\n        for (let i = 0; i < actions.length;) {\n            let action = actions[i++], term = actions[i++], end = actions[i++];\n            let last = i == actions.length || !split;\n            let localStack = last ? stack : stack.split();\n            let main = this.tokens.mainToken;\n            localStack.apply(action, term, main ? main.start : localStack.pos, end);\n            if (verbose)\n                console.log(base + this.stackID(localStack) + ` (via ${(action & 65536 /* Action.ReduceFlag */) == 0 ? \"shift\"\n                    : `reduce of ${parser.getName(action & 65535 /* Action.ValueMask */)}`} for ${parser.getName(term)} @ ${start}${localStack == stack ? \"\" : \", split\"})`);\n            if (last)\n                return true;\n            else if (localStack.pos > start)\n                stacks.push(localStack);\n            else\n                split.push(localStack);\n        }\n        return false;\n    }\n    // Advance a given stack forward as far as it will go. Returns the\n    // (possibly updated) stack if it got stuck, or null if it moved\n    // forward and was given to `pushStackDedup`.\n    advanceFully(stack, newStacks) {\n        let pos = stack.pos;\n        for (;;) {\n            if (!this.advanceStack(stack, null, null))\n                return false;\n            if (stack.pos > pos) {\n                pushStackDedup(stack, newStacks);\n                return true;\n            }\n        }\n    }\n    runRecovery(stacks, tokens, newStacks) {\n        let finished = null, restarted = false;\n        for (let i = 0; i < stacks.length; i++) {\n            let stack = stacks[i], token = tokens[i << 1], tokenEnd = tokens[(i << 1) + 1];\n            let base = verbose ? this.stackID(stack) + \" -> \" : \"\";\n            if (stack.deadEnd) {\n                if (restarted)\n                    continue;\n                restarted = true;\n                stack.restart();\n                if (verbose)\n                    console.log(base + this.stackID(stack) + \" (restarted)\");\n                let done = this.advanceFully(stack, newStacks);\n                if (done)\n                    continue;\n            }\n            let force = stack.split(), forceBase = base;\n            for (let j = 0; force.forceReduce() && j < 10 /* Rec.ForceReduceLimit */; j++) {\n                if (verbose)\n                    console.log(forceBase + this.stackID(force) + \" (via force-reduce)\");\n                let done = this.advanceFully(force, newStacks);\n                if (done)\n                    break;\n                if (verbose)\n                    forceBase = this.stackID(force) + \" -> \";\n            }\n            for (let insert of stack.recoverByInsert(token)) {\n                if (verbose)\n                    console.log(base + this.stackID(insert) + \" (via recover-insert)\");\n                this.advanceFully(insert, newStacks);\n            }\n            if (this.stream.end > stack.pos) {\n                if (tokenEnd == stack.pos) {\n                    tokenEnd++;\n                    token = 0 /* Term.Err */;\n                }\n                stack.recoverByDelete(token, tokenEnd);\n                if (verbose)\n                    console.log(base + this.stackID(stack) + ` (via recover-delete ${this.parser.getName(token)})`);\n                pushStackDedup(stack, newStacks);\n            }\n            else if (!finished || finished.score < stack.score) {\n                finished = stack;\n            }\n        }\n        return finished;\n    }\n    // Convert the stack's buffer to a syntax tree.\n    stackToTree(stack) {\n        stack.close();\n        return Tree.build({ buffer: StackBufferCursor.create(stack),\n            nodeSet: this.parser.nodeSet,\n            topID: this.topTerm,\n            maxBufferLength: this.parser.bufferLength,\n            reused: this.reused,\n            start: this.ranges[0].from,\n            length: stack.pos - this.ranges[0].from,\n            minRepeatType: this.parser.minRepeatTerm });\n    }\n    stackID(stack) {\n        let id = (stackIDs || (stackIDs = new WeakMap)).get(stack);\n        if (!id)\n            stackIDs.set(stack, id = String.fromCodePoint(this.nextStackID++));\n        return id + stack;\n    }\n}\nfunction pushStackDedup(stack, newStacks) {\n    for (let i = 0; i < newStacks.length; i++) {\n        let other = newStacks[i];\n        if (other.pos == stack.pos && other.sameState(stack)) {\n            if (newStacks[i].score < stack.score)\n                newStacks[i] = stack;\n            return;\n        }\n    }\n    newStacks.push(stack);\n}\nclass Dialect {\n    constructor(source, flags, disabled) {\n        this.source = source;\n        this.flags = flags;\n        this.disabled = disabled;\n    }\n    allows(term) { return !this.disabled || this.disabled[term] == 0; }\n}\nconst id = x => x;\n/**\nContext trackers are used to track stateful context (such as\nindentation in the Python grammar, or parent elements in the XML\ngrammar) needed by external tokenizers. You declare them in a\ngrammar file as `@context exportName from \"module\"`.\n\nContext values should be immutable, and can be updated (replaced)\non shift or reduce actions.\n\nThe export used in a `@context` declaration should be of this\ntype.\n*/\nclass ContextTracker {\n    /**\n    Define a context tracker.\n    */\n    constructor(spec) {\n        this.start = spec.start;\n        this.shift = spec.shift || id;\n        this.reduce = spec.reduce || id;\n        this.reuse = spec.reuse || id;\n        this.hash = spec.hash || (() => 0);\n        this.strict = spec.strict !== false;\n    }\n}\n/**\nHolds the parse tables for a given grammar, as generated by\n`lezer-generator`, and provides [methods](#common.Parser) to parse\ncontent with.\n*/\nclass LRParser extends Parser {\n    /**\n    @internal\n    */\n    constructor(spec) {\n        super();\n        /**\n        @internal\n        */\n        this.wrappers = [];\n        if (spec.version != 14 /* File.Version */)\n            throw new RangeError(`Parser version (${spec.version}) doesn't match runtime version (${14 /* File.Version */})`);\n        let nodeNames = spec.nodeNames.split(\" \");\n        this.minRepeatTerm = nodeNames.length;\n        for (let i = 0; i < spec.repeatNodeCount; i++)\n            nodeNames.push(\"\");\n        let topTerms = Object.keys(spec.topRules).map(r => spec.topRules[r][1]);\n        let nodeProps = [];\n        for (let i = 0; i < nodeNames.length; i++)\n            nodeProps.push([]);\n        function setProp(nodeID, prop, value) {\n            nodeProps[nodeID].push([prop, prop.deserialize(String(value))]);\n        }\n        if (spec.nodeProps)\n            for (let propSpec of spec.nodeProps) {\n                let prop = propSpec[0];\n                if (typeof prop == \"string\")\n                    prop = NodeProp[prop];\n                for (let i = 1; i < propSpec.length;) {\n                    let next = propSpec[i++];\n                    if (next >= 0) {\n                        setProp(next, prop, propSpec[i++]);\n                    }\n                    else {\n                        let value = propSpec[i + -next];\n                        for (let j = -next; j > 0; j--)\n                            setProp(propSpec[i++], prop, value);\n                        i++;\n                    }\n                }\n            }\n        this.nodeSet = new NodeSet(nodeNames.map((name, i) => NodeType.define({\n            name: i >= this.minRepeatTerm ? undefined : name,\n            id: i,\n            props: nodeProps[i],\n            top: topTerms.indexOf(i) > -1,\n            error: i == 0,\n            skipped: spec.skippedNodes && spec.skippedNodes.indexOf(i) > -1\n        })));\n        if (spec.propSources)\n            this.nodeSet = this.nodeSet.extend(...spec.propSources);\n        this.strict = false;\n        this.bufferLength = DefaultBufferLength;\n        let tokenArray = decodeArray(spec.tokenData);\n        this.context = spec.context;\n        this.specializerSpecs = spec.specialized || [];\n        this.specialized = new Uint16Array(this.specializerSpecs.length);\n        for (let i = 0; i < this.specializerSpecs.length; i++)\n            this.specialized[i] = this.specializerSpecs[i].term;\n        this.specializers = this.specializerSpecs.map(getSpecializer);\n        this.states = decodeArray(spec.states, Uint32Array);\n        this.data = decodeArray(spec.stateData);\n        this.goto = decodeArray(spec.goto);\n        this.maxTerm = spec.maxTerm;\n        this.tokenizers = spec.tokenizers.map(value => typeof value == \"number\" ? new TokenGroup(tokenArray, value) : value);\n        this.topRules = spec.topRules;\n        this.dialects = spec.dialects || {};\n        this.dynamicPrecedences = spec.dynamicPrecedences || null;\n        this.tokenPrecTable = spec.tokenPrec;\n        this.termNames = spec.termNames || null;\n        this.maxNode = this.nodeSet.types.length - 1;\n        this.dialect = this.parseDialect();\n        this.top = this.topRules[Object.keys(this.topRules)[0]];\n    }\n    createParse(input, fragments, ranges) {\n        let parse = new Parse(this, input, fragments, ranges);\n        for (let w of this.wrappers)\n            parse = w(parse, input, fragments, ranges);\n        return parse;\n    }\n    /**\n    Get a goto table entry @internal\n    */\n    getGoto(state, term, loose = false) {\n        let table = this.goto;\n        if (term >= table[0])\n            return -1;\n        for (let pos = table[term + 1];;) {\n            let groupTag = table[pos++], last = groupTag & 1;\n            let target = table[pos++];\n            if (last && loose)\n                return target;\n            for (let end = pos + (groupTag >> 1); pos < end; pos++)\n                if (table[pos] == state)\n                    return target;\n            if (last)\n                return -1;\n        }\n    }\n    /**\n    Check if this state has an action for a given terminal @internal\n    */\n    hasAction(state, terminal) {\n        let data = this.data;\n        for (let set = 0; set < 2; set++) {\n            for (let i = this.stateSlot(state, set ? 2 /* ParseState.Skip */ : 1 /* ParseState.Actions */), next;; i += 3) {\n                if ((next = data[i]) == 65535 /* Seq.End */) {\n                    if (data[i + 1] == 1 /* Seq.Next */)\n                        next = data[i = pair(data, i + 2)];\n                    else if (data[i + 1] == 2 /* Seq.Other */)\n                        return pair(data, i + 2);\n                    else\n                        break;\n                }\n                if (next == terminal || next == 0 /* Term.Err */)\n                    return pair(data, i + 1);\n            }\n        }\n        return 0;\n    }\n    /**\n    @internal\n    */\n    stateSlot(state, slot) {\n        return this.states[(state * 6 /* ParseState.Size */) + slot];\n    }\n    /**\n    @internal\n    */\n    stateFlag(state, flag) {\n        return (this.stateSlot(state, 0 /* ParseState.Flags */) & flag) > 0;\n    }\n    /**\n    @internal\n    */\n    validAction(state, action) {\n        return !!this.allActions(state, a => a == action ? true : null);\n    }\n    /**\n    @internal\n    */\n    allActions(state, action) {\n        let deflt = this.stateSlot(state, 4 /* ParseState.DefaultReduce */);\n        let result = deflt ? action(deflt) : undefined;\n        for (let i = this.stateSlot(state, 1 /* ParseState.Actions */); result == null; i += 3) {\n            if (this.data[i] == 65535 /* Seq.End */) {\n                if (this.data[i + 1] == 1 /* Seq.Next */)\n                    i = pair(this.data, i + 2);\n                else\n                    break;\n            }\n            result = action(pair(this.data, i + 1));\n        }\n        return result;\n    }\n    /**\n    Get the states that can follow this one through shift actions or\n    goto jumps. @internal\n    */\n    nextStates(state) {\n        let result = [];\n        for (let i = this.stateSlot(state, 1 /* ParseState.Actions */);; i += 3) {\n            if (this.data[i] == 65535 /* Seq.End */) {\n                if (this.data[i + 1] == 1 /* Seq.Next */)\n                    i = pair(this.data, i + 2);\n                else\n                    break;\n            }\n            if ((this.data[i + 2] & (65536 /* Action.ReduceFlag */ >> 16)) == 0) {\n                let value = this.data[i + 1];\n                if (!result.some((v, i) => (i & 1) && v == value))\n                    result.push(this.data[i], value);\n            }\n        }\n        return result;\n    }\n    /**\n    Configure the parser. Returns a new parser instance that has the\n    given settings modified. Settings not provided in `config` are\n    kept from the original parser.\n    */\n    configure(config) {\n        // Hideous reflection-based kludge to make it easy to create a\n        // slightly modified copy of a parser.\n        let copy = Object.assign(Object.create(LRParser.prototype), this);\n        if (config.props)\n            copy.nodeSet = this.nodeSet.extend(...config.props);\n        if (config.top) {\n            let info = this.topRules[config.top];\n            if (!info)\n                throw new RangeError(`Invalid top rule name ${config.top}`);\n            copy.top = info;\n        }\n        if (config.tokenizers)\n            copy.tokenizers = this.tokenizers.map(t => {\n                let found = config.tokenizers.find(r => r.from == t);\n                return found ? found.to : t;\n            });\n        if (config.specializers) {\n            copy.specializers = this.specializers.slice();\n            copy.specializerSpecs = this.specializerSpecs.map((s, i) => {\n                let found = config.specializers.find(r => r.from == s.external);\n                if (!found)\n                    return s;\n                let spec = Object.assign(Object.assign({}, s), { external: found.to });\n                copy.specializers[i] = getSpecializer(spec);\n                return spec;\n            });\n        }\n        if (config.contextTracker)\n            copy.context = config.contextTracker;\n        if (config.dialect)\n            copy.dialect = this.parseDialect(config.dialect);\n        if (config.strict != null)\n            copy.strict = config.strict;\n        if (config.wrap)\n            copy.wrappers = copy.wrappers.concat(config.wrap);\n        if (config.bufferLength != null)\n            copy.bufferLength = config.bufferLength;\n        return copy;\n    }\n    /**\n    Tells you whether any [parse wrappers](#lr.ParserConfig.wrap)\n    are registered for this parser.\n    */\n    hasWrappers() {\n        return this.wrappers.length > 0;\n    }\n    /**\n    Returns the name associated with a given term. This will only\n    work for all terms when the parser was generated with the\n    `--names` option. By default, only the names of tagged terms are\n    stored.\n    */\n    getName(term) {\n        return this.termNames ? this.termNames[term] : String(term <= this.maxNode && this.nodeSet.types[term].name || term);\n    }\n    /**\n    The eof term id is always allocated directly after the node\n    types. @internal\n    */\n    get eofTerm() { return this.maxNode + 1; }\n    /**\n    The type of top node produced by the parser.\n    */\n    get topNode() { return this.nodeSet.types[this.top[1]]; }\n    /**\n    @internal\n    */\n    dynamicPrecedence(term) {\n        let prec = this.dynamicPrecedences;\n        return prec == null ? 0 : prec[term] || 0;\n    }\n    /**\n    @internal\n    */\n    parseDialect(dialect) {\n        let values = Object.keys(this.dialects), flags = values.map(() => false);\n        if (dialect)\n            for (let part of dialect.split(\" \")) {\n                let id = values.indexOf(part);\n                if (id >= 0)\n                    flags[id] = true;\n            }\n        let disabled = null;\n        for (let i = 0; i < values.length; i++)\n            if (!flags[i]) {\n                for (let j = this.dialects[values[i]], id; (id = this.data[j++]) != 65535 /* Seq.End */;)\n                    (disabled || (disabled = new Uint8Array(this.maxTerm + 1)))[id] = 1;\n            }\n        return new Dialect(dialect, flags, disabled);\n    }\n    /**\n    Used by the output of the parser generator. Not available to\n    user code. @hide\n    */\n    static deserialize(spec) {\n        return new LRParser(spec);\n    }\n}\nfunction pair(data, off) { return data[off] | (data[off + 1] << 16); }\nfunction findFinished(stacks) {\n    let best = null;\n    for (let stack of stacks) {\n        let stopped = stack.p.stoppedAt;\n        if ((stack.pos == stack.p.stream.end || stopped != null && stack.pos > stopped) &&\n            stack.p.parser.stateFlag(stack.state, 2 /* StateFlag.Accepting */) &&\n            (!best || best.score < stack.score))\n            best = stack;\n    }\n    return best;\n}\nfunction getSpecializer(spec) {\n    if (spec.external) {\n        let mask = spec.extend ? 1 /* Specialize.Extend */ : 0 /* Specialize.Specialize */;\n        return (value, stack) => (spec.external(value, stack) << 1) | mask;\n    }\n    return spec.get;\n}\n\nexport { ContextTracker, ExternalTokenizer, InputStream, LRParser, LocalTokenGroup, Stack };\n","import { lineNumbers, highlightActiveLineGutter, highlightSpecialChars, drawSelection, dropCursor, rectangularSelection, crosshairCursor, highlightActiveLine, keymap } from '@codemirror/view';\nexport { EditorView } from '@codemirror/view';\nimport { EditorState } from '@codemirror/state';\nimport { foldGutter, indentOnInput, syntaxHighlighting, defaultHighlightStyle, bracketMatching, foldKeymap } from '@codemirror/language';\nimport { history, defaultKeymap, historyKeymap } from '@codemirror/commands';\nimport { highlightSelectionMatches, searchKeymap } from '@codemirror/search';\nimport { closeBrackets, autocompletion, closeBracketsKeymap, completionKeymap } from '@codemirror/autocomplete';\nimport { lintKeymap } from '@codemirror/lint';\n\n// (The superfluous function calls around the list of extensions work\n// around current limitations in tree-shaking software.)\n/**\nThis is an extension value that just pulls together a number of\nextensions that you might want in a basic editor. It is meant as a\nconvenient helper to quickly set up CodeMirror without installing\nand importing a lot of separate packages.\n\nSpecifically, it includes...\n\n - [the default command bindings](https://codemirror.net/6/docs/ref/#commands.defaultKeymap)\n - [line numbers](https://codemirror.net/6/docs/ref/#view.lineNumbers)\n - [special character highlighting](https://codemirror.net/6/docs/ref/#view.highlightSpecialChars)\n - [the undo history](https://codemirror.net/6/docs/ref/#commands.history)\n - [a fold gutter](https://codemirror.net/6/docs/ref/#language.foldGutter)\n - [custom selection drawing](https://codemirror.net/6/docs/ref/#view.drawSelection)\n - [drop cursor](https://codemirror.net/6/docs/ref/#view.dropCursor)\n - [multiple selections](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\n - [reindentation on input](https://codemirror.net/6/docs/ref/#language.indentOnInput)\n - [the default highlight style](https://codemirror.net/6/docs/ref/#language.defaultHighlightStyle) (as fallback)\n - [bracket matching](https://codemirror.net/6/docs/ref/#language.bracketMatching)\n - [bracket closing](https://codemirror.net/6/docs/ref/#autocomplete.closeBrackets)\n - [autocompletion](https://codemirror.net/6/docs/ref/#autocomplete.autocompletion)\n - [rectangular selection](https://codemirror.net/6/docs/ref/#view.rectangularSelection) and [crosshair cursor](https://codemirror.net/6/docs/ref/#view.crosshairCursor)\n - [active line highlighting](https://codemirror.net/6/docs/ref/#view.highlightActiveLine)\n - [active line gutter highlighting](https://codemirror.net/6/docs/ref/#view.highlightActiveLineGutter)\n - [selection match highlighting](https://codemirror.net/6/docs/ref/#search.highlightSelectionMatches)\n - [search](https://codemirror.net/6/docs/ref/#search.searchKeymap)\n - [linting](https://codemirror.net/6/docs/ref/#lint.lintKeymap)\n\n(You'll probably want to add some language package to your setup\ntoo.)\n\nThis extension does not allow customization. The idea is that,\nonce you decide you want to configure your editor more precisely,\nyou take this package's source (which is just a bunch of imports\nand an array literal), copy it into your own code, and adjust it\nas desired.\n*/\nconst basicSetup = /*@__PURE__*/(() => [\n    lineNumbers(),\n    highlightActiveLineGutter(),\n    highlightSpecialChars(),\n    history(),\n    foldGutter(),\n    drawSelection(),\n    dropCursor(),\n    EditorState.allowMultipleSelections.of(true),\n    indentOnInput(),\n    syntaxHighlighting(defaultHighlightStyle, { fallback: true }),\n    bracketMatching(),\n    closeBrackets(),\n    autocompletion(),\n    rectangularSelection(),\n    crosshairCursor(),\n    highlightActiveLine(),\n    highlightSelectionMatches(),\n    keymap.of([\n        ...closeBracketsKeymap,\n        ...defaultKeymap,\n        ...searchKeymap,\n        ...historyKeymap,\n        ...foldKeymap,\n        ...completionKeymap,\n        ...lintKeymap\n    ])\n])();\n/**\nA minimal set of extensions to create a functional editor. Only\nincludes [the default keymap](https://codemirror.net/6/docs/ref/#commands.defaultKeymap), [undo\nhistory](https://codemirror.net/6/docs/ref/#commands.history), [special character\nhighlighting](https://codemirror.net/6/docs/ref/#view.highlightSpecialChars), [custom selection\ndrawing](https://codemirror.net/6/docs/ref/#view.drawSelection), and [default highlight\nstyle](https://codemirror.net/6/docs/ref/#language.defaultHighlightStyle).\n*/\nconst minimalSetup = /*@__PURE__*/(() => [\n    highlightSpecialChars(),\n    history(),\n    drawSelection(),\n    syntaxHighlighting(defaultHighlightStyle, { fallback: true }),\n    keymap.of([\n        ...defaultKeymap,\n        ...historyKeymap,\n    ])\n])();\n\nexport { basicSetup, minimalSetup };\n","export default function crelt() {\n  var elt = arguments[0]\n  if (typeof elt == \"string\") elt = document.createElement(elt)\n  var i = 1, next = arguments[1]\n  if (next && typeof next == \"object\" && next.nodeType == null && !Array.isArray(next)) {\n    for (var name in next) if (Object.prototype.hasOwnProperty.call(next, name)) {\n      var value = next[name]\n      if (typeof value == \"string\") elt.setAttribute(name, value)\n      else if (value != null) elt[name] = value\n    }\n    i++\n  }\n  for (; i < arguments.length; i++) add(elt, arguments[i])\n  return elt\n}\n\nfunction add(elt, child) {\n  if (typeof child == \"string\") {\n    elt.appendChild(document.createTextNode(child))\n  } else if (child == null) {\n  } else if (child.nodeType != null) {\n    elt.appendChild(child)\n  } else if (Array.isArray(child)) {\n    for (var i = 0; i < child.length; i++) add(elt, child[i])\n  } else {\n    throw new RangeError(\"Unsupported child node: \" + child)\n  }\n}\n","const C = \"\\u037c\"\nconst COUNT = typeof Symbol == \"undefined\" ? \"__\" + C : Symbol.for(C)\nconst SET = typeof Symbol == \"undefined\" ? \"__styleSet\" + Math.floor(Math.random() * 1e8) : Symbol(\"styleSet\")\nconst top = typeof globalThis != \"undefined\" ? globalThis : typeof window != \"undefined\" ? window : {}\n\n// :: - Style modules encapsulate a set of CSS rules defined from\n// JavaScript. Their definitions are only available in a given DOM\n// root after it has been _mounted_ there with `StyleModule.mount`.\n//\n// Style modules should be created once and stored somewhere, as\n// opposed to re-creating them every time you need them. The amount of\n// CSS rules generated for a given DOM root is bounded by the amount\n// of style modules that were used. So to avoid leaking rules, don't\n// create these dynamically, but treat them as one-time allocations.\nexport class StyleModule {\n  // :: (Object<Style>, ?{finish: ?(string) → string})\n  // Create a style module from the given spec.\n  //\n  // When `finish` is given, it is called on regular (non-`@`)\n  // selectors (after `&` expansion) to compute the final selector.\n  constructor(spec, options) {\n    this.rules = []\n    let {finish} = options || {}\n\n    function splitSelector(selector) {\n      return /^@/.test(selector) ? [selector] : selector.split(/,\\s*/)\n    }\n\n    function render(selectors, spec, target, isKeyframes) {\n      let local = [], isAt = /^@(\\w+)\\b/.exec(selectors[0]), keyframes = isAt && isAt[1] == \"keyframes\"\n      if (isAt && spec == null) return target.push(selectors[0] + \";\")\n      for (let prop in spec) {\n        let value = spec[prop]\n        if (/&/.test(prop)) {\n          render(prop.split(/,\\s*/).map(part => selectors.map(sel => part.replace(/&/, sel))).reduce((a, b) => a.concat(b)),\n                 value, target)\n        } else if (value && typeof value == \"object\") {\n          if (!isAt) throw new RangeError(\"The value of a property (\" + prop + \") should be a primitive value.\")\n          render(splitSelector(prop), value, local, keyframes)\n        } else if (value != null) {\n          local.push(prop.replace(/_.*/, \"\").replace(/[A-Z]/g, l => \"-\" + l.toLowerCase()) + \": \" + value + \";\")\n        }\n      }\n      if (local.length || keyframes) {\n        target.push((finish && !isAt && !isKeyframes ? selectors.map(finish) : selectors).join(\", \") +\n                    \" {\" + local.join(\" \") + \"}\")\n      }\n    }\n\n    for (let prop in spec) render(splitSelector(prop), spec[prop], this.rules)\n  }\n\n  // :: () → string\n  // Returns a string containing the module's CSS rules.\n  getRules() { return this.rules.join(\"\\n\") }\n\n  // :: () → string\n  // Generate a new unique CSS class name.\n  static newName() {\n    let id = top[COUNT] || 1\n    top[COUNT] = id + 1\n    return C + id.toString(36)\n  }\n\n  // :: (union<Document, ShadowRoot>, union<[StyleModule], StyleModule>, ?{nonce: ?string})\n  //\n  // Mount the given set of modules in the given DOM root, which ensures\n  // that the CSS rules defined by the module are available in that\n  // context.\n  //\n  // Rules are only added to the document once per root.\n  //\n  // Rule order will follow the order of the modules, so that rules from\n  // modules later in the array take precedence of those from earlier\n  // modules. If you call this function multiple times for the same root\n  // in a way that changes the order of already mounted modules, the old\n  // order will be changed.\n  //\n  // If a Content Security Policy nonce is provided, it is added to\n  // the `<style>` tag generated by the library.\n  static mount(root, modules, options) {\n    let set = root[SET], nonce = options && options.nonce\n    if (!set) set = new StyleSet(root, nonce)\n    else if (nonce) set.setNonce(nonce)\n    set.mount(Array.isArray(modules) ? modules : [modules])\n  }\n}\n\nlet adoptedSet = new Map //<Document, StyleSet>\n\nclass StyleSet {\n  constructor(root, nonce) {\n    let doc = root.ownerDocument || root, win = doc.defaultView\n    if (!root.head && root.adoptedStyleSheets && win.CSSStyleSheet) {\n      let adopted = adoptedSet.get(doc)\n      if (adopted) {\n        root.adoptedStyleSheets = [adopted.sheet, ...root.adoptedStyleSheets]\n        return root[SET] = adopted\n      }\n      this.sheet = new win.CSSStyleSheet\n      root.adoptedStyleSheets = [this.sheet, ...root.adoptedStyleSheets]\n      adoptedSet.set(doc, this)\n    } else {\n      this.styleTag = doc.createElement(\"style\")\n      if (nonce) this.styleTag.setAttribute(\"nonce\", nonce)\n      let target = root.head || root\n      target.insertBefore(this.styleTag, target.firstChild)\n    }\n    this.modules = []\n    root[SET] = this\n  }\n\n  mount(modules) {\n    let sheet = this.sheet\n    let pos = 0 /* Current rule offset */, j = 0 /* Index into this.modules */\n    for (let i = 0; i < modules.length; i++) {\n      let mod = modules[i], index = this.modules.indexOf(mod)\n      if (index < j && index > -1) { // Ordering conflict\n        this.modules.splice(index, 1)\n        j--\n        index = -1\n      }\n      if (index == -1) {\n        this.modules.splice(j++, 0, mod)\n        if (sheet) for (let k = 0; k < mod.rules.length; k++)\n          sheet.insertRule(mod.rules[k], pos++)\n      } else {\n        while (j < index) pos += this.modules[j++].rules.length\n        pos += mod.rules.length\n        j++\n      }\n    }\n\n    if (!sheet) {\n      let text = \"\"\n      for (let i = 0; i < this.modules.length; i++)\n        text += this.modules[i].getRules() + \"\\n\"\n      this.styleTag.textContent = text\n    }\n  }\n\n  setNonce(nonce) {\n    if (this.styleTag && this.styleTag.getAttribute(\"nonce\") != nonce)\n      this.styleTag.setAttribute(\"nonce\", nonce)\n  }\n}\n\n// Style::Object<union<Style,string>>\n//\n// A style is an object that, in the simple case, maps CSS property\n// names to strings holding their values, as in `{color: \"red\",\n// fontWeight: \"bold\"}`. The property names can be given in\n// camel-case—the library will insert a dash before capital letters\n// when converting them to CSS.\n//\n// If you include an underscore in a property name, it and everything\n// after it will be removed from the output, which can be useful when\n// providing a property multiple times, for browser compatibility\n// reasons.\n//\n// A property in a style object can also be a sub-selector, which\n// extends the current context to add a pseudo-selector or a child\n// selector. Such a property should contain a `&` character, which\n// will be replaced by the current selector. For example `{\"&:before\":\n// {content: '\"hi\"'}}`. Sub-selectors and regular properties can\n// freely be mixed in a given object. Any property containing a `&` is\n// assumed to be a sub-selector.\n//\n// Finally, a property can specify an @-block to be wrapped around the\n// styles defined inside the object that's the property's value. For\n// example to create a media query you can do `{\"@media screen and\n// (min-width: 400px)\": {...}}`.\n","export var base = {\n  8: \"Backspace\",\n  9: \"Tab\",\n  10: \"Enter\",\n  12: \"NumLock\",\n  13: \"Enter\",\n  16: \"Shift\",\n  17: \"Control\",\n  18: \"Alt\",\n  20: \"CapsLock\",\n  27: \"Escape\",\n  32: \" \",\n  33: \"PageUp\",\n  34: \"PageDown\",\n  35: \"End\",\n  36: \"Home\",\n  37: \"ArrowLeft\",\n  38: \"ArrowUp\",\n  39: \"ArrowRight\",\n  40: \"ArrowDown\",\n  44: \"PrintScreen\",\n  45: \"Insert\",\n  46: \"Delete\",\n  59: \";\",\n  61: \"=\",\n  91: \"Meta\",\n  92: \"Meta\",\n  106: \"*\",\n  107: \"+\",\n  108: \",\",\n  109: \"-\",\n  110: \".\",\n  111: \"/\",\n  144: \"NumLock\",\n  145: \"ScrollLock\",\n  160: \"Shift\",\n  161: \"Shift\",\n  162: \"Control\",\n  163: \"Control\",\n  164: \"Alt\",\n  165: \"Alt\",\n  173: \"-\",\n  186: \";\",\n  187: \"=\",\n  188: \",\",\n  189: \"-\",\n  190: \".\",\n  191: \"/\",\n  192: \"`\",\n  219: \"[\",\n  220: \"\\\\\",\n  221: \"]\",\n  222: \"'\"\n}\n\nexport var shift = {\n  48: \")\",\n  49: \"!\",\n  50: \"@\",\n  51: \"#\",\n  52: \"$\",\n  53: \"%\",\n  54: \"^\",\n  55: \"&\",\n  56: \"*\",\n  57: \"(\",\n  59: \":\",\n  61: \"+\",\n  173: \"_\",\n  186: \":\",\n  187: \"+\",\n  188: \"<\",\n  189: \"_\",\n  190: \">\",\n  191: \"?\",\n  192: \"~\",\n  219: \"{\",\n  220: \"|\",\n  221: \"}\",\n  222: \"\\\"\"\n}\n\nvar mac = typeof navigator != \"undefined\" && /Mac/.test(navigator.platform)\nvar ie = typeof navigator != \"undefined\" && /MSIE \\d|Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\n\n// Fill in the digit keys\nfor (var i = 0; i < 10; i++) base[48 + i] = base[96 + i] = String(i)\n\n// The function keys\nfor (var i = 1; i <= 24; i++) base[i + 111] = \"F\" + i\n\n// And the alphabetic keys\nfor (var i = 65; i <= 90; i++) {\n  base[i] = String.fromCharCode(i + 32)\n  shift[i] = String.fromCharCode(i)\n}\n\n// For each code that doesn't have a shift-equivalent, copy the base name\nfor (var code in base) if (!shift.hasOwnProperty(code)) shift[code] = base[code]\n\nexport function keyName(event) {\n  // On macOS, keys held with Shift and Cmd don't reflect the effect of Shift in `.key`.\n  // On IE, shift effect is never included in `.key`.\n  var ignoreKey = mac && event.metaKey && event.shiftKey && !event.ctrlKey && !event.altKey ||\n      ie && event.shiftKey && event.key && event.key.length == 1 ||\n      event.key == \"Unidentified\"\n  var name = (!ignoreKey && event.key) ||\n    (event.shiftKey ? shift : base)[event.keyCode] ||\n    event.key || \"Unidentified\"\n  // Edge sometimes produces wrong names (Issue #3)\n  if (name == \"Esc\") name = \"Escape\"\n  if (name == \"Del\") name = \"Delete\"\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/\n  if (name == \"Left\") name = \"ArrowLeft\"\n  if (name == \"Up\") name = \"ArrowUp\"\n  if (name == \"Right\") name = \"ArrowRight\"\n  if (name == \"Down\") name = \"ArrowDown\"\n  return name\n}\n"],"names":["ChangeDetectorRef","Component","emojiExampleList","oneDark","javascript","autocompletion","completionKeymap","keymap","Compartment","basicSetup","language","sharedExtensions","of","typescript","CodemirrorExampleComponent","constructor","cd","emojiList","exampleJsText","trim","visibleJsCode","longExampleText","normalExtensions","extensions","ngOnDestroy","subscription","unsubscribe","updateCodemirror","codemirror","textarea","value","detectChanges","insertText","selectedRange","from","to","codeMirrorView","focus","replaceCode","_","__decorate","selector","template","__NG_CLI_RESOURCE__0","NgModule","CommonModule","MatTabsModule","HighlightEditorModule","MarkdownModule","CodemirrorModule","CodemirrorExampleModule","getComponents","name","componentType","declarations","imports","ChangeDetectionStrategy","ElementRef","EventEmitter","Input","Output","EditorView","EditorState","indentOnInput","defaultKeymap","indentLess","indentMore","CodemirrorComponent","_value","_val","_updateValue","element","_changedByValue","changed","codemirrorCreated","ngOnInit","editorState","createEditorState","state","parent","nativeElement","emit","ngOnChanges","codemirrorExtensions","currentValue","replaceEditorState","setState","text","transaction","update","changes","insert","selection","anchor","length","scrollIntoView","dispatch","replaceSelection","selectionTransaction","doc","create","key","preventDefault","run","changeFilter","tr","newSelection","ranges","range","markForCheck","docChanged","newDoc","toJSON","join","changeDetection","OnPush","exports","providers","Annotation","StateEffect","EditorSelection","codePointAt","codePointSize","fromCodePoint","Facet","combineConfig","StateField","Prec","Text","MapMode","RangeValue","RangeSet","CharCategory","Direction","logException","showTooltip","ViewPlugin","getTooltip","Decoration","WidgetType","syntaxTree","indentUnit","CompletionContext","pos","explicit","abortListeners","tokenBefore","types","token","resolveInner","indexOf","sliceDoc","type","matchBefore","expr","line","lineAt","start","Math","max","str","slice","found","search","ensureAnchor","aborted","addEventListener","listener","push","toSet","chars","flat","Object","keys","words","test","replace","prefixMatch","options","first","rest","label","i","source","RegExp","completeFromList","list","map","o","validFor","match","every","context","ifIn","nodes","isTop","ifNotIn","Option","completion","score","cur","main","_a","addStart","addEnd","flags","ignoreCase","pickedCompletion","define","insertCompletionText","fromOff","toOff","assign","changeByRange","cursor","userEvent","SourceCache","WeakMap","asSource","Array","isArray","known","get","set","startCompletionEffect","closeCompletionEffect","FuzzyMatcher","pattern","folded","any","precise","byWord","matched","p","char","size","part","upper","toUpperCase","toLowerCase","astral","ret","word","firstSize","direct","len","anyTo","e","min","next","preciseTo","byWordTo","byWordFolded","adjacentTo","adjacentStart","adjacentEnd","hasLower","wordAdjacent","prevType","ch","result","positions","completionConfig","combine","configs","activateOnTyping","selectOnOpen","override","closeOnBlur","maxRenderedOptions","tooltipClass","optionClass","aboveCursor","icons","addToOptions","positionInfo","defaultPositionInfo","compareCompletions","a","b","localeCompare","interactionDelay","c","joinClass","concat","view","option","info","space","tooltip","rtl","textDirection","RTL","left","narrow","side","offset","maxWidth","spaceLeft","spaceRight","right","infoWidth","infoHeight","bottom","top","spaceBelow","scaleY","offsetHeight","scaleX","offsetWidth","style","class","optionContent","config","content","render","icon","document","createElement","classList","add","split","cls","setAttribute","position","_s","labelElt","className","displayLabel","off","j","appendChild","createTextNode","span","detail","detailElt","textContent","sort","rangeAroundSelected","total","selected","floor","CompletionTooltip","stateField","applyCompletion","infoDestroy","placeInfoReq","read","measureInfo","write","placeInfo","currentClass","cState","field","open","facet","dom","updateTooltipClass","target","parentNode","nodeName","exec","id","relatedTarget","contentDOM","effects","createListBox","requestMeasure","mount","updateSel","_b","_c","prevState","startState","disabled","toggle","remove","positioned","updateSelectedOption","destroyInfo","infoResult","then","obj","addInfoPane","catch","wrap","nodeType","destroy","opt","firstChild","nextSibling","hasAttribute","removeAttribute","sel","querySelector","listRect","getBoundingClientRect","infoRect","selRect","win","ownerDocument","defaultView","window","innerWidth","innerHeight","cssText","ul","phrase","curSection","section","header","li","node","completionTooltip","container","self","height","scrollTop","boost","apply","sortOptions","active","sections","addOption","some","s","hasResult","getMatch","filter","matcher","sectionOrder","cmp","rank","prev","compare","CompletionDialog","attrs","timestamp","setSelected","makeAttrs","build","conf","selectedValue","reduce","completionState","above","Date","now","mapPos","CompletionState","none","random","toString","sources","languageDataAt","find","ActiveSource","touchesRange","sameResults","effect","is","setSelectedEffect","baseAttrs","iA","iB","endA","endB","getUserEvent","isUserEvent","explicitPos","event","handleUserEvent","handleChange","setActiveEffect","empty","ActiveResult","updated","checkValid","mapping","provide","f","val","contentAttributes","annotations","moveCompletionSelection","forward","by","step","acceptCompletion","readOnly","startCompletion","closeCompletion","RunningQuery","time","updates","done","undefined","DebounceTime","MaxUpdateCount","MinAbortTime","completionPlugin","fromClass","debounceUpdate","running","debounceAccept","composing","startQuery","selectionSet","doesReset","transactions","query","handler","splice","clearTimeout","q","setTimeout","startUpdate","r","pending","Promise","resolve","scheduleAccept","err","accept","current","eventHandlers","blur","dialog","contains","compositionstart","compositionend","baseTheme","fontFamily","whiteSpace","overflow","maxWidth_fallback","minWidth","maxHeight","listStyle","margin","padding","lineHeight","overflowX","textOverflow","display","borderBottom","paddingLeft","opacity","background","color","textAlign","width","boxSizing","backgroundColor","verticalAlign","borderLeft","textDecoration","marginLeft","fontStyle","fontSize","paddingRight","FieldPos","FieldRange","TrackDel","Snippet","lines","fieldPositions","instantiate","lineStart","lineObj","baseIndent","indent","tabs","parse","fields","m","seq","index","esc","fieldMarker","widget","toDOM","ignoreEvent","fieldRange","mark","ActiveSnippet","deco","mapped","selectionInsideField","setActive","moveToField","snippetState","decorations","fieldSelection","snippet","editor","spec","appendConfig","addSnippetKeymap","snippetPointerHandler","moveField","dir","last","clearSnippet","nextSnippetField","prevSnippetField","hasNextSnippetField","hasPrevSnippetField","defaultSnippetKeymap","shift","snippetKeymap","maps","highest","compute","snippetCompletion","domEventHandlers","mousedown","posAtCoords","x","clientX","y","clientY","wordRE","wordChars","escaped","mapRE","re","unicode","wordCaches","wordCache","storeWords","seen","ignoreAt","iterLines","lastIndex","collectWords","cache","big","cached","children","completeAnyWord","defaults","brackets","before","stringPrefixes","closeBracketEffect","TrackAfter","closedBracket","startSide","endSide","bracketState","head","prevLineStart","closeBrackets","inputHandler","definedClosing","closing","charCodeAt","charAt","android","navigator","userAgent","compositionStarted","insertBracket","deleteBracketPair","tokens","dont","prevChar","nextChar","closeBracketsKeymap","bracket","tok","closed","handleSame","handleOpen","closedBracketAt","handleClose","between","sliceString","close","closeBefore","_open","allowTriple","nodeStart","isTriple","canStartStringAt","charCategorizer","Word","probablyInString","tree","quoteToken","prefixes","maxPrefix","quotePos","charCat","prefix","completionKeymapExt","computeN","completionStatus","completionArrayCache","currentCompletions","completions","selectedCompletion","selectedCompletionIndex","setSelectedCompletion","Transaction","ChangeSet","ChangeDesc","findClusterBreak","countColumn","IndentContext","getIndentation","indentString","matchBrackets","getIndentUnit","NodeProp","toggleComment","getConfig","toggleLineComment","block","toggleBlockCommentByLine","command","changeLineComment","lineComment","lineUncomment","toggleBlockComment","changeBlockComment","blockComment","blockUncomment","selectedLineRanges","data","SearchMargin","findBlockComment","textBefore","textAfter","spaceBefore","spaceAfter","beforeOff","startText","endText","startSpace","endSpace","endOff","fromLine","toLine","comments","comment","prevLine","startI","minIndent","single","l","changeSet","fromHistory","isolateHistory","invertedEffects","historyConfig","minDepth","newGroupDelay","joinToEvent","_t","isAdjacent","adj","changeEnd","end","iterChangedRanges","historyField_","HistoryState","fromHist","annotation","item","HistEvent","fromTransaction","other","undone","updateBranch","addSelection","isolate","addToHistory","addMapping","desc","addChanges","fromJSON","json","history","beforeinput","inputType","undo","redo","historyField","cmd","historyState","pop","undoSelection","redoSelection","depth","histState","branch","undoDepth","redoDepth","startSelection","selectionsAfter","setSelAfter","after","invert","selections","maxLen","newEvent","newBranch","t","_f","eqSelectionShape","conc","MaxSelectionsPerEvent","lastEvent","sels","eq","popSelection","addMappingToBranch","mapEvent","extraSelections","mappedChanges","mapDesc","fullMapping","composeDesc","mapEffects","joinableUserEvent","prevTime","prevUserEvent","compose","historyKeymap","mac","linux","mainIndex","setSel","moveSel","how","rangeEnd","cursorByChar","moveByChar","ltrAtCursor","textDirectionAt","LTR","cursorCharLeft","cursorCharRight","cursorCharForward","cursorCharBackward","cursorByGroup","moveByGroup","cursorGroupLeft","cursorGroupRight","cursorGroupForward","cursorGroupBackward","segmenter","Intl","Segmenter","granularity","moveBySubword","categorize","cat","Space","steps","sawUpper","sawLower","nextCat","ahead","skipped","segments","segment","cursorBySubword","cursorSubwordForward","cursorSubwordBackward","interestingNode","bracketProp","prop","moveBySyntax","closedBy","openedBy","at","childAfter","childBefore","newPos","cursorSyntaxLeft","cursorSyntaxRight","cursorByLine","moved","moveVertically","moveToLineBoundary","cursorLineUp","cursorLineDown","pageInfo","selfScroll","scrollDOM","clientHeight","scrollHeight","marginTop","marginBottom","scrollMargins","margins","defaultLineHeight","cursorByPage","page","startPos","coordsAtPos","scrollRect","scrollBottom","yMargin","cursorPageUp","cursorPageDown","moveByLineBoundary","lineBlockAt","cursorLineBoundaryForward","cursorLineBoundaryBackward","cursorLineBoundaryLeft","cursorLineBoundaryRight","cursorLineStart","cursorLineEnd","toMatchingBracket","extend","matching","cursorMatchingBracket","selectMatchingBracket","extendSel","goalColumn","bidiLevel","selectByChar","selectCharLeft","selectCharRight","selectCharForward","selectCharBackward","selectByGroup","selectGroupLeft","selectGroupRight","selectGroupForward","selectGroupBackward","selectBySubword","selectSubwordForward","selectSubwordBackward","selectSyntaxLeft","selectSyntaxRight","selectByLine","selectLineUp","selectLineDown","selectByPage","selectPageUp","selectPageDown","selectLineBoundaryForward","selectLineBoundaryBackward","selectLineBoundaryLeft","selectLineBoundaryRight","selectLineStart","selectLineEnd","cursorDocStart","cursorDocEnd","selectDocStart","selectDocEnd","selectAll","selectLine","selectedLineBlocks","selectParentSyntax","simplifySelection","deleteBy","towards","skipAtomic","announce","atomicRanges","deleteByChar","targetPos","col","tabSize","drop","number","deleteCharBackward","deleteCharForward","deleteByGroup","deleteGroupBackward","deleteGroupForward","deleteToLineEnd","lineEnd","deleteToLineStart","deleteTrailingWhitespace","iter","lineBreak","trailing","splitLine","transposeChars","append","blocks","upto","startLine","endLine","moveLine","nextLine","moveLineUp","moveLineDown","copyLine","copyLineUp","copyLineDown","deleteLine","insertNewline","isBetweenBrackets","insertNewlineAndIndent","newlineAndIndent","insertBlankLine","atEof","explode","cx","simulateBreak","simulateDoubleBreak","lineIndent","changeBySelectedLine","atLine","indentSelection","overrideIndentation","norm","keep","insertTab","emacsStyleKeymap","standardKeymap","indentWithTab","parser","LRLanguage","indentNodeProp","continuedIndent","flatIndent","delimitedIndent","foldNodeProp","foldInside","defineLanguageFacet","sublanguageProp","LanguageSupport","NodeWeakMap","IterMode","snippets","typescriptSnippets","ScopeNodes","Set","defID","def","getChild","functionContext","gatherCompletions","FunctionDeclaration","ClassDeclaration","ClassExpression","EnumDeclaration","TypeAliasDeclaration","NamespaceDeclaration","VariableDefinition","matchContext","TypeDefinition","__proto__","getScope","IncludeAnonymous","iterate","gather","has","Identifier","dontComplete","localCompletionSource","inner","isWord","pathFor","member","path","reverse","lastChild","completionPath","enumeratePropertyCompletions","getOwnPropertyNames","getPrototypeOf","scopeCompletionSource","scope","Map","javascriptLanguage","configure","props","IfStatement","except","TryStatement","LabeledStatement","SwitchBody","isCase","unit","Block","ArrowFunction","TemplateString BlockComment","JSXElement","JSXEscape","JSXOpenTag JSXSelfClosingTag","column","BlockComment","languageData","commentTokens","jsxSublanguage","typescriptLanguage","dialect","jsxLanguage","n","tsxLanguage","kwCompletion","keywords","typescriptKeywords","lang","jsx","autocomplete","autoCloseTags","findOpenTag","elementName","defaultInsert","isActiveAt","base","closeTags","around","openTag","esLint","eslint","parserOptions","ecmaVersion","sourceType","env","browser","es6","es2015","es2017","es2020","rules","getRules","forEach","meta","docs","recommended","findRegions","d","verify","translateDiagnostic","input","endColumn","message","ruleId","severity","fix","actions","Tree","TreeFragment","Parser","NodeType","NodeSet","RangeSetBuilder","gutter","GutterMarker","tags","tagHighlighter","highlightTree","styleTags","StyleModule","languageDataProp","baseData","values","Language","extraExtensions","prototype","hasOwnProperty","defineProperty","extension","topNodeAt","sub","innerNode","sublang","allowsNesting","explore","mounted","overlay","topLang","topNode","enter","ExcludeBuffers","hasWrappers","ensureSyntaxTree","timeout","oldVieport","viewport","updateViewport","isDone","work","syntaxTreeAvailable","forceParsing","success","syntaxParserRunning","plugin","parseWorker","isWorking","DocInput","cursorPos","string","syncTo","chunk","lineChunks","stringStart","currentContext","ParseContext","fragments","treeLen","scheduleOn","tempSkipped","startParse","until","takeTree","withContext","endTime","stoppedAt","stopAt","advance","withoutTempSkipped","addTree","parsedPos","cutFragments","newState","fromA","toA","fromB","toB","applyChanges","startLen","reset","skipUntilInView","getSkippingParser","createParse","all","frags","LanguageState","newCx","init","vpTo","parseState","requestIdle","callback","requestIdleCallback","idle","cancelIdleCallback","isInputPending","scheduling","ParseWorker","working","workScheduled","chunkEnd","chunkBudget","bind","scheduleWork","hasFocus","checkAsyncSchedule","deadline","timeRemaining","viewportFirst","languages","enables","support","LanguageDescription","alias","filename","loadFunc","loading","load","RangeError","matchFilename","descs","ext","matchLanguageName","fuzzy","indentService","Error","JSON","stringify","cols","ts","service","syntaxIndentation","indentRange","bias","textAfterPos","overriden","simulatedBreak","ast","indentFrom","enterUnfinishedNodesBefore","ignoreClosed","indentStrategy","strategy","delimitedStrategy","topIndent","TreeIndentContext","baseIndentFor","atBreak","isParent","continue","bracketedAligned","openToken","sim","openLine","isSkipped","align","units","closedAt","aligned","matchExcept","DontIndentBeyond","transactionFilter","sequential","foldService","isError","syntaxFolding","isUnfinished","foldable","mapRange","foldEffect","unfoldEffect","selectedLines","foldState","foldExists","preparePlaceholder","foldConfig","foldWidget","PreparedFoldWidget","filterFrom","filterTo","onSelection","foldedRanges","findFold","maybeEnable","codeFolding","foldCode","announceFold","unfoldCode","fold","lineFrom","lineTo","foldAll","unfoldAll","foldableContainer","lineBlock","foldableRegion","toggleFold","foldRange","foldKeymap","defaultConfig","placeholderDOM","placeholderText","baseTheme$1","widgetToDOM","prepared","onclick","posAtDOM","title","foldGutterDefaults","openText","closedText","markerDOM","foldingChanged","FoldMarker","foldGutter","fullConfig","canFold","canUnfold","markers","buildMarkers","viewportChanged","builder","viewportLineBlocks","finish","initialSpacer","click","border","borderRadius","HighlightStyle","specs","modSpec","newName","scopeOpt","tag","module","themeType","highlighterFacet","fallbackHighlighter","getHighlighters","syntaxHighlighting","highlighter","treeHighlighter","styleModule","fallback","darkTheme","highlightingFor","highlighters","TreeHighlighter","markCache","buildDeco","styleChange","visibleRanges","high","v","defaultHighlightStyle","link","heading","fontWeight","emphasis","strong","strikethrough","keyword","atom","bool","url","contentSeparator","labelName","literal","inserted","deleted","regexp","escape","special","definition","variableName","local","typeName","namespace","macroName","propertyName","invalid","DefaultScanDist","DefaultBrackets","bracketMatchingConfig","afterCursor","maxScanDistance","renderMatch","defaultRenderMatch","matchingMark","nonmatchingMark","bracketMatchingState","bracketMatchingUnique","bracketMatching","bracketMatchingHandle","matchingNodes","byProp","findHandle","hasHandle","matches","handle","matchMarkedBrackets","matchPlainBrackets","_state","_pos","firstToken","endHandle","prevSibling","tokenType","startCh","startToken","iterRange","distance","basePos","countCol","startIndex","startValue","StringStream","overrideIndent","lastColumnPos","lastColumnValue","eol","sol","peek","eat","ok","eatWhile","eatSpace","skipToEnd","skipTo","backUp","indentation","consume","caseInsensitive","cased","substr","fullParser","blankLine","copyState","defaultCopyState","tokenTable","noTokens","IndentedFrom","StreamLanguage","impl","Parse","getIndent","docID","streamParser","stateAfter","perNode","TokenTable","defaultTokenTable","findState","statePos","stream","readToken","child","cutTree","inside","findStartInFragments","openStart","openEnd","chunks","chunkPos","chunkReused","rangeIndex","chunkStart","moveRangeIndex","parseEnd","parseLine","finishChunk","lineAfter","rangeStart","skipGapsTo","offPos","emitToken","len0","buffer","nodeSet","topID","maxBufferLength","reused","balance","typeArray","warned","defaultTable","legacyName","createTokenType","extra","table","warnForPart","msg","console","warn","tagStr","showPanel","hoverTooltip","getPanel","elt","SelectedDiagnostic","diagnostic","LintState","diagnostics","panel","markedDiagnostics","diagnosticFilter","lintConfig","markerFilter","DiagnosticWidget","attributes","markClass","findDiagnostic","hideTooltip","setDiagnosticsEffect","maybeEnableLint","lintState","lintExtensions","setDiagnostics","togglePanel","movePanelSelection","selPos","LintPanel","diagnosticCount","lint","activeMark","lintTooltip","stackStart","stackEnd","tooltipFilter","diagnosticsTooltip","renderDiagnostic","openLintPanel","closeLintPanel","nextDiagnostic","previousDiagnostic","prevFrom","prevTo","lastFrom","lastTo","lintKeymap","lintPlugin","delay","lintTime","error","needsRefresh","force","u","linter","forceLinting","assignKeys","assigned","inPanel","renderMessage","action","fired","keyIndex","nameElt","onmousedown","PanelItem","items","onkeydown","keyCode","moveSelection","selectedIndex","tabIndex","role","needsSync","newSelectedItem","_start","_end","sync","domPos","rm","insertBefore","svg","encodeURIComponent","underline","font","backgroundPosition","backgroundRepeat","paddingBottom","backgroundImage","borderRight","borderBottomColor","overflowY","background_fallback","color_fallback","severityWeight","sev","LintGutterMarker","diagnosticsFilter","lintGutterConfig","onmouseover","gutterMarkerMouseOver","trackHoverOn","marker","mousemove","rect","removeEventListener","lintGutterTooltip","setLintGutterTooltip","hovered","elementAtHeight","documentTop","linePos","getCoords","onmouseout","onmousemove","hoverTime","hoverTimeout","markersForDiagnostics","byLine","lintGutterExtension","lintGutterMarkers","lintGutterTheme","hideOn","lintGutter","forEachDiagnostic","lState","runScopeHandlers","basicNormalize","String","normalize","SearchCursor","bufferPos","bufferStart","nextOverlapping","code","Symbol","iterator","baseFlags","RegExpCursor","curLine","MultilineRegExpCursor","curLineStart","matchPos","toCharEnd","getLine","skip","flattened","FlattenedDoc","cachedFrom","validRegExp","createLineDialog","dialogEffect","go","onsubmit","sign","ln","cl","percent","pc","round","docLine","dialogField","gotoLine","select","defaultHighlightOptions","highlightWordAroundCursor","minSelectionLength","maxMatches","wholeWords","highlightConfig","highlightSelectionMatches","defaultTheme","matchHighlighter","matchDeco","mainMatchDeco","insideWordBoundaries","check","insideWord","getDeco","wordAt","selectWord","newSel","findNextOccurrence","fullWord","cycled","selectNextOccurrence","searchedText","addRange","searchConfigFacet","caseSensitive","wholeWord","createPanel","SearchPanel","scrollToMatch","searchExtensions","SearchQuery","valid","unquoted","unquote","RegExpQuery","StringQuery","getCursor","st","regexpCursor","stringCursor","QueryType","stringWordTest","categorizer","buf","bufPos","charBefore","charAfter","nextMatch","curFrom","curTo","prevMatchInRange","prevMatch","getReplacement","_result","matchAll","limit","highlight","regexpWordTest","_from","_to","setSearchQuery","searchState","SearchState","defaultQuery","createSearchPanel","getSearchQuery","curState","searchPanelOpen","matchMark","selectedMatchMark","searchHighlighter","searchCommand","openSearchPanel","findNext","announceMatch","selectSearchInput","findPrevious","selectMatches","selectSelectionMatches","replaceNext","replacement","toText","replaceAll","announceText","_d","_e","selText","getSearchInput","root","activeElement","searchInput","closeSearchPanel","searchKeymap","commit","searchField","placeholder","form","onchange","onkeyup","replaceField","caseField","checked","reField","wordField","button","keydown","shiftKey","setQuery","AnnounceMargin","Break","marginRight","low","lineInner","parts","decompose","TextNode","scanIdentical","RawTextCursor","PartialTextCursor","LineCursor","flatten","TextLeaf","textLength","isLine","Line","sliceText","joined","appendText","mid","newLen","lineSep","childOpen","totalLines","copy","eA","eB","chA","chB","maxChunk","minChunk","chunked","currentLines","currentLen","currentChunk","flush","offsets","nextInner","offsetValue","afterBreak","parseInt","isExtendingChar","isRegionalIndicator","ZWJ","includeExtending","nextClusterBreak","prevClusterBreak","surrogateLow","surrogateHigh","countBefore","code0","code1","fromCharCode","DefaultSplit","newLength","ins","iterGaps","posA","posB","individual","iterChanges","invertedDesc","composeSets","mapSet","assoc","mode","Simple","TrackBefore","_toB","resultSections","resultInserted","filteredSections","SectionIter","addSection","addInsert","filtered","process","insText","insLen","createSet","forceJoin","setA","setB","mkSet","piece","len2","sectionLen","insB","textBit","forward2","SelectionRange","level","change","abs","asSingle","replaceRange","which","normalized","checkSelection","docLength","nextID","compareInput","isStatic","default","sameArray","static","FacetProvider","deps","dependencies","dynamicSlot","addresses","getter","idx","multi","depDoc","depSel","depAddrs","dep","ensureAll","newVal","compareArray","reconfigure","oldState","oldAddr","address","oldVal","getAddr","addrs","addr","ensureAddr","dynamicFacetSlot","providerAddrs","providerTypes","dynamic","depChanged","oldProviders","facets","oldValue","initField","createF","updateF","compareF","provides","slot","Prec_","lowest","prec","PrecExtension","CompartmentInstance","compartment","compartments","Configuration","dynamicSlots","staticValues","statusTemplate","staticFacet","newCompartments","oldFacets","delete","status","computeSlot","allowMultipleSelections","lineSeparator","transactionExtender","AnnotationType","StateEffectType","_doc","applyTransaction","ann","reconfigured","remote","joinRanges","mergeTransaction","mapForA","mapForB","resolveTransactionInner","docSize","asArray","resolveTransaction","extendTransaction","filterTransaction","back","filters","extenders","nonASCIISingleCaseWordChar","wordChar","hasWordChar","makeCategorizer","Other","require","startValues","intermediateState","result1","newChanges","newMapped","mapBy","fieldInit","call","configuration","phrases","provider","kA","kB","k","Range","point","mapMode","cmpRange","Chunk","maxPoint","findIndex","startAt","arr","lo","hi","diff","newFrom","newTo","nextLayer","isEmpty","updateSpec","LayerCursor","goto","spill","addInner","chunkIndex","addChunk","nextChunk","finishInner","touch","HeapCursor","sets","oldSets","newSets","textDiff","comparator","minPointSize","sharedChunks","findSharedChunks","sideA","SpanCursor","sideB","sameValues","spans","openRanges","activeForPoint","openCount","pointFrom","pointRank","lazySort","newArrays","setMaxPoint","inA","shared","layer","minPoint","gotoInner","setRangeIndex","heap","heapBubble","childIndex","activeTo","activeRank","minActive","removeActive","findMinIndex","addActive","trackOpen","wasPoint","nextVal","startA","startB","dPos","clipEnd","comparePoint","compareRange","array","foundPos","findColumn","strict","chalky","coral","cyan","ivory","stone","malibu","sage","whiskey","violet","darkBackground","highlightBackground","tooltipBackground","oneDarkTheme","theme","caretColor","borderLeftColor","borderTop","outline","borderTopColor","dark","oneDarkHighlightStyle","character","function","constant","standard","separator","modifier","operator","operatorKeyword","processingInstruction","keyName","getSelection","deepActiveElement","shadowRoot","hasSelection","anchorNode","clientRectsFor","textRange","nodeValue","getClientRects","isEquivalentPosition","targetNode","targetOff","scanFor","domIndex","previousSibling","maxOffset","childNodes","contentEditable","flattenRect","windowRect","scrollRectIntoView","xMargin","ltr","stop","bounding","body","getComputedStyle","scrollWidth","clientWidth","assignedSlot","moveX","moveY","rectHeight","boundingHeight","targetTop","targetLeft","scrollBy","movedX","movedY","scrollLeft","host","scrollableParent","DOMSelectionState","anchorOffset","focusNode","focusOffset","domSel","setRange","preventScrollSupported","focusPreventScroll","stack","preventScroll","scratchRange","createRange","setEnd","setStart","dispatchKey","cancelable","down","KeyboardEvent","synthetic","dispatchEvent","up","defaultPrevented","getRoot","clearAttributes","removeAttributeNode","atElementStart","isScrolledToBottom","DOMPos","noChildren","ContentView","overrideDOMText","posAtStart","posBefore","posAtEnd","breakAfter","posAfter","track","contentView","canReuseDOM","reuseDOM","written","rm$1","_dom","localPosFromDOM","domBoundsAround","fromI","fromStart","toI","toEnd","prevEnd","startDOM","endDOM","markDirty","andParent","markParentsDirty","childList","setParent","setDOM","cmView","rootView","replaceChildren","ignoreMutation","_rec","_event","childCursor","ChildCursor","childPos","findPos","isEditable","isWidget","isHidden","merge","hasStart","become","getSide","removeChild","breakAtStart","breakAtEnd","mergeChildrenInto","dLen","nav","vendor","platform","documentElement","ie_edge","ie_upto10","ie_11up","ie","gecko","chrome","webkit","safari","ios","maxTouchPoints","windows","ie_version","documentMode","gecko_version","chrome_version","webkit_version","MaxJoinLen","TextView","createDOM","textDOM","domAtPos","coordsAt","textCoords","MarkView","setAttrs","tagName","_hasStart","detachFrom","inlineDOMAtPos","coordsInChildren","rects","WidgetView","prevWidget","updateDOM","custom","fromBack","WidgetBufferView","joinInlineInto","beforePos","afterPos","scan","fallbackRect","combineAttrs","noAttrs","attrsEq","ignore","keysA","keysB","updateAttrs","getAttrs","attr","LineView","arguments","prevAttrs","transferDOM","setDeco","addLineDeco","hack","cmIgnore","measureTextSize","totalWidth","textHeight","charWidth","heightOracle","viewState","dist","_other","covers","docView","BlockWidgetView","_takeDeco","estimatedHeight","lineBreaks","BlockType","heightRelevant","MarkDecoration","inlineOrder","PointDecoration","isBlockGap","getInclusive","LineDecoration","hasHeight","isReplace","WidgetRange","WidgetBefore","WidgetAfter","widgetsEq","inclusiveStart","inclusiveEnd","inclusive","ContentBuilder","disallowBlockEffectsFor","pendingBuffer","bufferMarks","atCursorPos","textOff","posCovered","flushBuffer","wrapMarks","addBlockWidget","buildText","take","NullWidget","cursorBefore","cursorAfter","dynamicDecorationMap","clickAddsSelectionRange","dragMovesSelection$1","mouseSelectionStyle","exceptionSink","updateListener","focusChangeEffect","perLineTextDirection","nativeSelectionHidden","ScrollTarget","exception","onerror","editable","nextPluginID","viewPlugin","domEventObservers","buildExtensions","eventObservers","pluginInst","PluginInstance","mustUpdate","deactivate","editorAttributes","bidiIsolatedRanges","getIsolatedRanges","isolates","Function","iso","bidiIsolate","direction","getScrollMargins","ChangedRange","addToSet","me","extendWithRanges","dI","rI","ViewUpdate","changedRanges","heightChanged","geometryChanged","focusChanged","dec","LowTypes","ArabicTypes","Brackets","BracketStack","charType","BidiRE","BidiSpan","order","maybe","isolatesEq","computeCharTypes","rFrom","rTo","outerType","iI","prevStrong","processBracketPairs","oppositeType","sI","br","sJ","embed","processNeutrals","beforeL","afterL","jI","fromJ","emitSpans","baseLevel","ourType","iCh","sameDir","isNum","recurse","localLevel","iScan","dirSwap","computeSectionOrder","computeOrder","trivialOrder","movedOver","moveVisually","spanI","indexForward","nextIndex","nextSpan","DocView","domChanged","hasComposition","markedForComposition","minWidthFrom","minWidthTo","impreciseAnchor","impreciseHead","forceSelection","lastUpdate","updateDeco","updateInner","readCompositionAt","inputState","touchesComposition","composition","findCompositionRange","clear","prevDeco","decoDiff","findChangedDeco","oldLength","mustMeasureContent","updateChildren","observer","contentHeight","flexBasis","selectionRange","cView","gaps","BlockGapWidget","updateGaps","compLine","compositionView","fixCompositionDOM","marks","updateSelection","mustRead","fromPointer","readSelectionRange","activeElt","focused","selectionNotFocus","moveToLine","betweenUneditable","dummy","inUneditable","rawSel","nextTo","nextToUneditable","nearbyTextNode","collapse","caretBidiLevel","removeAllRanges","setSelectionRange","enforceCursorAssoc","modify","newRange","posFromDOM","nearest","domView","best","bestPos","coordsForChar","childOff","measureVisibleLineHeights","contentWidth","isWider","widest","childRect","measure","computeBlockGapDeco","vs","viewports","allDeco","lineGapDeco","targetRect","findCompositionNode","headPos","textNode","inv","parentView","startNode","startOffset","DecorationComparator$1","DecorationComparator","comp","touched","groupAt","getdx","getdy","yOverlap","upTop","upBot","domPosAtCoords","closest","closestRect","closestX","closestY","closestOverlap","below","aboveRect","belowRect","dx","dy","domPosInText","clipX","closestOffset","closestDY","generalSide","rectBefore","coords","docTop","paddingTop","docHeight","yOffset","halfLine","bounced","posAtCoordsImprecise","elementFromPoint","caretPositionFromPoint","offsetNode","caretRangeFromPoint","startContainer","isSuspiciousSafariCaretResult","isSuspiciousChromeCaretResult","contentRect","into","defaultCharacterWidth","lineWrapping","lineLength","blockAt","includeWrap","widgetLineBreaks","editorRect","bidiSpans","byGroup","goal","startY","startCoords","resolvedGoal","curY","skipAtomicRanges","atoms","skipAtoms","oldPos","InputState","setSelectionOrigin","origin","lastSelectionOrigin","lastSelectionTime","lastKeyCode","lastKeyTime","lastTouchTime","lastFocusTime","lastScrollTop","lastScrollLeft","pendingIOSKey","lastEscPress","lastContextMenu","scrollHandlers","handlers","compositionFirstChange","compositionEndedAt","compositionPendingKey","compositionPendingChange","mouseSelection","handleEvent","minHeight","notifiedFocused","firefoxCopyCutHack","eventBelongsToEditor","ignoreDuringComposition","runHandlers","observers","ensureHandlers","plugins","computeHandlers","passive","exists","modifierCodes","delayAndroidKey","altKey","metaKey","PendingKeys","ctrlKey","EmacsyPendingKeys","flushIOSKey","forceFlush","startMouseSelection","bindHandler","record","dragScrollMargin","dragScrollSpeed","MouseSelection","startEvent","mustSelect","scrollSpeed","scrolling","scrollParent","move","multiple","addsSelectionRange","dragging","isInPrimarySelection","getClickType","buttons","sx","sy","setScrollSpeed","setInterval","scroll","clearInterval","dragMovesSelection","rangeCount","getRangeAt","bubbles","brokenClipboardAPI","capturePaste","doPaste","linewise","lastLinewiseCopy","lastLine","touchstart","touchmove","makeStyle","basicMouseSelection","mustFocus","mouseSel","rangeForClick","visual","insideY","findPositionSide","queryPos","BadMouseDetail","lastMouseDown","lastMouseDownCount","lastMouseDownTime","lastTime","startSel","removed","startRange","removeRangeAround","dragstart","dataTransfer","setData","effectAllowed","dropText","dropPos","del","files","finishFile","reader","FileReader","onload","readAsText","getData","paste","clipboardData","captureCopy","selectionEnd","selectionStart","copiedRange","cut","clearData","isFocusChange","focusChangeTransaction","getEffect","updateForFocusChange","clearSelectionRange","compositionupdate","pendingRecords","flushSoon","contextmenu","startViewHeight","visualViewport","appliedFirefoxHack","wrappingWhiteSpace","HeightOracle","heightSamples","heightForGap","ceil","heightForLine","setDoc","mustRefreshForWrapping","mustRefreshForHeights","lineHeights","newHeight","h","refresh","knownHeights","MeasuredHeights","heights","more","BlockInfo","_content","Epsilon","HeightMap","outdated","setHeight","oracle","decomposeLeft","decomposeRight","oldDoc","ByPosNoHeight","NodeBuilder","updateHeight","HeightMapText","break","brk","HeightMapBranch","HeightMapBlock","_height","_oracle","_type","forEachLine","_force","measured","collapsed","widgetHeight","breaks","HeightMapGap","heightMetrics","firstLine","perLine","perChar","totalPerLine","guess","lineTop","ByHeight","linesAbove","unshift","singleHeight","rightTop","rightOffset","subQuery","ByPos","rightStart","balanced","mergeGaps","rebalance","relevantWidgetHeight","covering","writtenTo","isCovered","addBlock","enterLine","blankContent","gap","ensureLine","heightRelevantDecoChanges","visiblePixelRange","parentRect","offsetParent","fullPixelRange","LineGap","same","gA","gB","draw","wrapping","LineGapWidget","vertical","ViewState","pixelViewport","inView","contentDOMWidth","contentDOMHeight","editorHeight","editorWidth","scrolledToBottom","scrollAnchorPos","scrollAnchorHeight","scaler","IdScaler","scrollTarget","printing","defaultTextDirection","mustEnforceCursorAssoc","guessWrapping","stateDeco","heightMap","getViewport","updateViewportLines","updateForViewport","lineGaps","ensureLineGaps","computeVisibleRanges","Viewport","BigScaler","viewportLines","scale","scaleBlock","contentChanges","heightChanges","prevHeight","scrollAnchor","scrollAnchorAt","mapViewport","viewportIsAppropriate","updateLines","updateLineGaps","mapLineGaps","domRect","measureContent","dTop","dBottom","vp","viewportChange","visibleTop","fromDOM","visibleBottom","viewHeight","topPos","mayMeasure","halfMargin","doubleMargin","addGap","structure","avoid","gapSize","lineStructure","viewFrom","viewTo","marginHeight","bot","targetFrac","findFraction","spaceFrac","findPosition","marginWidth","fraction","lineBlockAtHeight","ratio","counted","vpHeight","domBase","domTop","domBottom","bTop","bBottom","strs","baseThemeID","baseLightID","baseDarkID","lightDarkIDs","buildTheme","scopes","flexDirection","alignItems","zIndex","flexGrow","flexShrink","wordWrap","WebkitUserModify","whiteSpace_fallback","wordBreak","overflowWrap","contain","pointerEvents","animation","insetInlineStart","backgroundSize","LineBreakPlaceholder","DOMReader","points","readRange","findPointBefore","oldLen","readNode","nextView","isBlockElement","readTextNode","nextBreak","breakSize","fromView","findPointInside","DOMPoint","DOMChange","typeOver","bounds","iHead","iAnchor","selPoints","selectionPoints","selectionFromPoints","applyDOMChange","domChange","lastKey","preferredPos","preferredSide","findDiff","getAttribute","defaultTr","applyDefaultInsert","mainSel","replaced","compositionRange","rangeChanges","selOff","minLen","adjust","observeOptions","characterData","subtree","characterDataOldValue","useCharData","DOMObserver","selectionChanged","delayedFlush","resizeTimeout","queue","delayedAndroidKey","flushingAndroidKey","lastChange","scrollTargets","intersection","resizeScroll","resizeContent","intersecting","gapIntersection","parentCheck","MutationObserver","mutations","mut","removedNodes","onCharData","prevValue","onSelectionChange","onResize","onPrint","onScroll","ResizeObserver","observe","addWindowListeners","IntersectionObserver","entries","listenForScroll","intersectionRatio","onScrollChanged","createEvent","threshold","g","disconnect","wasChanged","safariSelectionRangeHack","processRecords","clearDelayedAndroidKey","flushed","requestAnimationFrame","cancelAnimationFrame","takeRecords","records","readMutation","readChange","readSelection","handled","rec","findChild","setWindow","removeWindowListeners","curView","stopImmediatePropagation","getTargetRanges","execCommand","endContainer","endOffset","curAnchor","_root","pluginMap","editorAttrs","contentAttrs","bidiCache","destroyed","updateState","measureScheduled","measureRequests","announceDOM","dispatchTransactions","trs","mountStyles","redrawn","attrsChanged","focusFlag","dispatchFocus","pendingKey","CachedOrder","updatePlugins","styleModules","showAnnouncements","hadFocus","prevSpecs","newPlugins","sDOM","measuring","BadMeasure","newAnchorHeight","themeClasses","attrsFromFacet","spellcheck","autocorrect","autocapitalize","translate","contenteditable","changedContent","changedEditor","div","nonce","cspNonce","readMeasured","request","documentPadding","initial","MaxBidiLine","entry","fresh","setRoot","findFromDOM","lastDir","currentPlatform","normalizeKeyName","alt","ctrl","mod","modifiers","handleKeyEvents","getKeymap","Keymaps","bindings","buildKeymap","storedPrefix","PrefixTimeout","bound","isPrefix","checkPrefix","stopPropagation","scopeObj","ourObj","full","binding","_any","charCode","isChar","prevented","ran","runFor","baseName","shiftName","RectangleMarker","forRange","getBase","rectanglesForRange","wrappedLine","lineElt","lineStyle","leftSide","textIndent","rightSide","startBlock","endBlock","visualStart","visualEnd","pieces","drawForLine","drawForWidget","horizontal","addSpan","fromOpen","toOpen","fromCoords","toCoords","endPos","spanFrom","spanTo","sameMarker","LayerView","drawn","measureReq","setOrder","layerOrder","transform","old","oldI","CanHidePrimary","selectionConfig","cursorBlinkRate","drawRangeCursor","drawSelection","cursorLayer","selectionLayer","hideNativeSelection","configChanged","cursors","prim","animationName","confChange","setBlinkRate","animationDuration","themeSpec","setDropCursorPos","dropCursorPos","drawDropCursor","readPos","drawCursor","outer","setDropPos","dragover","dragleave","dragend","dropCursor","iterMatches","matchRanges","maxLength","visible","MatchDecorator","decoration","decorate","boundary","global","addMatch","_view","createDeco","changeFrom","changeTo","updateRange","updateFrom","updateTo","UnicodeRegexpSupport","Specials","Names","_supportsTabSize","supportsTabSize","styles","MozTabSize","specialCharConfig","specialChars","addSpecialChars","replaceTabs","highlightSpecialChars","specialCharPlugin","_plugin","decorationCache","decorator","makeDecorator","TabWidget","SpecialCharWidget","DefaultPlaceholder","placeholder$1","ph","scrollPastEnd","highlightActiveLine","activeLineHighlighter","lineDeco","lastLineStart","Placeholder","MaxOff","rectangleFor","startOff","startCol","endCol","absoluteColumn","ref","getPos","rectangleSelectionStyle","newStart","newLine","_extend","rectangularSelection","eventFilter","Alt","Control","Shift","Meta","showCrosshair","crosshairCursor","isDown","keyup","Outside","TooltipViewManager","createTooltipView","tooltips","tooltipViews","tip","tooltipView","tooltipConfig","windowSpace","tooltipSpace","knownHeight","tooltipPlugin","madeAbsolute","lastTransaction","measureTimeout","classes","createContainer","readMeasure","writeMeasure","manager","createTooltip","intersectionObserver","measureSoon","observeIntersection","maybeMeasure","shouldMeasure","newConfig","arrow","makeAbsolute","views","tv","others","tView","arrowHeight","noOffset","strictSide","spaceVert","resize","overlap","arrowLeft","showHoverTooltip","HoverTooltipHost","createHostedView","hostedView","showHoverTooltipHost","HoverPlugin","setHover","restartTimeout","lastMove","checkHover","mouseleave","startHover","posCoords","bidi","isInTooltip","isOverRange","docBottom","hoverState","hideOnChange","closeHoverTooltipEffect","hasHoverTooltips","closeHoverTooltips","repositionTooltips","panelConfig","topContainer","bottomContainer","panels","panelPlugin","PanelGroup","syncClasses","scrollMargin","syncDOM","curDOM","elementClass","gutterLineClass","renderEmptyElements","elementStyle","lineMarker","widgetMarker","lineMarkerChange","updateSpacer","activeGutters","gutters","unfixGutters","gutterView","fixed","prevViewport","SingleGutterView","syncGutters","updateGutters","vpA","vpB","vpOverlap","detach","lineClasses","classSet","contexts","UpdateContext","advanceCursor","collect","addElement","elements","newElt","GutterElement","extraMarkers","localMarkers","forLine","spacer","prevMarkers","sameMarkers","setMarkers","iNew","iOld","lineNumberMarkers","lineNumberConfig","formatNumber","NumberMarker","lineNumberGutter","maxLineNumber","lineNumbers","activeLineGutterMarker","activeLineGutterHighlighter","highlightActiveLineGutter","WhitespaceDeco","getWhitespaceDeco","whitespaceHighlighter","highlightWhitespace","trailingHighlighter","highlightTrailingWhitespace","__test","DefaultBufferLength","nextPropID","deserialize","group","contextHash","lookAhead","MountedTree","noProps","src","isAnonymous","groups","newTypes","newProps","CachedNode","CachedInnerNode","TreeCursor","cursorAt","moveTo","_tree","TreeNode","resolveNode","resolveStack","stackIterator","leave","anon","entered","propValues","balanceRange","makeTree","buildTree","FlatBufferCursor","fork","TreeBuffer","childString","endIndex","pick","checkSide","endI","Uint16Array","overlays","IgnoreOverlays","BaseNode","getChildren","matchNodeContext","_parent","nextChild","BufferNode","BufferContext","hasChild","IgnoreMounts","rPos","nextSignificantParent","toTree","externalSibling","parentStart","iterStack","heads","picked","newHeads","StackIterator","layers","bufferNode","yieldNode","yieldBuf","yield","enterChild","sibling","atLastNode","mustLeave","minRepeatType","takeNode","minPos","inRepeat","lookAheadAtStart","findBufferSize","copyToBuffer","localChildren","localPositions","localInRepeat","lastGroup","lastEnd","makeRepeatLeaf","make","makeBalanced","lastI","lookAheadProp","pair","maxSize","minStart","nodeSize","localSkipped","nodeSizeCache","balanceType","mkTop","mkTree","maxChild","divide","groupFrom","groupStart","groupSize","nextSize","only","setBuffer","getBuffer","cursorSet","cursorGet","partial","minGap","fI","nextF","cI","nextC","nextPos","fFrom","fTo","StringInput","parseMixed","nest","MixedParse","InnerParse","ActiveOverlay","predicate","mounts","stoppedInner","innerDone","baseTree","baseParse","startInner","fragmentCursor","FragmentCursor","covered","hasNode","frag","checkCover","materialize","oldMounts","findMounts","punchRanges","enterFragments","sliceBuf","innerOffset","isTarget","StructureCursor","fragI","curFrag","nextFrag","gapFrom","gapTo","findCoverChanges","inB","nextA","nextB","nextTagID","Tag","modified","defineModifier","Modifier","nextModifierID","instances","mods","powerSet","byName","rule","Rule","ruleNodeProp","opaque","inherit","tagClass","highlightTags","putStyle","HighlightBuilder","highlightRange","startSpan","inheritedClass","getStyleTags","tagCls","innerHighlighters","rangeFrom","rangeTo","punctuation","docComment","attributeName","docString","attributeValue","integer","float","null","controlKeyword","definitionKeyword","moduleKeyword","derefOperator","arithmeticOperator","logicOperator","bitwiseOperator","compareOperator","updateOperator","definitionOperator","typeOperator","controlOperator","angleBracket","squareBracket","paren","brace","heading1","heading2","heading3","heading4","heading5","heading6","quote","monospace","documentMeta","classHighlighter","ContextTracker","ExternalTokenizer","LRParser","LocalTokenGroup","noSemi","incdec","incdecPrefix","insertSemi","spaces","newline","LineComment","braceR","semicolon","slash","star","plus","minus","trackNewline","term","insertSemicolon","acceptToken","contextual","noSemicolon","incdecToken","mayPostfix","canShift","jsHighlight","TemplateString","super","BooleanLiteral","this","Star","VariableName","Label","PropertyName","PrivatePropertyName","PropertyDefinition","PrivatePropertyDefinition","UpdateOp","Number","Escape","ArithOp","LogicOp","BitOp","CompareOp","Equals","Arrow","TypeName","JSXAttributeValue","JSXText","spec_identifier","export","as","async","extends","true","false","void","typeof","new","await","public","private","protected","readonly","instanceof","satisfies","in","const","import","keyof","unique","infer","abstract","implements","let","var","using","interface","enum","declare","for","while","with","do","if","else","switch","case","try","finally","return","throw","debugger","spec_word","accessor","spec_LessThan","version","states","stateData","nodeNames","maxTerm","nodeProps","propSources","skippedNodes","repeatNodeCount","tokenData","tokenizers","topRules","dialects","dynamicPrecedences","specialized","tokenPrec","Stack","reducePos","bufferBase","curContext","StackContext","pushState","dPrec","dynamicPrecedence","getGoto","minRepeatTerm","storeNode","reduceContext","lastBigReductionStart","bigReductionCount","lastBigReductionSize","count","stateFlag","baseStateID","isReduce","nextState","maxNode","shiftContext","nextStart","nextEnd","useNode","updateContext","tracker","reuse","recoverByDelete","isNode","SimulatedStack","stateSlot","hasAction","recoverByInsert","nextStates","forceReduce","validAction","backup","findForcedReduction","includes","allActions","rDepth","forceAll","deadEnd","restart","sameState","dialectEnabled","dialectID","emitContext","hash","emitLookAhead","setLookAhead","StackBufferCursor","maybeNext","decodeArray","Type","out","digit","CachedToken","extended","mask","nullToken","InputStream","chunkOff","chunk2","chunk2Pos","readNext","resolveOffset","clipPos","resolved","getChunk","setDone","TokenGroup","tokenPrecTable","precTable","elseToken","precOffset","groupMask","accEnd","allows","overrides","findOffset","tableData","tableOffset","iPrev","verbose","LOG","stackIDs","cutAt","fragment","safeFrom","safeTo","trees","nextFragment","fr","nodeAt","TokenCache","mainToken","getActions","actionIndex","tokenizer","updateCachedToken","addActions","eofTerm","getMainToken","specializers","putAction","recovering","nextStackID","minStackPos","topTerm","stacks","bufferLength","newStacks","stopped","stoppedTokens","advanceStack","finished","findFinished","log","stackID","stackToTree","getName","SyntaxError","runRecovery","maxRemaining","strictCx","cxHash","defaultReduce","localStack","advanceFully","pushStackDedup","restarted","tokenEnd","forceBase","Dialect","wrappers","topTerms","setProp","nodeID","propSpec","tokenArray","specializerSpecs","getSpecializer","Uint32Array","termNames","parseDialect","w","loose","groupTag","terminal","flag","deflt","external","contextTracker","Uint8Array","minimalSetup","crelt","C","COUNT","SET","globalThis","splitSelector","selectors","isKeyframes","isAt","keyframes","modules","StyleSet","setNonce","adoptedSet","adoptedStyleSheets","CSSStyleSheet","adopted","sheet","styleTag","insertRule","ignoreKey"],"sourceRoot":"webpack:///","x_google_ignoreList":[8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24]}