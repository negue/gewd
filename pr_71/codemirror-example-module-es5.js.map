{"version":3,"sources":["webpack:///node_modules/@codemirror/autocomplete/dist/index.js","webpack:///node_modules/@codemirror/state/dist/index.js","webpack:///libs/components/codemirror/index.ts","webpack:///node_modules/@codemirror/rectangular-selection/dist/index.js","webpack:///node_modules/@codemirror/view/dist/index.js","webpack:///libs/components/codemirror/codemirror.module.ts","webpack:///node_modules/@lezer/javascript/dist/index.es.js","webpack:///node_modules/crelt/index.es.js","webpack:///apps/demo/src/app/examples/codemirror-example/codemirror-example.component.css","webpack:///node_modules/@codemirror/commands/dist/index.js","webpack:///libs/components/codemirror/public_api.ts","webpack:///node_modules/@lezer/lr/dist/index.js","webpack:///apps/demo/src/app/examples/codemirror-example/codemirror-example.component.ts","webpack:///node_modules/@codemirror/comment/dist/index.js","webpack:///node_modules/@codemirror/theme-one-dark/dist/index.js","webpack:///node_modules/@codemirror/lint/dist/index.js","webpack:///node_modules/@codemirror/matchbrackets/dist/index.js","webpack:///node_modules/@codemirror/fold/dist/index.js","webpack:///libs/components/codemirror/codemirror.component.ts","webpack:///node_modules/@codemirror/closebrackets/dist/index.js","webpack:///libs/components/codemirror/codemirror.component.scss","webpack:///node_modules/@codemirror/panel/dist/index.js","webpack:///node_modules/@codemirror/tooltip/dist/index.js","webpack:///node_modules/@codemirror/gutter/dist/index.js","webpack:///node_modules/@codemirror/history/dist/index.js","webpack:///node_modules/@lezer/common/dist/index.js","webpack:///apps/demo/src/app/examples/codemirror-example/codemirror-example.component.html","webpack:///node_modules/@codemirror/search/dist/index.js","webpack:///node_modules/w3c-keyname/index.es.js","webpack:///node_modules/style-mod/src/style-mod.js","webpack:///node_modules/@codemirror/basic-setup/dist/index.js","webpack:///node_modules/@codemirror/lang-javascript/dist/index.js","webpack:///apps/demo/src/app/examples/codemirror-example/codemirror-example.module.ts","webpack:///node_modules/@codemirror/text/dist/index.js","webpack:///node_modules/@codemirror/highlight/dist/index.js","webpack:///node_modules/@codemirror/rangeset/dist/index.js","webpack:///node_modules/@codemirror/language/dist/index.js"],"names":["CompletionContext","state","pos","explicit","abortListeners","types","token","resolveInner","indexOf","name","parent","from","to","text","sliceDoc","type","expr","line","doc","lineAt","start","Math","max","str","slice","found","search","ensureAnchor","listener","push","toSet","chars","flat","Object","keys","join","words","test","replace","prefixMatch","options","first","create","rest","label","i","length","source","RegExp","completeFromList","list","map","o","every","span","match","context","matchBefore","ifIn","nodes","ifNotIn","Option","completion","cur","selection","main","head","_a","addStart","addEnd","flags","ignoreCase","applyCompletion","view","option","apply","result","dispatch","changes","insert","anchor","userEvent","SourceCache","WeakMap","asSource","Array","isArray","known","get","set","FuzzyMatcher","pattern","folded","any","precise","byWord","p","char","size","part","upper","toUpperCase","toLowerCase","astral","word","direct","len","anyTo","e","min","next","preciseTo","byWordTo","byWordFolded","adjacentTo","adjacentStart","adjacentEnd","hasLower","prevType","ch","score","positions","completionConfig","define","combine","configs","activateOnTyping","override","maxRenderedOptions","defaultKeymap","optionClass","icons","addToOptions","a","b","c","joinClass","concat","MaxInfoWidth","baseTheme","fontFamily","whiteSpace","overflow","maxWidth_fallback","maxWidth","maxHeight","listStyle","margin","padding","cursor","lineHeight","background_fallback","backgroundColor","color_fallback","color","content","opacity","display","textAlign","position","width","right","left","verticalAlign","height","borderLeft","textDecoration","marginLeft","fontStyle","fontSize","paddingRight","optionContent","config","render","icon","document","createElement","classList","add","split","cls","setAttribute","_s","labelElt","className","off","j","appendChild","createTextNode","detail","detailElt","textContent","sort","createInfoDialog","dom","info","then","node","rangeAroundSelected","total","selected","floor","CompletionTooltip","stateField","placeInfo","read","measureInfo","write","positionInfo","key","cState","field","open","facet","range","addEventListener","target","parentNode","nodeName","exec","id","preventDefault","createListBox","requestMeasure","updateSel","update","startState","remove","updateSelectedOption","opt","firstChild","nextSibling","hasAttribute","removeAttribute","scrollIntoView","sel","querySelector","rect","getBoundingClientRect","top","clientHeight","textDirection","RTL","spaceLeft","spaceRight","innerWidth","style","toggle","ul","li","completionTooltip","container","element","self","scrollTop","bottom","MaxOptions","boost","sortOptions","active","hasResult","filter","matcher","cmpOption","prev","CompletionDialog","attrs","tooltip","timestamp","makeAttrs","assign","mapPos","selectedValue","reduce","completionState","Date","now","CompletionState","tr","conf","sources","languageDataAt","value","find","s","ActiveSource","some","touchesRange","sameResults","build","docChanged","effects","effect","is","setSelectedEffect","setSelected","baseAttrs","none","random","toString","iA","iB","endA","endB","dScore","localeCompare","getUserEvent","isUserEvent","explicitPos","event","handleUserEvent","handleChange","startCompletionEffect","closeCompletionEffect","setActiveEffect","empty","ActiveResult","mapping","provide","f","val","contentAttributes","CompletionInteractMargin","moveCompletionSelection","forward","by","step","offsetHeight","of","acceptCompletion","startCompletion","closeCompletion","RunningQuery","time","updates","done","undefined","DebounceTime","MaxUpdateCount","MinAbortTime","completionPlugin","fromClass","debounceUpdate","running","debounceAccept","composing","startQuery","selectionSet","doesReset","transactions","query","handler","splice","clearTimeout","q","setTimeout","startUpdate","r","pending","Promise","resolve","aborted","scheduleAccept","err","accept","updated","current","eventHandlers","compositionstart","compositionend","FieldPos","FieldRange","Snippet","lines","fieldPositions","lineStart","lineObj","baseIndent","indent","tabs","ranges","template","fields","m","seq","index","fieldMarker","widget","fieldRange","mark","ActiveSnippet","deco","setActive","moveToField","snippetState","selectionInsideField","decorations","fieldSelection","snippet","parse","editor","_completion","instantiate","spec","appendConfig","init","addSnippetKeymap","snippetPointerHandler","moveField","dir","last","clearSnippet","nextSnippetField","prevSnippetField","defaultSnippetKeymap","run","shift","snippetKeymap","maps","compute","snippetCompletion","domEventHandlers","mousedown","posAtCoords","x","clientX","y","clientY","wordRE","wordChars","escaped","mapRE","re","unicode","wordCaches","wordCache","storeWords","seen","ignoreAt","iterLines","lastIndex","collectWords","cache","big","cached","children","completeAnyWord","autocompletion","completionKeymapExt","completionKeymap","computeN","completionStatus","currentCompletions","DefaultSplit","MapMode","ChangeDesc","sections","ins","posA","posB","individual","iterChanges","other","composeSets","before","mapSet","assoc","mode","Simple","TrackDel","TrackBefore","TrackAfter","RangeError","end","json","ChangeSet","inserted","fromA","toA","fromB","_toB","resultSections","resultInserted","filteredSections","iter","SectionIter","addSection","addInsert","filtered","parts","toJSON","lineSep","flush","force","compose","process","sub","insText","insLen","forceJoin","values","append","desc","setA","setB","mkSet","skip","Error","len2","sectionLen","insB","textBit","forward2","SelectionRange","level","change","EditorSelection","abs","mainIndex","eq","which","fromJSON","normalized","bidiLevel","goalColumn","goal","checkSelection","docLength","nextID","Facet","compareInput","compare","isStatic","extensions","FacetProvider","deps","sameArray","enables","dependencies","addresses","getter","idx","multi","depDoc","depSel","depAddrs","dep","reconfigured","depChanged","addr","ensureAddr","newVal","oldVal","compareArray","dynamicFacetSlot","providers","providerAddrs","providerTypes","dynamic","oldAddr","address","changed","dynAddr","getAddr","maybeIndex","initField","StateField","createF","updateF","compareF","provides","Prec_","fallback","extend","prec","ext","PrecExtension","Prec","inner","Compartment","CompartmentInstance","reconfigure","compartment","extension","compartments","Configuration","base","dynamicSlots","staticValues","statusTemplate","oldState","facets","newCompartments","Map","flatten","slot","dynamicSlot","has","status","applying","languageData","allowMultipleSelections","v","lineSeparator","changeFilter","transactionFilter","transactionExtender","readOnly","Annotation","AnnotationType","StateEffectType","StateEffect","mapped","Transaction","annotations","_doc","_state","newLength","applyTransaction","ann","annotation","addToHistory","remote","joinRanges","mergeTransaction","sequential","mapForA","mapForB","mapDesc","mapEffects","resolveTransactionInner","docSize","asArray","single","resolveTransaction","specs","extendTransaction","filterTransaction","back","invertedDesc","filters","extenders","CharCategory","nonASCIISingleCaseWordChar","wordChar","_","hasWordChar","makeCategorizer","Space","Word","Other","EditorState","require","forEach","newDoc","newSelection","toText","changeByRange","result1","newChanges","newMapped","mapBy","string","sliceString","lineBreak","prop","tabSize","phrase","phrases","prototype","hasOwnProperty","call","side","provider","at","cat","charCategorizer","fieldInit","configuration","staticFacet","asSingle","combineConfig","defaults","MaxOff","rectangleFor","startLine","endLine","col","startOff","endOff","startCol","endCol","absoluteColumn","ref","coordsAtPos","viewport","round","defaultCharacterWidth","getPos","offset","number","rectangleSelectionStyle","startSel","newStart","newLine","_extend","multiple","rectangularSelection","eventFilter","altKey","button","mouseSelectionStyle","getSelection","root","contains","nodeType","deepActiveElement","elt","activeElement","shadowRoot","hasSelection","anchorNode","clientRectsFor","textRange","nodeValue","getClientRects","isEquivalentPosition","targetNode","targetOff","scanFor","domIndex","previousSibling","maxOffset","childNodes","contentEditable","Rect0","flattenRect","windowRect","win","innerHeight","ScrollSpace","scrollRectIntoView","ownerDocument","defaultView","bounding","body","scrollHeight","scrollWidth","clientWidth","moveX","moveY","scrollBy","scrollLeft","assignedSlot","host","DOMSelection","anchorOffset","focusNode","focusOffset","domSel","preventScrollSupported","focusPreventScroll","focus","stack","preventScroll","scratchRange","createRange","setEnd","setStart","dispatchKey","code","keyCode","cancelable","down","KeyboardEvent","synthetic","dispatchEvent","up","defaultPrevented","_plainTextSupported","contentEditablePlainTextSupported","dummy","DOMPos","none$3","ContentView","dirty","editorView","posBefore","posAtStart","child","breakAfter","_pos","_side","track","reuseDOM","sync","written","syncNodeInto","rm","_dom","after","bias","lastChild","fromI","fromStart","toI","toEnd","prevEnd","domBoundsAround","startDOM","endDOM","andParent","markParentsDirty","childList","cmView","markDirty","setParent","_rec","_event","ChildCursor","childCursor","findPos","constructor","removeChild","insertBefore","navigator","userAgent","vendor","platform","documentElement","nav","ie_edge","ie_upto10","ie_11up","ie","gecko","chrome","webkit","safari","browser","mac","ie_version","documentMode","gecko_version","chrome_version","ios","maxTouchPoints","android","webkit_version","none$2","InlineView","_other","MaxJoinLen","TextView","textDOM","setDOM","createDOM","_from","_to","textCoords","MarkView","tagName","openStart","openEnd","mergeInlineChildren","detachFrom","replaceChildren","inlineDOMAtPos","coordsInChildren","rects","WidgetView","updateDOM","toDOM","ignoreEvent","customView","CompositionView","elts","toOff","fromOff","dLen","merge","pop","become","getSide","domAtPos","joinInlineInto","coordsAt","combineAttrs","attrsEq","keysA","keysB","updateAttrs","WidgetType","_widget","BlockType","Decoration","startSide","endSide","estimatedHeight","MarkDecoration","block","PointDecoration","getInclusive","LineDecoration","attributes","point","mapMode","isReplace","WidgetRange","WidgetBefore","WidgetAfter","widgetsEq","inclusiveStart","inclusiveEnd","inclusive","addRange","LineView","arguments","prevAttrs","takeDeco","transferDOM","setDeco","none$1","childPos","hack","cmIgnore","totalWidth","charWidth","Text","docView","BlockWidgetView","_takeDeco","posAtEnd","ContentBuilder","curLine","breakAtStart","textOff","posCovered","getLine","take","wrapMarks","buildText","addWidget","NullWidget","addLineDeco","builder","spans","finish","tag","clickAddsSelectionRange","dragMovesSelection$1","exceptionSink","updateListener","inputHandler","scrollTo","logException","exception","window","onerror","String","console","error","editable","PluginFieldProvider","PluginField","atomicRanges","scrollMargins","nextPluginID","viewPlugin","ViewPlugin","plugin","handlers","PluginInstance","mustUpdate","destroy","editorAttributes","styleModule","ChangedRange","toB","me","diff","dI","rI","addToSet","ViewUpdate","changedRanges","iterChangedRanges","hasFocus","inputState","notifiedFocused","DocView","compositionDeco","minWidth","minWidthFrom","minWidthTo","impreciseAnchor","impreciseHead","contentDOM","updateInner","updateDeco","computeCompositionDeco","forceSelection","prevDeco","decoDiff","findChangedDeco","extendWithRanges","pointerSel","updateSelection","oldLength","updateChildren","observer","ignore","viewState","domHeight","selectionRange","replaceRange","breakAtEnd","fromPointer","mayControlSelection","rapidCompositionStart","betweenUneditable","rawSel","nextTo","nextToUneditable","nearbyTextNode","collapse","cursorBidiLevel","removeAllRanges","setSelectionRange","modify","domView","rootView","nearest","localPosFromDOM","scrollDOM","measure","measureTextSize","vs","viewports","BlockGapWidget","pluginField","computeBlockGapDeco","lineGapDeco","mLeft","mRight","mTop","mBottom","margins","textNode","cView","topNode","newFrom","newTo","CompositionWidget","DecorationComparator$1","comp","Direction","LTR","dec","LowTypes","ArabicTypes","Brackets","BracketStack","l","charCodeAt","charType","BidiRE","BidiSpan","order","maybe","computeOrder","direction","outerType","oppositeType","trivialOrder","prevStrong","sI","br","sJ","embed","beforeL","afterL","rtl","movedOver","moveVisually","startIndex","spanI","indexForward","nextIndex","nextSpan","groupAt","categorize","linePos","getdx","getdy","yOverlap","upTop","upBot","domPosAtCoords","closest","closestRect","closestX","closestY","above","below","aboveRect","belowRect","dx","dy","domPosInText","clipX","closestOffset","closestDY","generalSide","rectBefore","halfLine","defaultLineHeight","bounced","blockAtHeight","posAtCoordsImprecise","elementFromPoint","caretPositionFromPoint","offsetNode","caretRangeFromPoint","startContainer","startOffset","isSuspiciousCaretResult","posFromDOM","contentRect","into","lineWrapping","heightOracle","lineLength","moveToLineBoundary","includeWrap","coords","editorRect","lineView","moveByChar","bidiSpans","check","byGroup","nextCat","moveVertically","distance","startPos","startY","startCoords","resolvedGoal","dist","extra","curY","skipAtoms","oldPos","atoms","moved","between","InputState","lastKeyCode","lastKeyTime","pendingIOSKey","lastSelectionOrigin","lastSelectionTime","lastEscPress","lastContextMenu","scrollHandlers","registeredEvents","customHandlers","compositionFirstChange","compositionEndedAt","mouseSelection","keydown","eventBelongsToEditor","ignoreDuringComposition","mustFlushObserver","forceFlush","runCustomHandlers","ensureHandlers","origin","handled","flushSoon","scroll","screenKeyEvent","ctrlKey","metaKey","flushIOSKey","protectedTab","modifierCodes","MouseSelection","startEvent","lastEvent","move","bind","shiftKey","addsSelectionRange","dragMove","dragMovesSelection","dragging","isInPrimarySelection","select","buttons","removeEventListener","rangeCount","getRangeAt","bubbles","brokenClipboardAPI","capturePaste","cssText","doPaste","input","byLine","linewise","lastLinewiseCopy","lastLine","replaceSelection","setSelectionOrigin","lastTouch","touchstart","touchmove","makeStyle","basicMouseSelection","startMouseSelection","rangeForClick","visual","insideY","inside","findPositionSide","queryPos","BadMouseDetail","lastMouseDown","lastMouseDownCount","lastMouseDownTime","getClickType","lastTime","startRange","dragstart","dataTransfer","setData","effectAllowed","dropText","dropPos","del","drop","files","finishFile","reader","FileReader","onload","readAsText","getData","paste","data","clipboardData","captureCopy","selectionEnd","selectionStart","copiedRange","upto","copy","cut","clearData","blur","beforeprint","printing","forceClearComposition","rapid","compositionupdate","contextmenu","wrappingWhiteSpace","HeightOracle","heightSamples","heightChanged","ceil","lineHeights","newHeight","h","knownHeights","MeasuredHeights","heights","BlockInfo","QueryType","Epsilon","HeightMap","oracle","oldDoc","ByPosNoHeight","NodeBuilder","updateHeight","HeightMapText","brk","HeightMapBranch","HeightMapBlock","_height","_value","_type","blockAt","_force","measured","more","setHeight","outdated","collapsed","widgetHeight","HeightMapGap","heightForLine","firstLine","ByHeight","unshift","heightForGap","mid","rightTop","rightOffset","subQuery","ByPos","forEachLine","rightStart","balanced","decomposeLeft","mergeGaps","decomposeRight","rebalance","around","relevantWidgetHeight","lineEnd","covering","writtenTo","isCovered","heightRelevant","addBlock","blankContent","gap","enterLine","ensureLine","heightRelevantDecoChanges","DecorationComparator","visiblePixelRange","paddingTop","getComputedStyle","parentRect","offsetParent","LineGap","wrapping","LineGapWidget","gA","gB","vertical","ViewState","pixelViewport","inView","paddingBottom","contentWidth","scaler","IdScaler","visibleRanges","mustEnforceCursorAssoc","heightMap","applyChanges","setDoc","getViewport","updateForViewport","lineGaps","ensureLineGaps","draw","computeVisibleRanges","Viewport","BigScaler","newDeco","contentChanges","heightChanges","prevHeight","mapViewport","viewportIsAppropriate","updateLineGaps","mapLineGaps","repeated","parseInt","dTop","dBottom","measureVisibleLineHeights","refresh","mustRefresh","newVP","enforceCursorAssoc","fromDOM","marginTop","visibleTop","visibleBottom","newTop","newBottom","gaps","structure","lineStructure","viewFrom","viewTo","findPosition","gapTo","gapFrom","gapSize","findFraction","ratio","same","editorTop","scaleBlock","scale","counted","array","n","vpHeight","domBase","domTop","domBottom","obj","vp","bTop","bBottom","theme","strs","darkTheme","baseThemeID","newName","baseLightID","baseDarkID","lightDarkIDs","buildTheme","scopes","boxSizing","outline","flexDirection","alignItems","overflowX","zIndex","flexGrow","minHeight","wordWrap","wordBreak","overflowWrap","caretColor","contain","background","pointerEvents","animation","visibility","borderLeftColor","borderRadius","backgroundImage","border","observeOptions","characterData","subtree","characterDataOldValue","useCharData","DOMObserver","onChange","onScrollChanged","ignoreSelection","delayedFlush","queue","lastFlush","scrollTargets","intersection","intersecting","_selectionRange","parentCheck","MutationObserver","mutations","mut","removedNodes","oldValue","onCharData","prevValue","onSelectionChange","onScroll","IntersectionObserver","entries","listenForScroll","intersectionRatio","createEvent","observe","safariSelectionRangeHack","stop","clear","disconnect","takeRecords","clearSelection","records","newSel","typeOver","record","readMutation","rec","ignoreMutation","childBefore","findChild","childAfter","posAfter","curView","stopImmediatePropagation","getTargetRanges","execCommand","endContainer","endOffset","curAnchor","applyDOMChange","bounds","selPoints","selectionPoints","DOMReader","readRange","selectionFromPoints","preferredPos","preferredSide","findDiff","iHead","iAnchor","minLen","adjust","points","findPointBefore","readNode","nextView","isBlockElement","fromView","overrideDOMText","findPointIn","maxLen","DOMPoint","EditorView","plugins","editorAttrs","contentAttrs","bidiCache","updateState","measureScheduled","measureRequests","tabIndex","announceDOM","_dispatch","runScrollHandlers","mountStyles","ensureGlobalHandler","redrawn","setState","scrollPos","CachedOrder","updatePlugins","styleModules","showAnnouncements","newState","prevSpecs","newPlugins","cancelAnimationFrame","measuring","warn","BadMeasure","scrollRangeIntoView","themeClasses","spellcheck","autocorrect","autocapitalize","contenteditable","role","trs","announce","div","mount","reverse","request","requestAnimationFrame","takeField","inst","docTop","readMeasured","ensureTop","lineAtHeight","contentHeight","initial","MaxBidiLine","entry","prefix","dark","given","resizeDebounce","handleResize","querySelectorAll","lastDir","currentPlatform","normalizeKeyName","alt","ctrl","meta","mod","modifiers","handleKeyEvents","runHandlers","getKeymap","keymap","Keymaps","bindings","buildKeymap","runScopeHandlers","scope","storedPrefix","PrefixTimeout","bound","isPrefix","checkPrefix","command","scopeObj","k","commands","ourObj","full","binding","isChar","fallthrough","runFor","cmd","baseName","CanHidePrimary","selectionConfig","cursorBlinkRate","drawRangeCursor","drawSelection","drawSelectionPlugin","hideNativeSelection","Piece","rangePieces","cursors","measureReq","readPos","drawSel","selectionLayer","cursorLayer","setBlinkRate","animationDuration","confChanged","geometryChanged","viewportChanged","animationName","measureRange","prim","piece","measureCursor","oldCursors","themeSpec","getBase","wrappedLine","visualLineAt","ltr","lineStyle","leftSide","paddingLeft","rightSide","startBlock","endBlock","visualStart","visualEnd","pieces","drawForLine","drawForWidget","horizontal","addSpan","fromOpen","toOpen","fromCoords","toCoords","endPos","docLine","spanFrom","spanTo","primary","iterMatches","iterRange","MatchDecorator","regexp","decoration","boundary","global","getDeco","changeFrom","changeTo","_f","_t","createDeco","updateRange","updateFrom","updateTo","fromLine","toLine","filterFrom","filterTo","UnicodeRegexpSupport","Specials","Names","_supportsTabSize","supportsTabSize","styles","MozTabSize","specialCharConfig","specialChars","addSpecialChars","replaceTabs","highlightSpecialChars","specialCharPlugin","_plugin","decorationCache","decorator","makeDecorator","TabWidget","SpecialCharWidget","DefaultPlaceholder","placeholder$1","fromCharCode","ph","custom","title","scrollPastEnd","highlightActiveLine","activeLineHighlighter","lineDeco","lastLineStart","Placeholder","wrap","placeholder","__test","CodemirrorModule","declarations","exports","imports","noSemi","incdec","incdecPrefix","templateContent","templateDollarBrace","templateEnd","insertSemi","TSExtends","spaces","newline","LineComment","BlockComment","Dialect_ts","space","braceR","braceL","semicolon","slash","star","plus","minus","dollar","backtick","backslash","trackNewline","term","strict","insertSemicolon","canShift","acceptToken","contextual","noSemicolon","peek","incdecToken","advance","mayPostfix","afterDollar","tsExtends","dialectEnabled","spec_identifier","__proto__","as","async","readonly","keyof","unique","infer","namespace","module","declare","spec_word","spec_LessThan","parser","deserialize","version","states","stateData","nodeNames","maxTerm","nodeProps","group","closedBy","openedBy","skippedNodes","repeatNodeCount","tokenData","tokenizers","topRules","dialects","jsx","ts","dynamicPrecedences","specialized","tokenPrec","crelt","setSel","moveSel","how","rangeEnd","cursorByChar","cursorCharLeft","cursorCharRight","cursorCharForward","cursorCharBackward","cursorByGroup","moveByGroup","cursorGroupLeft","cursorGroupRight","cursorGroupForward","cursorGroupBackward","moveBySubword","sawUpper","sawLower","ahead","cursorBySubword","cursorSubwordForward","cursorSubwordBackward","interestingNode","bracketProp","moveBySyntax","bracket","newPos","matched","cursorSyntaxLeft","cursorSyntaxRight","cursorByLine","cursorLineUp","cursorLineDown","cursorByPage","cursorPageUp","cursorPageDown","moveByLineBoundary","cursorLineBoundaryForward","cursorLineBoundaryBackward","cursorLineStart","cursorLineEnd","toMatchingBracket","matching","cursorMatchingBracket","selectMatchingBracket","extendSel","selectByChar","selectCharLeft","selectCharRight","selectCharForward","selectCharBackward","selectByGroup","selectGroupLeft","selectGroupRight","selectGroupForward","selectGroupBackward","selectBySubword","selectSubwordForward","selectSubwordBackward","selectSyntaxLeft","selectSyntaxRight","selectByLine","selectLineUp","selectLineDown","selectByPage","selectPageUp","selectPageDown","selectLineBoundaryForward","selectLineBoundaryBackward","selectLineStart","selectLineEnd","cursorDocStart","cursorDocEnd","selectDocStart","selectDocEnd","selectAll","selectLine","selectedLineBlocks","selectParentSyntax","simplifySelection","deleteBy","towards","skipAtomic","deleteByChar","targetPos","deleteCharBackward","deleteCharForward","deleteByGroup","nextChar","deleteGroupBackward","deleteGroupForward","deleteToLineEnd","deleteToLineStart","deleteTrailingWhitespace","trailing","splitLine","transposeChars","blocks","moveLine","nextLine","moveLineUp","moveLineDown","copyLine","copyLineUp","copyLineDown","deleteLine","insertNewline","isBetweenBrackets","insertNewlineAndIndent","explode","cx","simulateBreak","simulateDoubleBreak","lineIndent","changeBySelectedLine","atLine","changeSet","indentSelection","overrideIndentation","norm","indentMore","indentLess","keep","insertTab","emacsStyleKeymap","standardKeymap","indentWithTab","Stack","reducePos","buffer","bufferBase","curContext","lookAhead","action","depth","dPrec","dynamicPrecedence","minRepeatTerm","storeNode","pushState","getGoto","reduceContext","count","stateFlag","baseStateID","isReduce","nextEnd","nextState","maxNode","shiftContext","reused","updateContext","tracker","reuse","stream","reset","isNode","sim","SimulatedStack","stateSlot","hasAction","nextStates","best","validAction","forceReduce","dialectID","dialect","hash","newCx","StackContext","emitContext","emitLookAhead","Recover","goto","StackBufferCursor","maybeNext","CachedToken","extended","mask","nullToken","InputStream","chunk","chunkOff","chunk2","chunk2Pos","rangeIndex","chunkPos","readNext","resolved","resolveOffset","nextChunk","getChunk","setDone","TokenGroup","readToken","ExternalTokenizer","groupMask","scan","accEnd","allows","overrides","low","high","decodeArray","Type","Uint16Array","out","digit","verbose","env","LOG","stackIDs","Safety","cutAt","tree","fullCursor","moveTo","isError","prevSibling","FragmentCursor","fragments","nodeSet","fragment","safeFrom","safeTo","trees","nextFragment","fr","nextStart","TokenCache","tokens","mainToken","actions","actionIndex","tokenizer","updateCachedToken","addActions","setLookAhead","eofTerm","specializers","pair","putAction","Rec","Parse","recovering","nextStackID","minStackPos","stoppedAt","topTerm","stacks","bufferLength","newStacks","stopped","stoppedTokens","advanceStack","tok","getMainToken","finished","findFinished","stackToTree","log","getName","SyntaxError","runRecovery","forceAll","maxRemaining","outer","sameState","stackID","strictCx","cxHash","nodeAt","contextHash","useNode","defaultReduce","getActions","localStack","pushStackDedup","restarted","tokenEnd","deadEnd","restart","advanceFully","forceBase","recoverByInsert","recoverByDelete","close","topID","maxBufferLength","minRepeatType","fromCodePoint","Dialect","disabled","ContextTracker","LRParser","wrappers","topTerms","setProp","nodeID","propSpec","props","skipped","tokenArray","Uint32Array","tokenPrecTable","termNames","parseDialect","w","loose","table","groupTag","terminal","flag","iPrev","findOffset","t","contextTracker","Uint8Array","sharedExtensions","CodemirrorExampleComponent","cd","emojiList","exampleJsText","trim","longExampleText","normalExtensions","subscription","unsubscribe","codemirror","textarea","detectChanges","insertText","selectedRange","codeMirrorView","selector","toggleComment","getConfig","toggleLineComment","toggleBlockComment","changeLineComment","lineComment","lineUncomment","changeBlockComment","blockComment","blockUncomment","commentKeymap","SearchMargin","findBlockComment","textBefore","textAfter","spaceBefore","spaceAfter","beforeOff","startText","endText","startSpace","endSpace","charAt","comments","comment","prevLine","startI","minIndent","chalky","coral","cyan","invalid","ivory","stone","malibu","sage","whiskey","violet","darkBackground","highlightBackground","oneDarkTheme","borderBottom","borderTop","oneDarkHighlightStyle","keyword","deleted","character","propertyName","macroName","variableName","labelName","constant","standard","definition","separator","typeName","modifier","operator","operatorKeyword","url","escape","link","special","strong","fontWeight","emphasis","strikethrough","heading","atom","bool","processingInstruction","oneDark","SelectedDiagnostic","diagnostic","LintState","diagnostics","panel","d","DiagnosticWidget","severity","findDiagnostic","maybeEnableLint","getState","lintState","activeMark","lintTooltip","setDiagnostics","setDiagnosticsEffect","togglePanel","movePanelSelection","selPos","LintPanel","diagnosticCount","lint","stackStart","stackEnd","renderDiagnostic","openLintPanel","closeLintPanel","nextDiagnostic","lintKeymap","lintPlugin","timeout","lintSource","delay","lintTime","all","_b","linter","forceLinting","assignKeys","assigned","inPanel","message","click","keyIndex","nameElt","onclick","onmousedown","PanelItem","items","onkeydown","moveSelection","selectedIndex","needsSync","newSelectedItem","_start","_end","item","domPos","underline","btoa","svg","font","backgroundPosition","backgroundRepeat","borderRight","borderBottomColor","overflowY","DefaultScanDist","DefaultBrackets","bracketMatchingConfig","afterCursor","brackets","maxScanDistance","matchingMark","nonmatchingMark","bracketMatchingState","matchBrackets","bracketMatchingUnique","bracketMatching","matchingNodes","byProp","matches","matchMarkedBrackets","matchPlainBrackets","firstToken","tokenType","startCh","startToken","basePos","mapRange","foldEffect","unfoldEffect","selectedLines","foldState","foldExists","foldWidget","onSelection","foldedRanges","foldInside","maybeEnable","codeFolding","foldCode","announceFold","unfoldCode","fold","lineFrom","lineTo","foldAll","unfoldAll","foldKeymap","defaultConfig","placeholderDOM","placeholderText","foldConfig","posAtDOM","foldGutterDefaults","openText","closedText","markerDOM","FoldMarker","foldGutter","fullConfig","canFold","canUnfold","markers","buildMarkers","viewportLines","initialSpacer","CodemirrorComponent","_changedByValue","codemirrorCreated","_val","_updateValue","editorState","createEditorState","nativeElement","emit","codemirrorExtensions","currentValue","replaceEditorState","transaction","selectionTransaction","markForCheck","changeDetection","OnPush","closeBracketEffect","skipBracketEffect","closedBracket","bracketState","prevLineStart","closeBrackets","handleInput","definedClosing","closing","insertBracket","deleteBracketPair","dont","prevChar","closeBracketsKeymap","closed","handleSame","handleOpen","closedBracketAt","handleClose","closeBefore","_open","allowTriple","nodeStart","isTriple","panelConfig","topContainer","bottomContainer","panels","getPanel","panelPlugin","showPanel","PanelGroup","syncClasses","scrollMargin","classes","syncDOM","curDOM","Outside","TooltipViewManager","createTooltipView","tooltips","tooltipViews","shouldMeasure","tip","tooltipView","tooltipPositioning","tooltipPlugin","readMeasure","writeMeasure","manager","showTooltip","createTooltip","newPosition","maybeMeasure","others","tView","strictSide","positioned","tv","showHoverTooltip","HoverTooltipHost","mounted","createHostedView","hostedView","showHoverTooltipHost","HoverPlugin","setHover","hoverTime","lastMouseMove","lastMoveTime","hoverTimeout","restartTimeout","checkHover","mouseleave","mousemove","startHover","hovered","lastMove","posCoords","bidi","isInTooltip","isOverRange","detach","hoverTooltip","hoverState","hideOnChange","GutterMarker","elementClass","gutterLineClass","renderEmptyElements","elementStyle","lineMarker","updateSpacer","activeGutters","gutter","gutters","flexShrink","unfixGutters","gutterView","fixed","SingleGutterView","syncGutters","updateGutters","lineClasses","classSet","contexts","UpdateContext","advanceCursor","g","offsetWidth","collect","localMarkers","extraMarkers","forLine","elements","newElt","GutterElement","sameMarkers","spacer","visualLineAtHeight","prevMarkers","lineNumberMarkers","lineNumberConfig","formatNumber","exists","NumberMarker","_view","lineNumberGutter","maxLineNumber","lineNumbers","activeLineGutterMarker","activeLineGutterHighlighter","marks","highlightActiveLineGutter","fromHistory","isolateHistory","invertedEffects","historyConfig","minDepth","newGroupDelay","historyField_","HistoryState","fromHist","HistEvent","fromTransaction","undone","updateBranch","addSelection","isolate","addMapping","addChanges","history","beforeinput","inputType","undo","redo","historyField","historyState","undoSelection","redoSelection","histState","branch","undoDepth","redoDepth","startSelection","selectionsAfter","_c","invert","selections","newEvent","newBranch","isAdjacent","eqSelectionShape","conc","MaxSelectionsPerEvent","sels","setSelAfter","popSelection","addMappingToBranch","mapEvent","extraSelections","mappedChanges","fullMapping","composeDesc","prevTime","prevUserEvent","historyKeymap","DefaultBufferLength","nextPropID","Range","NodeProp","perNode","NodeType","MountedTree","overlay","noProps","src","groups","NodeSet","newTypes","newProps","CachedNode","Tree","JSON","stringify","TreeCursor","_tree","TreeNode","enter","leave","mustLeave","isAnonymous","balanceRange","propValues","makeTree","buildTree","FlatBufferCursor","TreeBuffer","childString","endIndex","pick","checkSide","endI","enterUnfinishedNodesBefore","_parent","BufferNode","BufferContext","hasChild","nextChild","overlays","buffers","rPos","nextSignificantParent","getChildren","externalSibling","parentStart","bufferNode","yieldNode","yieldBuf","enterChild","sibling","atLastNode","takeNode","minPos","inRepeat","lookAheadAtStart","findBufferSize","copyToBuffer","localChildren","localPositions","localInRepeat","lastGroup","lastEnd","makeRepeatLeaf","make","makeBalanced","lastI","lookAheadProp","maxSize","fork","minStart","nodeSize","localSkipped","bufferStart","nodeSizeCache","balanceType","mkTop","mkTree","maxChild","divide","groupFrom","groupStart","groupSize","nextSize","only","TreeFragment","partial","minGap","fI","nextF","cI","nextC","nextPos","fFrom","fTo","Parser","StringInput","createParse","startParse","parseMixed","nest","MixedParse","InnerParse","ActiveOverlay","predicate","mounts","innerDone","baseTree","baseParse","startInner","parsedPos","stopAt","fragmentCursor","covered","hasNode","frag","checkCover","materialize","oldMounts","findMounts","punchRanges","enterFragments","sliceBuf","buf","innerOffset","isTarget","toTree","StructureCursor","fragI","curFrag","nextFrag","findCoverChanges","inA","inB","nextA","nextB","basicNormalize","normalize","SearchCursor","bufferPos","nextOverlapping","baseFlags","RegExpCursor","MultilineRegExpCursor","curLineStart","matchPos","flattened","FlattenedDoc","cachedFrom","chunkEnd","validRegExp","createLineDialog","dialogEffect","go","onsubmit","sign","ln","cl","percent","pc","dialogField","gotoLine","baseTheme$1","defaultHighlightOptions","highlightWordAroundCursor","minSelectionLength","maxMatches","highlightConfig","highlightSelectionMatches","defaultTheme","matchHighlighter","matchDeco","mainMatchDeco","wordAt","selectWord","findNextOccurrence","fullWord","cycled","selectNextOccurrence","searchedText","searchConfigFacet","matchCase","searchConfig","Query","caseInsensitive","StringQuery","unquoted","curFrom","curTo","prevMatchInRange","_result","limit","RegExpQuery","valid","setQuery","searchState","SearchState","defaultQuery","createSearchPanel","matchMark","selectedMatchMark","searchHighlighter","highlight","searchCommand","openSearchPanel","findNext","nextMatch","announceMatch","findPrevious","prevMatch","selectMatches","matchAll","selectSelectionMatches","replaceNext","replacement","getReplacement","replaceAll","buildPanel","updateQuery","selText","searchInput","searchExtensions","closeSearchPanel","searchKeymap","searchField","onchange","onkeyup","replaceField","caseField","checked","reField","AnnounceMargin","Break","marginRight","brokenModifierNames","keyName","ignoreKey","C","COUNT","Symbol","SET","globalThis","StyleModule","rules","splitSelector","selectors","isKeyframes","local","isAt","keyframes","modules","StyleSet","adoptedSet","adoptedStyleSheets","CSSStyleSheet","sheet","styleTag","insertRule","getRules","basicSetup","snippets","javascriptLanguage","configure","IfStatement","except","TryStatement","LabeledStatement","SwitchBody","isCase","unit","Block","ArrowFunction","JSXElement","JSXEscape","column","controlKeyword","definitionKeyword","TemplateString","Super","BooleanLiteral","Star","VariableName","VariableDefinition","Label","PropertyName","PropertyNameDefinition","UpdateOp","updateOperator","Number","ArithOp","arithmeticOperator","LogicOp","logicOperator","BitOp","bitwiseOperator","CompareOp","compareOperator","Equals","definitionOperator","punctuation","paren","squareBracket","brace","derefOperator","TypeName","TypeDefinition","JSXAttributeValue","JSXText","angleBracket","commentTokens","indentOnInput","typescriptLanguage","jsxLanguage","tsxLanguage","javascript","lang","typescript","autocomplete","esLint","eslint","parserOptions","ecmaVersion","sourceType","es6","es2015","es2017","es2020","docs","recommended","findRegions","verify","translateDiagnostic","endColumn","ruleId","fix","CodemirrorExampleModule","componentType","isExtendingChar","isRegionalIndicator","ZWJ","findClusterBreak","nextClusterBreak","prevClusterBreak","surrogateLow","surrogateHigh","codePointAt","codePointSize","countBefore","code0","code1","countColumn","findColumn","lineInner","decompose","TextNode","RawTextCursor","PartialTextCursor","LineCursor","TextLeaf","iterator","textLength","isLine","Line","sliceText","joined","appendText","newLen","childOpen","totalLines","maxChunk","minChunk","chunked","currentLines","currentLen","currentChunk","offsets","offsetValue","nextInner","afterBreak","nextTagID","Tag","modified","Modifier","nextModifierID","instances","mods","permute","styleTags","byName","tags","rule","Rule","ruleNodeProp","highlightStyle","stylings","HighlightStyle","combinedMatch","fallbackHighlightStyle","getHighlightStyle","modSpec","def","treeHighlighter","highlightTree","getStyle","putStyle","highlightTreeRange","TreeHighlighter","markCache","buildDeco","styleChange","nodeStack","HighlightBuilder","inheritedClass","isTop","opaque","matchContext","st","startSpan","rangeFrom","rangeTo","highlightRange","literal","docComment","docString","integer","typeOperator","controlOperator","heading1","heading2","heading3","heading4","heading5","heading6","contentSeparator","quote","monospace","documentMeta","defineModifier","defaultHighlightStyle","classHighlightStyle","RangeValue","cmpRange","Chunk","maxPoint","startAt","arr","lo","hi","findIndex","RangeSet","nextLayer","isEmpty","updateSpec","LayerCursor","spill","RangeSetBuilder","addInner","chunkIndex","addChunk","finishInner","chunks","touch","HeapCursor","sets","oldSets","newSets","textDiff","comparator","minPointSize","sharedChunks","findSharedChunks","sideA","SpanCursor","sideB","iterGaps","sameValues","activeForPoint","lazySort","chunkStart","lastFrom","lastTo","setMaxPoint","newArrays","finishChunk","shared","Set","layer","minPoint","rank","gotoInner","setRangeIndex","heap","heapBubble","childIndex","activeTo","activeRank","minActive","pointFrom","pointRank","removeActive","findMinIndex","trackOpen","wasPoint","trackExtra","nextVal","addActive","startA","startB","dPos","clipEnd","comparePoint","compareRange","foundPos","languageDataProp","defineLanguageFacet","baseData","Language","extraExtensions","defineProperty","syntaxTree","language","languageDataFacetAt","allowsNesting","explore","topLang","LRLanguage","ensureSyntaxTree","treeLen","work","DocInput","cursorPos","syncTo","stringStart","currentContext","ParseContext","scheduleOn","tempSkipped","isDone","takeTree","withContext","endTime","withoutTempSkipped","addTree","cutFragments","startLen","frags","until","LanguageState","parseState","requestIdle","requestIdleCallback","callback","cancelIdle","cancelIdleCallback","parseWorker","working","chunkBudget","scheduleWork","updateViewport","checkAsyncSchedule","deadline","vpTo","timeRemaining","movedPast","languages","LanguageSupport","support","LanguageDescription","alias","filename","loadFunc","loading","load","descs","fuzzy","indentService","indentUnit","getIndentUnit","indentString","cols","getIndentation","IndentContext","service","syntaxIndentation","overriden","indentNodeProp","ast","indentFrom","ignoreClosed","indentStrategy","strategy","delimitedStrategy","topIndent","TreeIndentContext","textAfterPos","atBreak","isParent","bracketedAligned","openToken","openLine","isSkipped","delimitedIndent","align","units","closedAt","aligned","flatIndent","continuedIndent","matchExcept","DontIndentBeyond","foldService","foldNodeProp","syntaxFolding","foldable"],"mappings":"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;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA;AAAA;AAAA;;;AAAA;AAAA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","file":"codemirror-example-module-es5.js","sourcesContent":["import { Facet, combineConfig, StateEffect, StateField, Text, EditorSelection, Prec } from '@codemirror/state';\nimport { EditorView, Direction, logException, ViewPlugin, Decoration, WidgetType, keymap } from '@codemirror/view';\nimport { showTooltip } from '@codemirror/tooltip';\nimport { syntaxTree, indentUnit } from '@codemirror/language';\nimport { codePointAt, codePointSize, fromCodePoint } from '@codemirror/text';\n\n/**\nAn instance of this is passed to completion source functions.\n*/\nclass CompletionContext {\n    /**\n    Create a new completion context. (Mostly useful for testing\n    completion sourcesin the editor, the extension will create\n    these for you.)\n    */\n    constructor(\n    /**\n    The editor state that the completion happens in.\n    */\n    state, \n    /**\n    The position at which the completion is happening.\n    */\n    pos, \n    /**\n    Indicates whether completion was activated explicitly, or\n    implicitly by typing. The usual way to respond to this is to\n    only return completions when either there is part of a\n    completable entity before the cursor, or `explicit` is true.\n    */\n    explicit) {\n        this.state = state;\n        this.pos = pos;\n        this.explicit = explicit;\n        /**\n        @internal\n        */\n        this.abortListeners = [];\n    }\n    /**\n    Get the extent, content, and (if there is a token) type of the\n    token before `this.pos`.\n    */\n    tokenBefore(types) {\n        let token = syntaxTree(this.state).resolveInner(this.pos, -1);\n        while (token && types.indexOf(token.name) < 0)\n            token = token.parent;\n        return token ? { from: token.from, to: this.pos,\n            text: this.state.sliceDoc(token.from, this.pos),\n            type: token.type } : null;\n    }\n    /**\n    Get the match of the given expression directly before the\n    cursor.\n    */\n    matchBefore(expr) {\n        let line = this.state.doc.lineAt(this.pos);\n        let start = Math.max(line.from, this.pos - 250);\n        let str = line.text.slice(start - line.from, this.pos - line.from);\n        let found = str.search(ensureAnchor(expr, false));\n        return found < 0 ? null : { from: start + found, to: this.pos, text: str.slice(found) };\n    }\n    /**\n    Yields true when the query has been aborted. Can be useful in\n    asynchronous queries to avoid doing work that will be ignored.\n    */\n    get aborted() { return this.abortListeners == null; }\n    /**\n    Allows you to register abort handlers, which will be called when\n    the query is\n    [aborted](https://codemirror.net/6/docs/ref/#autocomplete.CompletionContext.aborted).\n    */\n    addEventListener(type, listener) {\n        if (type == \"abort\" && this.abortListeners)\n            this.abortListeners.push(listener);\n    }\n}\nfunction toSet(chars) {\n    let flat = Object.keys(chars).join(\"\");\n    let words = /\\w/.test(flat);\n    if (words)\n        flat = flat.replace(/\\w/g, \"\");\n    return `[${words ? \"\\\\w\" : \"\"}${flat.replace(/[^\\w\\s]/g, \"\\\\$&\")}]`;\n}\nfunction prefixMatch(options) {\n    let first = Object.create(null), rest = Object.create(null);\n    for (let { label } of options) {\n        first[label[0]] = true;\n        for (let i = 1; i < label.length; i++)\n            rest[label[i]] = true;\n    }\n    let source = toSet(first) + toSet(rest) + \"*$\";\n    return [new RegExp(\"^\" + source), new RegExp(source)];\n}\n/**\nGiven a a fixed array of options, return an autocompleter that\ncompletes them.\n*/\nfunction completeFromList(list) {\n    let options = list.map(o => typeof o == \"string\" ? { label: o } : o);\n    let [span, match] = options.every(o => /^\\w+$/.test(o.label)) ? [/\\w*$/, /\\w+$/] : prefixMatch(options);\n    return (context) => {\n        let token = context.matchBefore(match);\n        return token || context.explicit ? { from: token ? token.from : context.pos, options, span } : null;\n    };\n}\n/**\nWrap the given completion source so that it will only fire when the\ncursor is in a syntax node with one of the given names.\n*/\nfunction ifIn(nodes, source) {\n    return (context) => {\n        for (let pos = syntaxTree(context.state).resolveInner(context.pos, -1); pos; pos = pos.parent)\n            if (nodes.indexOf(pos.name) > -1)\n                return source(context);\n        return null;\n    };\n}\n/**\nWrap the given completion source so that it will not fire when the\ncursor is in a syntax node with one of the given names.\n*/\nfunction ifNotIn(nodes, source) {\n    return (context) => {\n        for (let pos = syntaxTree(context.state).resolveInner(context.pos, -1); pos; pos = pos.parent)\n            if (nodes.indexOf(pos.name) > -1)\n                return null;\n        return source(context);\n    };\n}\nclass Option {\n    constructor(completion, source, match) {\n        this.completion = completion;\n        this.source = source;\n        this.match = match;\n    }\n}\nfunction cur(state) { return state.selection.main.head; }\n// Make sure the given regexp has a $ at its end and, if `start` is\n// true, a ^ at its start.\nfunction ensureAnchor(expr, start) {\n    var _a;\n    let { source } = expr;\n    let addStart = start && source[0] != \"^\", addEnd = source[source.length - 1] != \"$\";\n    if (!addStart && !addEnd)\n        return expr;\n    return new RegExp(`${addStart ? \"^\" : \"\"}(?:${source})${addEnd ? \"$\" : \"\"}`, (_a = expr.flags) !== null && _a !== void 0 ? _a : (expr.ignoreCase ? \"i\" : \"\"));\n}\nfunction applyCompletion(view, option) {\n    let apply = option.completion.apply || option.completion.label;\n    let result = option.source;\n    if (typeof apply == \"string\") {\n        view.dispatch({\n            changes: { from: result.from, to: result.to, insert: apply },\n            selection: { anchor: result.from + apply.length },\n            userEvent: \"input.complete\"\n        });\n    }\n    else {\n        apply(view, option.completion, result.from, result.to);\n    }\n}\nconst SourceCache = /*@__PURE__*/new WeakMap();\nfunction asSource(source) {\n    if (!Array.isArray(source))\n        return source;\n    let known = SourceCache.get(source);\n    if (!known)\n        SourceCache.set(source, known = completeFromList(source));\n    return known;\n}\n\n// A pattern matcher for fuzzy completion matching. Create an instance\n// once for a pattern, and then use that to match any number of\n// completions.\nclass FuzzyMatcher {\n    constructor(pattern) {\n        this.pattern = pattern;\n        this.chars = [];\n        this.folded = [];\n        // Buffers reused by calls to `match` to track matched character\n        // positions.\n        this.any = [];\n        this.precise = [];\n        this.byWord = [];\n        for (let p = 0; p < pattern.length;) {\n            let char = codePointAt(pattern, p), size = codePointSize(char);\n            this.chars.push(char);\n            let part = pattern.slice(p, p + size), upper = part.toUpperCase();\n            this.folded.push(codePointAt(upper == part ? part.toLowerCase() : upper, 0));\n            p += size;\n        }\n        this.astral = pattern.length != this.chars.length;\n    }\n    // Matches a given word (completion) against the pattern (input).\n    // Will return null for no match, and otherwise an array that starts\n    // with the match score, followed by any number of `from, to` pairs\n    // indicating the matched parts of `word`.\n    //\n    // The score is a number that is more negative the worse the match\n    // is. See `Penalty` above.\n    match(word) {\n        if (this.pattern.length == 0)\n            return [0];\n        if (word.length < this.pattern.length)\n            return null;\n        let { chars, folded, any, precise, byWord } = this;\n        // For single-character queries, only match when they occur right\n        // at the start\n        if (chars.length == 1) {\n            let first = codePointAt(word, 0);\n            return first == chars[0] ? [0, 0, codePointSize(first)]\n                : first == folded[0] ? [-200 /* CaseFold */, 0, codePointSize(first)] : null;\n        }\n        let direct = word.indexOf(this.pattern);\n        if (direct == 0)\n            return [0, 0, this.pattern.length];\n        let len = chars.length, anyTo = 0;\n        if (direct < 0) {\n            for (let i = 0, e = Math.min(word.length, 200); i < e && anyTo < len;) {\n                let next = codePointAt(word, i);\n                if (next == chars[anyTo] || next == folded[anyTo])\n                    any[anyTo++] = i;\n                i += codePointSize(next);\n            }\n            // No match, exit immediately\n            if (anyTo < len)\n                return null;\n        }\n        // This tracks the extent of the precise (non-folded, not\n        // necessarily adjacent) match\n        let preciseTo = 0;\n        // Tracks whether there is a match that hits only characters that\n        // appear to be starting words. `byWordFolded` is set to true when\n        // a case folded character is encountered in such a match\n        let byWordTo = 0, byWordFolded = false;\n        // If we've found a partial adjacent match, these track its state\n        let adjacentTo = 0, adjacentStart = -1, adjacentEnd = -1;\n        let hasLower = /[a-z]/.test(word);\n        // Go over the option's text, scanning for the various kinds of matches\n        for (let i = 0, e = Math.min(word.length, 200), prevType = 0 /* NonWord */; i < e && byWordTo < len;) {\n            let next = codePointAt(word, i);\n            if (direct < 0) {\n                if (preciseTo < len && next == chars[preciseTo])\n                    precise[preciseTo++] = i;\n                if (adjacentTo < len) {\n                    if (next == chars[adjacentTo] || next == folded[adjacentTo]) {\n                        if (adjacentTo == 0)\n                            adjacentStart = i;\n                        adjacentEnd = i;\n                        adjacentTo++;\n                    }\n                    else {\n                        adjacentTo = 0;\n                    }\n                }\n            }\n            let ch, type = next < 0xff\n                ? (next >= 48 && next <= 57 || next >= 97 && next <= 122 ? 2 /* Lower */ : next >= 65 && next <= 90 ? 1 /* Upper */ : 0 /* NonWord */)\n                : ((ch = fromCodePoint(next)) != ch.toLowerCase() ? 1 /* Upper */ : ch != ch.toUpperCase() ? 2 /* Lower */ : 0 /* NonWord */);\n            if ((type == 1 /* Upper */ && hasLower || prevType == 0 /* NonWord */ && type != 0 /* NonWord */) &&\n                (chars[byWordTo] == next || (folded[byWordTo] == next && (byWordFolded = true))))\n                byWord[byWordTo++] = i;\n            prevType = type;\n            i += codePointSize(next);\n        }\n        if (byWordTo == len && byWord[0] == 0)\n            return this.result(-100 /* ByWord */ + (byWordFolded ? -200 /* CaseFold */ : 0), byWord, word);\n        if (adjacentTo == len && adjacentStart == 0)\n            return [-200 /* CaseFold */, 0, adjacentEnd];\n        if (direct > -1)\n            return [-700 /* NotStart */, direct, direct + this.pattern.length];\n        if (adjacentTo == len)\n            return [-200 /* CaseFold */ + -700 /* NotStart */, adjacentStart, adjacentEnd];\n        if (byWordTo == len)\n            return this.result(-100 /* ByWord */ + (byWordFolded ? -200 /* CaseFold */ : 0) + -700 /* NotStart */, byWord, word);\n        return chars.length == 2 ? null : this.result((any[0] ? -700 /* NotStart */ : 0) + -200 /* CaseFold */ + -1100 /* Gap */, any, word);\n    }\n    result(score, positions, word) {\n        let result = [score], i = 1;\n        for (let pos of positions) {\n            let to = pos + (this.astral ? codePointSize(codePointAt(word, pos)) : 1);\n            if (i > 1 && result[i - 1] == pos)\n                result[i - 1] = to;\n            else {\n                result[i++] = pos;\n                result[i++] = to;\n            }\n        }\n        return result;\n    }\n}\n\nconst completionConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            activateOnTyping: true,\n            override: null,\n            maxRenderedOptions: 100,\n            defaultKeymap: true,\n            optionClass: () => \"\",\n            icons: true,\n            addToOptions: []\n        }, {\n            defaultKeymap: (a, b) => a && b,\n            icons: (a, b) => a && b,\n            optionClass: (a, b) => c => joinClass(a(c), b(c)),\n            addToOptions: (a, b) => a.concat(b)\n        });\n    }\n});\nfunction joinClass(a, b) {\n    return a ? b ? a + \" \" + b : a : b;\n}\n\nconst MaxInfoWidth = 300;\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-tooltip.cm-tooltip-autocomplete\": {\n        \"& > ul\": {\n            fontFamily: \"monospace\",\n            whiteSpace: \"nowrap\",\n            overflow: \"auto\",\n            maxWidth_fallback: \"700px\",\n            maxWidth: \"min(700px, 95vw)\",\n            maxHeight: \"10em\",\n            listStyle: \"none\",\n            margin: 0,\n            padding: 0,\n            \"& > li\": {\n                cursor: \"pointer\",\n                padding: \"1px 1em 1px 3px\",\n                lineHeight: 1.2\n            },\n            \"& > li[aria-selected]\": {\n                background_fallback: \"#bdf\",\n                backgroundColor: \"Highlight\",\n                color_fallback: \"white\",\n                color: \"HighlightText\"\n            }\n        }\n    },\n    \".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after\": {\n        content: '\"\"',\n        opacity: 0.5,\n        display: \"block\",\n        textAlign: \"center\"\n    },\n    \".cm-tooltip.cm-completionInfo\": {\n        position: \"absolute\",\n        padding: \"3px 9px\",\n        width: \"max-content\",\n        maxWidth: MaxInfoWidth + \"px\",\n    },\n    \".cm-completionInfo.cm-completionInfo-left\": { right: \"100%\" },\n    \".cm-completionInfo.cm-completionInfo-right\": { left: \"100%\" },\n    \"&light .cm-snippetField\": { backgroundColor: \"#00000022\" },\n    \"&dark .cm-snippetField\": { backgroundColor: \"#ffffff22\" },\n    \".cm-snippetFieldPosition\": {\n        verticalAlign: \"text-top\",\n        width: 0,\n        height: \"1.15em\",\n        margin: \"0 -0.7px -.7em\",\n        borderLeft: \"1.4px dotted #888\"\n    },\n    \".cm-completionMatchedText\": {\n        textDecoration: \"underline\"\n    },\n    \".cm-completionDetail\": {\n        marginLeft: \"0.5em\",\n        fontStyle: \"italic\"\n    },\n    \".cm-completionIcon\": {\n        fontSize: \"90%\",\n        width: \".8em\",\n        display: \"inline-block\",\n        textAlign: \"center\",\n        paddingRight: \".6em\",\n        opacity: \"0.6\"\n    },\n    \".cm-completionIcon-function, .cm-completionIcon-method\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-class\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-interface\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-variable\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-constant\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-type\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-enum\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-property\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-keyword\": {\n        \"&:after\": { content: \"'\\uFE0E'\" } // Disable emoji rendering\n    },\n    \".cm-completionIcon-namespace\": {\n        \"&:after\": { content: \"''\" }\n    },\n    \".cm-completionIcon-text\": {\n        \"&:after\": { content: \"'abc'\", fontSize: \"50%\", verticalAlign: \"middle\" }\n    }\n});\n\nfunction optionContent(config) {\n    let content = config.addToOptions.slice();\n    if (config.icons)\n        content.push({\n            render(completion) {\n                let icon = document.createElement(\"div\");\n                icon.classList.add(\"cm-completionIcon\");\n                if (completion.type)\n                    icon.classList.add(...completion.type.split(/\\s+/g).map(cls => \"cm-completionIcon-\" + cls));\n                icon.setAttribute(\"aria-hidden\", \"true\");\n                return icon;\n            },\n            position: 20\n        });\n    content.push({\n        render(completion, _s, match) {\n            let labelElt = document.createElement(\"span\");\n            labelElt.className = \"cm-completionLabel\";\n            let { label } = completion, off = 0;\n            for (let j = 1; j < match.length;) {\n                let from = match[j++], to = match[j++];\n                if (from > off)\n                    labelElt.appendChild(document.createTextNode(label.slice(off, from)));\n                let span = labelElt.appendChild(document.createElement(\"span\"));\n                span.appendChild(document.createTextNode(label.slice(from, to)));\n                span.className = \"cm-completionMatchedText\";\n                off = to;\n            }\n            if (off < label.length)\n                labelElt.appendChild(document.createTextNode(label.slice(off)));\n            return labelElt;\n        },\n        position: 50\n    }, {\n        render(completion) {\n            if (!completion.detail)\n                return null;\n            let detailElt = document.createElement(\"span\");\n            detailElt.className = \"cm-completionDetail\";\n            detailElt.textContent = completion.detail;\n            return detailElt;\n        },\n        position: 80\n    });\n    return content.sort((a, b) => a.position - b.position).map(a => a.render);\n}\nfunction createInfoDialog(option, view) {\n    let dom = document.createElement(\"div\");\n    dom.className = \"cm-tooltip cm-completionInfo\";\n    let { info } = option.completion;\n    if (typeof info == \"string\") {\n        dom.textContent = info;\n    }\n    else {\n        let content = info(option.completion);\n        if (content.then)\n            content.then(node => dom.appendChild(node), e => logException(view.state, e, \"completion info\"));\n        else\n            dom.appendChild(content);\n    }\n    return dom;\n}\nfunction rangeAroundSelected(total, selected, max) {\n    if (total <= max)\n        return { from: 0, to: total };\n    if (selected <= (total >> 1)) {\n        let off = Math.floor(selected / max);\n        return { from: off * max, to: (off + 1) * max };\n    }\n    let off = Math.floor((total - selected) / max);\n    return { from: total - (off + 1) * max, to: total - off * max };\n}\nclass CompletionTooltip {\n    constructor(view, stateField) {\n        this.view = view;\n        this.stateField = stateField;\n        this.info = null;\n        this.placeInfo = {\n            read: () => this.measureInfo(),\n            write: (pos) => this.positionInfo(pos),\n            key: this\n        };\n        let cState = view.state.field(stateField);\n        let { options, selected } = cState.open;\n        let config = view.state.facet(completionConfig);\n        this.optionContent = optionContent(config);\n        this.optionClass = config.optionClass;\n        this.range = rangeAroundSelected(options.length, selected, config.maxRenderedOptions);\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-tooltip-autocomplete\";\n        this.dom.addEventListener(\"mousedown\", (e) => {\n            for (let dom = e.target, match; dom && dom != this.dom; dom = dom.parentNode) {\n                if (dom.nodeName == \"LI\" && (match = /-(\\d+)$/.exec(dom.id)) && +match[1] < options.length) {\n                    applyCompletion(view, options[+match[1]]);\n                    e.preventDefault();\n                    return;\n                }\n            }\n        });\n        this.list = this.dom.appendChild(this.createListBox(options, cState.id, this.range));\n        this.list.addEventListener(\"scroll\", () => {\n            if (this.info)\n                this.view.requestMeasure(this.placeInfo);\n        });\n    }\n    mount() { this.updateSel(); }\n    update(update) {\n        if (update.state.field(this.stateField) != update.startState.field(this.stateField))\n            this.updateSel();\n    }\n    positioned() {\n        if (this.info)\n            this.view.requestMeasure(this.placeInfo);\n    }\n    updateSel() {\n        let cState = this.view.state.field(this.stateField), open = cState.open;\n        if (open.selected < this.range.from || open.selected >= this.range.to) {\n            this.range = rangeAroundSelected(open.options.length, open.selected, this.view.state.facet(completionConfig).maxRenderedOptions);\n            this.list.remove();\n            this.list = this.dom.appendChild(this.createListBox(open.options, cState.id, this.range));\n            this.list.addEventListener(\"scroll\", () => {\n                if (this.info)\n                    this.view.requestMeasure(this.placeInfo);\n            });\n        }\n        if (this.updateSelectedOption(open.selected)) {\n            if (this.info) {\n                this.info.remove();\n                this.info = null;\n            }\n            let option = open.options[open.selected];\n            if (option.completion.info) {\n                this.info = this.dom.appendChild(createInfoDialog(option, this.view));\n                this.view.requestMeasure(this.placeInfo);\n            }\n        }\n    }\n    updateSelectedOption(selected) {\n        let set = null;\n        for (let opt = this.list.firstChild, i = this.range.from; opt; opt = opt.nextSibling, i++) {\n            if (i == selected) {\n                if (!opt.hasAttribute(\"aria-selected\")) {\n                    opt.setAttribute(\"aria-selected\", \"true\");\n                    set = opt;\n                }\n            }\n            else {\n                if (opt.hasAttribute(\"aria-selected\"))\n                    opt.removeAttribute(\"aria-selected\");\n            }\n        }\n        if (set)\n            scrollIntoView(this.list, set);\n        return set;\n    }\n    measureInfo() {\n        let sel = this.dom.querySelector(\"[aria-selected]\");\n        if (!sel)\n            return null;\n        let rect = this.dom.getBoundingClientRect();\n        let top = sel.getBoundingClientRect().top - rect.top;\n        if (top < 0 || top > this.list.clientHeight - 10)\n            return null;\n        let left = this.view.textDirection == Direction.RTL;\n        let spaceLeft = rect.left, spaceRight = innerWidth - rect.right;\n        if (left && spaceLeft < Math.min(MaxInfoWidth, spaceRight))\n            left = false;\n        else if (!left && spaceRight < Math.min(MaxInfoWidth, spaceLeft))\n            left = true;\n        return { top, left };\n    }\n    positionInfo(pos) {\n        if (this.info && pos) {\n            this.info.style.top = pos.top + \"px\";\n            this.info.classList.toggle(\"cm-completionInfo-left\", pos.left);\n            this.info.classList.toggle(\"cm-completionInfo-right\", !pos.left);\n        }\n    }\n    createListBox(options, id, range) {\n        const ul = document.createElement(\"ul\");\n        ul.id = id;\n        ul.setAttribute(\"role\", \"listbox\");\n        for (let i = range.from; i < range.to; i++) {\n            let { completion, match } = options[i];\n            const li = ul.appendChild(document.createElement(\"li\"));\n            li.id = id + \"-\" + i;\n            li.setAttribute(\"role\", \"option\");\n            let cls = this.optionClass(completion);\n            if (cls)\n                li.className = cls;\n            for (let source of this.optionContent) {\n                let node = source(completion, this.view.state, match);\n                if (node)\n                    li.appendChild(node);\n            }\n        }\n        if (range.from)\n            ul.classList.add(\"cm-completionListIncompleteTop\");\n        if (range.to < options.length)\n            ul.classList.add(\"cm-completionListIncompleteBottom\");\n        return ul;\n    }\n}\n// We allocate a new function instance every time the completion\n// changes to force redrawing/repositioning of the tooltip\nfunction completionTooltip(stateField) {\n    return (view) => new CompletionTooltip(view, stateField);\n}\nfunction scrollIntoView(container, element) {\n    let parent = container.getBoundingClientRect();\n    let self = element.getBoundingClientRect();\n    if (self.top < parent.top)\n        container.scrollTop -= parent.top - self.top;\n    else if (self.bottom > parent.bottom)\n        container.scrollTop += self.bottom - parent.bottom;\n}\n\nconst MaxOptions = 300;\n// Used to pick a preferred option when two options with the same\n// label occur in the result.\nfunction score(option) {\n    return (option.boost || 0) * 100 + (option.apply ? 10 : 0) + (option.info ? 5 : 0) +\n        (option.type ? 1 : 0);\n}\nfunction sortOptions(active, state) {\n    let options = [], i = 0;\n    for (let a of active)\n        if (a.hasResult()) {\n            if (a.result.filter === false) {\n                for (let option of a.result.options)\n                    options.push(new Option(option, a, [1e9 - i++]));\n            }\n            else {\n                let matcher = new FuzzyMatcher(state.sliceDoc(a.from, a.to)), match;\n                for (let option of a.result.options)\n                    if (match = matcher.match(option.label)) {\n                        if (option.boost != null)\n                            match[0] += option.boost;\n                        options.push(new Option(option, a, match));\n                    }\n            }\n        }\n    options.sort(cmpOption);\n    let result = [], prev = null;\n    for (let opt of options.sort(cmpOption)) {\n        if (result.length == MaxOptions)\n            break;\n        if (!prev || prev.label != opt.completion.label || prev.detail != opt.completion.detail)\n            result.push(opt);\n        else if (score(opt.completion) > score(prev))\n            result[result.length - 1] = opt;\n        prev = opt.completion;\n    }\n    return result;\n}\nclass CompletionDialog {\n    constructor(options, attrs, tooltip, timestamp, selected) {\n        this.options = options;\n        this.attrs = attrs;\n        this.tooltip = tooltip;\n        this.timestamp = timestamp;\n        this.selected = selected;\n    }\n    setSelected(selected, id) {\n        return selected == this.selected || selected >= this.options.length ? this\n            : new CompletionDialog(this.options, makeAttrs(id, selected), this.tooltip, this.timestamp, selected);\n    }\n    static build(active, state, id, prev) {\n        let options = sortOptions(active, state);\n        if (!options.length)\n            return null;\n        let selected = 0;\n        if (prev && prev.selected) {\n            let selectedValue = prev.options[prev.selected].completion;\n            for (let i = 0; i < options.length && !selected; i++) {\n                if (options[i].completion == selectedValue)\n                    selected = i;\n            }\n        }\n        return new CompletionDialog(options, makeAttrs(id, selected), {\n            pos: active.reduce((a, b) => b.hasResult() ? Math.min(a, b.from) : a, 1e8),\n            create: completionTooltip(completionState)\n        }, prev ? prev.timestamp : Date.now(), selected);\n    }\n    map(changes) {\n        return new CompletionDialog(this.options, this.attrs, Object.assign(Object.assign({}, this.tooltip), { pos: changes.mapPos(this.tooltip.pos) }), this.timestamp, this.selected);\n    }\n}\nclass CompletionState {\n    constructor(active, id, open) {\n        this.active = active;\n        this.id = id;\n        this.open = open;\n    }\n    static start() {\n        return new CompletionState(none, \"cm-ac-\" + Math.floor(Math.random() * 2e6).toString(36), null);\n    }\n    update(tr) {\n        let { state } = tr, conf = state.facet(completionConfig);\n        let sources = conf.override ||\n            state.languageDataAt(\"autocomplete\", cur(state)).map(asSource);\n        let active = sources.map(source => {\n            let value = this.active.find(s => s.source == source) ||\n                new ActiveSource(source, this.active.some(a => a.state != 0 /* Inactive */) ? 1 /* Pending */ : 0 /* Inactive */);\n            return value.update(tr, conf);\n        });\n        if (active.length == this.active.length && active.every((a, i) => a == this.active[i]))\n            active = this.active;\n        let open = tr.selection || active.some(a => a.hasResult() && tr.changes.touchesRange(a.from, a.to)) ||\n            !sameResults(active, this.active) ? CompletionDialog.build(active, state, this.id, this.open)\n            : this.open && tr.docChanged ? this.open.map(tr.changes) : this.open;\n        if (!open && active.every(a => a.state != 1 /* Pending */) && active.some(a => a.hasResult()))\n            active = active.map(a => a.hasResult() ? new ActiveSource(a.source, 0 /* Inactive */) : a);\n        for (let effect of tr.effects)\n            if (effect.is(setSelectedEffect))\n                open = open && open.setSelected(effect.value, this.id);\n        return active == this.active && open == this.open ? this : new CompletionState(active, this.id, open);\n    }\n    get tooltip() { return this.open ? this.open.tooltip : null; }\n    get attrs() { return this.open ? this.open.attrs : baseAttrs; }\n}\nfunction sameResults(a, b) {\n    if (a == b)\n        return true;\n    for (let iA = 0, iB = 0;;) {\n        while (iA < a.length && !a[iA].hasResult)\n            iA++;\n        while (iB < b.length && !b[iB].hasResult)\n            iB++;\n        let endA = iA == a.length, endB = iB == b.length;\n        if (endA || endB)\n            return endA == endB;\n        if (a[iA++].result != b[iB++].result)\n            return false;\n    }\n}\nconst baseAttrs = {\n    \"aria-autocomplete\": \"list\",\n    \"aria-expanded\": \"false\"\n};\nfunction makeAttrs(id, selected) {\n    return {\n        \"aria-autocomplete\": \"list\",\n        \"aria-expanded\": \"true\",\n        \"aria-activedescendant\": id + \"-\" + selected,\n        \"aria-controls\": id\n    };\n}\nconst none = [];\nfunction cmpOption(a, b) {\n    let dScore = b.match[0] - a.match[0];\n    if (dScore)\n        return dScore;\n    return a.completion.label.localeCompare(b.completion.label);\n}\nfunction getUserEvent(tr) {\n    return tr.isUserEvent(\"input.type\") ? \"input\" : tr.isUserEvent(\"delete.backward\") ? \"delete\" : null;\n}\nclass ActiveSource {\n    constructor(source, state, explicitPos = -1) {\n        this.source = source;\n        this.state = state;\n        this.explicitPos = explicitPos;\n    }\n    hasResult() { return false; }\n    update(tr, conf) {\n        let event = getUserEvent(tr), value = this;\n        if (event)\n            value = value.handleUserEvent(tr, event, conf);\n        else if (tr.docChanged)\n            value = value.handleChange(tr);\n        else if (tr.selection && value.state != 0 /* Inactive */)\n            value = new ActiveSource(value.source, 0 /* Inactive */);\n        for (let effect of tr.effects) {\n            if (effect.is(startCompletionEffect))\n                value = new ActiveSource(value.source, 1 /* Pending */, effect.value ? cur(tr.state) : -1);\n            else if (effect.is(closeCompletionEffect))\n                value = new ActiveSource(value.source, 0 /* Inactive */);\n            else if (effect.is(setActiveEffect))\n                for (let active of effect.value)\n                    if (active.source == value.source)\n                        value = active;\n        }\n        return value;\n    }\n    handleUserEvent(tr, type, conf) {\n        return type == \"delete\" || !conf.activateOnTyping ? this.map(tr.changes) : new ActiveSource(this.source, 1 /* Pending */);\n    }\n    handleChange(tr) {\n        return tr.changes.touchesRange(cur(tr.startState)) ? new ActiveSource(this.source, 0 /* Inactive */) : this.map(tr.changes);\n    }\n    map(changes) {\n        return changes.empty || this.explicitPos < 0 ? this : new ActiveSource(this.source, this.state, changes.mapPos(this.explicitPos));\n    }\n}\nclass ActiveResult extends ActiveSource {\n    constructor(source, explicitPos, result, from, to, span) {\n        super(source, 2 /* Result */, explicitPos);\n        this.result = result;\n        this.from = from;\n        this.to = to;\n        this.span = span;\n    }\n    hasResult() { return true; }\n    handleUserEvent(tr, type, conf) {\n        let from = tr.changes.mapPos(this.from), to = tr.changes.mapPos(this.to, 1);\n        let pos = cur(tr.state);\n        if ((this.explicitPos > -1 ? pos < from : pos <= from) || pos > to)\n            return new ActiveSource(this.source, type == \"input\" && conf.activateOnTyping ? 1 /* Pending */ : 0 /* Inactive */);\n        let explicitPos = this.explicitPos < 0 ? -1 : tr.changes.mapPos(this.explicitPos);\n        if (this.span && (from == to || this.span.test(tr.state.sliceDoc(from, to))))\n            return new ActiveResult(this.source, explicitPos, this.result, from, to, this.span);\n        return new ActiveSource(this.source, 1 /* Pending */, explicitPos);\n    }\n    handleChange(tr) {\n        return tr.changes.touchesRange(this.from, this.to) ? new ActiveSource(this.source, 0 /* Inactive */) : this.map(tr.changes);\n    }\n    map(mapping) {\n        return mapping.empty ? this :\n            new ActiveResult(this.source, this.explicitPos < 0 ? -1 : mapping.mapPos(this.explicitPos), this.result, mapping.mapPos(this.from), mapping.mapPos(this.to, 1), this.span);\n    }\n}\nconst startCompletionEffect = /*@__PURE__*/StateEffect.define();\nconst closeCompletionEffect = /*@__PURE__*/StateEffect.define();\nconst setActiveEffect = /*@__PURE__*/StateEffect.define({\n    map(sources, mapping) { return sources.map(s => s.map(mapping)); }\n});\nconst setSelectedEffect = /*@__PURE__*/StateEffect.define();\nconst completionState = /*@__PURE__*/StateField.define({\n    create() { return CompletionState.start(); },\n    update(value, tr) { return value.update(tr); },\n    provide: f => [\n        showTooltip.from(f, val => val.tooltip),\n        EditorView.contentAttributes.from(f, state => state.attrs)\n    ]\n});\n\nconst CompletionInteractMargin = 75;\n/**\nReturns a command that moves the completion selection forward or\nbackward by the given amount.\n*/\nfunction moveCompletionSelection(forward, by = \"option\") {\n    return (view) => {\n        let cState = view.state.field(completionState, false);\n        if (!cState || !cState.open || Date.now() - cState.open.timestamp < CompletionInteractMargin)\n            return false;\n        let step = 1, tooltip;\n        if (by == \"page\" && (tooltip = view.dom.querySelector(\".cm-tooltip-autocomplete\")))\n            step = Math.max(2, Math.floor(tooltip.offsetHeight / tooltip.firstChild.offsetHeight));\n        let selected = cState.open.selected + step * (forward ? 1 : -1), { length } = cState.open.options;\n        if (selected < 0)\n            selected = by == \"page\" ? 0 : length - 1;\n        else if (selected >= length)\n            selected = by == \"page\" ? length - 1 : 0;\n        view.dispatch({ effects: setSelectedEffect.of(selected) });\n        return true;\n    };\n}\n/**\nAccept the current completion.\n*/\nconst acceptCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (!cState || !cState.open || Date.now() - cState.open.timestamp < CompletionInteractMargin)\n        return false;\n    applyCompletion(view, cState.open.options[cState.open.selected]);\n    return true;\n};\n/**\nExplicitly start autocompletion.\n*/\nconst startCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (!cState)\n        return false;\n    view.dispatch({ effects: startCompletionEffect.of(true) });\n    return true;\n};\n/**\nClose the currently active completion.\n*/\nconst closeCompletion = (view) => {\n    let cState = view.state.field(completionState, false);\n    if (!cState || !cState.active.some(a => a.state != 0 /* Inactive */))\n        return false;\n    view.dispatch({ effects: closeCompletionEffect.of(null) });\n    return true;\n};\nclass RunningQuery {\n    constructor(active, context) {\n        this.active = active;\n        this.context = context;\n        this.time = Date.now();\n        this.updates = [];\n        // Note that 'undefined' means 'not done yet', whereas 'null' means\n        // 'query returned null'.\n        this.done = undefined;\n    }\n}\nconst DebounceTime = 50, MaxUpdateCount = 50, MinAbortTime = 1000;\nconst completionPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.debounceUpdate = -1;\n        this.running = [];\n        this.debounceAccept = -1;\n        this.composing = 0 /* None */;\n        for (let active of view.state.field(completionState).active)\n            if (active.state == 1 /* Pending */)\n                this.startQuery(active);\n    }\n    update(update) {\n        let cState = update.state.field(completionState);\n        if (!update.selectionSet && !update.docChanged && update.startState.field(completionState) == cState)\n            return;\n        let doesReset = update.transactions.some(tr => {\n            return (tr.selection || tr.docChanged) && !getUserEvent(tr);\n        });\n        for (let i = 0; i < this.running.length; i++) {\n            let query = this.running[i];\n            if (doesReset ||\n                query.updates.length + update.transactions.length > MaxUpdateCount && query.time - Date.now() > MinAbortTime) {\n                for (let handler of query.context.abortListeners) {\n                    try {\n                        handler();\n                    }\n                    catch (e) {\n                        logException(this.view.state, e);\n                    }\n                }\n                query.context.abortListeners = null;\n                this.running.splice(i--, 1);\n            }\n            else {\n                query.updates.push(...update.transactions);\n            }\n        }\n        if (this.debounceUpdate > -1)\n            clearTimeout(this.debounceUpdate);\n        this.debounceUpdate = cState.active.some(a => a.state == 1 /* Pending */ && !this.running.some(q => q.active.source == a.source))\n            ? setTimeout(() => this.startUpdate(), DebounceTime) : -1;\n        if (this.composing != 0 /* None */)\n            for (let tr of update.transactions) {\n                if (getUserEvent(tr) == \"input\")\n                    this.composing = 2 /* Changed */;\n                else if (this.composing == 2 /* Changed */ && tr.selection)\n                    this.composing = 3 /* ChangedAndMoved */;\n            }\n    }\n    startUpdate() {\n        this.debounceUpdate = -1;\n        let { state } = this.view, cState = state.field(completionState);\n        for (let active of cState.active) {\n            if (active.state == 1 /* Pending */ && !this.running.some(r => r.active.source == active.source))\n                this.startQuery(active);\n        }\n    }\n    startQuery(active) {\n        let { state } = this.view, pos = cur(state);\n        let context = new CompletionContext(state, pos, active.explicitPos == pos);\n        let pending = new RunningQuery(active, context);\n        this.running.push(pending);\n        Promise.resolve(active.source(context)).then(result => {\n            if (!pending.context.aborted) {\n                pending.done = result || null;\n                this.scheduleAccept();\n            }\n        }, err => {\n            this.view.dispatch({ effects: closeCompletionEffect.of(null) });\n            logException(this.view.state, err);\n        });\n    }\n    scheduleAccept() {\n        if (this.running.every(q => q.done !== undefined))\n            this.accept();\n        else if (this.debounceAccept < 0)\n            this.debounceAccept = setTimeout(() => this.accept(), DebounceTime);\n    }\n    // For each finished query in this.running, try to create a result\n    // or, if appropriate, restart the query.\n    accept() {\n        var _a;\n        if (this.debounceAccept > -1)\n            clearTimeout(this.debounceAccept);\n        this.debounceAccept = -1;\n        let updated = [];\n        let conf = this.view.state.facet(completionConfig);\n        for (let i = 0; i < this.running.length; i++) {\n            let query = this.running[i];\n            if (query.done === undefined)\n                continue;\n            this.running.splice(i--, 1);\n            if (query.done) {\n                let active = new ActiveResult(query.active.source, query.active.explicitPos, query.done, query.done.from, (_a = query.done.to) !== null && _a !== void 0 ? _a : cur(query.updates.length ? query.updates[0].startState : this.view.state), query.done.span && query.done.filter !== false ? ensureAnchor(query.done.span, true) : null);\n                // Replay the transactions that happened since the start of\n                // the request and see if that preserves the result\n                for (let tr of query.updates)\n                    active = active.update(tr, conf);\n                if (active.hasResult()) {\n                    updated.push(active);\n                    continue;\n                }\n            }\n            let current = this.view.state.field(completionState).active.find(a => a.source == query.active.source);\n            if (current && current.state == 1 /* Pending */) {\n                if (query.done == null) {\n                    // Explicitly failed. Should clear the pending status if it\n                    // hasn't been re-set in the meantime.\n                    let active = new ActiveSource(query.active.source, 0 /* Inactive */);\n                    for (let tr of query.updates)\n                        active = active.update(tr, conf);\n                    if (active.state != 1 /* Pending */)\n                        updated.push(active);\n                }\n                else {\n                    // Cleared by subsequent transactions. Restart.\n                    this.startQuery(current);\n                }\n            }\n        }\n        if (updated.length)\n            this.view.dispatch({ effects: setActiveEffect.of(updated) });\n    }\n}, {\n    eventHandlers: {\n        compositionstart() {\n            this.composing = 1 /* Started */;\n        },\n        compositionend() {\n            if (this.composing == 3 /* ChangedAndMoved */) {\n                // Safari fires compositionend events synchronously, possibly\n                // from inside an update, so dispatch asynchronously to avoid reentrancy\n                setTimeout(() => this.view.dispatch({ effects: startCompletionEffect.of(false) }), 20);\n            }\n            this.composing = 0 /* None */;\n        }\n    }\n});\n\nclass FieldPos {\n    constructor(field, line, from, to) {\n        this.field = field;\n        this.line = line;\n        this.from = from;\n        this.to = to;\n    }\n}\nclass FieldRange {\n    constructor(field, from, to) {\n        this.field = field;\n        this.from = from;\n        this.to = to;\n    }\n    map(changes) {\n        return new FieldRange(this.field, changes.mapPos(this.from, -1), changes.mapPos(this.to, 1));\n    }\n}\nclass Snippet {\n    constructor(lines, fieldPositions) {\n        this.lines = lines;\n        this.fieldPositions = fieldPositions;\n    }\n    instantiate(state, pos) {\n        let text = [], lineStart = [pos];\n        let lineObj = state.doc.lineAt(pos), baseIndent = /^\\s*/.exec(lineObj.text)[0];\n        for (let line of this.lines) {\n            if (text.length) {\n                let indent = baseIndent, tabs = /^\\t*/.exec(line)[0].length;\n                for (let i = 0; i < tabs; i++)\n                    indent += state.facet(indentUnit);\n                lineStart.push(pos + indent.length - tabs);\n                line = indent + line.slice(tabs);\n            }\n            text.push(line);\n            pos += line.length + 1;\n        }\n        let ranges = this.fieldPositions.map(pos => new FieldRange(pos.field, lineStart[pos.line] + pos.from, lineStart[pos.line] + pos.to));\n        return { text, ranges };\n    }\n    static parse(template) {\n        let fields = [];\n        let lines = [], positions = [], m;\n        for (let line of template.split(/\\r\\n?|\\n/)) {\n            while (m = /[#$]\\{(?:(\\d+)(?::([^}]*))?|([^}]*))\\}/.exec(line)) {\n                let seq = m[1] ? +m[1] : null, name = m[2] || m[3], found = -1;\n                for (let i = 0; i < fields.length; i++) {\n                    if (seq != null ? fields[i].seq == seq : name ? fields[i].name == name : false)\n                        found = i;\n                }\n                if (found < 0) {\n                    let i = 0;\n                    while (i < fields.length && (seq == null || (fields[i].seq != null && fields[i].seq < seq)))\n                        i++;\n                    fields.splice(i, 0, { seq, name: name || null });\n                    found = i;\n                    for (let pos of positions)\n                        if (pos.field >= found)\n                            pos.field++;\n                }\n                positions.push(new FieldPos(found, lines.length, m.index, m.index + name.length));\n                line = line.slice(0, m.index) + name + line.slice(m.index + m[0].length);\n            }\n            lines.push(line);\n        }\n        return new Snippet(lines, positions);\n    }\n}\nlet fieldMarker = /*@__PURE__*/Decoration.widget({ widget: /*@__PURE__*/new class extends WidgetType {\n        toDOM() {\n            let span = document.createElement(\"span\");\n            span.className = \"cm-snippetFieldPosition\";\n            return span;\n        }\n        ignoreEvent() { return false; }\n    } });\nlet fieldRange = /*@__PURE__*/Decoration.mark({ class: \"cm-snippetField\" });\nclass ActiveSnippet {\n    constructor(ranges, active) {\n        this.ranges = ranges;\n        this.active = active;\n        this.deco = Decoration.set(ranges.map(r => (r.from == r.to ? fieldMarker : fieldRange).range(r.from, r.to)));\n    }\n    map(changes) {\n        return new ActiveSnippet(this.ranges.map(r => r.map(changes)), this.active);\n    }\n    selectionInsideField(sel) {\n        return sel.ranges.every(range => this.ranges.some(r => r.field == this.active && r.from <= range.from && r.to >= range.to));\n    }\n}\nconst setActive = /*@__PURE__*/StateEffect.define({\n    map(value, changes) { return value && value.map(changes); }\n});\nconst moveToField = /*@__PURE__*/StateEffect.define();\nconst snippetState = /*@__PURE__*/StateField.define({\n    create() { return null; },\n    update(value, tr) {\n        for (let effect of tr.effects) {\n            if (effect.is(setActive))\n                return effect.value;\n            if (effect.is(moveToField) && value)\n                return new ActiveSnippet(value.ranges, effect.value);\n        }\n        if (value && tr.docChanged)\n            value = value.map(tr.changes);\n        if (value && tr.selection && !value.selectionInsideField(tr.selection))\n            value = null;\n        return value;\n    },\n    provide: f => EditorView.decorations.from(f, val => val ? val.deco : Decoration.none)\n});\nfunction fieldSelection(ranges, field) {\n    return EditorSelection.create(ranges.filter(r => r.field == field).map(r => EditorSelection.range(r.from, r.to)));\n}\n/**\nConvert a snippet template to a function that can apply it.\nSnippets are written using syntax like this:\n\n    \"for (let ${index} = 0; ${index} < ${end}; ${index}++) {\\n\\t${}\\n}\"\n\nEach `${}` placeholder (you may also use `#{}`) indicates a field\nthat the user can fill in. Its name, if any, will be the default\ncontent for the field.\n\nWhen the snippet is activated by calling the returned function,\nthe code is inserted at the given position. Newlines in the\ntemplate are indented by the indentation of the start line, plus\none [indent unit](https://codemirror.net/6/docs/ref/#language.indentUnit) per tab character after\nthe newline.\n\nOn activation, (all instances of) the first field are selected.\nThe user can move between fields with Tab and Shift-Tab as long as\nthe fields are active. Moving to the last field or moving the\ncursor out of the current field deactivates the fields.\n\nThe order of fields defaults to textual order, but you can add\nnumbers to placeholders (`${1}` or `${1:defaultText}`) to provide\na custom order.\n*/\nfunction snippet(template) {\n    let snippet = Snippet.parse(template);\n    return (editor, _completion, from, to) => {\n        let { text, ranges } = snippet.instantiate(editor.state, from);\n        let spec = { changes: { from, to, insert: Text.of(text) } };\n        if (ranges.length)\n            spec.selection = fieldSelection(ranges, 0);\n        if (ranges.length > 1) {\n            let active = new ActiveSnippet(ranges, 0);\n            let effects = spec.effects = [setActive.of(active)];\n            if (editor.state.field(snippetState, false) === undefined)\n                effects.push(StateEffect.appendConfig.of([snippetState.init(() => active), addSnippetKeymap,\n                    snippetPointerHandler, baseTheme]));\n        }\n        editor.dispatch(editor.state.update(spec));\n    };\n}\nfunction moveField(dir) {\n    return ({ state, dispatch }) => {\n        let active = state.field(snippetState, false);\n        if (!active || dir < 0 && active.active == 0)\n            return false;\n        let next = active.active + dir, last = dir > 0 && !active.ranges.some(r => r.field == next + dir);\n        dispatch(state.update({\n            selection: fieldSelection(active.ranges, next),\n            effects: setActive.of(last ? null : new ActiveSnippet(active.ranges, next))\n        }));\n        return true;\n    };\n}\n/**\nA command that clears the active snippet, if any.\n*/\nconst clearSnippet = ({ state, dispatch }) => {\n    let active = state.field(snippetState, false);\n    if (!active)\n        return false;\n    dispatch(state.update({ effects: setActive.of(null) }));\n    return true;\n};\n/**\nMove to the next snippet field, if available.\n*/\nconst nextSnippetField = /*@__PURE__*/moveField(1);\n/**\nMove to the previous snippet field, if available.\n*/\nconst prevSnippetField = /*@__PURE__*/moveField(-1);\nconst defaultSnippetKeymap = [\n    { key: \"Tab\", run: nextSnippetField, shift: prevSnippetField },\n    { key: \"Escape\", run: clearSnippet }\n];\n/**\nA facet that can be used to configure the key bindings used by\nsnippets. The default binds Tab to\n[`nextSnippetField`](https://codemirror.net/6/docs/ref/#autocomplete.nextSnippetField), Shift-Tab to\n[`prevSnippetField`](https://codemirror.net/6/docs/ref/#autocomplete.prevSnippetField), and Escape\nto [`clearSnippet`](https://codemirror.net/6/docs/ref/#autocomplete.clearSnippet).\n*/\nconst snippetKeymap = /*@__PURE__*/Facet.define({\n    combine(maps) { return maps.length ? maps[0] : defaultSnippetKeymap; }\n});\nconst addSnippetKeymap = /*@__PURE__*/Prec.override(/*@__PURE__*/keymap.compute([snippetKeymap], state => state.facet(snippetKeymap)));\n/**\nCreate a completion from a snippet. Returns an object with the\nproperties from `completion`, plus an `apply` function that\napplies the snippet.\n*/\nfunction snippetCompletion(template, completion) {\n    return Object.assign(Object.assign({}, completion), { apply: snippet(template) });\n}\nconst snippetPointerHandler = /*@__PURE__*/EditorView.domEventHandlers({\n    mousedown(event, view) {\n        let active = view.state.field(snippetState, false), pos;\n        if (!active || (pos = view.posAtCoords({ x: event.clientX, y: event.clientY })) == null)\n            return false;\n        let match = active.ranges.find(r => r.from <= pos && r.to >= pos);\n        if (!match || match.field == active.active)\n            return false;\n        view.dispatch({\n            selection: fieldSelection(active.ranges, match.field),\n            effects: setActive.of(active.ranges.some(r => r.field > match.field) ? new ActiveSnippet(active.ranges, match.field) : null)\n        });\n        return true;\n    }\n});\n\nfunction wordRE(wordChars) {\n    let escaped = wordChars.replace(/[\\\\[.+*?(){|^$]/g, \"\\\\$&\");\n    try {\n        return new RegExp(`[\\\\p{Alphabetic}\\\\p{Number}_${escaped}]+`, \"ug\");\n    }\n    catch (_a) {\n        return new RegExp(`[\\w${escaped}]`, \"g\");\n    }\n}\nfunction mapRE(re, f) {\n    return new RegExp(f(re.source), re.unicode ? \"u\" : \"\");\n}\nconst wordCaches = /*@__PURE__*/Object.create(null);\nfunction wordCache(wordChars) {\n    return wordCaches[wordChars] || (wordCaches[wordChars] = new WeakMap);\n}\nfunction storeWords(doc, wordRE, result, seen, ignoreAt) {\n    for (let lines = doc.iterLines(), pos = 0; !lines.next().done;) {\n        let { value } = lines, m;\n        wordRE.lastIndex = 0;\n        while (m = wordRE.exec(value)) {\n            if (!seen[m[0]] && pos + m.index != ignoreAt) {\n                result.push({ type: \"text\", label: m[0] });\n                seen[m[0]] = true;\n                if (result.length >= 2000 /* MaxList */)\n                    return;\n            }\n        }\n        pos += value.length + 1;\n    }\n}\nfunction collectWords(doc, cache, wordRE, to, ignoreAt) {\n    let big = doc.length >= 1000 /* MinCacheLen */;\n    let cached = big && cache.get(doc);\n    if (cached)\n        return cached;\n    let result = [], seen = Object.create(null);\n    if (doc.children) {\n        let pos = 0;\n        for (let ch of doc.children) {\n            if (ch.length >= 1000 /* MinCacheLen */) {\n                for (let c of collectWords(ch, cache, wordRE, to - pos, ignoreAt - pos)) {\n                    if (!seen[c.label]) {\n                        seen[c.label] = true;\n                        result.push(c);\n                    }\n                }\n            }\n            else {\n                storeWords(ch, wordRE, result, seen, ignoreAt - pos);\n            }\n            pos += ch.length + 1;\n        }\n    }\n    else {\n        storeWords(doc, wordRE, result, seen, ignoreAt);\n    }\n    if (big && result.length < 2000 /* MaxList */)\n        cache.set(doc, result);\n    return result;\n}\n/**\nA completion source that will scan the document for words (using a\n[character categorizer](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer)), and\nreturn those as completions.\n*/\nconst completeAnyWord = context => {\n    let wordChars = context.state.languageDataAt(\"wordChars\", context.pos).join(\"\");\n    let re = wordRE(wordChars);\n    let token = context.matchBefore(mapRE(re, s => s + \"$\"));\n    if (!token && !context.explicit)\n        return null;\n    let from = token ? token.from : context.pos;\n    let options = collectWords(context.state.doc, wordCache(wordChars), re, 50000 /* Range */, from);\n    return { from, options, span: mapRE(re, s => \"^\" + s) };\n};\n\n/**\nReturns an extension that enables autocompletion.\n*/\nfunction autocompletion(config = {}) {\n    return [\n        completionState,\n        completionConfig.of(config),\n        completionPlugin,\n        completionKeymapExt,\n        baseTheme\n    ];\n}\n/**\nBasic keybindings for autocompletion.\n\n - Ctrl-Space: [`startCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.startCompletion)\n - Escape: [`closeCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.closeCompletion)\n - ArrowDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true)`\n - ArrowUp: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(false)`\n - PageDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true, \"page\")`\n - PageDown: [`moveCompletionSelection`](https://codemirror.net/6/docs/ref/#autocomplete.moveCompletionSelection)`(true, \"page\")`\n - Enter: [`acceptCompletion`](https://codemirror.net/6/docs/ref/#autocomplete.acceptCompletion)\n*/\nconst completionKeymap = [\n    { key: \"Ctrl-Space\", run: startCompletion },\n    { key: \"Escape\", run: closeCompletion },\n    { key: \"ArrowDown\", run: /*@__PURE__*/moveCompletionSelection(true) },\n    { key: \"ArrowUp\", run: /*@__PURE__*/moveCompletionSelection(false) },\n    { key: \"PageDown\", run: /*@__PURE__*/moveCompletionSelection(true, \"page\") },\n    { key: \"PageUp\", run: /*@__PURE__*/moveCompletionSelection(false, \"page\") },\n    { key: \"Enter\", run: acceptCompletion }\n];\nconst completionKeymapExt = /*@__PURE__*/Prec.override(/*@__PURE__*/keymap.computeN([completionConfig], state => state.facet(completionConfig).defaultKeymap ? [completionKeymap] : []));\n/**\nGet the current completion status. When completions are available,\nthis will return `\"active\"`. When completions are pending (in the\nprocess of being queried), this returns `\"pending\"`. Otherwise, it\nreturns `null`.\n*/\nfunction completionStatus(state) {\n    let cState = state.field(completionState, false);\n    return cState && cState.active.some(a => a.state == 1 /* Pending */) ? \"pending\"\n        : cState && cState.active.some(a => a.state != 0 /* Inactive */) ? \"active\" : null;\n}\n/**\nReturns the available completions as an array.\n*/\nfunction currentCompletions(state) {\n    var _a;\n    let open = (_a = state.field(completionState, false)) === null || _a === void 0 ? void 0 : _a.open;\n    return open ? open.options.map(o => o.completion) : [];\n}\n\nexport { CompletionContext, acceptCompletion, autocompletion, clearSnippet, closeCompletion, completeAnyWord, completeFromList, completionKeymap, completionStatus, currentCompletions, ifIn, ifNotIn, moveCompletionSelection, nextSnippetField, prevSnippetField, snippet, snippetCompletion, snippetKeymap, startCompletion };\n","import { Text, findClusterBreak } from '@codemirror/text';\nexport { Text } from '@codemirror/text';\n\nconst DefaultSplit = /\\r\\n?|\\n/;\n/**\nDistinguishes different ways in which positions can be mapped.\n*/\nvar MapMode = /*@__PURE__*/(function (MapMode) {\n    /**\n    Map a position to a valid new position, even when its context\n    was deleted.\n    */\n    MapMode[MapMode[\"Simple\"] = 0] = \"Simple\";\n    /**\n    Return null if deletion happens across the position.\n    */\n    MapMode[MapMode[\"TrackDel\"] = 1] = \"TrackDel\";\n    /**\n    Return null if the character _before_ the position is deleted.\n    */\n    MapMode[MapMode[\"TrackBefore\"] = 2] = \"TrackBefore\";\n    /**\n    Return null if the character _after_ the position is deleted.\n    */\n    MapMode[MapMode[\"TrackAfter\"] = 3] = \"TrackAfter\";\nreturn MapMode})(MapMode || (MapMode = {}));\n/**\nA change description is a variant of [change set](https://codemirror.net/6/docs/ref/#state.ChangeSet)\nthat doesn't store the inserted text. As such, it can't be\napplied, but is cheaper to store and manipulate.\n*/\nclass ChangeDesc {\n    // Sections are encoded as pairs of integers. The first is the\n    // length in the current document, and the second is -1 for\n    // unaffected sections, and the length of the replacement content\n    // otherwise. So an insertion would be (0, n>0), a deletion (n>0,\n    // 0), and a replacement two positive numbers.\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    sections) {\n        this.sections = sections;\n    }\n    /**\n    The length of the document before the change.\n    */\n    get length() {\n        let result = 0;\n        for (let i = 0; i < this.sections.length; i += 2)\n            result += this.sections[i];\n        return result;\n    }\n    /**\n    The length of the document after the change.\n    */\n    get newLength() {\n        let result = 0;\n        for (let i = 0; i < this.sections.length; i += 2) {\n            let ins = this.sections[i + 1];\n            result += ins < 0 ? this.sections[i] : ins;\n        }\n        return result;\n    }\n    /**\n    False when there are actual changes in this set.\n    */\n    get empty() { return this.sections.length == 0 || this.sections.length == 2 && this.sections[1] < 0; }\n    /**\n    Iterate over the unchanged parts left by these changes.\n    */\n    iterGaps(f) {\n        for (let i = 0, posA = 0, posB = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            if (ins < 0) {\n                f(posA, posB, len);\n                posB += len;\n            }\n            else {\n                posB += ins;\n            }\n            posA += len;\n        }\n    }\n    /**\n    Iterate over the ranges changed by these changes. (See\n    [`ChangeSet.iterChanges`](https://codemirror.net/6/docs/ref/#state.ChangeSet.iterChanges) for a\n    variant that also provides you with the inserted text.)\n    \n    When `individual` is true, adjacent changes (which are kept\n    separate for [position mapping](https://codemirror.net/6/docs/ref/#state.ChangeDesc.mapPos)) are\n    reported separately.\n    */\n    iterChangedRanges(f, individual = false) {\n        iterChanges(this, f, individual);\n    }\n    /**\n    Get a description of the inverted form of these changes.\n    */\n    get invertedDesc() {\n        let sections = [];\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            if (ins < 0)\n                sections.push(len, ins);\n            else\n                sections.push(ins, len);\n        }\n        return new ChangeDesc(sections);\n    }\n    /**\n    Compute the combined effect of applying another set of changes\n    after this one. The length of the document after this set should\n    match the length before `other`.\n    */\n    composeDesc(other) { return this.empty ? other : other.empty ? this : composeSets(this, other); }\n    /**\n    Map this description, which should start with the same document\n    as `other`, over another set of changes, so that it can be\n    applied after it. When `before` is true, map as if the changes\n    in `other` happened before the ones in `this`.\n    */\n    mapDesc(other, before = false) { return other.empty ? this : mapSet(this, other, before); }\n    mapPos(pos, assoc = -1, mode = MapMode.Simple) {\n        let posA = 0, posB = 0;\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++], endA = posA + len;\n            if (ins < 0) {\n                if (endA > pos)\n                    return posB + (pos - posA);\n                posB += len;\n            }\n            else {\n                if (mode != MapMode.Simple && endA >= pos &&\n                    (mode == MapMode.TrackDel && posA < pos && endA > pos ||\n                        mode == MapMode.TrackBefore && posA < pos ||\n                        mode == MapMode.TrackAfter && endA > pos))\n                    return null;\n                if (endA > pos || endA == pos && assoc < 0 && !len)\n                    return pos == posA || assoc < 0 ? posB : posB + ins;\n                posB += ins;\n            }\n            posA = endA;\n        }\n        if (pos > posA)\n            throw new RangeError(`Position ${pos} is out of range for changeset of length ${posA}`);\n        return posB;\n    }\n    /**\n    Check whether these changes touch a given range. When one of the\n    changes entirely covers the range, the string `\"cover\"` is\n    returned.\n    */\n    touchesRange(from, to = from) {\n        for (let i = 0, pos = 0; i < this.sections.length && pos <= to;) {\n            let len = this.sections[i++], ins = this.sections[i++], end = pos + len;\n            if (ins >= 0 && pos <= to && end >= from)\n                return pos < from && end > to ? \"cover\" : true;\n            pos = end;\n        }\n        return false;\n    }\n    /**\n    @internal\n    */\n    toString() {\n        let result = \"\";\n        for (let i = 0; i < this.sections.length;) {\n            let len = this.sections[i++], ins = this.sections[i++];\n            result += (result ? \" \" : \"\") + len + (ins >= 0 ? \":\" + ins : \"\");\n        }\n        return result;\n    }\n    /**\n    Serialize this change desc to a JSON-representable value.\n    */\n    toJSON() { return this.sections; }\n    /**\n    Create a change desc from its JSON representation (as produced\n    by [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeDesc.toJSON).\n    */\n    static fromJSON(json) {\n        if (!Array.isArray(json) || json.length % 2 || json.some(a => typeof a != \"number\"))\n            throw new RangeError(\"Invalid JSON representation of ChangeDesc\");\n        return new ChangeDesc(json);\n    }\n}\n/**\nA change set represents a group of modifications to a document. It\nstores the document length, and can only be applied to documents\nwith exactly that length.\n*/\nclass ChangeSet extends ChangeDesc {\n    /**\n    @internal\n    */\n    constructor(sections, \n    /**\n    @internal\n    */\n    inserted) {\n        super(sections);\n        this.inserted = inserted;\n    }\n    /**\n    Apply the changes to a document, returning the modified\n    document.\n    */\n    apply(doc) {\n        if (this.length != doc.length)\n            throw new RangeError(\"Applying change set to a document with the wrong length\");\n        iterChanges(this, (fromA, toA, fromB, _toB, text) => doc = doc.replace(fromB, fromB + (toA - fromA), text), false);\n        return doc;\n    }\n    mapDesc(other, before = false) { return mapSet(this, other, before, true); }\n    /**\n    Given the document as it existed _before_ the changes, return a\n    change set that represents the inverse of this set, which could\n    be used to go from the document created by the changes back to\n    the document as it existed before the changes.\n    */\n    invert(doc) {\n        let sections = this.sections.slice(), inserted = [];\n        for (let i = 0, pos = 0; i < sections.length; i += 2) {\n            let len = sections[i], ins = sections[i + 1];\n            if (ins >= 0) {\n                sections[i] = ins;\n                sections[i + 1] = len;\n                let index = i >> 1;\n                while (inserted.length < index)\n                    inserted.push(Text.empty);\n                inserted.push(len ? doc.slice(pos, pos + len) : Text.empty);\n            }\n            pos += len;\n        }\n        return new ChangeSet(sections, inserted);\n    }\n    /**\n    Combine two subsequent change sets into a single set. `other`\n    must start in the document produced by `this`. If `this` goes\n    `docA`  `docB` and `other` represents `docB`  `docC`, the\n    returned value will represent the change `docA`  `docC`.\n    */\n    compose(other) { return this.empty ? other : other.empty ? this : composeSets(this, other, true); }\n    /**\n    Given another change set starting in the same document, maps this\n    change set over the other, producing a new change set that can be\n    applied to the document produced by applying `other`. When\n    `before` is `true`, order changes as if `this` comes before\n    `other`, otherwise (the default) treat `other` as coming first.\n    \n    Given two changes `A` and `B`, `A.compose(B.map(A))` and\n    `B.compose(A.map(B, true))` will produce the same document. This\n    provides a basic form of [operational\n    transformation](https://en.wikipedia.org/wiki/Operational_transformation),\n    and can be used for collaborative editing.\n    */\n    map(other, before = false) { return other.empty ? this : mapSet(this, other, before, true); }\n    /**\n    Iterate over the changed ranges in the document, calling `f` for\n    each.\n    \n    When `individual` is true, adjacent changes are reported\n    separately.\n    */\n    iterChanges(f, individual = false) {\n        iterChanges(this, f, individual);\n    }\n    /**\n    Get a [change description](https://codemirror.net/6/docs/ref/#state.ChangeDesc) for this change\n    set.\n    */\n    get desc() { return new ChangeDesc(this.sections); }\n    /**\n    @internal\n    */\n    filter(ranges) {\n        let resultSections = [], resultInserted = [], filteredSections = [];\n        let iter = new SectionIter(this);\n        done: for (let i = 0, pos = 0;;) {\n            let next = i == ranges.length ? 1e9 : ranges[i++];\n            while (pos < next || pos == next && iter.len == 0) {\n                if (iter.done)\n                    break done;\n                let len = Math.min(iter.len, next - pos);\n                addSection(filteredSections, len, -1);\n                let ins = iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0;\n                addSection(resultSections, len, ins);\n                if (ins > 0)\n                    addInsert(resultInserted, resultSections, iter.text);\n                iter.forward(len);\n                pos += len;\n            }\n            let end = ranges[i++];\n            while (pos < end) {\n                if (iter.done)\n                    break done;\n                let len = Math.min(iter.len, end - pos);\n                addSection(resultSections, len, -1);\n                addSection(filteredSections, len, iter.ins == -1 ? -1 : iter.off == 0 ? iter.ins : 0);\n                iter.forward(len);\n                pos += len;\n            }\n        }\n        return { changes: new ChangeSet(resultSections, resultInserted),\n            filtered: new ChangeDesc(filteredSections) };\n    }\n    /**\n    Serialize this change set to a JSON-representable value.\n    */\n    toJSON() {\n        let parts = [];\n        for (let i = 0; i < this.sections.length; i += 2) {\n            let len = this.sections[i], ins = this.sections[i + 1];\n            if (ins < 0)\n                parts.push(len);\n            else if (ins == 0)\n                parts.push([len]);\n            else\n                parts.push([len].concat(this.inserted[i >> 1].toJSON()));\n        }\n        return parts;\n    }\n    /**\n    Create a change set for the given changes, for a document of the\n    given length, using `lineSep` as line separator.\n    */\n    static of(changes, length, lineSep) {\n        let sections = [], inserted = [], pos = 0;\n        let total = null;\n        function flush(force = false) {\n            if (!force && !sections.length)\n                return;\n            if (pos < length)\n                addSection(sections, length - pos, -1);\n            let set = new ChangeSet(sections, inserted);\n            total = total ? total.compose(set.map(total)) : set;\n            sections = [];\n            inserted = [];\n            pos = 0;\n        }\n        function process(spec) {\n            if (Array.isArray(spec)) {\n                for (let sub of spec)\n                    process(sub);\n            }\n            else if (spec instanceof ChangeSet) {\n                if (spec.length != length)\n                    throw new RangeError(`Mismatched change set length (got ${spec.length}, expected ${length})`);\n                flush();\n                total = total ? total.compose(spec.map(total)) : spec;\n            }\n            else {\n                let { from, to = from, insert } = spec;\n                if (from > to || from < 0 || to > length)\n                    throw new RangeError(`Invalid change range ${from} to ${to} (in doc of length ${length})`);\n                let insText = !insert ? Text.empty : typeof insert == \"string\" ? Text.of(insert.split(lineSep || DefaultSplit)) : insert;\n                let insLen = insText.length;\n                if (from == to && insLen == 0)\n                    return;\n                if (from < pos)\n                    flush();\n                if (from > pos)\n                    addSection(sections, from - pos, -1);\n                addSection(sections, to - from, insLen);\n                addInsert(inserted, sections, insText);\n                pos = to;\n            }\n        }\n        process(changes);\n        flush(!total);\n        return total;\n    }\n    /**\n    Create an empty changeset of the given length.\n    */\n    static empty(length) {\n        return new ChangeSet(length ? [length, -1] : [], []);\n    }\n    /**\n    Create a changeset from its JSON representation (as produced by\n    [`toJSON`](https://codemirror.net/6/docs/ref/#state.ChangeSet.toJSON).\n    */\n    static fromJSON(json) {\n        if (!Array.isArray(json))\n            throw new RangeError(\"Invalid JSON representation of ChangeSet\");\n        let sections = [], inserted = [];\n        for (let i = 0; i < json.length; i++) {\n            let part = json[i];\n            if (typeof part == \"number\") {\n                sections.push(part, -1);\n            }\n            else if (!Array.isArray(part) || typeof part[0] != \"number\" || part.some((e, i) => i && typeof e != \"string\")) {\n                throw new RangeError(\"Invalid JSON representation of ChangeSet\");\n            }\n            else if (part.length == 1) {\n                sections.push(part[0], 0);\n            }\n            else {\n                while (inserted.length < i)\n                    inserted.push(Text.empty);\n                inserted[i] = Text.of(part.slice(1));\n                sections.push(part[0], inserted[i].length);\n            }\n        }\n        return new ChangeSet(sections, inserted);\n    }\n}\nfunction addSection(sections, len, ins, forceJoin = false) {\n    if (len == 0 && ins <= 0)\n        return;\n    let last = sections.length - 2;\n    if (last >= 0 && ins <= 0 && ins == sections[last + 1])\n        sections[last] += len;\n    else if (len == 0 && sections[last] == 0)\n        sections[last + 1] += ins;\n    else if (forceJoin) {\n        sections[last] += len;\n        sections[last + 1] += ins;\n    }\n    else\n        sections.push(len, ins);\n}\nfunction addInsert(values, sections, value) {\n    if (value.length == 0)\n        return;\n    let index = (sections.length - 2) >> 1;\n    if (index < values.length) {\n        values[values.length - 1] = values[values.length - 1].append(value);\n    }\n    else {\n        while (values.length < index)\n            values.push(Text.empty);\n        values.push(value);\n    }\n}\nfunction iterChanges(desc, f, individual) {\n    let inserted = desc.inserted;\n    for (let posA = 0, posB = 0, i = 0; i < desc.sections.length;) {\n        let len = desc.sections[i++], ins = desc.sections[i++];\n        if (ins < 0) {\n            posA += len;\n            posB += len;\n        }\n        else {\n            let endA = posA, endB = posB, text = Text.empty;\n            for (;;) {\n                endA += len;\n                endB += ins;\n                if (ins && inserted)\n                    text = text.append(inserted[(i - 2) >> 1]);\n                if (individual || i == desc.sections.length || desc.sections[i + 1] < 0)\n                    break;\n                len = desc.sections[i++];\n                ins = desc.sections[i++];\n            }\n            f(posA, endA, posB, endB, text);\n            posA = endA;\n            posB = endB;\n        }\n    }\n}\nfunction mapSet(setA, setB, before, mkSet = false) {\n    let sections = [], insert = mkSet ? [] : null;\n    let a = new SectionIter(setA), b = new SectionIter(setB);\n    for (let posA = 0, posB = 0;;) {\n        if (a.ins == -1) {\n            posA += a.len;\n            a.next();\n        }\n        else if (b.ins == -1 && posB < posA) {\n            let skip = Math.min(b.len, posA - posB);\n            b.forward(skip);\n            addSection(sections, skip, -1);\n            posB += skip;\n        }\n        else if (b.ins >= 0 && (a.done || posB < posA || posB == posA && (b.len < a.len || b.len == a.len && !before))) {\n            addSection(sections, b.ins, -1);\n            while (posA > posB && !a.done && posA + a.len < posB + b.len) {\n                posA += a.len;\n                a.next();\n            }\n            posB += b.len;\n            b.next();\n        }\n        else if (a.ins >= 0) {\n            let len = 0, end = posA + a.len;\n            for (;;) {\n                if (b.ins >= 0 && posB > posA && posB + b.len < end) {\n                    len += b.ins;\n                    posB += b.len;\n                    b.next();\n                }\n                else if (b.ins == -1 && posB < end) {\n                    let skip = Math.min(b.len, end - posB);\n                    len += skip;\n                    b.forward(skip);\n                    posB += skip;\n                }\n                else {\n                    break;\n                }\n            }\n            addSection(sections, len, a.ins);\n            if (insert)\n                addInsert(insert, sections, a.text);\n            posA = end;\n            a.next();\n        }\n        else if (a.done && b.done) {\n            return insert ? new ChangeSet(sections, insert) : new ChangeDesc(sections);\n        }\n        else {\n            throw new Error(\"Mismatched change set lengths\");\n        }\n    }\n}\nfunction composeSets(setA, setB, mkSet = false) {\n    let sections = [];\n    let insert = mkSet ? [] : null;\n    let a = new SectionIter(setA), b = new SectionIter(setB);\n    for (let open = false;;) {\n        if (a.done && b.done) {\n            return insert ? new ChangeSet(sections, insert) : new ChangeDesc(sections);\n        }\n        else if (a.ins == 0) { // Deletion in A\n            addSection(sections, a.len, 0, open);\n            a.next();\n        }\n        else if (b.len == 0 && !b.done) { // Insertion in B\n            addSection(sections, 0, b.ins, open);\n            if (insert)\n                addInsert(insert, sections, b.text);\n            b.next();\n        }\n        else if (a.done || b.done) {\n            throw new Error(\"Mismatched change set lengths\");\n        }\n        else {\n            let len = Math.min(a.len2, b.len), sectionLen = sections.length;\n            if (a.ins == -1) {\n                let insB = b.ins == -1 ? -1 : b.off ? 0 : b.ins;\n                addSection(sections, len, insB, open);\n                if (insert && insB)\n                    addInsert(insert, sections, b.text);\n            }\n            else if (b.ins == -1) {\n                addSection(sections, a.off ? 0 : a.len, len, open);\n                if (insert)\n                    addInsert(insert, sections, a.textBit(len));\n            }\n            else {\n                addSection(sections, a.off ? 0 : a.len, b.off ? 0 : b.ins, open);\n                if (insert && !b.off)\n                    addInsert(insert, sections, b.text);\n            }\n            open = (a.ins > len || b.ins >= 0 && b.len > len) && (open || sections.length > sectionLen);\n            a.forward2(len);\n            b.forward(len);\n        }\n    }\n}\nclass SectionIter {\n    constructor(set) {\n        this.set = set;\n        this.i = 0;\n        this.next();\n    }\n    next() {\n        let { sections } = this.set;\n        if (this.i < sections.length) {\n            this.len = sections[this.i++];\n            this.ins = sections[this.i++];\n        }\n        else {\n            this.len = 0;\n            this.ins = -2;\n        }\n        this.off = 0;\n    }\n    get done() { return this.ins == -2; }\n    get len2() { return this.ins < 0 ? this.len : this.ins; }\n    get text() {\n        let { inserted } = this.set, index = (this.i - 2) >> 1;\n        return index >= inserted.length ? Text.empty : inserted[index];\n    }\n    textBit(len) {\n        let { inserted } = this.set, index = (this.i - 2) >> 1;\n        return index >= inserted.length && !len ? Text.empty\n            : inserted[index].slice(this.off, len == null ? undefined : this.off + len);\n    }\n    forward(len) {\n        if (len == this.len)\n            this.next();\n        else {\n            this.len -= len;\n            this.off += len;\n        }\n    }\n    forward2(len) {\n        if (this.ins == -1)\n            this.forward(len);\n        else if (len == this.ins)\n            this.next();\n        else {\n            this.ins -= len;\n            this.off += len;\n        }\n    }\n}\n\n/**\nA single selection range. When\n[`allowMultipleSelections`](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\nis enabled, a [selection](https://codemirror.net/6/docs/ref/#state.EditorSelection) may hold\nmultiple ranges. By default, selections hold exactly one range.\n*/\nclass SelectionRange {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The lower boundary of the range.\n    */\n    from, \n    /**\n    The upper boundary of the range.\n    */\n    to, flags) {\n        this.from = from;\n        this.to = to;\n        this.flags = flags;\n    }\n    /**\n    The anchor of the rangethe side that doesn't move when you\n    extend it.\n    */\n    get anchor() { return this.flags & 16 /* Inverted */ ? this.to : this.from; }\n    /**\n    The head of the range, which is moved when the range is\n    [extended](https://codemirror.net/6/docs/ref/#state.SelectionRange.extend).\n    */\n    get head() { return this.flags & 16 /* Inverted */ ? this.from : this.to; }\n    /**\n    True when `anchor` and `head` are at the same position.\n    */\n    get empty() { return this.from == this.to; }\n    /**\n    If this is a cursor that is explicitly associated with the\n    character on one of its sides, this returns the side. -1 means\n    the character before its position, 1 the character after, and 0\n    means no association.\n    */\n    get assoc() { return this.flags & 4 /* AssocBefore */ ? -1 : this.flags & 8 /* AssocAfter */ ? 1 : 0; }\n    /**\n    The bidirectional text level associated with this cursor, if\n    any.\n    */\n    get bidiLevel() {\n        let level = this.flags & 3 /* BidiLevelMask */;\n        return level == 3 ? null : level;\n    }\n    /**\n    The goal column (stored vertical offset) associated with a\n    cursor. This is used to preserve the vertical position when\n    [moving](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) across\n    lines of different length.\n    */\n    get goalColumn() {\n        let value = this.flags >> 5 /* GoalColumnOffset */;\n        return value == 33554431 /* NoGoalColumn */ ? undefined : value;\n    }\n    /**\n    Map this range through a change, producing a valid range in the\n    updated document.\n    */\n    map(change, assoc = -1) {\n        let from = change.mapPos(this.from, assoc), to = change.mapPos(this.to, assoc);\n        return from == this.from && to == this.to ? this : new SelectionRange(from, to, this.flags);\n    }\n    /**\n    Extend this range to cover at least `from` to `to`.\n    */\n    extend(from, to = from) {\n        if (from <= this.anchor && to >= this.anchor)\n            return EditorSelection.range(from, to);\n        let head = Math.abs(from - this.anchor) > Math.abs(to - this.anchor) ? from : to;\n        return EditorSelection.range(this.anchor, head);\n    }\n    /**\n    Compare this range to another range.\n    */\n    eq(other) {\n        return this.anchor == other.anchor && this.head == other.head;\n    }\n    /**\n    Return a JSON-serializable object representing the range.\n    */\n    toJSON() { return { anchor: this.anchor, head: this.head }; }\n    /**\n    Convert a JSON representation of a range to a `SelectionRange`\n    instance.\n    */\n    static fromJSON(json) {\n        if (!json || typeof json.anchor != \"number\" || typeof json.head != \"number\")\n            throw new RangeError(\"Invalid JSON representation for SelectionRange\");\n        return EditorSelection.range(json.anchor, json.head);\n    }\n}\n/**\nAn editor selection holds one or more selection ranges.\n*/\nclass EditorSelection {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The ranges in the selection, sorted by position. Ranges cannot\n    overlap (but they may touch, if they aren't empty).\n    */\n    ranges, \n    /**\n    The index of the _main_ range in the selection (which is\n    usually the range that was added last).\n    */\n    mainIndex = 0) {\n        this.ranges = ranges;\n        this.mainIndex = mainIndex;\n    }\n    /**\n    Map a selection through a change. Used to adjust the selection\n    position for changes.\n    */\n    map(change, assoc = -1) {\n        if (change.empty)\n            return this;\n        return EditorSelection.create(this.ranges.map(r => r.map(change, assoc)), this.mainIndex);\n    }\n    /**\n    Compare this selection to another selection.\n    */\n    eq(other) {\n        if (this.ranges.length != other.ranges.length ||\n            this.mainIndex != other.mainIndex)\n            return false;\n        for (let i = 0; i < this.ranges.length; i++)\n            if (!this.ranges[i].eq(other.ranges[i]))\n                return false;\n        return true;\n    }\n    /**\n    Get the primary selection range. Usually, you should make sure\n    your code applies to _all_ ranges, by using methods like\n    [`changeByRange`](https://codemirror.net/6/docs/ref/#state.EditorState.changeByRange).\n    */\n    get main() { return this.ranges[this.mainIndex]; }\n    /**\n    Make sure the selection only has one range. Returns a selection\n    holding only the main range from this selection.\n    */\n    asSingle() {\n        return this.ranges.length == 1 ? this : new EditorSelection([this.main]);\n    }\n    /**\n    Extend this selection with an extra range.\n    */\n    addRange(range, main = true) {\n        return EditorSelection.create([range].concat(this.ranges), main ? 0 : this.mainIndex + 1);\n    }\n    /**\n    Replace a given range with another range, and then normalize the\n    selection to merge and sort ranges if necessary.\n    */\n    replaceRange(range, which = this.mainIndex) {\n        let ranges = this.ranges.slice();\n        ranges[which] = range;\n        return EditorSelection.create(ranges, this.mainIndex);\n    }\n    /**\n    Convert this selection to an object that can be serialized to\n    JSON.\n    */\n    toJSON() {\n        return { ranges: this.ranges.map(r => r.toJSON()), main: this.mainIndex };\n    }\n    /**\n    Create a selection from a JSON representation.\n    */\n    static fromJSON(json) {\n        if (!json || !Array.isArray(json.ranges) || typeof json.main != \"number\" || json.main >= json.ranges.length)\n            throw new RangeError(\"Invalid JSON representation for EditorSelection\");\n        return new EditorSelection(json.ranges.map((r) => SelectionRange.fromJSON(r)), json.main);\n    }\n    /**\n    Create a selection holding a single range.\n    */\n    static single(anchor, head = anchor) {\n        return new EditorSelection([EditorSelection.range(anchor, head)], 0);\n    }\n    /**\n    Sort and merge the given set of ranges, creating a valid\n    selection.\n    */\n    static create(ranges, mainIndex = 0) {\n        if (ranges.length == 0)\n            throw new RangeError(\"A selection needs at least one range\");\n        for (let pos = 0, i = 0; i < ranges.length; i++) {\n            let range = ranges[i];\n            if (range.empty ? range.from <= pos : range.from < pos)\n                return normalized(ranges.slice(), mainIndex);\n            pos = range.to;\n        }\n        return new EditorSelection(ranges, mainIndex);\n    }\n    /**\n    Create a cursor selection range at the given position. You can\n    safely ignore the optional arguments in most situations.\n    */\n    static cursor(pos, assoc = 0, bidiLevel, goalColumn) {\n        return new SelectionRange(pos, pos, (assoc == 0 ? 0 : assoc < 0 ? 4 /* AssocBefore */ : 8 /* AssocAfter */) |\n            (bidiLevel == null ? 3 : Math.min(2, bidiLevel)) |\n            ((goalColumn !== null && goalColumn !== void 0 ? goalColumn : 33554431 /* NoGoalColumn */) << 5 /* GoalColumnOffset */));\n    }\n    /**\n    Create a selection range.\n    */\n    static range(anchor, head, goalColumn) {\n        let goal = (goalColumn !== null && goalColumn !== void 0 ? goalColumn : 33554431 /* NoGoalColumn */) << 5 /* GoalColumnOffset */;\n        return head < anchor ? new SelectionRange(head, anchor, 16 /* Inverted */ | goal) : new SelectionRange(anchor, head, goal);\n    }\n}\nfunction normalized(ranges, mainIndex = 0) {\n    let main = ranges[mainIndex];\n    ranges.sort((a, b) => a.from - b.from);\n    mainIndex = ranges.indexOf(main);\n    for (let i = 1; i < ranges.length; i++) {\n        let range = ranges[i], prev = ranges[i - 1];\n        if (range.empty ? range.from <= prev.to : range.from < prev.to) {\n            let from = prev.from, to = Math.max(range.to, prev.to);\n            if (i <= mainIndex)\n                mainIndex--;\n            ranges.splice(--i, 2, range.anchor > range.head ? EditorSelection.range(to, from) : EditorSelection.range(from, to));\n        }\n    }\n    return new EditorSelection(ranges, mainIndex);\n}\nfunction checkSelection(selection, docLength) {\n    for (let range of selection.ranges)\n        if (range.to > docLength)\n            throw new RangeError(\"Selection points outside of document\");\n}\n\nlet nextID = 0;\n/**\nA facet is a labeled value that is associated with an editor\nstate. It takes inputs from any number of extensions, and combines\nthose into a single output value.\n\nExamples of facets are the [theme](https://codemirror.net/6/docs/ref/#view.EditorView^theme) styles\nassociated with an editor or the [tab\nsize](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) (which is reduced to a single\nvalue, using the input with the hightest precedence).\n*/\nclass Facet {\n    constructor(\n    /**\n    @internal\n    */\n    combine, \n    /**\n    @internal\n    */\n    compareInput, \n    /**\n    @internal\n    */\n    compare, isStatic, \n    /**\n    @internal\n    */\n    extensions) {\n        this.combine = combine;\n        this.compareInput = compareInput;\n        this.compare = compare;\n        this.isStatic = isStatic;\n        this.extensions = extensions;\n        /**\n        @internal\n        */\n        this.id = nextID++;\n        this.default = combine([]);\n    }\n    /**\n    Define a new facet.\n    */\n    static define(config = {}) {\n        return new Facet(config.combine || ((a) => a), config.compareInput || ((a, b) => a === b), config.compare || (!config.combine ? sameArray : (a, b) => a === b), !!config.static, config.enables);\n    }\n    /**\n    Returns an extension that adds the given value for this facet.\n    */\n    of(value) {\n        return new FacetProvider([], this, 0 /* Static */, value);\n    }\n    /**\n    Create an extension that computes a value for the facet from a\n    state. You must take care to declare the parts of the state that\n    this value depends on, since your function is only called again\n    for a new state when one of those parts changed.\n    \n    In most cases, you'll want to use the\n    [`provide`](https://codemirror.net/6/docs/ref/#state.StateField^define^config.provide) option when\n    defining a field instead.\n    */\n    compute(deps, get) {\n        if (this.isStatic)\n            throw new Error(\"Can't compute a static facet\");\n        return new FacetProvider(deps, this, 1 /* Single */, get);\n    }\n    /**\n    Create an extension that computes zero or more values for this\n    facet from a state.\n    */\n    computeN(deps, get) {\n        if (this.isStatic)\n            throw new Error(\"Can't compute a static facet\");\n        return new FacetProvider(deps, this, 2 /* Multi */, get);\n    }\n    from(field, get) {\n        if (!get)\n            get = x => x;\n        return this.compute([field], state => get(state.field(field)));\n    }\n}\nfunction sameArray(a, b) {\n    return a == b || a.length == b.length && a.every((e, i) => e === b[i]);\n}\nclass FacetProvider {\n    constructor(dependencies, facet, type, value) {\n        this.dependencies = dependencies;\n        this.facet = facet;\n        this.type = type;\n        this.value = value;\n        this.id = nextID++;\n    }\n    dynamicSlot(addresses) {\n        var _a;\n        let getter = this.value;\n        let compare = this.facet.compareInput;\n        let idx = addresses[this.id] >> 1, multi = this.type == 2 /* Multi */;\n        let depDoc = false, depSel = false, depAddrs = [];\n        for (let dep of this.dependencies) {\n            if (dep == \"doc\")\n                depDoc = true;\n            else if (dep == \"selection\")\n                depSel = true;\n            else if ((((_a = addresses[dep.id]) !== null && _a !== void 0 ? _a : 1) & 1) == 0)\n                depAddrs.push(addresses[dep.id]);\n        }\n        return (state, tr) => {\n            if (!tr || tr.reconfigured) {\n                state.values[idx] = getter(state);\n                return 1 /* Changed */;\n            }\n            else {\n                let depChanged = (depDoc && tr.docChanged) || (depSel && (tr.docChanged || tr.selection)) ||\n                    depAddrs.some(addr => (ensureAddr(state, addr) & 1 /* Changed */) > 0);\n                if (!depChanged)\n                    return 0;\n                let newVal = getter(state), oldVal = tr.startState.values[idx];\n                if (multi ? compareArray(newVal, oldVal, compare) : compare(newVal, oldVal))\n                    return 0;\n                state.values[idx] = newVal;\n                return 1 /* Changed */;\n            }\n        };\n    }\n}\nfunction compareArray(a, b, compare) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!compare(a[i], b[i]))\n            return false;\n    return true;\n}\nfunction dynamicFacetSlot(addresses, facet, providers) {\n    let providerAddrs = providers.map(p => addresses[p.id]);\n    let providerTypes = providers.map(p => p.type);\n    let dynamic = providerAddrs.filter(p => !(p & 1));\n    let idx = addresses[facet.id] >> 1;\n    return (state, tr) => {\n        let oldAddr = !tr ? null : tr.reconfigured ? tr.startState.config.address[facet.id] : idx << 1;\n        let changed = oldAddr == null;\n        for (let dynAddr of dynamic) {\n            if (ensureAddr(state, dynAddr) & 1 /* Changed */)\n                changed = true;\n        }\n        if (!changed)\n            return 0;\n        let values = [];\n        for (let i = 0; i < providerAddrs.length; i++) {\n            let value = getAddr(state, providerAddrs[i]);\n            if (providerTypes[i] == 2 /* Multi */)\n                for (let val of value)\n                    values.push(val);\n            else\n                values.push(value);\n        }\n        let newVal = facet.combine(values);\n        if (oldAddr != null && facet.compare(newVal, getAddr(tr.startState, oldAddr)))\n            return 0;\n        state.values[idx] = newVal;\n        return 1 /* Changed */;\n    };\n}\nfunction maybeIndex(state, id) {\n    let found = state.config.address[id];\n    return found == null ? null : found >> 1;\n}\nconst initField = /*@__PURE__*/Facet.define({ static: true });\n/**\nFields can store additional information in an editor state, and\nkeep it in sync with the rest of the state.\n*/\nclass StateField {\n    constructor(\n    /**\n    @internal\n    */\n    id, createF, updateF, compareF, \n    /**\n    @internal\n    */\n    spec) {\n        this.id = id;\n        this.createF = createF;\n        this.updateF = updateF;\n        this.compareF = compareF;\n        this.spec = spec;\n        /**\n        @internal\n        */\n        this.provides = undefined;\n    }\n    /**\n    Define a state field.\n    */\n    static define(config) {\n        let field = new StateField(nextID++, config.create, config.update, config.compare || ((a, b) => a === b), config);\n        if (config.provide)\n            field.provides = config.provide(field);\n        return field;\n    }\n    create(state) {\n        let init = state.facet(initField).find(i => i.field == this);\n        return ((init === null || init === void 0 ? void 0 : init.create) || this.createF)(state);\n    }\n    /**\n    @internal\n    */\n    slot(addresses) {\n        let idx = addresses[this.id] >> 1;\n        return (state, tr) => {\n            if (!tr || (tr.reconfigured && maybeIndex(tr.startState, this.id) == null)) {\n                state.values[idx] = this.create(state);\n                return 1 /* Changed */;\n            }\n            let oldVal, changed = 0;\n            if (tr.reconfigured) {\n                oldVal = tr.startState.values[maybeIndex(tr.startState, this.id)];\n                changed = 1 /* Changed */;\n            }\n            else {\n                oldVal = tr.startState.values[idx];\n            }\n            let value = this.updateF(oldVal, tr);\n            if (!changed && !this.compareF(oldVal, value))\n                changed = 1 /* Changed */;\n            if (changed)\n                state.values[idx] = value;\n            return changed;\n        };\n    }\n    /**\n    Returns an extension that enables this field and overrides the\n    way it is initialized. Can be useful when you need to provide a\n    non-default starting value for the field.\n    */\n    init(create) {\n        return [this, initField.of({ field: this, create })];\n    }\n    /**\n    State field instances can be used as\n    [`Extension`](https://codemirror.net/6/docs/ref/#state.Extension) values to enable the field in a\n    given state.\n    */\n    get extension() { return this; }\n}\nconst Prec_ = { fallback: 3, default: 2, extend: 1, override: 0 };\nfunction prec(value) {\n    return (ext) => new PrecExtension(ext, value);\n}\n/**\nBy default extensions are registered in the order they are found\nin the flattened form of nested array that was provided.\nIndividual extension values can be assigned a precedence to\noverride this. Extensions that do not have a precedence set get\nthe precedence of the nearest parent with a precedence, or\n[`default`](https://codemirror.net/6/docs/ref/#state.Prec.default) if there is no such parent. The\nfinal ordering of extensions is determined by first sorting by\nprecedence and then by order within each precedence.\n*/\nconst Prec = {\n    /**\n    A precedence below the default precedence, which will cause\n    default-precedence extensions to override it even if they are\n    specified later in the extension ordering.\n    */\n    fallback: /*@__PURE__*/prec(Prec_.fallback),\n    /**\n    The regular default precedence.\n    */\n    default: /*@__PURE__*/prec(Prec_.default),\n    /**\n    A higher-than-default precedence.\n    */\n    extend: /*@__PURE__*/prec(Prec_.extend),\n    /**\n    Precedence above the `default` and `extend` precedences.\n    */\n    override: /*@__PURE__*/prec(Prec_.override)\n};\nclass PrecExtension {\n    constructor(inner, prec) {\n        this.inner = inner;\n        this.prec = prec;\n    }\n}\n/**\nExtension compartments can be used to make a configuration\ndynamic. By [wrapping](https://codemirror.net/6/docs/ref/#state.Compartment.of) part of your\nconfiguration in a compartment, you can later\n[replace](https://codemirror.net/6/docs/ref/#state.Compartment.reconfigure) that part through a\ntransaction.\n*/\nclass Compartment {\n    /**\n    Create an instance of this compartment to add to your [state\n    configuration](https://codemirror.net/6/docs/ref/#state.EditorStateConfig.extensions).\n    */\n    of(ext) { return new CompartmentInstance(this, ext); }\n    /**\n    Create an [effect](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) that\n    reconfigures this compartment.\n    */\n    reconfigure(content) {\n        return Compartment.reconfigure.of({ compartment: this, extension: content });\n    }\n    /**\n    Get the current content of the compartment in the state, or\n    `undefined` if it isn't present.\n    */\n    get(state) {\n        return state.config.compartments.get(this);\n    }\n}\nclass CompartmentInstance {\n    constructor(compartment, inner) {\n        this.compartment = compartment;\n        this.inner = inner;\n    }\n}\nclass Configuration {\n    constructor(base, compartments, dynamicSlots, address, staticValues) {\n        this.base = base;\n        this.compartments = compartments;\n        this.dynamicSlots = dynamicSlots;\n        this.address = address;\n        this.staticValues = staticValues;\n        this.statusTemplate = [];\n        while (this.statusTemplate.length < dynamicSlots.length)\n            this.statusTemplate.push(0 /* Uninitialized */);\n    }\n    staticFacet(facet) {\n        let addr = this.address[facet.id];\n        return addr == null ? facet.default : this.staticValues[addr >> 1];\n    }\n    static resolve(base, compartments, oldState) {\n        let fields = [];\n        let facets = Object.create(null);\n        let newCompartments = new Map();\n        for (let ext of flatten(base, compartments, newCompartments)) {\n            if (ext instanceof StateField)\n                fields.push(ext);\n            else\n                (facets[ext.facet.id] || (facets[ext.facet.id] = [])).push(ext);\n        }\n        let address = Object.create(null);\n        let staticValues = [];\n        let dynamicSlots = [];\n        for (let field of fields) {\n            address[field.id] = dynamicSlots.length << 1;\n            dynamicSlots.push(a => field.slot(a));\n        }\n        for (let id in facets) {\n            let providers = facets[id], facet = providers[0].facet;\n            if (providers.every(p => p.type == 0 /* Static */)) {\n                address[facet.id] = (staticValues.length << 1) | 1;\n                let value = facet.combine(providers.map(p => p.value));\n                let oldAddr = oldState ? oldState.config.address[facet.id] : null;\n                if (oldAddr != null) {\n                    let oldVal = getAddr(oldState, oldAddr);\n                    if (facet.compare(value, oldVal))\n                        value = oldVal;\n                }\n                staticValues.push(value);\n            }\n            else {\n                for (let p of providers) {\n                    if (p.type == 0 /* Static */) {\n                        address[p.id] = (staticValues.length << 1) | 1;\n                        staticValues.push(p.value);\n                    }\n                    else {\n                        address[p.id] = dynamicSlots.length << 1;\n                        dynamicSlots.push(a => p.dynamicSlot(a));\n                    }\n                }\n                address[facet.id] = dynamicSlots.length << 1;\n                dynamicSlots.push(a => dynamicFacetSlot(a, facet, providers));\n            }\n        }\n        return new Configuration(base, newCompartments, dynamicSlots.map(f => f(address)), address, staticValues);\n    }\n}\nfunction flatten(extension, compartments, newCompartments) {\n    let result = [[], [], [], []];\n    let seen = new Map();\n    function inner(ext, prec) {\n        let known = seen.get(ext);\n        if (known != null) {\n            if (known >= prec)\n                return;\n            let found = result[known].indexOf(ext);\n            if (found > -1)\n                result[known].splice(found, 1);\n            if (ext instanceof CompartmentInstance)\n                newCompartments.delete(ext.compartment);\n        }\n        seen.set(ext, prec);\n        if (Array.isArray(ext)) {\n            for (let e of ext)\n                inner(e, prec);\n        }\n        else if (ext instanceof CompartmentInstance) {\n            if (newCompartments.has(ext.compartment))\n                throw new RangeError(`Duplicate use of compartment in extensions`);\n            let content = compartments.get(ext.compartment) || ext.inner;\n            newCompartments.set(ext.compartment, content);\n            inner(content, prec);\n        }\n        else if (ext instanceof PrecExtension) {\n            inner(ext.inner, ext.prec);\n        }\n        else if (ext instanceof StateField) {\n            result[prec].push(ext);\n            if (ext.provides)\n                inner(ext.provides, prec);\n        }\n        else if (ext instanceof FacetProvider) {\n            result[prec].push(ext);\n            if (ext.facet.extensions)\n                inner(ext.facet.extensions, prec);\n        }\n        else {\n            let content = ext.extension;\n            if (!content)\n                throw new Error(`Unrecognized extension value in extension set (${ext}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);\n            inner(content, prec);\n        }\n    }\n    inner(extension, Prec_.default);\n    return result.reduce((a, b) => a.concat(b));\n}\nfunction ensureAddr(state, addr) {\n    if (addr & 1)\n        return 2 /* Computed */;\n    let idx = addr >> 1;\n    let status = state.status[idx];\n    if (status == 4 /* Computing */)\n        throw new Error(\"Cyclic dependency between fields and/or facets\");\n    if (status & 2 /* Computed */)\n        return status;\n    state.status[idx] = 4 /* Computing */;\n    let changed = state.config.dynamicSlots[idx](state, state.applying);\n    return state.status[idx] = 2 /* Computed */ | changed;\n}\nfunction getAddr(state, addr) {\n    return addr & 1 ? state.config.staticValues[addr >> 1] : state.values[addr >> 1];\n}\n\nconst languageData = /*@__PURE__*/Facet.define();\nconst allowMultipleSelections = /*@__PURE__*/Facet.define({\n    combine: values => values.some(v => v),\n    static: true\n});\nconst lineSeparator = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : undefined,\n    static: true\n});\nconst changeFilter = /*@__PURE__*/Facet.define();\nconst transactionFilter = /*@__PURE__*/Facet.define();\nconst transactionExtender = /*@__PURE__*/Facet.define();\nconst readOnly = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : false\n});\n\n/**\nAnnotations are tagged values that are used to add metadata to\ntransactions in an extensible way. They should be used to model\nthings that effect the entire transaction (such as its [time\nstamp](https://codemirror.net/6/docs/ref/#state.Transaction^time) or information about its\n[origin](https://codemirror.net/6/docs/ref/#state.Transaction^userEvent)). For effects that happen\n_alongside_ the other changes made by the transaction, [state\neffects](https://codemirror.net/6/docs/ref/#state.StateEffect) are more appropriate.\n*/\nclass Annotation {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The annotation type.\n    */\n    type, \n    /**\n    The value of this annotation.\n    */\n    value) {\n        this.type = type;\n        this.value = value;\n    }\n    /**\n    Define a new type of annotation.\n    */\n    static define() { return new AnnotationType(); }\n}\n/**\nMarker that identifies a type of [annotation](https://codemirror.net/6/docs/ref/#state.Annotation).\n*/\nclass AnnotationType {\n    /**\n    Create an instance of this annotation.\n    */\n    of(value) { return new Annotation(this, value); }\n}\n/**\nRepresentation of a type of state effect. Defined with\n[`StateEffect.define`](https://codemirror.net/6/docs/ref/#state.StateEffect^define).\n*/\nclass StateEffectType {\n    /**\n    @internal\n    */\n    constructor(\n    // The `any` types in these function types are there to work\n    // around TypeScript issue #37631, where the type guard on\n    // `StateEffect.is` mysteriously stops working when these properly\n    // have type `Value`.\n    /**\n    @internal\n    */\n    map) {\n        this.map = map;\n    }\n    /**\n    Create a [state effect](https://codemirror.net/6/docs/ref/#state.StateEffect) instance of this\n    type.\n    */\n    of(value) { return new StateEffect(this, value); }\n}\n/**\nState effects can be used to represent additional effects\nassociated with a [transaction](https://codemirror.net/6/docs/ref/#state.Transaction.effects). They\nare often useful to model changes to custom [state\nfields](https://codemirror.net/6/docs/ref/#state.StateField), when those changes aren't implicit in\ndocument or selection changes.\n*/\nclass StateEffect {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    type, \n    /**\n    The value of this effect.\n    */\n    value) {\n        this.type = type;\n        this.value = value;\n    }\n    /**\n    Map this effect through a position mapping. Will return\n    `undefined` when that ends up deleting the effect.\n    */\n    map(mapping) {\n        let mapped = this.type.map(this.value, mapping);\n        return mapped === undefined ? undefined : mapped == this.value ? this : new StateEffect(this.type, mapped);\n    }\n    /**\n    Tells you whether this effect object is of a given\n    [type](https://codemirror.net/6/docs/ref/#state.StateEffectType).\n    */\n    is(type) { return this.type == type; }\n    /**\n    Define a new effect type. The type parameter indicates the type\n    of values that his effect holds.\n    */\n    static define(spec = {}) {\n        return new StateEffectType(spec.map || (v => v));\n    }\n    /**\n    Map an array of effects through a change set.\n    */\n    static mapEffects(effects, mapping) {\n        if (!effects.length)\n            return effects;\n        let result = [];\n        for (let effect of effects) {\n            let mapped = effect.map(mapping);\n            if (mapped)\n                result.push(mapped);\n        }\n        return result;\n    }\n}\n/**\nThis effect can be used to reconfigure the root extensions of\nthe editor. Doing this will discard any extensions\n[appended](https://codemirror.net/6/docs/ref/#state.StateEffect^appendConfig), but does not reset\nthe content of [reconfigured](https://codemirror.net/6/docs/ref/#state.Compartment.reconfigure)\ncompartments.\n*/\nStateEffect.reconfigure = /*@__PURE__*/StateEffect.define();\n/**\nAppend extensions to the top-level configuration of the editor.\n*/\nStateEffect.appendConfig = /*@__PURE__*/StateEffect.define();\n/**\nChanges to the editor state are grouped into transactions.\nTypically, a user action creates a single transaction, which may\ncontain any number of document changes, may change the selection,\nor have other effects. Create a transaction by calling\n[`EditorState.update`](https://codemirror.net/6/docs/ref/#state.EditorState.update).\n*/\nclass Transaction {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The state from which the transaction starts.\n    */\n    startState, \n    /**\n    The document changes made by this transaction.\n    */\n    changes, \n    /**\n    The selection set by this transaction, or undefined if it\n    doesn't explicitly set a selection.\n    */\n    selection, \n    /**\n    The effects added to the transaction.\n    */\n    effects, \n    /**\n    @internal\n    */\n    annotations, \n    /**\n    Whether the selection should be scrolled into view after this\n    transaction is dispatched.\n    */\n    scrollIntoView) {\n        this.startState = startState;\n        this.changes = changes;\n        this.selection = selection;\n        this.effects = effects;\n        this.annotations = annotations;\n        this.scrollIntoView = scrollIntoView;\n        /**\n        @internal\n        */\n        this._doc = null;\n        /**\n        @internal\n        */\n        this._state = null;\n        if (selection)\n            checkSelection(selection, changes.newLength);\n        if (!annotations.some((a) => a.type == Transaction.time))\n            this.annotations = annotations.concat(Transaction.time.of(Date.now()));\n    }\n    /**\n    The new document produced by the transaction. Contrary to\n    [`.state`](https://codemirror.net/6/docs/ref/#state.Transaction.state)`.doc`, accessing this won't\n    force the entire new state to be computed right away, so it is\n    recommended that [transaction\n    filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) use this getter\n    when they need to look at the new document.\n    */\n    get newDoc() {\n        return this._doc || (this._doc = this.changes.apply(this.startState.doc));\n    }\n    /**\n    The new selection produced by the transaction. If\n    [`this.selection`](https://codemirror.net/6/docs/ref/#state.Transaction.selection) is undefined,\n    this will [map](https://codemirror.net/6/docs/ref/#state.EditorSelection.map) the start state's\n    current selection through the changes made by the transaction.\n    */\n    get newSelection() {\n        return this.selection || this.startState.selection.map(this.changes);\n    }\n    /**\n    The new state created by the transaction. Computed on demand\n    (but retained for subsequent access), so itis recommended not to\n    access it in [transaction\n    filters](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter) when possible.\n    */\n    get state() {\n        if (!this._state)\n            this.startState.applyTransaction(this);\n        return this._state;\n    }\n    /**\n    Get the value of the given annotation type, if any.\n    */\n    annotation(type) {\n        for (let ann of this.annotations)\n            if (ann.type == type)\n                return ann.value;\n        return undefined;\n    }\n    /**\n    Indicates whether the transaction changed the document.\n    */\n    get docChanged() { return !this.changes.empty; }\n    /**\n    Indicates whether this transaction reconfigures the state\n    (through a [configuration compartment](https://codemirror.net/6/docs/ref/#state.Compartment) or\n    with a top-level configuration\n    [effect](https://codemirror.net/6/docs/ref/#state.StateEffect^reconfigure).\n    */\n    get reconfigured() { return this.startState.config != this.state.config; }\n    /**\n    Returns true if the transaction has a [user\n    event](https://codemirror.net/6/docs/ref/#state.Transaction^userEvent) annotation that is equal to\n    or more specific than `event`. For example, if the transaction\n    has `\"select.pointer\"` as user event, `\"select\"` and\n    `\"select.pointer\"` will match it.\n    */\n    isUserEvent(event) {\n        let e = this.annotation(Transaction.userEvent);\n        return e && (e == event || e.length > event.length && e.slice(0, event.length) == event && e[event.length] == \".\");\n    }\n}\n/**\nAnnotation used to store transaction timestamps.\n*/\nTransaction.time = /*@__PURE__*/Annotation.define();\n/**\nAnnotation used to associate a transaction with a user interface\nevent. Holds a string identifying the event, using a\ndot-separated format to support attaching more specific\ninformation. The events used by the core libraries are:\n\n - `\"input\"` when content is entered\n   - `\"input.type\"` for typed input\n     - `\"input.type.compose\"` for composition\n   - `\"input.paste\"` for pasted input\n   - `\"input.drop\"` when adding content with drag-and-drop\n   - `\"input.complete\"` when autocompleting\n - `\"delete\"` when the user deletes content\n   - `\"delete.selection\"` when deleting the selection\n   - `\"delete.forward\"` when deleting forward from the selection\n   - `\"delete.backward\"` when deleting backward from the selection\n   - `\"delete.cut\"` when cutting to the clipboard\n - `\"move\"` when content is moved\n   - `\"move.drop\"` when content is moved within the editor through drag-and-drop\n - `\"select\"` when explicitly changing the selection\n   - `\"select.pointer\"` when selecting with a mouse or other pointing device\n - `\"undo\"` and `\"redo\"` for history actions\n\nUse [`isUserEvent`](https://codemirror.net/6/docs/ref/#state.Transaction.isUserEvent) to check\nwhether the annotation matches a given event.\n*/\nTransaction.userEvent = /*@__PURE__*/Annotation.define();\n/**\nAnnotation indicating whether a transaction should be added to\nthe undo history or not.\n*/\nTransaction.addToHistory = /*@__PURE__*/Annotation.define();\n/**\nAnnotation indicating (when present and true) that a transaction\nrepresents a change made by some other actor, not the user. This\nis used, for example, to tag other people's changes in\ncollaborative editing.\n*/\nTransaction.remote = /*@__PURE__*/Annotation.define();\nfunction joinRanges(a, b) {\n    let result = [];\n    for (let iA = 0, iB = 0;;) {\n        let from, to;\n        if (iA < a.length && (iB == b.length || b[iB] >= a[iA])) {\n            from = a[iA++];\n            to = a[iA++];\n        }\n        else if (iB < b.length) {\n            from = b[iB++];\n            to = b[iB++];\n        }\n        else\n            return result;\n        if (!result.length || result[result.length - 1] < from)\n            result.push(from, to);\n        else if (result[result.length - 1] < to)\n            result[result.length - 1] = to;\n    }\n}\nfunction mergeTransaction(a, b, sequential) {\n    var _a;\n    let mapForA, mapForB, changes;\n    if (sequential) {\n        mapForA = b.changes;\n        mapForB = ChangeSet.empty(b.changes.length);\n        changes = a.changes.compose(b.changes);\n    }\n    else {\n        mapForA = b.changes.map(a.changes);\n        mapForB = a.changes.mapDesc(b.changes, true);\n        changes = a.changes.compose(mapForA);\n    }\n    return {\n        changes,\n        selection: b.selection ? b.selection.map(mapForB) : (_a = a.selection) === null || _a === void 0 ? void 0 : _a.map(mapForA),\n        effects: StateEffect.mapEffects(a.effects, mapForA).concat(StateEffect.mapEffects(b.effects, mapForB)),\n        annotations: a.annotations.length ? a.annotations.concat(b.annotations) : b.annotations,\n        scrollIntoView: a.scrollIntoView || b.scrollIntoView\n    };\n}\nfunction resolveTransactionInner(state, spec, docSize) {\n    let sel = spec.selection, annotations = asArray(spec.annotations);\n    if (spec.userEvent)\n        annotations = annotations.concat(Transaction.userEvent.of(spec.userEvent));\n    return {\n        changes: spec.changes instanceof ChangeSet ? spec.changes\n            : ChangeSet.of(spec.changes || [], docSize, state.facet(lineSeparator)),\n        selection: sel && (sel instanceof EditorSelection ? sel : EditorSelection.single(sel.anchor, sel.head)),\n        effects: asArray(spec.effects),\n        annotations,\n        scrollIntoView: !!spec.scrollIntoView\n    };\n}\nfunction resolveTransaction(state, specs, filter) {\n    let s = resolveTransactionInner(state, specs.length ? specs[0] : {}, state.doc.length);\n    if (specs.length && specs[0].filter === false)\n        filter = false;\n    for (let i = 1; i < specs.length; i++) {\n        if (specs[i].filter === false)\n            filter = false;\n        let seq = !!specs[i].sequential;\n        s = mergeTransaction(s, resolveTransactionInner(state, specs[i], seq ? s.changes.newLength : state.doc.length), seq);\n    }\n    let tr = new Transaction(state, s.changes, s.selection, s.effects, s.annotations, s.scrollIntoView);\n    return extendTransaction(filter ? filterTransaction(tr) : tr);\n}\n// Finish a transaction by applying filters if necessary.\nfunction filterTransaction(tr) {\n    let state = tr.startState;\n    // Change filters\n    let result = true;\n    for (let filter of state.facet(changeFilter)) {\n        let value = filter(tr);\n        if (value === false) {\n            result = false;\n            break;\n        }\n        if (Array.isArray(value))\n            result = result === true ? value : joinRanges(result, value);\n    }\n    if (result !== true) {\n        let changes, back;\n        if (result === false) {\n            back = tr.changes.invertedDesc;\n            changes = ChangeSet.empty(state.doc.length);\n        }\n        else {\n            let filtered = tr.changes.filter(result);\n            changes = filtered.changes;\n            back = filtered.filtered.invertedDesc;\n        }\n        tr = new Transaction(state, changes, tr.selection && tr.selection.map(back), StateEffect.mapEffects(tr.effects, back), tr.annotations, tr.scrollIntoView);\n    }\n    // Transaction filters\n    let filters = state.facet(transactionFilter);\n    for (let i = filters.length - 1; i >= 0; i--) {\n        let filtered = filters[i](tr);\n        if (filtered instanceof Transaction)\n            tr = filtered;\n        else if (Array.isArray(filtered) && filtered.length == 1 && filtered[0] instanceof Transaction)\n            tr = filtered[0];\n        else\n            tr = resolveTransaction(state, asArray(filtered), false);\n    }\n    return tr;\n}\nfunction extendTransaction(tr) {\n    let state = tr.startState, extenders = state.facet(transactionExtender), spec = tr;\n    for (let i = extenders.length - 1; i >= 0; i--) {\n        let extension = extenders[i](tr);\n        if (extension && Object.keys(extension).length)\n            spec = mergeTransaction(tr, resolveTransactionInner(state, extension, tr.changes.newLength), true);\n    }\n    return spec == tr ? tr : new Transaction(state, tr.changes, tr.selection, spec.effects, spec.annotations, spec.scrollIntoView);\n}\nconst none = [];\nfunction asArray(value) {\n    return value == null ? none : Array.isArray(value) ? value : [value];\n}\n\n/**\nThe categories produced by a [character\ncategorizer](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer). These are used\ndo things like selecting by word.\n*/\nvar CharCategory = /*@__PURE__*/(function (CharCategory) {\n    /**\n    Word characters.\n    */\n    CharCategory[CharCategory[\"Word\"] = 0] = \"Word\";\n    /**\n    Whitespace.\n    */\n    CharCategory[CharCategory[\"Space\"] = 1] = \"Space\";\n    /**\n    Anything else.\n    */\n    CharCategory[CharCategory[\"Other\"] = 2] = \"Other\";\nreturn CharCategory})(CharCategory || (CharCategory = {}));\nconst nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\nlet wordChar;\ntry {\n    wordChar = /*@__PURE__*/new RegExp(\"[\\\\p{Alphabetic}\\\\p{Number}_]\", \"u\");\n}\ncatch (_) { }\nfunction hasWordChar(str) {\n    if (wordChar)\n        return wordChar.test(str);\n    for (let i = 0; i < str.length; i++) {\n        let ch = str[i];\n        if (/\\w/.test(ch) || ch > \"\\x80\" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch)))\n            return true;\n    }\n    return false;\n}\nfunction makeCategorizer(wordChars) {\n    return (char) => {\n        if (!/\\S/.test(char))\n            return CharCategory.Space;\n        if (hasWordChar(char))\n            return CharCategory.Word;\n        for (let i = 0; i < wordChars.length; i++)\n            if (char.indexOf(wordChars[i]) > -1)\n                return CharCategory.Word;\n        return CharCategory.Other;\n    };\n}\n\n/**\nThe editor state class is a persistent (immutable) data structure.\nTo update a state, you [create](https://codemirror.net/6/docs/ref/#state.EditorState.update) a\n[transaction](https://codemirror.net/6/docs/ref/#state.Transaction), which produces a _new_ state\ninstance, without modifying the original object.\n\nAs such, _never_ mutate properties of a state directly. That'll\njust break things.\n*/\nclass EditorState {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    config, \n    /**\n    The current document.\n    */\n    doc, \n    /**\n    The current selection.\n    */\n    selection, tr = null) {\n        this.config = config;\n        this.doc = doc;\n        this.selection = selection;\n        /**\n        @internal\n        */\n        this.applying = null;\n        this.status = config.statusTemplate.slice();\n        if (tr && tr.startState.config == config) {\n            this.values = tr.startState.values.slice();\n        }\n        else {\n            this.values = config.dynamicSlots.map(_ => null);\n            // Copy over old values for shared facets/fields if this is a reconfigure\n            if (tr)\n                for (let id in config.address) {\n                    let cur = config.address[id], prev = tr.startState.config.address[id];\n                    if (prev != null && (cur & 1) == 0)\n                        this.values[cur >> 1] = getAddr(tr.startState, prev);\n                }\n        }\n        this.applying = tr;\n        // Fill in the computed state immediately, so that further queries\n        // for it made during the update return this state\n        if (tr)\n            tr._state = this;\n        for (let i = 0; i < this.config.dynamicSlots.length; i++)\n            ensureAddr(this, i << 1);\n        this.applying = null;\n    }\n    field(field, require = true) {\n        let addr = this.config.address[field.id];\n        if (addr == null) {\n            if (require)\n                throw new RangeError(\"Field is not present in this state\");\n            return undefined;\n        }\n        ensureAddr(this, addr);\n        return getAddr(this, addr);\n    }\n    /**\n    Create a [transaction](https://codemirror.net/6/docs/ref/#state.Transaction) that updates this\n    state. Any number of [transaction specs](https://codemirror.net/6/docs/ref/#state.TransactionSpec)\n    can be passed. Unless\n    [`sequential`](https://codemirror.net/6/docs/ref/#state.TransactionSpec.sequential) is set, the\n    [changes](https://codemirror.net/6/docs/ref/#state.TransactionSpec.changes) (if any) of each spec\n    are assumed to start in the _current_ document (not the document\n    produced by previous specs), and its\n    [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) and\n    [effects](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) are assumed to refer\n    to the document created by its _own_ changes. The resulting\n    transaction contains the combined effect of all the different\n    specs. For [selection](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection), later\n    specs take precedence over earlier ones.\n    */\n    update(...specs) {\n        return resolveTransaction(this, specs, true);\n    }\n    /**\n    @internal\n    */\n    applyTransaction(tr) {\n        let conf = this.config, { base, compartments } = conf;\n        for (let effect of tr.effects) {\n            if (effect.is(Compartment.reconfigure)) {\n                if (conf) {\n                    compartments = new Map;\n                    conf.compartments.forEach((val, key) => compartments.set(key, val));\n                    conf = null;\n                }\n                compartments.set(effect.value.compartment, effect.value.extension);\n            }\n            else if (effect.is(StateEffect.reconfigure)) {\n                conf = null;\n                base = effect.value;\n            }\n            else if (effect.is(StateEffect.appendConfig)) {\n                conf = null;\n                base = asArray(base).concat(effect.value);\n            }\n        }\n        new EditorState(conf || Configuration.resolve(base, compartments, this), tr.newDoc, tr.newSelection, tr);\n    }\n    /**\n    Create a [transaction spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec) that\n    replaces every selection range with the given content.\n    */\n    replaceSelection(text) {\n        if (typeof text == \"string\")\n            text = this.toText(text);\n        return this.changeByRange(range => ({ changes: { from: range.from, to: range.to, insert: text },\n            range: EditorSelection.cursor(range.from + text.length) }));\n    }\n    /**\n    Create a set of changes and a new selection by running the given\n    function for each range in the active selection. The function\n    can return an optional set of changes (in the coordinate space\n    of the start document), plus an updated range (in the coordinate\n    space of the document produced by the call's own changes). This\n    method will merge all the changes and ranges into a single\n    changeset and selection, and return it as a [transaction\n    spec](https://codemirror.net/6/docs/ref/#state.TransactionSpec), which can be passed to\n    [`update`](https://codemirror.net/6/docs/ref/#state.EditorState.update).\n    */\n    changeByRange(f) {\n        let sel = this.selection;\n        let result1 = f(sel.ranges[0]);\n        let changes = this.changes(result1.changes), ranges = [result1.range];\n        let effects = asArray(result1.effects);\n        for (let i = 1; i < sel.ranges.length; i++) {\n            let result = f(sel.ranges[i]);\n            let newChanges = this.changes(result.changes), newMapped = newChanges.map(changes);\n            for (let j = 0; j < i; j++)\n                ranges[j] = ranges[j].map(newMapped);\n            let mapBy = changes.mapDesc(newChanges, true);\n            ranges.push(result.range.map(mapBy));\n            changes = changes.compose(newMapped);\n            effects = StateEffect.mapEffects(effects, newMapped).concat(StateEffect.mapEffects(asArray(result.effects), mapBy));\n        }\n        return {\n            changes,\n            selection: EditorSelection.create(ranges, sel.mainIndex),\n            effects\n        };\n    }\n    /**\n    Create a [change set](https://codemirror.net/6/docs/ref/#state.ChangeSet) from the given change\n    description, taking the state's document length and line\n    separator into account.\n    */\n    changes(spec = []) {\n        if (spec instanceof ChangeSet)\n            return spec;\n        return ChangeSet.of(spec, this.doc.length, this.facet(EditorState.lineSeparator));\n    }\n    /**\n    Using the state's [line\n    separator](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator), create a\n    [`Text`](https://codemirror.net/6/docs/ref/#text.Text) instance from the given string.\n    */\n    toText(string) {\n        return Text.of(string.split(this.facet(EditorState.lineSeparator) || DefaultSplit));\n    }\n    /**\n    Return the given range of the document as a string.\n    */\n    sliceDoc(from = 0, to = this.doc.length) {\n        return this.doc.sliceString(from, to, this.lineBreak);\n    }\n    /**\n    Get the value of a state [facet](https://codemirror.net/6/docs/ref/#state.Facet).\n    */\n    facet(facet) {\n        let addr = this.config.address[facet.id];\n        if (addr == null)\n            return facet.default;\n        ensureAddr(this, addr);\n        return getAddr(this, addr);\n    }\n    /**\n    Convert this state to a JSON-serializable object. When custom\n    fields should be serialized, you can pass them in as an object\n    mapping property names (in the resulting object, which should\n    not use `doc` or `selection`) to fields.\n    */\n    toJSON(fields) {\n        let result = {\n            doc: this.sliceDoc(),\n            selection: this.selection.toJSON()\n        };\n        if (fields)\n            for (let prop in fields) {\n                let value = fields[prop];\n                if (value instanceof StateField)\n                    result[prop] = value.spec.toJSON(this.field(fields[prop]), this);\n            }\n        return result;\n    }\n    /**\n    Deserialize a state from its JSON representation. When custom\n    fields should be deserialized, pass the same object you passed\n    to [`toJSON`](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) when serializing as\n    third argument.\n    */\n    static fromJSON(json, config = {}, fields) {\n        if (!json || typeof json.doc != \"string\")\n            throw new RangeError(\"Invalid JSON representation for EditorState\");\n        let fieldInit = [];\n        if (fields)\n            for (let prop in fields) {\n                let field = fields[prop], value = json[prop];\n                fieldInit.push(field.init(state => field.spec.fromJSON(value, state)));\n            }\n        return EditorState.create({\n            doc: json.doc,\n            selection: EditorSelection.fromJSON(json.selection),\n            extensions: config.extensions ? fieldInit.concat([config.extensions]) : fieldInit\n        });\n    }\n    /**\n    Create a new state. You'll usually only need this when\n    initializing an editorupdated states are created by applying\n    transactions.\n    */\n    static create(config = {}) {\n        let configuration = Configuration.resolve(config.extensions || [], new Map);\n        let doc = config.doc instanceof Text ? config.doc\n            : Text.of((config.doc || \"\").split(configuration.staticFacet(EditorState.lineSeparator) || DefaultSplit));\n        let selection = !config.selection ? EditorSelection.single(0)\n            : config.selection instanceof EditorSelection ? config.selection\n                : EditorSelection.single(config.selection.anchor, config.selection.head);\n        checkSelection(selection, doc.length);\n        if (!configuration.staticFacet(allowMultipleSelections))\n            selection = selection.asSingle();\n        return new EditorState(configuration, doc, selection);\n    }\n    /**\n    The size (in columns) of a tab in the document, determined by\n    the [`tabSize`](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) facet.\n    */\n    get tabSize() { return this.facet(EditorState.tabSize); }\n    /**\n    Get the proper [line-break](https://codemirror.net/6/docs/ref/#state.EditorState^lineSeparator)\n    string for this state.\n    */\n    get lineBreak() { return this.facet(EditorState.lineSeparator) || \"\\n\"; }\n    /**\n    Returns true when the editor is\n    [configured](https://codemirror.net/6/docs/ref/#state.EditorState^readOnly) to be read-only.\n    */\n    get readOnly() { return this.facet(readOnly); }\n    /**\n    Look up a translation for the given phrase (via the\n    [`phrases`](https://codemirror.net/6/docs/ref/#state.EditorState^phrases) facet), or return the\n    original string if no translation is found.\n    */\n    phrase(phrase) {\n        for (let map of this.facet(EditorState.phrases))\n            if (Object.prototype.hasOwnProperty.call(map, phrase))\n                return map[phrase];\n        return phrase;\n    }\n    /**\n    Find the values for a given language data field, provided by the\n    the [`languageData`](https://codemirror.net/6/docs/ref/#state.EditorState^languageData) facet.\n    */\n    languageDataAt(name, pos, side = -1) {\n        let values = [];\n        for (let provider of this.facet(languageData)) {\n            for (let result of provider(this, pos, side)) {\n                if (Object.prototype.hasOwnProperty.call(result, name))\n                    values.push(result[name]);\n            }\n        }\n        return values;\n    }\n    /**\n    Return a function that can categorize strings (expected to\n    represent a single [grapheme cluster](https://codemirror.net/6/docs/ref/#text.findClusterBreak))\n    into one of:\n    \n     - Word (contains an alphanumeric character or a character\n       explicitly listed in the local language's `\"wordChars\"`\n       language data, which should be a string)\n     - Space (contains only whitespace)\n     - Other (anything else)\n    */\n    charCategorizer(at) {\n        return makeCategorizer(this.languageDataAt(\"wordChars\", at).join(\"\"));\n    }\n    /**\n    Find the word at the given position, meaning the range\n    containing all [word](https://codemirror.net/6/docs/ref/#state.CharCategory.Word) characters\n    around it. If no word characters are adjacent to the position,\n    this returns null.\n    */\n    wordAt(pos) {\n        let { text, from, length } = this.doc.lineAt(pos);\n        let cat = this.charCategorizer(pos);\n        let start = pos - from, end = pos - from;\n        while (start > 0) {\n            let prev = findClusterBreak(text, start, false);\n            if (cat(text.slice(prev, start)) != CharCategory.Word)\n                break;\n            start = prev;\n        }\n        while (end < length) {\n            let next = findClusterBreak(text, end);\n            if (cat(text.slice(end, next)) != CharCategory.Word)\n                break;\n            end = next;\n        }\n        return start == end ? null : EditorSelection.range(start + from, end + from);\n    }\n}\n/**\nA facet that, when enabled, causes the editor to allow multiple\nranges to be selected. Be careful though, because by default the\neditor relies on the native DOM selection, which cannot handle\nmultiple selections. An extension like\n[`drawSelection`](https://codemirror.net/6/docs/ref/#view.drawSelection) can be used to make\nsecondary selections visible to the user.\n*/\nEditorState.allowMultipleSelections = allowMultipleSelections;\n/**\nConfigures the tab size to use in this state. The first\n(highest-precedence) value of the facet is used. If no value is\ngiven, this defaults to 4.\n*/\nEditorState.tabSize = /*@__PURE__*/Facet.define({\n    combine: values => values.length ? values[0] : 4\n});\n/**\nThe line separator to use. By default, any of `\"\\n\"`, `\"\\r\\n\"`\nand `\"\\r\"` is treated as a separator when splitting lines, and\nlines are joined with `\"\\n\"`.\n\nWhen you configure a value here, only that precise separator\nwill be used, allowing you to round-trip documents through the\neditor without normalizing line separators.\n*/\nEditorState.lineSeparator = lineSeparator;\n/**\nThis facet controls the value of the\n[`readOnly`](https://codemirror.net/6/docs/ref/#state.EditorState.readOnly) getter, which is\nconsulted by commands and extensions that implement editing\nfunctionality to determine whether they should apply. It\ndefaults to false, but when its highest-precedence value is\n`true`, such functionality disables itself.\n\nNot to be confused with\n[`EditorView.editable`](https://codemirror.net/6/docs/ref/#view.EditorView^editable), which\ncontrols whether the editor's DOM is set to be editable (and\nthus focusable).\n*/\nEditorState.readOnly = readOnly;\n/**\nRegisters translation phrases. The\n[`phrase`](https://codemirror.net/6/docs/ref/#state.EditorState.phrase) method will look through\nall objects registered with this facet to find translations for\nits argument.\n*/\nEditorState.phrases = /*@__PURE__*/Facet.define();\n/**\nA facet used to register [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt) providers.\n*/\nEditorState.languageData = languageData;\n/**\nFacet used to register change filters, which are called for each\ntransaction (unless explicitly\n[disabled](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter)), and can suppress\npart of the transaction's changes.\n\nSuch a function can return `true` to indicate that it doesn't\nwant to do anything, `false` to completely stop the changes in\nthe transaction, or a set of ranges in which changes should be\nsuppressed. Such ranges are represented as an array of numbers,\nwith each pair of two number indicating the start and end of a\nrange. So for example `[10, 20, 100, 110]` suppresses changes\nbetween 10 and 20, and between 100 and 110.\n*/\nEditorState.changeFilter = changeFilter;\n/**\nFacet used to register a hook that gets a chance to update or\nreplace transaction specs before they are applied. This will\nonly be applied for transactions that don't have\n[`filter`](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter) set to `false`. You\ncan either return a single transaction spec (possibly the input\ntransaction), or an array of specs (which will be combined in\nthe same way as the arguments to\n[`EditorState.update`](https://codemirror.net/6/docs/ref/#state.EditorState.update)).\n\nWhen possible, it is recommended to avoid accessing\n[`Transaction.state`](https://codemirror.net/6/docs/ref/#state.Transaction.state) in a filter,\nsince it will force creation of a state that will then be\ndiscarded again, if the transaction is actually filtered.\n\n(This functionality should be used with care. Indiscriminately\nmodifying transaction is likely to break something or degrade\nthe user experience.)\n*/\nEditorState.transactionFilter = transactionFilter;\n/**\nThis is a more limited form of\n[`transactionFilter`](https://codemirror.net/6/docs/ref/#state.EditorState^transactionFilter),\nwhich can only add\n[annotations](https://codemirror.net/6/docs/ref/#state.TransactionSpec.annotations) and\n[effects](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects). _But_, this type\nof filter runs even the transaction has disabled regular\n[filtering](https://codemirror.net/6/docs/ref/#state.TransactionSpec.filter), making it suitable\nfor effects that don't need to touch the changes or selection,\nbut do want to process every transaction.\n\nExtenders run _after_ filters, when both are applied.\n*/\nEditorState.transactionExtender = transactionExtender;\nCompartment.reconfigure = /*@__PURE__*/StateEffect.define();\n\n/**\nUtility function for combining behaviors to fill in a config\nobject from an array of provided configs. Will, by default, error\nwhen a field gets two values that aren't `===`-equal, but you can\nprovide combine functions per field to do something else.\n*/\nfunction combineConfig(configs, defaults, // Should hold only the optional properties of Config, but I haven't managed to express that\ncombine = {}) {\n    let result = {};\n    for (let config of configs)\n        for (let key of Object.keys(config)) {\n            let value = config[key], current = result[key];\n            if (current === undefined)\n                result[key] = value;\n            else if (current === value || value === undefined) ; // No conflict\n            else if (Object.hasOwnProperty.call(combine, key))\n                result[key] = combine[key](current, value);\n            else\n                throw new Error(\"Config merge conflict for field \" + key);\n        }\n    for (let key in defaults)\n        if (result[key] === undefined)\n            result[key] = defaults[key];\n    return result;\n}\n\nexport { Annotation, AnnotationType, ChangeDesc, ChangeSet, CharCategory, Compartment, EditorSelection, EditorState, Facet, MapMode, Prec, SelectionRange, StateEffect, StateEffectType, StateField, Transaction, combineConfig };\n","export * from './public_api';\n","import { EditorSelection } from '@codemirror/state';\nimport { EditorView } from '@codemirror/view';\nimport { findColumn, countColumn } from '@codemirror/text';\n\n// Don't compute precise column positions for line offsets above this\n// (since it could get expensive). Assume offset==column for them.\nconst MaxOff = 2000;\nfunction rectangleFor(state, a, b) {\n    let startLine = Math.min(a.line, b.line), endLine = Math.max(a.line, b.line);\n    let ranges = [];\n    if (a.off > MaxOff || b.off > MaxOff || a.col < 0 || b.col < 0) {\n        let startOff = Math.min(a.off, b.off), endOff = Math.max(a.off, b.off);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state.doc.line(i);\n            if (line.length <= endOff)\n                ranges.push(EditorSelection.range(line.from + startOff, line.to + endOff));\n        }\n    }\n    else {\n        let startCol = Math.min(a.col, b.col), endCol = Math.max(a.col, b.col);\n        for (let i = startLine; i <= endLine; i++) {\n            let line = state.doc.line(i);\n            let start = findColumn(line.text, startCol, state.tabSize), end = findColumn(line.text, endCol, state.tabSize);\n            if (start < end)\n                ranges.push(EditorSelection.range(line.from + start, line.from + end));\n        }\n    }\n    return ranges;\n}\nfunction absoluteColumn(view, x) {\n    let ref = view.coordsAtPos(view.viewport.from);\n    return ref ? Math.round(Math.abs((ref.left - x) / view.defaultCharacterWidth)) : -1;\n}\nfunction getPos(view, event) {\n    let offset = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    let line = view.state.doc.lineAt(offset), off = offset - line.from;\n    let col = off > MaxOff ? -1\n        : off == line.length ? absoluteColumn(view, event.clientX)\n            : countColumn(line.text, view.state.tabSize, offset - line.from);\n    return { line: line.number, col, off };\n}\nfunction rectangleSelectionStyle(view, event) {\n    let start = getPos(view, event), startSel = view.state.selection;\n    if (!start)\n        return null;\n    return {\n        update(update) {\n            if (update.docChanged) {\n                let newStart = update.changes.mapPos(update.startState.doc.line(start.line).from);\n                let newLine = update.state.doc.lineAt(newStart);\n                start = { line: newLine.number, col: start.col, off: Math.min(start.off, newLine.length) };\n                startSel = startSel.map(update.changes);\n            }\n        },\n        get(event, _extend, multiple) {\n            let cur = getPos(view, event);\n            if (!cur)\n                return startSel;\n            let ranges = rectangleFor(view.state, start, cur);\n            if (!ranges.length)\n                return startSel;\n            if (multiple)\n                return EditorSelection.create(ranges.concat(startSel.ranges));\n            else\n                return EditorSelection.create(ranges);\n        }\n    };\n}\n/**\nCreate an extension that enables rectangular selections. By\ndefault, it will react to left mouse drag with the Alt key held\ndown. When such a selection occurs, the text within the rectangle\nthat was dragged over will be selected, as one selection\n[range](https://codemirror.net/6/docs/ref/#state.SelectionRange) per line.\n*/\nfunction rectangularSelection(options) {\n    let filter = (options === null || options === void 0 ? void 0 : options.eventFilter) || (e => e.altKey && e.button == 0);\n    return EditorView.mouseSelectionStyle.of((view, event) => filter(event) ? rectangleSelectionStyle(view, event) : null);\n}\n\nexport { rectangularSelection };\n","import { MapMode, Text as Text$1, Facet, StateEffect, ChangeSet, EditorSelection, CharCategory, EditorState, Transaction, Prec, combineConfig } from '@codemirror/state';\nimport { StyleModule } from 'style-mod';\nimport { RangeValue, RangeSet, RangeSetBuilder } from '@codemirror/rangeset';\nexport { Range } from '@codemirror/rangeset';\nimport { Text, findClusterBreak, findColumn, codePointAt, countColumn } from '@codemirror/text';\nimport { keyName, base } from 'w3c-keyname';\n\nfunction getSelection(root) {\n    return (root.getSelection ? root.getSelection() : document.getSelection());\n}\nfunction contains(dom, node) {\n    return node ? dom.contains(node.nodeType != 1 ? node.parentNode : node) : false;\n}\nfunction deepActiveElement() {\n    let elt = document.activeElement;\n    while (elt && elt.shadowRoot)\n        elt = elt.shadowRoot.activeElement;\n    return elt;\n}\nfunction hasSelection(dom, selection) {\n    if (!selection.anchorNode)\n        return false;\n    try {\n        // Firefox will raise 'permission denied' errors when accessing\n        // properties of `sel.anchorNode` when it's in a generated CSS\n        // element.\n        return contains(dom, selection.anchorNode);\n    }\n    catch (_) {\n        return false;\n    }\n}\nfunction clientRectsFor(dom) {\n    if (dom.nodeType == 3)\n        return textRange(dom, 0, dom.nodeValue.length).getClientRects();\n    else if (dom.nodeType == 1)\n        return dom.getClientRects();\n    else\n        return [];\n}\n// Scans forward and backward through DOM positions equivalent to the\n// given one to see if the two are in the same place (i.e. after a\n// text node vs at the end of that text node)\nfunction isEquivalentPosition(node, off, targetNode, targetOff) {\n    return targetNode ? (scanFor(node, off, targetNode, targetOff, -1) ||\n        scanFor(node, off, targetNode, targetOff, 1)) : false;\n}\nfunction domIndex(node) {\n    for (var index = 0;; index++) {\n        node = node.previousSibling;\n        if (!node)\n            return index;\n    }\n}\nfunction scanFor(node, off, targetNode, targetOff, dir) {\n    for (;;) {\n        if (node == targetNode && off == targetOff)\n            return true;\n        if (off == (dir < 0 ? 0 : maxOffset(node))) {\n            if (node.nodeName == \"DIV\")\n                return false;\n            let parent = node.parentNode;\n            if (!parent || parent.nodeType != 1)\n                return false;\n            off = domIndex(node) + (dir < 0 ? 0 : 1);\n            node = parent;\n        }\n        else if (node.nodeType == 1) {\n            node = node.childNodes[off + (dir < 0 ? -1 : 0)];\n            if (node.nodeType == 1 && node.contentEditable == \"false\")\n                return false;\n            off = dir < 0 ? maxOffset(node) : 0;\n        }\n        else {\n            return false;\n        }\n    }\n}\nfunction maxOffset(node) {\n    return node.nodeType == 3 ? node.nodeValue.length : node.childNodes.length;\n}\nconst Rect0 = { left: 0, right: 0, top: 0, bottom: 0 };\nfunction flattenRect(rect, left) {\n    let x = left ? rect.left : rect.right;\n    return { left: x, right: x, top: rect.top, bottom: rect.bottom };\n}\nfunction windowRect(win) {\n    return { left: 0, right: win.innerWidth,\n        top: 0, bottom: win.innerHeight };\n}\nconst ScrollSpace = 5;\nfunction scrollRectIntoView(dom, rect, side) {\n    let doc = dom.ownerDocument, win = doc.defaultView;\n    for (let cur = dom.parentNode; cur;) {\n        if (cur.nodeType == 1) { // Element\n            let bounding, top = cur == doc.body;\n            if (top) {\n                bounding = windowRect(win);\n            }\n            else {\n                if (cur.scrollHeight <= cur.clientHeight && cur.scrollWidth <= cur.clientWidth) {\n                    cur = cur.parentNode;\n                    continue;\n                }\n                let rect = cur.getBoundingClientRect();\n                // Make sure scrollbar width isn't included in the rectangle\n                bounding = { left: rect.left, right: rect.left + cur.clientWidth,\n                    top: rect.top, bottom: rect.top + cur.clientHeight };\n            }\n            let moveX = 0, moveY = 0;\n            if (rect.top < bounding.top) {\n                moveY = -(bounding.top - rect.top + ScrollSpace);\n                if (side > 0 && rect.bottom > bounding.bottom + moveY)\n                    moveY = rect.bottom - bounding.bottom + moveY + ScrollSpace;\n            }\n            else if (rect.bottom > bounding.bottom) {\n                moveY = rect.bottom - bounding.bottom + ScrollSpace;\n                if (side < 0 && (rect.top - moveY) < bounding.top)\n                    moveY = -(bounding.top + moveY - rect.top + ScrollSpace);\n            }\n            if (rect.left < bounding.left) {\n                moveX = -(bounding.left - rect.left + ScrollSpace);\n                if (side > 0 && rect.right > bounding.right + moveX)\n                    moveX = rect.right - bounding.right + moveX + ScrollSpace;\n            }\n            else if (rect.right > bounding.right) {\n                moveX = rect.right - bounding.right + ScrollSpace;\n                if (side < 0 && rect.left < bounding.left + moveX)\n                    moveX = -(bounding.left + moveX - rect.left + ScrollSpace);\n            }\n            if (moveX || moveY) {\n                if (top) {\n                    win.scrollBy(moveX, moveY);\n                }\n                else {\n                    if (moveY) {\n                        let start = cur.scrollTop;\n                        cur.scrollTop += moveY;\n                        moveY = cur.scrollTop - start;\n                    }\n                    if (moveX) {\n                        let start = cur.scrollLeft;\n                        cur.scrollLeft += moveX;\n                        moveX = cur.scrollLeft - start;\n                    }\n                    rect = { left: rect.left - moveX, top: rect.top - moveY,\n                        right: rect.right - moveX, bottom: rect.bottom - moveY };\n                }\n            }\n            if (top)\n                break;\n            cur = cur.assignedSlot || cur.parentNode;\n        }\n        else if (cur.nodeType == 11) { // A shadow root\n            cur = cur.host;\n        }\n        else {\n            break;\n        }\n    }\n}\nclass DOMSelection {\n    constructor() {\n        this.anchorNode = null;\n        this.anchorOffset = 0;\n        this.focusNode = null;\n        this.focusOffset = 0;\n    }\n    eq(domSel) {\n        return this.anchorNode == domSel.anchorNode && this.anchorOffset == domSel.anchorOffset &&\n            this.focusNode == domSel.focusNode && this.focusOffset == domSel.focusOffset;\n    }\n    set(domSel) {\n        this.anchorNode = domSel.anchorNode;\n        this.anchorOffset = domSel.anchorOffset;\n        this.focusNode = domSel.focusNode;\n        this.focusOffset = domSel.focusOffset;\n    }\n}\nlet preventScrollSupported = null;\n// Feature-detects support for .focus({preventScroll: true}), and uses\n// a fallback kludge when not supported.\nfunction focusPreventScroll(dom) {\n    if (dom.setActive)\n        return dom.setActive(); // in IE\n    if (preventScrollSupported)\n        return dom.focus(preventScrollSupported);\n    let stack = [];\n    for (let cur = dom; cur; cur = cur.parentNode) {\n        stack.push(cur, cur.scrollTop, cur.scrollLeft);\n        if (cur == cur.ownerDocument)\n            break;\n    }\n    dom.focus(preventScrollSupported == null ? {\n        get preventScroll() {\n            preventScrollSupported = { preventScroll: true };\n            return true;\n        }\n    } : undefined);\n    if (!preventScrollSupported) {\n        preventScrollSupported = false;\n        for (let i = 0; i < stack.length;) {\n            let elt = stack[i++], top = stack[i++], left = stack[i++];\n            if (elt.scrollTop != top)\n                elt.scrollTop = top;\n            if (elt.scrollLeft != left)\n                elt.scrollLeft = left;\n        }\n    }\n}\nlet scratchRange;\nfunction textRange(node, from, to = from) {\n    let range = scratchRange || (scratchRange = document.createRange());\n    range.setEnd(node, to);\n    range.setStart(node, from);\n    return range;\n}\nfunction dispatchKey(elt, name, code) {\n    let options = { key: name, code: name, keyCode: code, which: code, cancelable: true };\n    let down = new KeyboardEvent(\"keydown\", options);\n    down.synthetic = true;\n    elt.dispatchEvent(down);\n    let up = new KeyboardEvent(\"keyup\", options);\n    up.synthetic = true;\n    elt.dispatchEvent(up);\n    return down.defaultPrevented || up.defaultPrevented;\n}\nlet _plainTextSupported = null;\nfunction contentEditablePlainTextSupported() {\n    if (_plainTextSupported == null) {\n        _plainTextSupported = false;\n        let dummy = document.createElement(\"div\");\n        try {\n            dummy.contentEditable = \"plaintext-only\";\n            _plainTextSupported = dummy.contentEditable == \"plaintext-only\";\n        }\n        catch (_) { }\n    }\n    return _plainTextSupported;\n}\n\nclass DOMPos {\n    constructor(node, offset, precise = true) {\n        this.node = node;\n        this.offset = offset;\n        this.precise = precise;\n    }\n    static before(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom), precise); }\n    static after(dom, precise) { return new DOMPos(dom.parentNode, domIndex(dom) + 1, precise); }\n}\nconst none$3 = [];\nclass ContentView {\n    constructor() {\n        this.parent = null;\n        this.dom = null;\n        this.dirty = 2 /* Node */;\n    }\n    get editorView() {\n        if (!this.parent)\n            throw new Error(\"Accessing view in orphan content view\");\n        return this.parent.editorView;\n    }\n    get overrideDOMText() { return null; }\n    get posAtStart() {\n        return this.parent ? this.parent.posBefore(this) : 0;\n    }\n    get posAtEnd() {\n        return this.posAtStart + this.length;\n    }\n    posBefore(view) {\n        let pos = this.posAtStart;\n        for (let child of this.children) {\n            if (child == view)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n        throw new RangeError(\"Invalid child in posBefore\");\n    }\n    posAfter(view) {\n        return this.posBefore(view) + view.length;\n    }\n    // Will return a rectangle directly before (when side < 0), after\n    // (side > 0) or directly on (when the browser supports it) the\n    // given position.\n    coordsAt(_pos, _side) { return null; }\n    sync(track) {\n        var _a;\n        if (this.dirty & 2 /* Node */) {\n            let parent = this.dom, pos = null;\n            for (let child of this.children) {\n                if (child.dirty) {\n                    let next = pos ? pos.nextSibling : parent.firstChild;\n                    if (!child.dom && next && !((_a = ContentView.get(next)) === null || _a === void 0 ? void 0 : _a.parent))\n                        child.reuseDOM(next);\n                    child.sync(track);\n                    child.dirty = 0 /* Not */;\n                }\n                if (track && track.node == parent && pos != child.dom)\n                    track.written = true;\n                syncNodeInto(parent, pos, child.dom);\n                pos = child.dom;\n            }\n            let next = pos ? pos.nextSibling : parent.firstChild;\n            if (next && track && track.node == parent)\n                track.written = true;\n            while (next)\n                next = rm(next);\n        }\n        else if (this.dirty & 1 /* Child */) {\n            for (let child of this.children)\n                if (child.dirty) {\n                    child.sync(track);\n                    child.dirty = 0 /* Not */;\n                }\n        }\n    }\n    reuseDOM(_dom) { return false; }\n    localPosFromDOM(node, offset) {\n        let after;\n        if (node == this.dom) {\n            after = this.dom.childNodes[offset];\n        }\n        else {\n            let bias = maxOffset(node) == 0 ? 0 : offset == 0 ? -1 : 1;\n            for (;;) {\n                let parent = node.parentNode;\n                if (parent == this.dom)\n                    break;\n                if (bias == 0 && parent.firstChild != parent.lastChild) {\n                    if (node == parent.firstChild)\n                        bias = -1;\n                    else\n                        bias = 1;\n                }\n                node = parent;\n            }\n            if (bias < 0)\n                after = node;\n            else\n                after = node.nextSibling;\n        }\n        if (after == this.dom.firstChild)\n            return 0;\n        while (after && !ContentView.get(after))\n            after = after.nextSibling;\n        if (!after)\n            return this.length;\n        for (let i = 0, pos = 0;; i++) {\n            let child = this.children[i];\n            if (child.dom == after)\n                return pos;\n            pos += child.length + child.breakAfter;\n        }\n    }\n    domBoundsAround(from, to, offset = 0) {\n        let fromI = -1, fromStart = -1, toI = -1, toEnd = -1;\n        for (let i = 0, pos = offset, prevEnd = offset; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (pos < from && end > to)\n                return child.domBoundsAround(from, to, pos);\n            if (end >= from && fromI == -1) {\n                fromI = i;\n                fromStart = pos;\n            }\n            if (pos > to && child.dom.parentNode == this.dom) {\n                toI = i;\n                toEnd = prevEnd;\n                break;\n            }\n            prevEnd = end;\n            pos = end + child.breakAfter;\n        }\n        return { from: fromStart, to: toEnd < 0 ? offset + this.length : toEnd,\n            startDOM: (fromI ? this.children[fromI - 1].dom.nextSibling : null) || this.dom.firstChild,\n            endDOM: toI < this.children.length && toI >= 0 ? this.children[toI].dom : null };\n    }\n    markDirty(andParent = false) {\n        this.dirty |= 2 /* Node */;\n        this.markParentsDirty(andParent);\n    }\n    markParentsDirty(childList) {\n        for (let parent = this.parent; parent; parent = parent.parent) {\n            if (childList)\n                parent.dirty |= 2 /* Node */;\n            if (parent.dirty & 1 /* Child */)\n                return;\n            parent.dirty |= 1 /* Child */;\n            childList = false;\n        }\n    }\n    setParent(parent) {\n        if (this.parent != parent) {\n            this.parent = parent;\n            if (this.dirty)\n                this.markParentsDirty(true);\n        }\n    }\n    setDOM(dom) {\n        if (this.dom)\n            this.dom.cmView = null;\n        this.dom = dom;\n        dom.cmView = this;\n    }\n    get rootView() {\n        for (let v = this;;) {\n            let parent = v.parent;\n            if (!parent)\n                return v;\n            v = parent;\n        }\n    }\n    replaceChildren(from, to, children = none$3) {\n        this.markDirty();\n        for (let i = from; i < to; i++) {\n            let child = this.children[i];\n            if (child.parent == this)\n                child.parent = null;\n        }\n        this.children.splice(from, to - from, ...children);\n        for (let i = 0; i < children.length; i++)\n            children[i].setParent(this);\n    }\n    ignoreMutation(_rec) { return false; }\n    ignoreEvent(_event) { return false; }\n    childCursor(pos = this.length) {\n        return new ChildCursor(this.children, pos, this.children.length);\n    }\n    childPos(pos, bias = 1) {\n        return this.childCursor().findPos(pos, bias);\n    }\n    toString() {\n        let name = this.constructor.name.replace(\"View\", \"\");\n        return name + (this.children.length ? \"(\" + this.children.join() + \")\" :\n            this.length ? \"[\" + (name == \"Text\" ? this.text : this.length) + \"]\" : \"\") +\n            (this.breakAfter ? \"#\" : \"\");\n    }\n    static get(node) { return node.cmView; }\n}\nContentView.prototype.breakAfter = 0;\n// Remove a DOM node and return its next sibling.\nfunction rm(dom) {\n    let next = dom.nextSibling;\n    dom.parentNode.removeChild(dom);\n    return next;\n}\nfunction syncNodeInto(parent, after, dom) {\n    let next = after ? after.nextSibling : parent.firstChild;\n    if (dom.parentNode == parent)\n        while (next != dom)\n            next = rm(next);\n    else\n        parent.insertBefore(dom, next);\n}\nclass ChildCursor {\n    constructor(children, pos, i) {\n        this.children = children;\n        this.pos = pos;\n        this.i = i;\n        this.off = 0;\n    }\n    findPos(pos, bias = 1) {\n        for (;;) {\n            if (pos > this.pos || pos == this.pos &&\n                (bias > 0 || this.i == 0 || this.children[this.i - 1].breakAfter)) {\n                this.off = pos - this.pos;\n                return this;\n            }\n            let next = this.children[--this.i];\n            this.pos -= next.length + next.breakAfter;\n        }\n    }\n}\n\nlet [nav, doc] = typeof navigator != \"undefined\"\n    ? [navigator, document]\n    : [{ userAgent: \"\", vendor: \"\", platform: \"\" }, { documentElement: { style: {} } }];\nconst ie_edge = /*@__PURE__*//Edge\\/(\\d+)/.exec(nav.userAgent);\nconst ie_upto10 = /*@__PURE__*//MSIE \\d/.test(nav.userAgent);\nconst ie_11up = /*@__PURE__*//Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(nav.userAgent);\nconst ie = !!(ie_upto10 || ie_11up || ie_edge);\nconst gecko = !ie && /*@__PURE__*//gecko\\/(\\d+)/i.test(nav.userAgent);\nconst chrome = !ie && /*@__PURE__*//Chrome\\/(\\d+)/.exec(nav.userAgent);\nconst webkit = \"webkitFontSmoothing\" in doc.documentElement.style;\nconst safari = !ie && /*@__PURE__*//Apple Computer/.test(nav.vendor);\nvar browser = {\n    mac: /*@__PURE__*//Mac/.test(nav.platform),\n    ie,\n    ie_version: ie_upto10 ? doc.documentMode || 6 : ie_11up ? +ie_11up[1] : ie_edge ? +ie_edge[1] : 0,\n    gecko,\n    gecko_version: gecko ? +(/*@__PURE__*//Firefox\\/(\\d+)/.exec(nav.userAgent) || [0, 0])[1] : 0,\n    chrome: !!chrome,\n    chrome_version: chrome ? +chrome[1] : 0,\n    ios: safari && (/*@__PURE__*//Mobile\\/\\w+/.test(nav.userAgent) || nav.maxTouchPoints > 2),\n    android: /*@__PURE__*//Android\\b/.test(nav.userAgent),\n    webkit,\n    safari,\n    webkit_version: webkit ? +(/*@__PURE__*//\\bAppleWebKit\\/(\\d+)/.exec(navigator.userAgent) || [0, 0])[1] : 0,\n    tabSize: doc.documentElement.style.tabSize != null ? \"tab-size\" : \"-moz-tab-size\"\n};\n\nconst none$2 = [];\nclass InlineView extends ContentView {\n    /**\n    Return true when this view is equivalent to `other` and can take\n    on its role.\n    */\n    become(_other) { return false; }\n    // When this is a zero-length view with a side, this should return a\n    // negative number to indicate it is before its position, or a\n    // positive number when after its position.\n    getSide() { return 0; }\n}\nInlineView.prototype.children = none$2;\nconst MaxJoinLen = 256;\nclass TextView extends InlineView {\n    constructor(text) {\n        super();\n        this.text = text;\n    }\n    get length() { return this.text.length; }\n    createDOM(textDOM) {\n        this.setDOM(textDOM || document.createTextNode(this.text));\n    }\n    sync(track) {\n        if (!this.dom)\n            this.createDOM();\n        if (this.dom.nodeValue != this.text) {\n            if (track && track.node == this.dom)\n                track.written = true;\n            this.dom.nodeValue = this.text;\n        }\n    }\n    reuseDOM(dom) {\n        if (dom.nodeType != 3)\n            return false;\n        this.createDOM(dom);\n        return true;\n    }\n    merge(from, to, source) {\n        if (source && (!(source instanceof TextView) || this.length - (to - from) + source.length > MaxJoinLen))\n            return false;\n        this.text = this.text.slice(0, from) + (source ? source.text : \"\") + this.text.slice(to);\n        this.markDirty();\n        return true;\n    }\n    slice(from) {\n        let result = new TextView(this.text.slice(from));\n        this.text = this.text.slice(0, from);\n        return result;\n    }\n    localPosFromDOM(node, offset) {\n        return node == this.dom ? offset : offset ? this.text.length : 0;\n    }\n    domAtPos(pos) { return new DOMPos(this.dom, pos); }\n    domBoundsAround(_from, _to, offset) {\n        return { from: offset, to: offset + this.length, startDOM: this.dom, endDOM: this.dom.nextSibling };\n    }\n    coordsAt(pos, side) {\n        return textCoords(this.dom, pos, side);\n    }\n}\nclass MarkView extends InlineView {\n    constructor(mark, children = [], length = 0) {\n        super();\n        this.mark = mark;\n        this.children = children;\n        this.length = length;\n        for (let ch of children)\n            ch.setParent(this);\n    }\n    createDOM() {\n        let dom = document.createElement(this.mark.tagName);\n        if (this.mark.class)\n            dom.className = this.mark.class;\n        if (this.mark.attrs)\n            for (let name in this.mark.attrs)\n                dom.setAttribute(name, this.mark.attrs[name]);\n        this.setDOM(dom);\n    }\n    sync(track) {\n        if (!this.dom || (this.dirty & 4 /* Attrs */))\n            this.createDOM();\n        super.sync(track);\n    }\n    merge(from, to, source, openStart, openEnd) {\n        if (source && (!(source instanceof MarkView && source.mark.eq(this.mark)) ||\n            (from && openStart <= 0) || (to < this.length && openEnd <= 0)))\n            return false;\n        mergeInlineChildren(this, from, to, source ? source.children : none$2, openStart - 1, openEnd - 1);\n        this.markDirty();\n        return true;\n    }\n    slice(from) {\n        let result = [], off = 0, detachFrom = -1, i = 0;\n        for (let elt of this.children) {\n            let end = off + elt.length;\n            if (end > from)\n                result.push(off < from ? elt.slice(from - off) : elt);\n            if (detachFrom < 0 && off >= from)\n                detachFrom = i;\n            off = end;\n            i++;\n        }\n        let length = this.length - from;\n        this.length = from;\n        if (detachFrom > -1)\n            this.replaceChildren(detachFrom, this.children.length);\n        return new MarkView(this.mark, result, length);\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this.dom, this.children, pos);\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n}\nfunction textCoords(text, pos, side) {\n    let length = text.nodeValue.length;\n    if (pos > length)\n        pos = length;\n    let from = pos, to = pos, flatten = 0;\n    if (pos == 0 && side < 0 || pos == length && side >= 0) {\n        if (!(browser.chrome || browser.gecko)) { // These browsers reliably return valid rectangles for empty ranges\n            if (pos) {\n                from--;\n                flatten = 1;\n            } // FIXME this is wrong in RTL text\n            else {\n                to++;\n                flatten = -1;\n            }\n        }\n    }\n    else {\n        if (side < 0)\n            from--;\n        else\n            to++;\n    }\n    let rects = textRange(text, from, to).getClientRects();\n    if (!rects.length)\n        return Rect0;\n    let rect = rects[(flatten ? flatten < 0 : side >= 0) ? 0 : rects.length - 1];\n    if (browser.safari && !flatten && rect.width == 0)\n        rect = Array.prototype.find.call(rects, r => r.width) || rect;\n    return flatten ? flattenRect(rect, flatten < 0) : rect;\n}\n// Also used for collapsed ranges that don't have a placeholder widget!\nclass WidgetView extends InlineView {\n    constructor(widget, length, side) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.side = side;\n    }\n    static create(widget, length, side) {\n        return new (widget.customView || WidgetView)(widget, length, side);\n    }\n    slice(from) {\n        let result = WidgetView.create(this.widget, this.length - from, this.side);\n        this.length -= from;\n        return result;\n    }\n    sync() {\n        if (!this.dom || !this.widget.updateDOM(this.dom)) {\n            this.setDOM(this.widget.toDOM(this.editorView));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    getSide() { return this.side; }\n    merge(from, to, source, openStart, openEnd) {\n        if (source && (!(source instanceof WidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    become(other) {\n        if (other.length == this.length && other instanceof WidgetView && other.side == this.side) {\n            if (this.widget.constructor == other.widget.constructor) {\n                if (!this.widget.eq(other.widget))\n                    this.markDirty(true);\n                this.widget = other.widget;\n                return true;\n            }\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n    get overrideDOMText() {\n        if (this.length == 0)\n            return Text.empty;\n        let top = this;\n        while (top.parent)\n            top = top.parent;\n        let view = top.editorView, text = view && view.state.doc, start = this.posAtStart;\n        return text ? text.slice(start, start + this.length) : Text.empty;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    domBoundsAround() { return null; }\n    coordsAt(pos, side) {\n        let rects = this.dom.getClientRects(), rect = null;\n        if (!rects.length)\n            return Rect0;\n        for (let i = pos > 0 ? rects.length - 1 : 0;; i += (pos > 0 ? -1 : 1)) {\n            rect = rects[i];\n            if (pos > 0 ? i == 0 : i == rects.length - 1 || rect.top < rect.bottom)\n                break;\n        }\n        return (pos == 0 && side > 0 || pos == this.length && side <= 0) ? rect : flattenRect(rect, pos == 0);\n    }\n}\nclass CompositionView extends WidgetView {\n    domAtPos(pos) { return new DOMPos(this.widget.text, pos); }\n    sync() { if (!this.dom)\n        this.setDOM(this.widget.toDOM()); }\n    localPosFromDOM(node, offset) {\n        return !offset ? 0 : node.nodeType == 3 ? Math.min(offset, this.length) : this.length;\n    }\n    ignoreMutation() { return false; }\n    get overrideDOMText() { return null; }\n    coordsAt(pos, side) { return textCoords(this.widget.text, pos, side); }\n}\nfunction mergeInlineChildren(parent, from, to, elts, openStart, openEnd) {\n    let cur = parent.childCursor();\n    let { i: toI, off: toOff } = cur.findPos(to, 1);\n    let { i: fromI, off: fromOff } = cur.findPos(from, -1);\n    let dLen = from - to;\n    for (let view of elts)\n        dLen += view.length;\n    parent.length += dLen;\n    let { children } = parent;\n    // Both from and to point into the same child view\n    if (fromI == toI && fromOff) {\n        let start = children[fromI];\n        // Maybe just update that view and be done\n        if (elts.length == 1 && start.merge(fromOff, toOff, elts[0], openStart, openEnd))\n            return;\n        if (elts.length == 0) {\n            start.merge(fromOff, toOff, null, openStart, openEnd);\n            return;\n        }\n        // Otherwise split it, so that we don't have to worry about aliasing front/end afterwards\n        let after = start.slice(toOff);\n        if (after.merge(0, 0, elts[elts.length - 1], 0, openEnd))\n            elts[elts.length - 1] = after;\n        else\n            elts.push(after);\n        toI++;\n        openEnd = toOff = 0;\n    }\n    // Make sure start and end positions fall on node boundaries\n    // (fromOff/toOff are no longer used after this), and that if the\n    // start or end of the elts can be merged with adjacent nodes,\n    // this is done\n    if (toOff) {\n        let end = children[toI];\n        if (elts.length && end.merge(0, toOff, elts[elts.length - 1], 0, openEnd)) {\n            elts.pop();\n            openEnd = elts.length ? 0 : openStart;\n        }\n        else {\n            end.merge(0, toOff, null, 0, 0);\n        }\n    }\n    else if (toI < children.length && elts.length &&\n        children[toI].merge(0, 0, elts[elts.length - 1], 0, openEnd)) {\n        elts.pop();\n        openEnd = elts.length ? 0 : openStart;\n    }\n    if (fromOff) {\n        let start = children[fromI];\n        if (elts.length && start.merge(fromOff, start.length, elts[0], openStart, 0)) {\n            elts.shift();\n            openStart = elts.length ? 0 : openEnd;\n        }\n        else {\n            start.merge(fromOff, start.length, null, 0, 0);\n        }\n        fromI++;\n    }\n    else if (fromI && elts.length) {\n        let end = children[fromI - 1];\n        if (end.merge(end.length, end.length, elts[0], openStart, 0)) {\n            elts.shift();\n            openStart = elts.length ? 0 : openEnd;\n        }\n    }\n    // Then try to merge any mergeable nodes at the start and end of\n    // the changed range\n    while (fromI < toI && elts.length && children[toI - 1].become(elts[elts.length - 1])) {\n        elts.pop();\n        toI--;\n        openEnd = elts.length ? 0 : openStart;\n    }\n    while (fromI < toI && elts.length && children[fromI].become(elts[0])) {\n        elts.shift();\n        fromI++;\n        openStart = elts.length ? 0 : openEnd;\n    }\n    if (!elts.length && fromI && toI < children.length &&\n        children[toI].merge(0, 0, children[fromI - 1], openStart, openEnd))\n        fromI--;\n    // And if anything remains, splice the child array to insert the new elts\n    if (elts.length || fromI != toI)\n        parent.replaceChildren(fromI, toI, elts);\n}\nfunction inlineDOMAtPos(dom, children, pos) {\n    let i = 0;\n    for (let off = 0; i < children.length; i++) {\n        let child = children[i], end = off + child.length;\n        if (end == off && child.getSide() <= 0)\n            continue;\n        if (pos > off && pos < end && child.dom.parentNode == dom)\n            return child.domAtPos(pos - off);\n        if (pos <= off)\n            break;\n        off = end;\n    }\n    for (; i > 0; i--) {\n        let before = children[i - 1].dom;\n        if (before.parentNode == dom)\n            return DOMPos.after(before);\n    }\n    return new DOMPos(dom, 0);\n}\n// Assumes `view`, if a mark view, has precisely 1 child.\nfunction joinInlineInto(parent, view, open) {\n    let last, { children } = parent;\n    if (open > 0 && view instanceof MarkView && children.length &&\n        (last = children[children.length - 1]) instanceof MarkView && last.mark.eq(view.mark)) {\n        joinInlineInto(last, view.children[0], open - 1);\n    }\n    else {\n        children.push(view);\n        view.setParent(parent);\n    }\n    parent.length += view.length;\n}\nfunction coordsInChildren(view, pos, side) {\n    for (let off = 0, i = 0; i < view.children.length; i++) {\n        let child = view.children[i], end = off + child.length, next;\n        if ((side <= 0 || end == view.length || child.getSide() > 0 ? end >= pos : end > pos) &&\n            (pos < end || i + 1 == view.children.length || (next = view.children[i + 1]).length || next.getSide() > 0)) {\n            let flatten = 0;\n            if (end == off) {\n                if (child.getSide() <= 0)\n                    continue;\n                flatten = side = -child.getSide();\n            }\n            let rect = child.coordsAt(pos - off, side);\n            return flatten && rect ? flattenRect(rect, side < 0) : rect;\n        }\n        off = end;\n    }\n    let last = view.dom.lastChild;\n    if (!last)\n        return view.dom.getBoundingClientRect();\n    let rects = clientRectsFor(last);\n    return rects[rects.length - 1];\n}\n\nfunction combineAttrs(source, target) {\n    for (let name in source) {\n        if (name == \"class\" && target.class)\n            target.class += \" \" + source.class;\n        else if (name == \"style\" && target.style)\n            target.style += \";\" + source.style;\n        else\n            target[name] = source[name];\n    }\n    return target;\n}\nfunction attrsEq(a, b) {\n    if (a == b)\n        return true;\n    if (!a || !b)\n        return false;\n    let keysA = Object.keys(a), keysB = Object.keys(b);\n    if (keysA.length != keysB.length)\n        return false;\n    for (let key of keysA) {\n        if (keysB.indexOf(key) == -1 || a[key] !== b[key])\n            return false;\n    }\n    return true;\n}\nfunction updateAttrs(dom, prev, attrs) {\n    if (prev)\n        for (let name in prev)\n            if (!(attrs && name in attrs))\n                dom.removeAttribute(name);\n    if (attrs)\n        for (let name in attrs)\n            if (!(prev && prev[name] == attrs[name]))\n                dom.setAttribute(name, attrs[name]);\n}\n\n/**\nWidgets added to the content are described by subclasses of this\nclass. Using a description object like that makes it possible to\ndelay creating of the DOM structure for a widget until it is\nneeded, and to avoid redrawing widgets even when the decorations\nthat define them are recreated.\n*/\nclass WidgetType {\n    /**\n    Compare this instance to another instance of the same type.\n    (TypeScript can't express this, but only instances of the same\n    specific class will be passed to this method.) This is used to\n    avoid redrawing widgets when they are replaced by a new\n    decoration of the same type. The default implementation just\n    returns `false`, which will cause new instances of the widget to\n    always be redrawn.\n    */\n    eq(_widget) { return false; }\n    /**\n    Update a DOM element created by a widget of the same type (but\n    different, non-`eq` content) to reflect this widget. May return\n    true to indicate that it could update, false to indicate it\n    couldn't (in which case the widget will be redrawn). The default\n    implementation just returns false.\n    */\n    updateDOM(_dom) { return false; }\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    The estimated height this widget will have, to be used when\n    estimating the height of content that hasn't been drawn. May\n    return -1 to indicate you don't know. The default implementation\n    returns -1.\n    */\n    get estimatedHeight() { return -1; }\n    /**\n    Can be used to configure which kinds of events inside the widget\n    should be ignored by the editor. The default is to ignore all\n    events.\n    */\n    ignoreEvent(_event) { return true; }\n    /**\n    @internal\n    */\n    get customView() { return null; }\n}\n/**\nThe different types of blocks that can occur in an editor view.\n*/\nvar BlockType = /*@__PURE__*/(function (BlockType) {\n    /**\n    A line of text.\n    */\n    BlockType[BlockType[\"Text\"] = 0] = \"Text\";\n    /**\n    A block widget associated with the position after it.\n    */\n    BlockType[BlockType[\"WidgetBefore\"] = 1] = \"WidgetBefore\";\n    /**\n    A block widget associated with the position before it.\n    */\n    BlockType[BlockType[\"WidgetAfter\"] = 2] = \"WidgetAfter\";\n    /**\n    A block widget [replacing](https://codemirror.net/6/docs/ref/#view.Decoration^replace) a range of content.\n    */\n    BlockType[BlockType[\"WidgetRange\"] = 3] = \"WidgetRange\";\nreturn BlockType})(BlockType || (BlockType = {}));\n/**\nA decoration provides information on how to draw or style a piece\nof content. You'll usually use it wrapped in a\n[`Range`](https://codemirror.net/6/docs/ref/#rangeset.Range), which adds a start and end position.\n*/\nclass Decoration extends RangeValue {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    startSide, \n    /**\n    @internal\n    */\n    endSide, \n    /**\n    @internal\n    */\n    widget, \n    /**\n    The config object used to create this decoration. You can\n    include additional properties in there to store metadata about\n    your decoration.\n    */\n    spec) {\n        super();\n        this.startSide = startSide;\n        this.endSide = endSide;\n        this.widget = widget;\n        this.spec = spec;\n    }\n    /**\n    @internal\n    */\n    get heightRelevant() { return false; }\n    /**\n    Create a mark decoration, which influences the styling of the\n    content in its range. Nested mark decorations will cause nested\n    DOM elements to be created. Nesting order is determined by\n    precedence of the [facet](https://codemirror.net/6/docs/ref/#view.EditorView^decorations) or\n    (below the facet-provided decorations) [view\n    plugin](https://codemirror.net/6/docs/ref/#view.PluginSpec.decorations). Such elements are split\n    on line boundaries and on the boundaries of higher-precedence\n    decorations.\n    */\n    static mark(spec) {\n        return new MarkDecoration(spec);\n    }\n    /**\n    Create a widget decoration, which adds an element at the given\n    position.\n    */\n    static widget(spec) {\n        let side = spec.side || 0;\n        if (spec.block)\n            side += (200000000 /* BigBlock */ + 1) * (side > 0 ? 1 : -1);\n        return new PointDecoration(spec, side, side, !!spec.block, spec.widget || null, false);\n    }\n    /**\n    Create a replace decoration which replaces the given range with\n    a widget, or simply hides it.\n    */\n    static replace(spec) {\n        let block = !!spec.block;\n        let { start, end } = getInclusive(spec);\n        let startSide = block ? -200000000 /* BigBlock */ * (start ? 2 : 1) : 100000000 /* BigInline */ * (start ? -1 : 1);\n        let endSide = block ? 200000000 /* BigBlock */ * (end ? 2 : 1) : 100000000 /* BigInline */ * (end ? 1 : -1);\n        return new PointDecoration(spec, startSide, endSide, block, spec.widget || null, true);\n    }\n    /**\n    Create a line decoration, which can add DOM attributes to the\n    line starting at the given position.\n    */\n    static line(spec) {\n        return new LineDecoration(spec);\n    }\n    /**\n    Build a [`DecorationSet`](https://codemirror.net/6/docs/ref/#view.DecorationSet) from the given\n    decorated range or ranges. If the ranges aren't already sorted,\n    pass `true` for `sort` to make the library sort them for you.\n    */\n    static set(of, sort = false) {\n        return RangeSet.of(of, sort);\n    }\n    /**\n    @internal\n    */\n    hasHeight() { return this.widget ? this.widget.estimatedHeight > -1 : false; }\n}\n/**\nThe empty set of decorations.\n*/\nDecoration.none = RangeSet.empty;\nclass MarkDecoration extends Decoration {\n    constructor(spec) {\n        let { start, end } = getInclusive(spec);\n        super(100000000 /* BigInline */ * (start ? -1 : 1), 100000000 /* BigInline */ * (end ? 1 : -1), null, spec);\n        this.tagName = spec.tagName || \"span\";\n        this.class = spec.class || \"\";\n        this.attrs = spec.attributes || null;\n    }\n    eq(other) {\n        return this == other ||\n            other instanceof MarkDecoration &&\n                this.tagName == other.tagName &&\n                this.class == other.class &&\n                attrsEq(this.attrs, other.attrs);\n    }\n    range(from, to = from) {\n        if (from >= to)\n            throw new RangeError(\"Mark decorations may not be empty\");\n        return super.range(from, to);\n    }\n}\nMarkDecoration.prototype.point = false;\nclass LineDecoration extends Decoration {\n    constructor(spec) {\n        super(-100000000 /* BigInline */, -100000000 /* BigInline */, null, spec);\n    }\n    eq(other) {\n        return other instanceof LineDecoration && attrsEq(this.spec.attributes, other.spec.attributes);\n    }\n    range(from, to = from) {\n        if (to != from)\n            throw new RangeError(\"Line decoration ranges must be zero-length\");\n        return super.range(from, to);\n    }\n}\nLineDecoration.prototype.mapMode = MapMode.TrackBefore;\nLineDecoration.prototype.point = true;\nclass PointDecoration extends Decoration {\n    constructor(spec, startSide, endSide, block, widget, isReplace) {\n        super(startSide, endSide, widget, spec);\n        this.block = block;\n        this.isReplace = isReplace;\n        this.mapMode = !block ? MapMode.TrackDel : startSide < 0 ? MapMode.TrackBefore : MapMode.TrackAfter;\n    }\n    // Only relevant when this.block == true\n    get type() {\n        return this.startSide < this.endSide ? BlockType.WidgetRange\n            : this.startSide < 0 ? BlockType.WidgetBefore : BlockType.WidgetAfter;\n    }\n    get heightRelevant() { return this.block || !!this.widget && this.widget.estimatedHeight >= 5; }\n    eq(other) {\n        return other instanceof PointDecoration &&\n            widgetsEq(this.widget, other.widget) &&\n            this.block == other.block &&\n            this.startSide == other.startSide && this.endSide == other.endSide;\n    }\n    range(from, to = from) {\n        if (this.isReplace && (from > to || (from == to && this.startSide > 0 && this.endSide < 0)))\n            throw new RangeError(\"Invalid range for replacement decoration\");\n        if (!this.isReplace && to != from)\n            throw new RangeError(\"Widget decorations can only have zero-length ranges\");\n        return super.range(from, to);\n    }\n}\nPointDecoration.prototype.point = true;\nfunction getInclusive(spec) {\n    let { inclusiveStart: start, inclusiveEnd: end } = spec;\n    if (start == null)\n        start = spec.inclusive;\n    if (end == null)\n        end = spec.inclusive;\n    return { start: start || false, end: end || false };\n}\nfunction widgetsEq(a, b) {\n    return a == b || !!(a && b && a.compare(b));\n}\nfunction addRange(from, to, ranges, margin = 0) {\n    let last = ranges.length - 1;\n    if (last >= 0 && ranges[last] + margin > from)\n        ranges[last] = Math.max(ranges[last], to);\n    else\n        ranges.push(from, to);\n}\n\nclass LineView extends ContentView {\n    constructor() {\n        super(...arguments);\n        this.children = [];\n        this.length = 0;\n        this.prevAttrs = undefined;\n        this.attrs = null;\n        this.breakAfter = 0;\n    }\n    // Consumes source\n    merge(from, to, source, takeDeco, openStart, openEnd) {\n        if (source) {\n            if (!(source instanceof LineView))\n                return false;\n            if (!this.dom)\n                source.transferDOM(this); // Reuse source.dom when appropriate\n        }\n        if (takeDeco)\n            this.setDeco(source ? source.attrs : null);\n        mergeInlineChildren(this, from, to, source ? source.children : none$1, openStart, openEnd);\n        return true;\n    }\n    split(at) {\n        let end = new LineView;\n        end.breakAfter = this.breakAfter;\n        if (this.length == 0)\n            return end;\n        let { i, off } = this.childPos(at);\n        if (off) {\n            end.append(this.children[i].slice(off), 0);\n            this.children[i].merge(off, this.children[i].length, null, 0, 0);\n            i++;\n        }\n        for (let j = i; j < this.children.length; j++)\n            end.append(this.children[j], 0);\n        while (i > 0 && this.children[i - 1].length == 0) {\n            this.children[i - 1].parent = null;\n            i--;\n        }\n        this.children.length = i;\n        this.markDirty();\n        this.length = at;\n        return end;\n    }\n    transferDOM(other) {\n        if (!this.dom)\n            return;\n        other.setDOM(this.dom);\n        other.prevAttrs = this.prevAttrs === undefined ? this.attrs : this.prevAttrs;\n        this.prevAttrs = undefined;\n        this.dom = null;\n    }\n    setDeco(attrs) {\n        if (!attrsEq(this.attrs, attrs)) {\n            if (this.dom) {\n                this.prevAttrs = this.attrs;\n                this.markDirty();\n            }\n            this.attrs = attrs;\n        }\n    }\n    // Only called when building a line view in ContentBuilder\n    append(child, openStart) {\n        joinInlineInto(this, child, openStart);\n    }\n    // Only called when building a line view in ContentBuilder\n    addLineDeco(deco) {\n        let attrs = deco.spec.attributes;\n        if (attrs)\n            this.attrs = combineAttrs(attrs, this.attrs || {});\n    }\n    domAtPos(pos) {\n        return inlineDOMAtPos(this.dom, this.children, pos);\n    }\n    sync(track) {\n        if (!this.dom || (this.dirty & 4 /* Attrs */)) {\n            this.setDOM(document.createElement(\"div\"));\n            this.dom.className = \"cm-line\";\n            this.prevAttrs = this.attrs ? null : undefined;\n        }\n        if (this.prevAttrs !== undefined) {\n            updateAttrs(this.dom, this.prevAttrs, this.attrs);\n            this.dom.classList.add(\"cm-line\");\n            this.prevAttrs = undefined;\n        }\n        super.sync(track);\n        let last = this.dom.lastChild;\n        while (last && ContentView.get(last) instanceof MarkView)\n            last = last.lastChild;\n        if (!last ||\n            last.nodeName != \"BR\" && ContentView.get(last) instanceof WidgetView &&\n                (!browser.ios || !this.children.some(ch => ch instanceof TextView))) {\n            let hack = document.createElement(\"BR\");\n            hack.cmIgnore = true;\n            this.dom.appendChild(hack);\n        }\n    }\n    measureTextSize() {\n        if (this.children.length == 0 || this.length > 20)\n            return null;\n        let totalWidth = 0;\n        for (let child of this.children) {\n            if (!(child instanceof TextView))\n                return null;\n            let rects = clientRectsFor(child.dom);\n            if (rects.length != 1)\n                return null;\n            totalWidth += rects[0].width;\n        }\n        return { lineHeight: this.dom.getBoundingClientRect().height,\n            charWidth: totalWidth / this.length };\n    }\n    coordsAt(pos, side) {\n        return coordsInChildren(this, pos, side);\n    }\n    match(_other) { return false; }\n    get type() { return BlockType.Text; }\n    static find(docView, pos) {\n        for (let i = 0, off = 0;; i++) {\n            let block = docView.children[i], end = off + block.length;\n            if (end >= pos) {\n                if (block instanceof LineView)\n                    return block;\n                if (block.length)\n                    return null;\n            }\n            off = end + block.breakAfter;\n        }\n    }\n}\nconst none$1 = [];\nclass BlockWidgetView extends ContentView {\n    constructor(widget, length, type) {\n        super();\n        this.widget = widget;\n        this.length = length;\n        this.type = type;\n        this.breakAfter = 0;\n    }\n    merge(from, to, source, _takeDeco, openStart, openEnd) {\n        if (source && (!(source instanceof BlockWidgetView) || !this.widget.compare(source.widget) ||\n            from > 0 && openStart <= 0 || to < this.length && openEnd <= 0))\n            return false;\n        this.length = from + (source ? source.length : 0) + (this.length - to);\n        return true;\n    }\n    domAtPos(pos) {\n        return pos == 0 ? DOMPos.before(this.dom) : DOMPos.after(this.dom, pos == this.length);\n    }\n    split(at) {\n        let len = this.length - at;\n        this.length = at;\n        return new BlockWidgetView(this.widget, len, this.type);\n    }\n    get children() { return none$1; }\n    sync() {\n        if (!this.dom || !this.widget.updateDOM(this.dom)) {\n            this.setDOM(this.widget.toDOM(this.editorView));\n            this.dom.contentEditable = \"false\";\n        }\n    }\n    get overrideDOMText() {\n        return this.parent ? this.parent.view.state.doc.slice(this.posAtStart, this.posAtEnd) : Text$1.empty;\n    }\n    domBoundsAround() { return null; }\n    match(other) {\n        if (other instanceof BlockWidgetView && other.type == this.type &&\n            other.widget.constructor == this.widget.constructor) {\n            if (!other.widget.eq(this.widget))\n                this.markDirty(true);\n            this.widget = other.widget;\n            this.length = other.length;\n            this.breakAfter = other.breakAfter;\n            return true;\n        }\n        return false;\n    }\n    ignoreMutation() { return true; }\n    ignoreEvent(event) { return this.widget.ignoreEvent(event); }\n}\n\nclass ContentBuilder {\n    constructor(doc, pos, end) {\n        this.doc = doc;\n        this.pos = pos;\n        this.end = end;\n        this.content = [];\n        this.curLine = null;\n        this.breakAtStart = 0;\n        this.openStart = -1;\n        this.openEnd = -1;\n        this.text = \"\";\n        this.textOff = 0;\n        this.cursor = doc.iter();\n        this.skip = pos;\n    }\n    posCovered() {\n        if (this.content.length == 0)\n            return !this.breakAtStart && this.doc.lineAt(this.pos).from != this.pos;\n        let last = this.content[this.content.length - 1];\n        return !last.breakAfter && !(last instanceof BlockWidgetView && last.type == BlockType.WidgetBefore);\n    }\n    getLine() {\n        if (!this.curLine)\n            this.content.push(this.curLine = new LineView);\n        return this.curLine;\n    }\n    addWidget(view) {\n        this.curLine = null;\n        this.content.push(view);\n    }\n    finish() {\n        if (!this.posCovered())\n            this.getLine();\n    }\n    wrapMarks(view, active) {\n        for (let mark of active)\n            view = new MarkView(mark, [view], view.length);\n        return view;\n    }\n    buildText(length, active, openStart) {\n        while (length > 0) {\n            if (this.textOff == this.text.length) {\n                let { value, lineBreak, done } = this.cursor.next(this.skip);\n                this.skip = 0;\n                if (done)\n                    throw new Error(\"Ran out of text content when drawing inline views\");\n                if (lineBreak) {\n                    if (!this.posCovered())\n                        this.getLine();\n                    if (this.content.length)\n                        this.content[this.content.length - 1].breakAfter = 1;\n                    else\n                        this.breakAtStart = 1;\n                    this.curLine = null;\n                    length--;\n                    continue;\n                }\n                else {\n                    this.text = value;\n                    this.textOff = 0;\n                }\n            }\n            let take = Math.min(this.text.length - this.textOff, length, 512 /* Chunk */);\n            this.getLine().append(this.wrapMarks(new TextView(this.text.slice(this.textOff, this.textOff + take)), active), openStart);\n            this.textOff += take;\n            length -= take;\n            openStart = 0;\n        }\n    }\n    span(from, to, active, openStart) {\n        this.buildText(to - from, active, openStart);\n        this.pos = to;\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    point(from, to, deco, active, openStart) {\n        let len = to - from;\n        if (deco instanceof PointDecoration) {\n            if (deco.block) {\n                let { type } = deco;\n                if (type == BlockType.WidgetAfter && !this.posCovered())\n                    this.getLine();\n                this.addWidget(new BlockWidgetView(deco.widget || new NullWidget(\"div\"), len, type));\n            }\n            else {\n                let widget = this.wrapMarks(WidgetView.create(deco.widget || new NullWidget(\"span\"), len, deco.startSide), active);\n                this.getLine().append(widget, openStart);\n            }\n        }\n        else if (this.doc.lineAt(this.pos).from == this.pos) { // Line decoration\n            this.getLine().addLineDeco(deco);\n        }\n        if (len) {\n            // Advance the iterator past the replaced content\n            if (this.textOff + len <= this.text.length) {\n                this.textOff += len;\n            }\n            else {\n                this.skip += len - (this.text.length - this.textOff);\n                this.text = \"\";\n                this.textOff = 0;\n            }\n            this.pos = to;\n        }\n        if (this.openStart < 0)\n            this.openStart = openStart;\n    }\n    static build(text, from, to, decorations) {\n        let builder = new ContentBuilder(text, from, to);\n        builder.openEnd = RangeSet.spans(decorations, from, to, builder);\n        if (builder.openStart < 0)\n            builder.openStart = builder.openEnd;\n        builder.finish();\n        return builder;\n    }\n}\nclass NullWidget extends WidgetType {\n    constructor(tag) {\n        super();\n        this.tag = tag;\n    }\n    eq(other) { return other.tag == this.tag; }\n    toDOM() { return document.createElement(this.tag); }\n    updateDOM(elt) { return elt.nodeName.toLowerCase() == this.tag; }\n}\n\nconst none = [];\nconst clickAddsSelectionRange = /*@__PURE__*/Facet.define();\nconst dragMovesSelection$1 = /*@__PURE__*/Facet.define();\nconst mouseSelectionStyle = /*@__PURE__*/Facet.define();\nconst exceptionSink = /*@__PURE__*/Facet.define();\nconst updateListener = /*@__PURE__*/Facet.define();\nconst inputHandler = /*@__PURE__*/Facet.define();\nconst scrollTo = /*@__PURE__*/StateEffect.define({\n    map: (range, changes) => range.map(changes)\n});\n/**\nLog or report an unhandled exception in client code. Should\nprobably only be used by extension code that allows client code to\nprovide functions, and calls those functions in a context where an\nexception can't be propagated to calling code in a reasonable way\n(for example when in an event handler).\n\nEither calls a handler registered with\n[`EditorView.exceptionSink`](https://codemirror.net/6/docs/ref/#view.EditorView^exceptionSink),\n`window.onerror`, if defined, or `console.error` (in which case\nit'll pass `context`, when given, as first argument).\n*/\nfunction logException(state, exception, context) {\n    let handler = state.facet(exceptionSink);\n    if (handler.length)\n        handler[0](exception);\n    else if (window.onerror)\n        window.onerror(String(exception), context, undefined, undefined, exception);\n    else if (context)\n        console.error(context + \":\", exception);\n    else\n        console.error(exception);\n}\nconst editable = /*@__PURE__*/Facet.define({ combine: values => values.length ? values[0] : true });\n/**\nUsed to [declare](https://codemirror.net/6/docs/ref/#view.PluginSpec.provide) which\n[fields](https://codemirror.net/6/docs/ref/#view.PluginValue) a [view plugin](https://codemirror.net/6/docs/ref/#view.ViewPlugin)\nprovides.\n*/\nclass PluginFieldProvider {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    field, \n    /**\n    @internal\n    */\n    get) {\n        this.field = field;\n        this.get = get;\n    }\n}\n/**\nPlugin fields are a mechanism for allowing plugins to provide\nvalues that can be retrieved through the\n[`pluginField`](https://codemirror.net/6/docs/ref/#view.EditorView.pluginField) view method.\n*/\nclass PluginField {\n    /**\n    Create a [provider](https://codemirror.net/6/docs/ref/#view.PluginFieldProvider) for this field,\n    to use with a plugin's [provide](https://codemirror.net/6/docs/ref/#view.PluginSpec.provide)\n    option.\n    */\n    from(get) {\n        return new PluginFieldProvider(this, get);\n    }\n    /**\n    Define a new plugin field.\n    */\n    static define() { return new PluginField(); }\n}\n/**\nThis field can be used by plugins to provide\n[decorations](https://codemirror.net/6/docs/ref/#view.Decoration).\n\n**Note**: For reasons of data flow (plugins are only updated\nafter the viewport is computed), decorations produced by plugins\nare _not_ taken into account when predicting the vertical layout\nstructure of the editor. Thus, things like large widgets or big\nreplacements (i.e. code folding) should be provided through the\nstate-level [`decorations` facet](https://codemirror.net/6/docs/ref/#view.EditorView^decorations),\nnot this plugin field. Specifically, replacing decorations that\ncross line boundaries will break if provided through a plugin.\n*/\nPluginField.decorations = /*@__PURE__*/PluginField.define();\n/**\nUsed to provide ranges that should be treated as atoms as far as\ncursor motion is concerned. This causes methods like\n[`moveByChar`](https://codemirror.net/6/docs/ref/#view.EditorView.moveByChar) and\n[`moveVertically`](https://codemirror.net/6/docs/ref/#view.EditorView.moveVertically) (and the\ncommands built on top of them) to skip across such regions when\na selection endpoint would enter them. This does _not_ prevent\ndirect programmatic [selection\nupdates](https://codemirror.net/6/docs/ref/#state.TransactionSpec.selection) from moving into such\nregions.\n*/\nPluginField.atomicRanges = /*@__PURE__*/PluginField.define();\n/**\nPlugins can provide additional scroll margins (space around the\nsides of the scrolling element that should be considered\ninvisible) through this field. This can be useful when the\nplugin introduces elements that cover part of that element (for\nexample a horizontally fixed gutter).\n*/\nPluginField.scrollMargins = /*@__PURE__*/PluginField.define();\nlet nextPluginID = 0;\nconst viewPlugin = /*@__PURE__*/Facet.define();\n/**\nView plugins associate stateful values with a view. They can\ninfluence the way the content is drawn, and are notified of things\nthat happen in the view.\n*/\nclass ViewPlugin {\n    constructor(\n    /**\n    @internal\n    */\n    id, \n    /**\n    @internal\n    */\n    create, \n    /**\n    @internal\n    */\n    fields) {\n        this.id = id;\n        this.create = create;\n        this.fields = fields;\n        this.extension = viewPlugin.of(this);\n    }\n    /**\n    Define a plugin from a constructor function that creates the\n    plugin's value, given an editor view.\n    */\n    static define(create, spec) {\n        let { eventHandlers, provide, decorations } = spec || {};\n        let fields = [];\n        if (provide)\n            for (let provider of Array.isArray(provide) ? provide : [provide])\n                fields.push(provider);\n        if (eventHandlers)\n            fields.push(domEventHandlers.from((value) => ({ plugin: value, handlers: eventHandlers })));\n        if (decorations)\n            fields.push(PluginField.decorations.from(decorations));\n        return new ViewPlugin(nextPluginID++, create, fields);\n    }\n    /**\n    Create a plugin for a class whose constructor takes a single\n    editor view as argument.\n    */\n    static fromClass(cls, spec) {\n        return ViewPlugin.define(view => new cls(view), spec);\n    }\n}\nconst domEventHandlers = /*@__PURE__*/PluginField.define();\nclass PluginInstance {\n    constructor(spec) {\n        this.spec = spec;\n        // When starting an update, all plugins have this field set to the\n        // update object, indicating they need to be updated. When finished\n        // updating, it is set to `false`. Retrieving a plugin that needs to\n        // be updated with `view.plugin` forces an eager update.\n        this.mustUpdate = null;\n        // This is null when the plugin is initially created, but\n        // initialized on the first update.\n        this.value = null;\n    }\n    takeField(type, target) {\n        for (let { field, get } of this.spec.fields)\n            if (field == type)\n                target.push(get(this.value));\n    }\n    update(view) {\n        if (!this.value) {\n            try {\n                this.value = this.spec.create(view);\n            }\n            catch (e) {\n                logException(view.state, e, \"CodeMirror plugin crashed\");\n                return PluginInstance.dummy;\n            }\n        }\n        else if (this.mustUpdate) {\n            let update = this.mustUpdate;\n            this.mustUpdate = null;\n            if (!this.value.update)\n                return this;\n            try {\n                this.value.update(update);\n            }\n            catch (e) {\n                logException(update.state, e, \"CodeMirror plugin crashed\");\n                if (this.value.destroy)\n                    try {\n                        this.value.destroy();\n                    }\n                    catch (_) { }\n                return PluginInstance.dummy;\n            }\n        }\n        return this;\n    }\n    destroy(view) {\n        var _a;\n        if ((_a = this.value) === null || _a === void 0 ? void 0 : _a.destroy) {\n            try {\n                this.value.destroy();\n            }\n            catch (e) {\n                logException(view.state, e, \"CodeMirror plugin crashed\");\n            }\n        }\n    }\n}\nPluginInstance.dummy = /*@__PURE__*/new PluginInstance(/*@__PURE__*/ViewPlugin.define(() => ({})));\nconst editorAttributes = /*@__PURE__*/Facet.define({\n    combine: values => values.reduce((a, b) => combineAttrs(b, a), {})\n});\nconst contentAttributes = /*@__PURE__*/Facet.define({\n    combine: values => values.reduce((a, b) => combineAttrs(b, a), {})\n});\n// Provide decorations\nconst decorations = /*@__PURE__*/Facet.define();\nconst styleModule = /*@__PURE__*/Facet.define();\nclass ChangedRange {\n    constructor(fromA, toA, fromB, toB) {\n        this.fromA = fromA;\n        this.toA = toA;\n        this.fromB = fromB;\n        this.toB = toB;\n    }\n    join(other) {\n        return new ChangedRange(Math.min(this.fromA, other.fromA), Math.max(this.toA, other.toA), Math.min(this.fromB, other.fromB), Math.max(this.toB, other.toB));\n    }\n    addToSet(set) {\n        let i = set.length, me = this;\n        for (; i > 0; i--) {\n            let range = set[i - 1];\n            if (range.fromA > me.toA)\n                continue;\n            if (range.toA < me.fromA)\n                break;\n            me = me.join(range);\n            set.splice(i - 1, 1);\n        }\n        set.splice(i, 0, me);\n        return set;\n    }\n    static extendWithRanges(diff, ranges) {\n        if (ranges.length == 0)\n            return diff;\n        let result = [];\n        for (let dI = 0, rI = 0, posA = 0, posB = 0;; dI++) {\n            let next = dI == diff.length ? null : diff[dI], off = posA - posB;\n            let end = next ? next.fromB : 1e9;\n            while (rI < ranges.length && ranges[rI] < end) {\n                let from = ranges[rI], to = ranges[rI + 1];\n                let fromB = Math.max(posB, from), toB = Math.min(end, to);\n                if (fromB <= toB)\n                    new ChangedRange(fromB + off, toB + off, fromB, toB).addToSet(result);\n                if (to > end)\n                    break;\n                else\n                    rI += 2;\n            }\n            if (!next)\n                return result;\n            new ChangedRange(next.fromA, next.toA, next.fromB, next.toB).addToSet(result);\n            posA = next.toA;\n            posB = next.toB;\n        }\n    }\n}\n/**\nView [plugins](https://codemirror.net/6/docs/ref/#view.ViewPlugin) are given instances of this\nclass, which describe what happened, whenever the view is updated.\n*/\nclass ViewUpdate {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The editor view that the update is associated with.\n    */\n    view, \n    /**\n    The new editor state.\n    */\n    state, \n    /**\n    The transactions involved in the update. May be empty.\n    */\n    transactions = none) {\n        this.view = view;\n        this.state = state;\n        this.transactions = transactions;\n        /**\n        @internal\n        */\n        this.flags = 0;\n        this.startState = view.state;\n        this.changes = ChangeSet.empty(this.startState.doc.length);\n        for (let tr of transactions)\n            this.changes = this.changes.compose(tr.changes);\n        let changedRanges = [];\n        this.changes.iterChangedRanges((fromA, toA, fromB, toB) => changedRanges.push(new ChangedRange(fromA, toA, fromB, toB)));\n        this.changedRanges = changedRanges;\n        let focus = view.hasFocus;\n        if (focus != view.inputState.notifiedFocused) {\n            view.inputState.notifiedFocused = focus;\n            this.flags |= 1 /* Focus */;\n        }\n        if (this.docChanged)\n            this.flags |= 2 /* Height */;\n    }\n    /**\n    Tells you whether the viewport changed in this update.\n    */\n    get viewportChanged() {\n        return (this.flags & 4 /* Viewport */) > 0;\n    }\n    /**\n    Indicates whether the line height in the editor changed in this update.\n    */\n    get heightChanged() {\n        return (this.flags & 2 /* Height */) > 0;\n    }\n    /**\n    Returns true when the document changed or the size of the editor\n    or the lines or characters within it has changed.\n    */\n    get geometryChanged() {\n        return this.docChanged || (this.flags & (16 /* Geometry */ | 2 /* Height */)) > 0;\n    }\n    /**\n    True when this update indicates a focus change.\n    */\n    get focusChanged() {\n        return (this.flags & 1 /* Focus */) > 0;\n    }\n    /**\n    Whether the document changed in this update.\n    */\n    get docChanged() {\n        return this.transactions.some(tr => tr.docChanged);\n    }\n    /**\n    Whether the selection was explicitly set in this update.\n    */\n    get selectionSet() {\n        return this.transactions.some(tr => tr.selection);\n    }\n    /**\n    @internal\n    */\n    get empty() { return this.flags == 0 && this.transactions.length == 0; }\n}\n\nclass DocView extends ContentView {\n    constructor(view) {\n        super();\n        this.view = view;\n        this.compositionDeco = Decoration.none;\n        this.decorations = [];\n        // Track a minimum width for the editor. When measuring sizes in\n        // checkLayout, this is updated to point at the width of a given\n        // element and its extent in the document. When a change happens in\n        // that range, these are reset. That way, once we've seen a\n        // line/element of a given length, we keep the editor wide enough to\n        // fit at least that element, until it is changed, at which point we\n        // forget it again.\n        this.minWidth = 0;\n        this.minWidthFrom = 0;\n        this.minWidthTo = 0;\n        // Track whether the DOM selection was set in a lossy way, so that\n        // we don't mess it up when reading it back it\n        this.impreciseAnchor = null;\n        this.impreciseHead = null;\n        this.setDOM(view.contentDOM);\n        this.children = [new LineView];\n        this.children[0].setParent(this);\n        this.updateInner([new ChangedRange(0, 0, 0, view.state.doc.length)], this.updateDeco(), 0);\n    }\n    get root() { return this.view.root; }\n    get editorView() { return this.view; }\n    get length() { return this.view.state.doc.length; }\n    // Update the document view to a given state. scrollIntoView can be\n    // used as a hint to compute a new viewport that includes that\n    // position, if we know the editor is going to scroll that position\n    // into view.\n    update(update) {\n        let changedRanges = update.changedRanges;\n        if (this.minWidth > 0 && changedRanges.length) {\n            if (!changedRanges.every(({ fromA, toA }) => toA < this.minWidthFrom || fromA > this.minWidthTo)) {\n                this.minWidth = 0;\n            }\n            else {\n                this.minWidthFrom = update.changes.mapPos(this.minWidthFrom, 1);\n                this.minWidthTo = update.changes.mapPos(this.minWidthTo, 1);\n            }\n        }\n        if (this.view.inputState.composing < 0)\n            this.compositionDeco = Decoration.none;\n        else if (update.transactions.length)\n            this.compositionDeco = computeCompositionDeco(this.view, update.changes);\n        // When the DOM nodes around the selection are moved to another\n        // parent, Chrome sometimes reports a different selection through\n        // getSelection than the one that it actually shows to the user.\n        // This forces a selection update when lines are joined to work\n        // around that. Issue #54\n        let forceSelection = (browser.ie || browser.chrome) && !this.compositionDeco.size && update &&\n            update.state.doc.lines != update.startState.doc.lines;\n        let prevDeco = this.decorations, deco = this.updateDeco();\n        let decoDiff = findChangedDeco(prevDeco, deco, update.changes);\n        changedRanges = ChangedRange.extendWithRanges(changedRanges, decoDiff);\n        let pointerSel = update.transactions.some(tr => tr.isUserEvent(\"select.pointer\"));\n        if (this.dirty == 0 /* Not */ && changedRanges.length == 0 &&\n            !(update.flags & (4 /* Viewport */ | 8 /* LineGaps */)) &&\n            update.state.selection.main.from >= this.view.viewport.from &&\n            update.state.selection.main.to <= this.view.viewport.to) {\n            this.updateSelection(forceSelection, pointerSel);\n            return false;\n        }\n        else {\n            this.updateInner(changedRanges, deco, update.startState.doc.length, forceSelection, pointerSel);\n            return true;\n        }\n    }\n    // Used both by update and checkLayout do perform the actual DOM\n    // update\n    updateInner(changes, deco, oldLength, forceSelection = false, pointerSel = false) {\n        this.updateChildren(changes, deco, oldLength);\n        let { observer } = this.view;\n        observer.ignore(() => {\n            // Lock the height during redrawing, since Chrome sometimes\n            // messes with the scroll position during DOM mutation (though\n            // no relayout is triggered and I cannot imagine how it can\n            // recompute the scroll position without a layout)\n            this.dom.style.height = this.view.viewState.domHeight + \"px\";\n            this.dom.style.minWidth = this.minWidth ? this.minWidth + \"px\" : \"\";\n            // Chrome will sometimes, when DOM mutations occur directly\n            // around the selection, get confused and report a different\n            // selection from the one it displays (issue #218). This tries\n            // to detect that situation.\n            let track = browser.chrome || browser.ios ? { node: observer.selectionRange.focusNode, written: false } : undefined;\n            this.sync(track);\n            this.dirty = 0 /* Not */;\n            if (track && (track.written || observer.selectionRange.focusNode != track.node))\n                forceSelection = true;\n            this.updateSelection(forceSelection, pointerSel);\n            this.dom.style.height = \"\";\n        });\n    }\n    updateChildren(changes, deco, oldLength) {\n        let cursor = this.childCursor(oldLength);\n        for (let i = changes.length - 1;; i--) {\n            let next = i >= 0 ? changes[i] : null;\n            if (!next)\n                break;\n            let { fromA, toA, fromB, toB } = next;\n            let { content, breakAtStart, openStart, openEnd } = ContentBuilder.build(this.view.state.doc, fromB, toB, deco);\n            let { i: toI, off: toOff } = cursor.findPos(toA, 1);\n            let { i: fromI, off: fromOff } = cursor.findPos(fromA, -1);\n            this.replaceRange(fromI, fromOff, toI, toOff, content, breakAtStart, openStart, openEnd);\n        }\n    }\n    replaceRange(fromI, fromOff, toI, toOff, content, breakAtStart, openStart, openEnd) {\n        let before = this.children[fromI], last = content.length ? content[content.length - 1] : null;\n        let breakAtEnd = last ? last.breakAfter : breakAtStart;\n        // Change within a single line\n        if (fromI == toI && !breakAtStart && !breakAtEnd && content.length < 2 &&\n            before.merge(fromOff, toOff, content.length ? last : null, fromOff == 0, openStart, openEnd))\n            return;\n        let after = this.children[toI];\n        // Make sure the end of the line after the update is preserved in `after`\n        if (toOff < after.length) {\n            // If we're splitting a line, separate part of the start line to\n            // avoid that being mangled when updating the start line.\n            if (fromI == toI) {\n                after = after.split(toOff);\n                toOff = 0;\n            }\n            // If the element after the replacement should be merged with\n            // the last replacing element, update `content`\n            if (!breakAtEnd && last && after.merge(0, toOff, last, true, 0, openEnd)) {\n                content[content.length - 1] = after;\n            }\n            else {\n                // Remove the start of the after element, if necessary, and\n                // add it to `content`.\n                if (toOff)\n                    after.merge(0, toOff, null, false, 0, openEnd);\n                content.push(after);\n            }\n        }\n        else if (after.breakAfter) {\n            // The element at `toI` is entirely covered by this range.\n            // Preserve its line break, if any.\n            if (last)\n                last.breakAfter = 1;\n            else\n                breakAtStart = 1;\n        }\n        // Since we've handled the next element from the current elements\n        // now, make sure `toI` points after that.\n        toI++;\n        before.breakAfter = breakAtStart;\n        if (fromOff > 0) {\n            if (!breakAtStart && content.length && before.merge(fromOff, before.length, content[0], false, openStart, 0)) {\n                before.breakAfter = content.shift().breakAfter;\n            }\n            else if (fromOff < before.length || before.children.length && before.children[before.children.length - 1].length == 0) {\n                before.merge(fromOff, before.length, null, false, openStart, 0);\n            }\n            fromI++;\n        }\n        // Try to merge widgets on the boundaries of the replacement\n        while (fromI < toI && content.length) {\n            if (this.children[toI - 1].match(content[content.length - 1]))\n                toI--, content.pop();\n            else if (this.children[fromI].match(content[0]))\n                fromI++, content.shift();\n            else\n                break;\n        }\n        if (fromI < toI || content.length)\n            this.replaceChildren(fromI, toI, content);\n    }\n    // Sync the DOM selection to this.state.selection\n    updateSelection(force = false, fromPointer = false) {\n        if (!(fromPointer || this.mayControlSelection()) ||\n            browser.ios && this.view.inputState.rapidCompositionStart)\n            return;\n        let main = this.view.state.selection.main;\n        // FIXME need to handle the case where the selection falls inside a block range\n        let anchor = this.domAtPos(main.anchor);\n        let head = main.empty ? anchor : this.domAtPos(main.head);\n        // Always reset on Firefox when next to an uneditable node to\n        // avoid invisible cursor bugs (#111)\n        if (browser.gecko && main.empty && betweenUneditable(anchor)) {\n            let dummy = document.createTextNode(\"\");\n            this.view.observer.ignore(() => anchor.node.insertBefore(dummy, anchor.node.childNodes[anchor.offset] || null));\n            anchor = head = new DOMPos(dummy, 0);\n            force = true;\n        }\n        let domSel = this.view.observer.selectionRange;\n        // If the selection is already here, or in an equivalent position, don't touch it\n        if (force || !domSel.focusNode ||\n            !isEquivalentPosition(anchor.node, anchor.offset, domSel.anchorNode, domSel.anchorOffset) ||\n            !isEquivalentPosition(head.node, head.offset, domSel.focusNode, domSel.focusOffset)) {\n            this.view.observer.ignore(() => {\n                let rawSel = getSelection(this.root);\n                if (main.empty) {\n                    // Work around https://bugzilla.mozilla.org/show_bug.cgi?id=1612076\n                    if (browser.gecko) {\n                        let nextTo = nextToUneditable(anchor.node, anchor.offset);\n                        if (nextTo && nextTo != (1 /* Before */ | 2 /* After */)) {\n                            let text = nearbyTextNode(anchor.node, anchor.offset, nextTo == 1 /* Before */ ? 1 : -1);\n                            if (text)\n                                anchor = new DOMPos(text, nextTo == 1 /* Before */ ? 0 : text.nodeValue.length);\n                        }\n                    }\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    if (main.bidiLevel != null && domSel.cursorBidiLevel != null)\n                        domSel.cursorBidiLevel = main.bidiLevel;\n                }\n                else if (rawSel.extend) {\n                    // Selection.extend can be used to create an 'inverted' selection\n                    // (one where the focus is before the anchor), but not all\n                    // browsers support it yet.\n                    rawSel.collapse(anchor.node, anchor.offset);\n                    rawSel.extend(head.node, head.offset);\n                }\n                else {\n                    // Primitive (IE) way\n                    let range = document.createRange();\n                    if (main.anchor > main.head)\n                        [anchor, head] = [head, anchor];\n                    range.setEnd(head.node, head.offset);\n                    range.setStart(anchor.node, anchor.offset);\n                    rawSel.removeAllRanges();\n                    rawSel.addRange(range);\n                }\n            });\n            this.view.observer.setSelectionRange(anchor, head);\n        }\n        this.impreciseAnchor = anchor.precise ? null : new DOMPos(domSel.anchorNode, domSel.anchorOffset);\n        this.impreciseHead = head.precise ? null : new DOMPos(domSel.focusNode, domSel.focusOffset);\n    }\n    enforceCursorAssoc() {\n        if (this.view.composing)\n            return;\n        let cursor = this.view.state.selection.main;\n        let sel = getSelection(this.root);\n        if (!cursor.empty || !cursor.assoc || !sel.modify)\n            return;\n        let line = LineView.find(this, cursor.head);\n        if (!line)\n            return;\n        let lineStart = line.posAtStart;\n        if (cursor.head == lineStart || cursor.head == lineStart + line.length)\n            return;\n        let before = this.coordsAt(cursor.head, -1), after = this.coordsAt(cursor.head, 1);\n        if (!before || !after || before.bottom > after.top)\n            return;\n        let dom = this.domAtPos(cursor.head + cursor.assoc);\n        sel.collapse(dom.node, dom.offset);\n        sel.modify(\"move\", cursor.assoc < 0 ? \"forward\" : \"backward\", \"lineboundary\");\n    }\n    mayControlSelection() {\n        return this.view.state.facet(editable) ? this.root.activeElement == this.dom\n            : hasSelection(this.dom, this.view.observer.selectionRange);\n    }\n    nearest(dom) {\n        for (let cur = dom; cur;) {\n            let domView = ContentView.get(cur);\n            if (domView && domView.rootView == this)\n                return domView;\n            cur = cur.parentNode;\n        }\n        return null;\n    }\n    posFromDOM(node, offset) {\n        let view = this.nearest(node);\n        if (!view)\n            throw new RangeError(\"Trying to find position for a DOM position outside of the document\");\n        return view.localPosFromDOM(node, offset) + view.posAtStart;\n    }\n    domAtPos(pos) {\n        let { i, off } = this.childCursor().findPos(pos, -1);\n        for (; i < this.children.length - 1;) {\n            let child = this.children[i];\n            if (off < child.length || child instanceof LineView)\n                break;\n            i++;\n            off = 0;\n        }\n        return this.children[i].domAtPos(off);\n    }\n    coordsAt(pos, side) {\n        for (let off = this.length, i = this.children.length - 1;; i--) {\n            let child = this.children[i], start = off - child.breakAfter - child.length;\n            if (pos > start ||\n                (pos == start && child.type != BlockType.WidgetBefore && child.type != BlockType.WidgetAfter &&\n                    (!i || side == 2 || this.children[i - 1].breakAfter ||\n                        (this.children[i - 1].type == BlockType.WidgetBefore && side > -2))))\n                return child.coordsAt(pos - start, side);\n            off = start;\n        }\n    }\n    measureVisibleLineHeights() {\n        let result = [], { from, to } = this.view.viewState.viewport;\n        let minWidth = Math.max(this.view.scrollDOM.clientWidth, this.minWidth) + 1;\n        for (let pos = 0, i = 0; i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (end > to)\n                break;\n            if (pos >= from) {\n                result.push(child.dom.getBoundingClientRect().height);\n                let width = child.dom.scrollWidth;\n                if (width > minWidth) {\n                    this.minWidth = minWidth = width;\n                    this.minWidthFrom = pos;\n                    this.minWidthTo = end;\n                }\n            }\n            pos = end + child.breakAfter;\n        }\n        return result;\n    }\n    measureTextSize() {\n        for (let child of this.children) {\n            if (child instanceof LineView) {\n                let measure = child.measureTextSize();\n                if (measure)\n                    return measure;\n            }\n        }\n        // If no workable line exists, force a layout of a measurable element\n        let dummy = document.createElement(\"div\"), lineHeight, charWidth;\n        dummy.className = \"cm-line\";\n        dummy.textContent = \"abc def ghi jkl mno pqr stu\";\n        this.view.observer.ignore(() => {\n            this.dom.appendChild(dummy);\n            let rect = clientRectsFor(dummy.firstChild)[0];\n            lineHeight = dummy.getBoundingClientRect().height;\n            charWidth = rect ? rect.width / 27 : 7;\n            dummy.remove();\n        });\n        return { lineHeight, charWidth };\n    }\n    childCursor(pos = this.length) {\n        // Move back to start of last element when possible, so that\n        // `ChildCursor.findPos` doesn't have to deal with the edge case\n        // of being after the last element.\n        let i = this.children.length;\n        if (i)\n            pos -= this.children[--i].length;\n        return new ChildCursor(this.children, pos, i);\n    }\n    computeBlockGapDeco() {\n        let deco = [], vs = this.view.viewState;\n        for (let pos = 0, i = 0;; i++) {\n            let next = i == vs.viewports.length ? null : vs.viewports[i];\n            let end = next ? next.from - 1 : this.length;\n            if (end > pos) {\n                let height = vs.lineAt(end, 0).bottom - vs.lineAt(pos, 0).top;\n                deco.push(Decoration.replace({ widget: new BlockGapWidget(height), block: true, inclusive: true }).range(pos, end));\n            }\n            if (!next)\n                break;\n            pos = next.to + 1;\n        }\n        return Decoration.set(deco);\n    }\n    updateDeco() {\n        return this.decorations = [\n            ...this.view.pluginField(PluginField.decorations),\n            ...this.view.state.facet(decorations),\n            this.compositionDeco,\n            this.computeBlockGapDeco(),\n            this.view.viewState.lineGapDeco\n        ];\n    }\n    scrollRangeIntoView(range) {\n        let rect = this.coordsAt(range.head, range.empty ? range.assoc : range.head > range.anchor ? -1 : 1), other;\n        if (!rect)\n            return;\n        if (!range.empty && (other = this.coordsAt(range.anchor, range.anchor > range.head ? -1 : 1)))\n            rect = { left: Math.min(rect.left, other.left), top: Math.min(rect.top, other.top),\n                right: Math.max(rect.right, other.right), bottom: Math.max(rect.bottom, other.bottom) };\n        let mLeft = 0, mRight = 0, mTop = 0, mBottom = 0;\n        for (let margins of this.view.pluginField(PluginField.scrollMargins))\n            if (margins) {\n                let { left, right, top, bottom } = margins;\n                if (left != null)\n                    mLeft = Math.max(mLeft, left);\n                if (right != null)\n                    mRight = Math.max(mRight, right);\n                if (top != null)\n                    mTop = Math.max(mTop, top);\n                if (bottom != null)\n                    mBottom = Math.max(mBottom, bottom);\n            }\n        scrollRectIntoView(this.dom, {\n            left: rect.left - mLeft, top: rect.top - mTop,\n            right: rect.right + mRight, bottom: rect.bottom + mBottom\n        }, range.head < range.anchor ? -1 : 1);\n    }\n}\nfunction betweenUneditable(pos) {\n    return pos.node.nodeType == 1 && pos.node.firstChild &&\n        (pos.offset == 0 || pos.node.childNodes[pos.offset - 1].contentEditable == \"false\") &&\n        (pos.offset == pos.node.childNodes.length || pos.node.childNodes[pos.offset].contentEditable == \"false\");\n}\nclass BlockGapWidget extends WidgetType {\n    constructor(height) {\n        super();\n        this.height = height;\n    }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        this.updateDOM(elt);\n        return elt;\n    }\n    eq(other) { return other.height == this.height; }\n    updateDOM(elt) {\n        elt.style.height = this.height + \"px\";\n        return true;\n    }\n    get estimatedHeight() { return this.height; }\n}\nfunction computeCompositionDeco(view, changes) {\n    let sel = view.observer.selectionRange;\n    let textNode = sel.focusNode && nearbyTextNode(sel.focusNode, sel.focusOffset, 0);\n    if (!textNode)\n        return Decoration.none;\n    let cView = view.docView.nearest(textNode);\n    let from, to, topNode = textNode;\n    if (cView instanceof InlineView) {\n        while (cView.parent instanceof InlineView)\n            cView = cView.parent;\n        from = cView.posAtStart;\n        to = from + cView.length;\n        topNode = cView.dom;\n    }\n    else if (cView instanceof LineView) {\n        while (topNode.parentNode != cView.dom)\n            topNode = topNode.parentNode;\n        let prev = topNode.previousSibling;\n        while (prev && !ContentView.get(prev))\n            prev = prev.previousSibling;\n        from = to = prev ? ContentView.get(prev).posAtEnd : cView.posAtStart;\n    }\n    else {\n        return Decoration.none;\n    }\n    let newFrom = changes.mapPos(from, 1), newTo = Math.max(newFrom, changes.mapPos(to, -1));\n    let text = textNode.nodeValue, { state } = view;\n    if (newTo - newFrom < text.length) {\n        if (state.sliceDoc(newFrom, Math.min(state.doc.length, newFrom + text.length)) == text)\n            newTo = newFrom + text.length;\n        else if (state.sliceDoc(Math.max(0, newTo - text.length), newTo) == text)\n            newFrom = newTo - text.length;\n        else\n            return Decoration.none;\n    }\n    else if (state.sliceDoc(newFrom, newTo) != text) {\n        return Decoration.none;\n    }\n    return Decoration.set(Decoration.replace({ widget: new CompositionWidget(topNode, textNode) }).range(newFrom, newTo));\n}\nclass CompositionWidget extends WidgetType {\n    constructor(top, text) {\n        super();\n        this.top = top;\n        this.text = text;\n    }\n    eq(other) { return this.top == other.top && this.text == other.text; }\n    toDOM() { return this.top; }\n    ignoreEvent() { return false; }\n    get customView() { return CompositionView; }\n}\nfunction nearbyTextNode(node, offset, side) {\n    for (;;) {\n        if (node.nodeType == 3)\n            return node;\n        if (node.nodeType == 1 && offset > 0 && side <= 0) {\n            node = node.childNodes[offset - 1];\n            offset = maxOffset(node);\n        }\n        else if (node.nodeType == 1 && offset < node.childNodes.length && side >= 0) {\n            node = node.childNodes[offset];\n            offset = 0;\n        }\n        else {\n            return null;\n        }\n    }\n}\nfunction nextToUneditable(node, offset) {\n    if (node.nodeType != 1)\n        return 0;\n    return (offset && node.childNodes[offset - 1].contentEditable == \"false\" ? 1 /* Before */ : 0) |\n        (offset < node.childNodes.length && node.childNodes[offset].contentEditable == \"false\" ? 2 /* After */ : 0);\n}\nclass DecorationComparator$1 {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange(from, to) { addRange(from, to, this.changes); }\n    comparePoint(from, to) { addRange(from, to, this.changes); }\n}\nfunction findChangedDeco(a, b, diff) {\n    let comp = new DecorationComparator$1;\n    RangeSet.compare(a, b, diff, comp);\n    return comp.changes;\n}\n\n/**\nUsed to indicate [text direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection).\n*/\nvar Direction = /*@__PURE__*/(function (Direction) {\n    // (These are chosen to match the base levels, in bidi algorithm\n    // terms, of spans in that direction.)\n    /**\n    Left-to-right.\n    */\n    Direction[Direction[\"LTR\"] = 0] = \"LTR\";\n    /**\n    Right-to-left.\n    */\n    Direction[Direction[\"RTL\"] = 1] = \"RTL\";\nreturn Direction})(Direction || (Direction = {}));\nconst LTR = Direction.LTR, RTL = Direction.RTL;\n// Decode a string with each type encoded as log2(type)\nfunction dec(str) {\n    let result = [];\n    for (let i = 0; i < str.length; i++)\n        result.push(1 << +str[i]);\n    return result;\n}\n// Character types for codepoints 0 to 0xf8\nconst LowTypes = /*@__PURE__*/dec(\"88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008\");\n// Character types for codepoints 0x600 to 0x6f9\nconst ArabicTypes = /*@__PURE__*/dec(\"4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333\");\nconst Brackets = /*@__PURE__*/Object.create(null), BracketStack = [];\n// There's a lot more in\n// https://www.unicode.org/Public/UCD/latest/ucd/BidiBrackets.txt,\n// which are left out to keep code size down.\nfor (let p of [\"()\", \"[]\", \"{}\"]) {\n    let l = /*@__PURE__*/p.charCodeAt(0), r = /*@__PURE__*/p.charCodeAt(1);\n    Brackets[l] = r;\n    Brackets[r] = -l;\n}\nfunction charType(ch) {\n    return ch <= 0xf7 ? LowTypes[ch] :\n        0x590 <= ch && ch <= 0x5f4 ? 2 /* R */ :\n            0x600 <= ch && ch <= 0x6f9 ? ArabicTypes[ch - 0x600] :\n                0x6ee <= ch && ch <= 0x8ac ? 4 /* AL */ :\n                    0x2000 <= ch && ch <= 0x200b ? 256 /* NI */ :\n                        ch == 0x200c ? 256 /* NI */ : 1 /* L */;\n}\nconst BidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n/**\nRepresents a contiguous range of text that has a single direction\n(as in left-to-right or right-to-left).\n*/\nclass BidiSpan {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the span (relative to the start of the line).\n    */\n    from, \n    /**\n    The end of the span.\n    */\n    to, \n    /**\n    The [\"bidi\n    level\"](https://unicode.org/reports/tr9/#Basic_Display_Algorithm)\n    of the span (in this context, 0 means\n    left-to-right, 1 means right-to-left, 2 means left-to-right\n    number inside right-to-left text).\n    */\n    level) {\n        this.from = from;\n        this.to = to;\n        this.level = level;\n    }\n    /**\n    The direction of this span.\n    */\n    get dir() { return this.level % 2 ? RTL : LTR; }\n    /**\n    @internal\n    */\n    side(end, dir) { return (this.dir == dir) == end ? this.to : this.from; }\n    /**\n    @internal\n    */\n    static find(order, index, level, assoc) {\n        let maybe = -1;\n        for (let i = 0; i < order.length; i++) {\n            let span = order[i];\n            if (span.from <= index && span.to >= index) {\n                if (span.level == level)\n                    return i;\n                // When multiple spans match, if assoc != 0, take the one that\n                // covers that side, otherwise take the one with the minimum\n                // level.\n                if (maybe < 0 || (assoc != 0 ? (assoc < 0 ? span.from < index : span.to > index) : order[maybe].level > span.level))\n                    maybe = i;\n            }\n        }\n        if (maybe < 0)\n            throw new RangeError(\"Index out of range\");\n        return maybe;\n    }\n}\n// Reused array of character types\nconst types = [];\nfunction computeOrder(line, direction) {\n    let len = line.length, outerType = direction == LTR ? 1 /* L */ : 2 /* R */, oppositeType = direction == LTR ? 2 /* R */ : 1 /* L */;\n    if (!line || outerType == 1 /* L */ && !BidiRE.test(line))\n        return trivialOrder(len);\n    // W1. Examine each non-spacing mark (NSM) in the level run, and\n    // change the type of the NSM to the type of the previous\n    // character. If the NSM is at the start of the level run, it will\n    // get the type of sor.\n    // W2. Search backwards from each instance of a European number\n    // until the first strong type (R, L, AL, or sor) is found. If an\n    // AL is found, change the type of the European number to Arabic\n    // number.\n    // W3. Change all ALs to R.\n    // (Left after this: L, R, EN, AN, ET, CS, NI)\n    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {\n        let type = charType(line.charCodeAt(i));\n        if (type == 512 /* NSM */)\n            type = prev;\n        else if (type == 8 /* EN */ && prevStrong == 4 /* AL */)\n            type = 16 /* AN */;\n        types[i] = type == 4 /* AL */ ? 2 /* R */ : type;\n        if (type & 7 /* Strong */)\n            prevStrong = type;\n        prev = type;\n    }\n    // W5. A sequence of European terminators adjacent to European\n    // numbers changes to all European numbers.\n    // W6. Otherwise, separators and terminators change to Other\n    // Neutral.\n    // W7. Search backwards from each instance of a European number\n    // until the first strong type (R, L, or sor) is found. If an L is\n    // found, then change the type of the European number to L.\n    // (Left after this: L, R, EN+AN, NI)\n    for (let i = 0, prev = outerType, prevStrong = outerType; i < len; i++) {\n        let type = types[i];\n        if (type == 128 /* CS */) {\n            if (i < len - 1 && prev == types[i + 1] && (prev & 24 /* Num */))\n                type = types[i] = prev;\n            else\n                types[i] = 256 /* NI */;\n        }\n        else if (type == 64 /* ET */) {\n            let end = i + 1;\n            while (end < len && types[end] == 64 /* ET */)\n                end++;\n            let replace = (i && prev == 8 /* EN */) || (end < len && types[end] == 8 /* EN */) ? (prevStrong == 1 /* L */ ? 1 /* L */ : 8 /* EN */) : 256 /* NI */;\n            for (let j = i; j < end; j++)\n                types[j] = replace;\n            i = end - 1;\n        }\n        else if (type == 8 /* EN */ && prevStrong == 1 /* L */) {\n            types[i] = 1 /* L */;\n        }\n        prev = type;\n        if (type & 7 /* Strong */)\n            prevStrong = type;\n    }\n    // N0. Process bracket pairs in an isolating run sequence\n    // sequentially in the logical order of the text positions of the\n    // opening paired brackets using the logic given below. Within this\n    // scope, bidirectional types EN and AN are treated as R.\n    for (let i = 0, sI = 0, context = 0, ch, br, type; i < len; i++) {\n        // Keeps [startIndex, type, strongSeen] triples for each open\n        // bracket on BracketStack.\n        if (br = Brackets[ch = line.charCodeAt(i)]) {\n            if (br < 0) { // Closing bracket\n                for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                    if (BracketStack[sJ + 1] == -br) {\n                        let flags = BracketStack[sJ + 2];\n                        let type = (flags & 2 /* EmbedInside */) ? outerType :\n                            !(flags & 4 /* OppositeInside */) ? 0 :\n                                (flags & 1 /* OppositeBefore */) ? oppositeType : outerType;\n                        if (type)\n                            types[i] = types[BracketStack[sJ]] = type;\n                        sI = sJ;\n                        break;\n                    }\n                }\n            }\n            else if (BracketStack.length == 189 /* MaxDepth */) {\n                break;\n            }\n            else {\n                BracketStack[sI++] = i;\n                BracketStack[sI++] = ch;\n                BracketStack[sI++] = context;\n            }\n        }\n        else if ((type = types[i]) == 2 /* R */ || type == 1 /* L */) {\n            let embed = type == outerType;\n            context = embed ? 0 : 1 /* OppositeBefore */;\n            for (let sJ = sI - 3; sJ >= 0; sJ -= 3) {\n                let cur = BracketStack[sJ + 2];\n                if (cur & 2 /* EmbedInside */)\n                    break;\n                if (embed) {\n                    BracketStack[sJ + 2] |= 2 /* EmbedInside */;\n                }\n                else {\n                    if (cur & 4 /* OppositeInside */)\n                        break;\n                    BracketStack[sJ + 2] |= 4 /* OppositeInside */;\n                }\n            }\n        }\n    }\n    // N1. A sequence of neutrals takes the direction of the\n    // surrounding strong text if the text on both sides has the same\n    // direction. European and Arabic numbers act as if they were R in\n    // terms of their influence on neutrals. Start-of-level-run (sor)\n    // and end-of-level-run (eor) are used at level run boundaries.\n    // N2. Any remaining neutrals take the embedding direction.\n    // (Left after this: L, R, EN+AN)\n    for (let i = 0; i < len; i++) {\n        if (types[i] == 256 /* NI */) {\n            let end = i + 1;\n            while (end < len && types[end] == 256 /* NI */)\n                end++;\n            let beforeL = (i ? types[i - 1] : outerType) == 1 /* L */;\n            let afterL = (end < len ? types[end] : outerType) == 1 /* L */;\n            let replace = beforeL == afterL ? (beforeL ? 1 /* L */ : 2 /* R */) : outerType;\n            for (let j = i; j < end; j++)\n                types[j] = replace;\n            i = end - 1;\n        }\n    }\n    // Here we depart from the documented algorithm, in order to avoid\n    // building up an actual levels array. Since there are only three\n    // levels (0, 1, 2) in an implementation that doesn't take\n    // explicit embedding into account, we can build up the order on\n    // the fly, without following the level-based algorithm.\n    let order = [];\n    if (outerType == 1 /* L */) {\n        for (let i = 0; i < len;) {\n            let start = i, rtl = types[i++] != 1 /* L */;\n            while (i < len && rtl == (types[i] != 1 /* L */))\n                i++;\n            if (rtl) {\n                for (let j = i; j > start;) {\n                    let end = j, l = types[--j] != 2 /* R */;\n                    while (j > start && l == (types[j - 1] != 2 /* R */))\n                        j--;\n                    order.push(new BidiSpan(j, end, l ? 2 : 1));\n                }\n            }\n            else {\n                order.push(new BidiSpan(start, i, 0));\n            }\n        }\n    }\n    else {\n        for (let i = 0; i < len;) {\n            let start = i, rtl = types[i++] == 2 /* R */;\n            while (i < len && rtl == (types[i] == 2 /* R */))\n                i++;\n            order.push(new BidiSpan(start, i, rtl ? 1 : 2));\n        }\n    }\n    return order;\n}\nfunction trivialOrder(length) {\n    return [new BidiSpan(0, length, 0)];\n}\nlet movedOver = \"\";\nfunction moveVisually(line, order, dir, start, forward) {\n    var _a;\n    let startIndex = start.head - line.from, spanI = -1;\n    if (startIndex == 0) {\n        if (!forward || !line.length)\n            return null;\n        if (order[0].level != dir) {\n            startIndex = order[0].side(false, dir);\n            spanI = 0;\n        }\n    }\n    else if (startIndex == line.length) {\n        if (forward)\n            return null;\n        let last = order[order.length - 1];\n        if (last.level != dir) {\n            startIndex = last.side(true, dir);\n            spanI = order.length - 1;\n        }\n    }\n    if (spanI < 0)\n        spanI = BidiSpan.find(order, startIndex, (_a = start.bidiLevel) !== null && _a !== void 0 ? _a : -1, start.assoc);\n    let span = order[spanI];\n    // End of span. (But not end of line--that was checked for above.)\n    if (startIndex == span.side(forward, dir)) {\n        span = order[spanI += forward ? 1 : -1];\n        startIndex = span.side(!forward, dir);\n    }\n    let indexForward = forward == (span.dir == dir);\n    let nextIndex = findClusterBreak(line.text, startIndex, indexForward);\n    movedOver = line.text.slice(Math.min(startIndex, nextIndex), Math.max(startIndex, nextIndex));\n    if (nextIndex != span.side(forward, dir))\n        return EditorSelection.cursor(nextIndex + line.from, indexForward ? -1 : 1, span.level);\n    let nextSpan = spanI == (forward ? order.length - 1 : 0) ? null : order[spanI + (forward ? 1 : -1)];\n    if (!nextSpan && span.level != dir)\n        return EditorSelection.cursor(forward ? line.to : line.from, forward ? -1 : 1, dir);\n    if (nextSpan && nextSpan.level < span.level)\n        return EditorSelection.cursor(nextSpan.side(!forward, dir) + line.from, forward ? 1 : -1, nextSpan.level);\n    return EditorSelection.cursor(nextIndex + line.from, forward ? -1 : 1, span.level);\n}\n\nfunction groupAt(state, pos, bias = 1) {\n    let categorize = state.charCategorizer(pos);\n    let line = state.doc.lineAt(pos), linePos = pos - line.from;\n    if (line.length == 0)\n        return EditorSelection.cursor(pos);\n    if (linePos == 0)\n        bias = 1;\n    else if (linePos == line.length)\n        bias = -1;\n    let from = linePos, to = linePos;\n    if (bias < 0)\n        from = findClusterBreak(line.text, linePos, false);\n    else\n        to = findClusterBreak(line.text, linePos);\n    let cat = categorize(line.text.slice(from, to));\n    while (from > 0) {\n        let prev = findClusterBreak(line.text, from, false);\n        if (categorize(line.text.slice(prev, from)) != cat)\n            break;\n        from = prev;\n    }\n    while (to < line.length) {\n        let next = findClusterBreak(line.text, to);\n        if (categorize(line.text.slice(to, next)) != cat)\n            break;\n        to = next;\n    }\n    return EditorSelection.range(from + line.from, to + line.from);\n}\n// Search the DOM for the {node, offset} position closest to the given\n// coordinates. Very inefficient and crude, but can usually be avoided\n// by calling caret(Position|Range)FromPoint instead.\nfunction getdx(x, rect) {\n    return rect.left > x ? rect.left - x : Math.max(0, x - rect.right);\n}\nfunction getdy(y, rect) {\n    return rect.top > y ? rect.top - y : Math.max(0, y - rect.bottom);\n}\nfunction yOverlap(a, b) {\n    return a.top < b.bottom - 1 && a.bottom > b.top + 1;\n}\nfunction upTop(rect, top) {\n    return top < rect.top ? { top, left: rect.left, right: rect.right, bottom: rect.bottom } : rect;\n}\nfunction upBot(rect, bottom) {\n    return bottom > rect.bottom ? { top: rect.top, left: rect.left, right: rect.right, bottom } : rect;\n}\nfunction domPosAtCoords(parent, x, y) {\n    let closest, closestRect, closestX, closestY;\n    let above, below, aboveRect, belowRect;\n    for (let child = parent.firstChild; child; child = child.nextSibling) {\n        let rects = clientRectsFor(child);\n        for (let i = 0; i < rects.length; i++) {\n            let rect = rects[i];\n            if (closestRect && yOverlap(closestRect, rect))\n                rect = upTop(upBot(rect, closestRect.bottom), closestRect.top);\n            let dx = getdx(x, rect), dy = getdy(y, rect);\n            if (dx == 0 && dy == 0)\n                return child.nodeType == 3 ? domPosInText(child, x, y) : domPosAtCoords(child, x, y);\n            if (!closest || closestY > dy || closestY == dy && closestX > dx) {\n                closest = child;\n                closestRect = rect;\n                closestX = dx;\n                closestY = dy;\n            }\n            if (dx == 0) {\n                if (y > rect.bottom && (!aboveRect || aboveRect.bottom < rect.bottom)) {\n                    above = child;\n                    aboveRect = rect;\n                }\n                else if (y < rect.top && (!belowRect || belowRect.top > rect.top)) {\n                    below = child;\n                    belowRect = rect;\n                }\n            }\n            else if (aboveRect && yOverlap(aboveRect, rect)) {\n                aboveRect = upBot(aboveRect, rect.bottom);\n            }\n            else if (belowRect && yOverlap(belowRect, rect)) {\n                belowRect = upTop(belowRect, rect.top);\n            }\n        }\n    }\n    if (aboveRect && aboveRect.bottom >= y) {\n        closest = above;\n        closestRect = aboveRect;\n    }\n    else if (belowRect && belowRect.top <= y) {\n        closest = below;\n        closestRect = belowRect;\n    }\n    if (!closest)\n        return { node: parent, offset: 0 };\n    let clipX = Math.max(closestRect.left, Math.min(closestRect.right, x));\n    if (closest.nodeType == 3)\n        return domPosInText(closest, clipX, y);\n    if (!closestX && closest.contentEditable == \"true\")\n        return domPosAtCoords(closest, clipX, y);\n    let offset = Array.prototype.indexOf.call(parent.childNodes, closest) +\n        (x >= (closestRect.left + closestRect.right) / 2 ? 1 : 0);\n    return { node: parent, offset };\n}\nfunction domPosInText(node, x, y) {\n    let len = node.nodeValue.length;\n    let closestOffset = -1, closestDY = 1e9, generalSide = 0;\n    for (let i = 0; i < len; i++) {\n        let rects = textRange(node, i, i + 1).getClientRects();\n        for (let j = 0; j < rects.length; j++) {\n            let rect = rects[j];\n            if (rect.top == rect.bottom)\n                continue;\n            if (!generalSide)\n                generalSide = x - rect.left;\n            let dy = (rect.top > y ? rect.top - y : y - rect.bottom) - 1;\n            if (rect.left - 1 <= x && rect.right + 1 >= x && dy < closestDY) {\n                let right = x >= (rect.left + rect.right) / 2, after = right;\n                if (browser.chrome || browser.gecko) {\n                    // Check for RTL on browsers that support getting client\n                    // rects for empty ranges.\n                    let rectBefore = textRange(node, i).getBoundingClientRect();\n                    if (rectBefore.left == rect.right)\n                        after = !right;\n                }\n                if (dy <= 0)\n                    return { node, offset: i + (after ? 1 : 0) };\n                closestOffset = i + (after ? 1 : 0);\n                closestDY = dy;\n            }\n        }\n    }\n    return { node, offset: closestOffset > -1 ? closestOffset : generalSide > 0 ? node.nodeValue.length : 0 };\n}\nfunction posAtCoords(view, { x, y }, precise, bias = -1) {\n    let content = view.contentDOM.getBoundingClientRect(), block;\n    let halfLine = view.defaultLineHeight / 2;\n    for (let bounced = false;;) {\n        block = view.blockAtHeight(y, content.top);\n        if (block.top > y || block.bottom < y) {\n            bias = block.top > y ? -1 : 1;\n            y = Math.min(block.bottom - halfLine, Math.max(block.top + halfLine, y));\n            if (bounced)\n                return precise ? null : 0;\n            else\n                bounced = true;\n        }\n        if (block.type == BlockType.Text)\n            break;\n        y = bias > 0 ? block.bottom + halfLine : block.top - halfLine;\n    }\n    let lineStart = block.from;\n    x = Math.max(content.left + 1, Math.min(content.right - 1, x));\n    // If this is outside of the rendered viewport, we can't determine a position\n    if (lineStart < view.viewport.from)\n        return view.viewport.from == 0 ? 0 : posAtCoordsImprecise(view, content, block, x, y);\n    if (lineStart > view.viewport.to)\n        return view.viewport.to == view.state.doc.length ? view.state.doc.length : posAtCoordsImprecise(view, content, block, x, y);\n    // Clip x to the viewport sides\n    let root = view.root, element = root.elementFromPoint(x, y);\n    // There's visible editor content under the point, so we can try\n    // using caret(Position|Range)FromPoint as a shortcut\n    let node, offset = -1;\n    if (element && view.contentDOM.contains(element) && !(view.docView.nearest(element) instanceof WidgetView)) {\n        if (root.caretPositionFromPoint) {\n            let pos = root.caretPositionFromPoint(x, y);\n            if (pos)\n                ({ offsetNode: node, offset } = pos);\n        }\n        else if (root.caretRangeFromPoint) {\n            let range = root.caretRangeFromPoint(x, y);\n            if (range) {\n                ({ startContainer: node, startOffset: offset } = range);\n                if (browser.safari && isSuspiciousCaretResult(node, offset, x))\n                    node = undefined;\n            }\n        }\n    }\n    // No luck, do our own (potentially expensive) search\n    if (!node || !view.docView.dom.contains(node)) {\n        let line = LineView.find(view.docView, lineStart);\n        ({ node, offset } = domPosAtCoords(line.dom, x, y));\n    }\n    return view.docView.posFromDOM(node, offset);\n}\nfunction posAtCoordsImprecise(view, contentRect, block, x, y) {\n    let into = Math.round((x - contentRect.left) * view.defaultCharacterWidth);\n    if (view.lineWrapping && block.height > view.defaultLineHeight * 1.5) {\n        let line = Math.floor((y - block.top) / view.defaultLineHeight);\n        into += line * view.viewState.heightOracle.lineLength;\n    }\n    let content = view.state.sliceDoc(block.from, block.to);\n    return block.from + findColumn(content, into, view.state.tabSize);\n}\n// In case of a high line height, Safari's caretRangeFromPoint treats\n// the space between lines as belonging to the last character of the\n// line before. This is used to detect such a result so that it can be\n// ignored (issue #401).\nfunction isSuspiciousCaretResult(node, offset, x) {\n    let len;\n    if (node.nodeType != 3 || offset != (len = node.nodeValue.length))\n        return false;\n    for (let next = node.nextSibling; next; next = next.nextSibling)\n        if (next.nodeType != 1 || next.nodeName != \"BR\")\n            return false;\n    return textRange(node, len - 1, len).getBoundingClientRect().left > x;\n}\nfunction moveToLineBoundary(view, start, forward, includeWrap) {\n    let line = view.state.doc.lineAt(start.head);\n    let coords = !includeWrap || !view.lineWrapping ? null\n        : view.coordsAtPos(start.assoc < 0 && start.head > line.from ? start.head - 1 : start.head);\n    if (coords) {\n        let editorRect = view.dom.getBoundingClientRect();\n        let pos = view.posAtCoords({ x: forward == (view.textDirection == Direction.LTR) ? editorRect.right - 1 : editorRect.left + 1,\n            y: (coords.top + coords.bottom) / 2 });\n        if (pos != null)\n            return EditorSelection.cursor(pos, forward ? -1 : 1);\n    }\n    let lineView = LineView.find(view.docView, start.head);\n    let end = lineView ? (forward ? lineView.posAtEnd : lineView.posAtStart) : (forward ? line.to : line.from);\n    return EditorSelection.cursor(end, forward ? -1 : 1);\n}\nfunction moveByChar(view, start, forward, by) {\n    let line = view.state.doc.lineAt(start.head), spans = view.bidiSpans(line);\n    for (let cur = start, check = null;;) {\n        let next = moveVisually(line, spans, view.textDirection, cur, forward), char = movedOver;\n        if (!next) {\n            if (line.number == (forward ? view.state.doc.lines : 1))\n                return cur;\n            char = \"\\n\";\n            line = view.state.doc.line(line.number + (forward ? 1 : -1));\n            spans = view.bidiSpans(line);\n            next = EditorSelection.cursor(forward ? line.from : line.to);\n        }\n        if (!check) {\n            if (!by)\n                return next;\n            check = by(char);\n        }\n        else if (!check(char)) {\n            return cur;\n        }\n        cur = next;\n    }\n}\nfunction byGroup(view, pos, start) {\n    let categorize = view.state.charCategorizer(pos);\n    let cat = categorize(start);\n    return (next) => {\n        let nextCat = categorize(next);\n        if (cat == CharCategory.Space)\n            cat = nextCat;\n        return cat == nextCat;\n    };\n}\nfunction moveVertically(view, start, forward, distance) {\n    let startPos = start.head, dir = forward ? 1 : -1;\n    if (startPos == (forward ? view.state.doc.length : 0))\n        return EditorSelection.cursor(startPos);\n    let goal = start.goalColumn, startY;\n    let rect = view.contentDOM.getBoundingClientRect();\n    let startCoords = view.coordsAtPos(startPos);\n    if (startCoords) {\n        if (goal == null)\n            goal = startCoords.left - rect.left;\n        startY = dir < 0 ? startCoords.top : startCoords.bottom;\n    }\n    else {\n        let line = view.viewState.lineAt(startPos, view.dom.getBoundingClientRect().top);\n        if (goal == null)\n            goal = Math.min(rect.right - rect.left, view.defaultCharacterWidth * (startPos - line.from));\n        startY = dir < 0 ? line.top : line.bottom;\n    }\n    let resolvedGoal = rect.left + goal;\n    let dist = distance !== null && distance !== void 0 ? distance : (view.defaultLineHeight >> 1);\n    for (let extra = 0;; extra += 10) {\n        let curY = startY + (dist + extra) * dir;\n        let pos = posAtCoords(view, { x: resolvedGoal, y: curY }, false, dir);\n        if (curY < rect.top || curY > rect.bottom || (dir < 0 ? pos < startPos : pos > startPos))\n            return EditorSelection.cursor(pos, undefined, undefined, goal);\n    }\n}\nfunction skipAtoms(view, oldPos, pos) {\n    let atoms = view.pluginField(PluginField.atomicRanges);\n    for (;;) {\n        let moved = false;\n        for (let set of atoms) {\n            set.between(pos.from - 1, pos.from + 1, (from, to, value) => {\n                if (pos.from > from && pos.from < to) {\n                    pos = oldPos.from > pos.from ? EditorSelection.cursor(from, 1) : EditorSelection.cursor(to, -1);\n                    moved = true;\n                }\n            });\n        }\n        if (!moved)\n            return pos;\n    }\n}\n\n// This will also be where dragging info and such goes\nclass InputState {\n    constructor(view) {\n        this.lastKeyCode = 0;\n        this.lastKeyTime = 0;\n        this.pendingIOSKey = null;\n        this.lastSelectionOrigin = null;\n        this.lastSelectionTime = 0;\n        this.lastEscPress = 0;\n        this.lastContextMenu = 0;\n        this.scrollHandlers = [];\n        this.registeredEvents = [];\n        this.customHandlers = [];\n        // -1 means not in a composition. Otherwise, this counts the number\n        // of changes made during the composition. The count is used to\n        // avoid treating the start state of the composition, before any\n        // changes have been made, as part of the composition.\n        this.composing = -1;\n        // Tracks whether the next change should be marked as starting the\n        // composition (null means no composition, true means next is the\n        // first, false means first has already been marked for this\n        // composition)\n        this.compositionFirstChange = null;\n        this.compositionEndedAt = 0;\n        this.rapidCompositionStart = false;\n        this.mouseSelection = null;\n        for (let type in handlers) {\n            let handler = handlers[type];\n            view.contentDOM.addEventListener(type, (event) => {\n                if (type == \"keydown\" && this.keydown(view, event))\n                    return;\n                if (!eventBelongsToEditor(view, event) || this.ignoreDuringComposition(event))\n                    return;\n                if (this.mustFlushObserver(event))\n                    view.observer.forceFlush();\n                if (this.runCustomHandlers(type, view, event))\n                    event.preventDefault();\n                else\n                    handler(view, event);\n            });\n            this.registeredEvents.push(type);\n        }\n        this.notifiedFocused = view.hasFocus;\n        this.ensureHandlers(view);\n        // On Safari adding an input event handler somehow prevents an\n        // issue where the composition vanishes when you press enter.\n        if (browser.safari)\n            view.contentDOM.addEventListener(\"input\", () => null);\n    }\n    setSelectionOrigin(origin) {\n        this.lastSelectionOrigin = origin;\n        this.lastSelectionTime = Date.now();\n    }\n    ensureHandlers(view) {\n        let handlers = this.customHandlers = view.pluginField(domEventHandlers);\n        for (let set of handlers) {\n            for (let type in set.handlers)\n                if (this.registeredEvents.indexOf(type) < 0 && type != \"scroll\") {\n                    this.registeredEvents.push(type);\n                    view.contentDOM.addEventListener(type, (event) => {\n                        if (!eventBelongsToEditor(view, event))\n                            return;\n                        if (this.runCustomHandlers(type, view, event))\n                            event.preventDefault();\n                    });\n                }\n        }\n    }\n    runCustomHandlers(type, view, event) {\n        for (let set of this.customHandlers) {\n            let handler = set.handlers[type], handled = false;\n            if (handler) {\n                try {\n                    handled = handler.call(set.plugin, event, view);\n                }\n                catch (e) {\n                    logException(view.state, e);\n                }\n                if (handled || event.defaultPrevented) {\n                    // Chrome for Android often applies a bunch of nonsensical\n                    // DOM changes after an enter press, even when\n                    // preventDefault-ed. This tries to ignore those.\n                    if (browser.android && type == \"keydown\" && event.keyCode == 13)\n                        view.observer.flushSoon();\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    runScrollHandlers(view, event) {\n        for (let set of this.customHandlers) {\n            let handler = set.handlers.scroll;\n            if (handler) {\n                try {\n                    handler.call(set.plugin, event, view);\n                }\n                catch (e) {\n                    logException(view.state, e);\n                }\n            }\n        }\n    }\n    keydown(view, event) {\n        // Must always run, even if a custom handler handled the event\n        this.lastKeyCode = event.keyCode;\n        this.lastKeyTime = Date.now();\n        if (this.screenKeyEvent(view, event))\n            return true;\n        // Prevent the default behavior of Enter on iOS makes the\n        // virtual keyboard get stuck in the wrong (lowercase)\n        // state. So we let it go through, and then, in\n        // applyDOMChange, notify key handlers of it and reset to\n        // the state they produce.\n        if (browser.ios && (event.keyCode == 13 || event.keyCode == 8) &&\n            !(event.ctrlKey || event.altKey || event.metaKey) && !event.synthetic) {\n            this.pendingIOSKey = event.keyCode == 13 ? \"enter\" : \"backspace\";\n            setTimeout(() => this.flushIOSKey(view), 250);\n            return true;\n        }\n        return false;\n    }\n    flushIOSKey(view) {\n        if (!this.pendingIOSKey)\n            return false;\n        let dom = view.contentDOM, key = this.pendingIOSKey;\n        this.pendingIOSKey = null;\n        return key == \"enter\" ? dispatchKey(dom, \"Enter\", 13) : dispatchKey(dom, \"Backspace\", 8);\n    }\n    ignoreDuringComposition(event) {\n        if (!/^key/.test(event.type))\n            return false;\n        if (this.composing > 0)\n            return true;\n        // See https://www.stum.de/2016/06/24/handling-ime-events-in-javascript/.\n        // On some input method editors (IMEs), the Enter key is used to\n        // confirm character selection. On Safari, when Enter is pressed,\n        // compositionend and keydown events are sometimes emitted in the\n        // wrong order. The key event should still be ignored, even when\n        // it happens after the compositionend event.\n        if (browser.safari && Date.now() - this.compositionEndedAt < 500) {\n            this.compositionEndedAt = 0;\n            return true;\n        }\n        return false;\n    }\n    screenKeyEvent(view, event) {\n        let protectedTab = event.keyCode == 9 && Date.now() < this.lastEscPress + 2000;\n        if (event.keyCode == 27)\n            this.lastEscPress = Date.now();\n        else if (modifierCodes.indexOf(event.keyCode) < 0)\n            this.lastEscPress = 0;\n        return protectedTab;\n    }\n    mustFlushObserver(event) {\n        return (event.type == \"keydown\" && event.keyCode != 229) ||\n            event.type == \"compositionend\" && !browser.ios;\n    }\n    startMouseSelection(view, event, style) {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n        this.mouseSelection = new MouseSelection(this, view, event, style);\n    }\n    update(update) {\n        if (this.mouseSelection)\n            this.mouseSelection.update(update);\n        if (update.transactions.length)\n            this.lastKeyCode = this.lastSelectionTime = 0;\n    }\n    destroy() {\n        if (this.mouseSelection)\n            this.mouseSelection.destroy();\n    }\n}\n// Key codes for modifier keys\nconst modifierCodes = [16, 17, 18, 20, 91, 92, 224, 225];\nclass MouseSelection {\n    constructor(inputState, view, startEvent, style) {\n        this.inputState = inputState;\n        this.view = view;\n        this.style = style;\n        this.lastEvent = startEvent;\n        let doc = view.contentDOM.ownerDocument;\n        doc.addEventListener(\"mousemove\", this.move = this.move.bind(this));\n        doc.addEventListener(\"mouseup\", this.up = this.up.bind(this));\n        this.extend = startEvent.shiftKey;\n        this.multiple = view.state.facet(EditorState.allowMultipleSelections) && addsSelectionRange(view, startEvent);\n        this.dragMove = dragMovesSelection(view, startEvent);\n        this.dragging = isInPrimarySelection(view, startEvent) ? null : false;\n        // When clicking outside of the selection, immediately apply the\n        // effect of starting the selection\n        if (this.dragging === false) {\n            startEvent.preventDefault();\n            this.select(startEvent);\n        }\n    }\n    move(event) {\n        if (event.buttons == 0)\n            return this.destroy();\n        if (this.dragging !== false)\n            return;\n        this.select(this.lastEvent = event);\n    }\n    up(event) {\n        if (this.dragging == null)\n            this.select(this.lastEvent);\n        if (!this.dragging)\n            event.preventDefault();\n        this.destroy();\n    }\n    destroy() {\n        let doc = this.view.contentDOM.ownerDocument;\n        doc.removeEventListener(\"mousemove\", this.move);\n        doc.removeEventListener(\"mouseup\", this.up);\n        this.inputState.mouseSelection = null;\n    }\n    select(event) {\n        let selection = this.style.get(event, this.extend, this.multiple);\n        if (!selection.eq(this.view.state.selection) || selection.main.assoc != this.view.state.selection.main.assoc)\n            this.view.dispatch({\n                selection,\n                userEvent: \"select.pointer\",\n                scrollIntoView: true\n            });\n    }\n    update(update) {\n        if (update.docChanged && this.dragging)\n            this.dragging = this.dragging.map(update.changes);\n        if (this.style.update(update))\n            setTimeout(() => this.select(this.lastEvent), 20);\n    }\n}\nfunction addsSelectionRange(view, event) {\n    let facet = view.state.facet(clickAddsSelectionRange);\n    return facet.length ? facet[0](event) : browser.mac ? event.metaKey : event.ctrlKey;\n}\nfunction dragMovesSelection(view, event) {\n    let facet = view.state.facet(dragMovesSelection$1);\n    return facet.length ? facet[0](event) : browser.mac ? !event.altKey : !event.ctrlKey;\n}\nfunction isInPrimarySelection(view, event) {\n    let { main } = view.state.selection;\n    if (main.empty)\n        return false;\n    // On boundary clicks, check whether the coordinates are inside the\n    // selection's client rectangles\n    let sel = getSelection(view.root);\n    if (sel.rangeCount == 0)\n        return true;\n    let rects = sel.getRangeAt(0).getClientRects();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        if (rect.left <= event.clientX && rect.right >= event.clientX &&\n            rect.top <= event.clientY && rect.bottom >= event.clientY)\n            return true;\n    }\n    return false;\n}\nfunction eventBelongsToEditor(view, event) {\n    if (!event.bubbles)\n        return true;\n    if (event.defaultPrevented)\n        return false;\n    for (let node = event.target, cView; node != view.contentDOM; node = node.parentNode)\n        if (!node || node.nodeType == 11 || ((cView = ContentView.get(node)) && cView.ignoreEvent(event)))\n            return false;\n    return true;\n}\nconst handlers = /*@__PURE__*/Object.create(null);\n// This is very crude, but unfortunately both these browsers _pretend_\n// that they have a clipboard APIall the objects and methods are\n// there, they just don't work, and they are hard to test.\nconst brokenClipboardAPI = (browser.ie && browser.ie_version < 15) ||\n    (browser.ios && browser.webkit_version < 604);\nfunction capturePaste(view) {\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.focus();\n    setTimeout(() => {\n        view.focus();\n        target.remove();\n        doPaste(view, target.value);\n    }, 50);\n}\nfunction doPaste(view, input) {\n    let { state } = view, changes, i = 1, text = state.toText(input);\n    let byLine = text.lines == state.selection.ranges.length;\n    let linewise = lastLinewiseCopy && state.selection.ranges.every(r => r.empty) && lastLinewiseCopy == text.toString();\n    if (linewise) {\n        let lastLine = -1;\n        changes = state.changeByRange(range => {\n            let line = state.doc.lineAt(range.from);\n            if (line.from == lastLine)\n                return { range };\n            lastLine = line.from;\n            let insert = state.toText((byLine ? text.line(i++).text : input) + state.lineBreak);\n            return { changes: { from: line.from, insert },\n                range: EditorSelection.cursor(range.from + insert.length) };\n        });\n    }\n    else if (byLine) {\n        changes = state.changeByRange(range => {\n            let line = text.line(i++);\n            return { changes: { from: range.from, to: range.to, insert: line.text },\n                range: EditorSelection.cursor(range.from + line.length) };\n        });\n    }\n    else {\n        changes = state.replaceSelection(text);\n    }\n    view.dispatch(changes, {\n        userEvent: \"input.paste\",\n        scrollIntoView: true\n    });\n}\nhandlers.keydown = (view, event) => {\n    view.inputState.setSelectionOrigin(\"select\");\n};\nlet lastTouch = 0;\nhandlers.touchstart = (view, e) => {\n    lastTouch = Date.now();\n    view.inputState.setSelectionOrigin(\"select.pointer\");\n};\nhandlers.touchmove = view => {\n    view.inputState.setSelectionOrigin(\"select.pointer\");\n};\nhandlers.mousedown = (view, event) => {\n    view.observer.flush();\n    if (lastTouch > Date.now() - 2000)\n        return; // Ignore touch interaction\n    let style = null;\n    for (let makeStyle of view.state.facet(mouseSelectionStyle)) {\n        style = makeStyle(view, event);\n        if (style)\n            break;\n    }\n    if (!style && event.button == 0)\n        style = basicMouseSelection(view, event);\n    if (style) {\n        if (view.root.activeElement != view.contentDOM)\n            view.observer.ignore(() => focusPreventScroll(view.contentDOM));\n        view.inputState.startMouseSelection(view, event, style);\n    }\n};\nfunction rangeForClick(view, pos, bias, type) {\n    if (type == 1) { // Single click\n        return EditorSelection.cursor(pos, bias);\n    }\n    else if (type == 2) { // Double click\n        return groupAt(view.state, pos, bias);\n    }\n    else { // Triple click\n        let visual = LineView.find(view.docView, pos), line = view.state.doc.lineAt(visual ? visual.posAtEnd : pos);\n        let from = visual ? visual.posAtStart : line.from, to = visual ? visual.posAtEnd : line.to;\n        if (to < view.state.doc.length && to == line.to)\n            to++;\n        return EditorSelection.range(from, to);\n    }\n}\nlet insideY = (y, rect) => y >= rect.top && y <= rect.bottom;\nlet inside = (x, y, rect) => insideY(y, rect) && x >= rect.left && x <= rect.right;\n// Try to determine, for the given coordinates, associated with the\n// given position, whether they are related to the element before or\n// the element after the position.\nfunction findPositionSide(view, pos, x, y) {\n    let line = LineView.find(view.docView, pos);\n    if (!line)\n        return 1;\n    let off = pos - line.posAtStart;\n    // Line boundaries point into the line\n    if (off == 0)\n        return 1;\n    if (off == line.length)\n        return -1;\n    // Positions on top of an element point at that element\n    let before = line.coordsAt(off, -1);\n    if (before && inside(x, y, before))\n        return -1;\n    let after = line.coordsAt(off, 1);\n    if (after && inside(x, y, after))\n        return 1;\n    // This is probably a line wrap point. Pick before if the point is\n    // beside it.\n    return before && insideY(y, before) ? -1 : 1;\n}\nfunction queryPos(view, event) {\n    let pos = view.posAtCoords({ x: event.clientX, y: event.clientY }, false);\n    return { pos, bias: findPositionSide(view, pos, event.clientX, event.clientY) };\n}\nconst BadMouseDetail = browser.ie && browser.ie_version <= 11;\nlet lastMouseDown = null, lastMouseDownCount = 0, lastMouseDownTime = 0;\nfunction getClickType(event) {\n    if (!BadMouseDetail)\n        return event.detail;\n    let last = lastMouseDown, lastTime = lastMouseDownTime;\n    lastMouseDown = event;\n    lastMouseDownTime = Date.now();\n    return lastMouseDownCount = !last || (lastTime > Date.now() - 400 && Math.abs(last.clientX - event.clientX) < 2 &&\n        Math.abs(last.clientY - event.clientY) < 2) ? (lastMouseDownCount + 1) % 3 : 1;\n}\nfunction basicMouseSelection(view, event) {\n    let start = queryPos(view, event), type = getClickType(event);\n    let startSel = view.state.selection;\n    let last = start, lastEvent = event;\n    return {\n        update(update) {\n            if (update.changes) {\n                if (start)\n                    start.pos = update.changes.mapPos(start.pos);\n                startSel = startSel.map(update.changes);\n                lastEvent = null;\n            }\n        },\n        get(event, extend, multiple) {\n            let cur;\n            if (lastEvent && event.clientX == lastEvent.clientX && event.clientY == lastEvent.clientY)\n                cur = last;\n            else {\n                cur = last = queryPos(view, event);\n                lastEvent = event;\n            }\n            if (!cur || !start)\n                return startSel;\n            let range = rangeForClick(view, cur.pos, cur.bias, type);\n            if (start.pos != cur.pos && !extend) {\n                let startRange = rangeForClick(view, start.pos, start.bias, type);\n                let from = Math.min(startRange.from, range.from), to = Math.max(startRange.to, range.to);\n                range = from < range.from ? EditorSelection.range(from, to) : EditorSelection.range(to, from);\n            }\n            if (extend)\n                return startSel.replaceRange(startSel.main.extend(range.from, range.to));\n            else if (multiple)\n                return startSel.addRange(range);\n            else\n                return EditorSelection.create([range]);\n        }\n    };\n}\nhandlers.dragstart = (view, event) => {\n    let { selection: { main } } = view.state;\n    let { mouseSelection } = view.inputState;\n    if (mouseSelection)\n        mouseSelection.dragging = main;\n    if (event.dataTransfer) {\n        event.dataTransfer.setData(\"Text\", view.state.sliceDoc(main.from, main.to));\n        event.dataTransfer.effectAllowed = \"copyMove\";\n    }\n};\nfunction dropText(view, event, text, direct) {\n    let dropPos = view.posAtCoords({ x: event.clientX, y: event.clientY });\n    if (dropPos == null || !text)\n        return;\n    event.preventDefault();\n    let { mouseSelection } = view.inputState;\n    let del = direct && mouseSelection && mouseSelection.dragging && mouseSelection.dragMove ?\n        { from: mouseSelection.dragging.from, to: mouseSelection.dragging.to } : null;\n    let ins = { from: dropPos, insert: text };\n    let changes = view.state.changes(del ? [del, ins] : ins);\n    view.focus();\n    view.dispatch({\n        changes,\n        selection: { anchor: changes.mapPos(dropPos, -1), head: changes.mapPos(dropPos, 1) },\n        userEvent: del ? \"move.drop\" : \"input.drop\"\n    });\n}\nhandlers.drop = (view, event) => {\n    if (!event.dataTransfer)\n        return;\n    if (view.state.readOnly)\n        return event.preventDefault();\n    let files = event.dataTransfer.files;\n    if (files && files.length) { // For a file drop, read the file's text.\n        event.preventDefault();\n        let text = Array(files.length), read = 0;\n        let finishFile = () => {\n            if (++read == files.length)\n                dropText(view, event, text.filter(s => s != null).join(view.state.lineBreak), false);\n        };\n        for (let i = 0; i < files.length; i++) {\n            let reader = new FileReader;\n            reader.onerror = finishFile;\n            reader.onload = () => {\n                if (!/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(reader.result))\n                    text[i] = reader.result;\n                finishFile();\n            };\n            reader.readAsText(files[i]);\n        }\n    }\n    else {\n        dropText(view, event, event.dataTransfer.getData(\"Text\"), true);\n    }\n};\nhandlers.paste = (view, event) => {\n    if (view.state.readOnly)\n        return event.preventDefault();\n    view.observer.flush();\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    let text = data && data.getData(\"text/plain\");\n    if (text) {\n        doPaste(view, text);\n        event.preventDefault();\n    }\n    else {\n        capturePaste(view);\n    }\n};\nfunction captureCopy(view, text) {\n    // The extra wrapper is somehow necessary on IE/Edge to prevent the\n    // content from being mangled when it is put onto the clipboard\n    let parent = view.dom.parentNode;\n    if (!parent)\n        return;\n    let target = parent.appendChild(document.createElement(\"textarea\"));\n    target.style.cssText = \"position: fixed; left: -10000px; top: 10px\";\n    target.value = text;\n    target.focus();\n    target.selectionEnd = text.length;\n    target.selectionStart = 0;\n    setTimeout(() => {\n        target.remove();\n        view.focus();\n    }, 50);\n}\nfunction copiedRange(state) {\n    let content = [], ranges = [], linewise = false;\n    for (let range of state.selection.ranges)\n        if (!range.empty) {\n            content.push(state.sliceDoc(range.from, range.to));\n            ranges.push(range);\n        }\n    if (!content.length) {\n        // Nothing selected, do a line-wise copy\n        let upto = -1;\n        for (let { from } of state.selection.ranges) {\n            let line = state.doc.lineAt(from);\n            if (line.number > upto) {\n                content.push(line.text);\n                ranges.push({ from: line.from, to: Math.min(state.doc.length, line.to + 1) });\n            }\n            upto = line.number;\n        }\n        linewise = true;\n    }\n    return { text: content.join(state.lineBreak), ranges, linewise };\n}\nlet lastLinewiseCopy = null;\nhandlers.copy = handlers.cut = (view, event) => {\n    let { text, ranges, linewise } = copiedRange(view.state);\n    if (!text)\n        return;\n    lastLinewiseCopy = linewise ? text : null;\n    let data = brokenClipboardAPI ? null : event.clipboardData;\n    if (data) {\n        event.preventDefault();\n        data.clearData();\n        data.setData(\"text/plain\", text);\n    }\n    else {\n        captureCopy(view, text);\n    }\n    if (event.type == \"cut\" && !view.state.readOnly)\n        view.dispatch({\n            changes: ranges,\n            scrollIntoView: true,\n            userEvent: \"delete.cut\"\n        });\n};\nhandlers.focus = handlers.blur = view => {\n    setTimeout(() => {\n        if (view.hasFocus != view.inputState.notifiedFocused)\n            view.update([]);\n    }, 10);\n};\nhandlers.beforeprint = view => {\n    view.viewState.printing = true;\n    view.requestMeasure();\n    setTimeout(() => {\n        view.viewState.printing = false;\n        view.requestMeasure();\n    }, 2000);\n};\nfunction forceClearComposition(view, rapid) {\n    if (view.docView.compositionDeco.size) {\n        view.inputState.rapidCompositionStart = rapid;\n        try {\n            view.update([]);\n        }\n        finally {\n            view.inputState.rapidCompositionStart = false;\n        }\n    }\n}\nhandlers.compositionstart = handlers.compositionupdate = view => {\n    if (view.inputState.compositionFirstChange == null)\n        view.inputState.compositionFirstChange = true;\n    if (view.inputState.composing < 0) {\n        if (view.docView.compositionDeco.size) {\n            view.observer.flush();\n            forceClearComposition(view, true);\n        }\n        // FIXME possibly set a timeout to clear it again on Android\n        view.inputState.composing = 0;\n    }\n};\nhandlers.compositionend = view => {\n    view.inputState.composing = -1;\n    view.inputState.compositionEndedAt = Date.now();\n    view.inputState.compositionFirstChange = null;\n    setTimeout(() => {\n        if (view.inputState.composing < 0)\n            forceClearComposition(view, false);\n    }, 50);\n};\nhandlers.contextmenu = view => {\n    view.inputState.lastContextMenu = Date.now();\n};\n\nconst wrappingWhiteSpace = [\"pre-wrap\", \"normal\", \"pre-line\"];\nclass HeightOracle {\n    constructor() {\n        this.doc = Text.empty;\n        this.lineWrapping = false;\n        this.direction = Direction.LTR;\n        this.heightSamples = {};\n        this.lineHeight = 14;\n        this.charWidth = 7;\n        this.lineLength = 30;\n        // Used to track, during updateHeight, if any actual heights changed\n        this.heightChanged = false;\n    }\n    heightForGap(from, to) {\n        let lines = this.doc.lineAt(to).number - this.doc.lineAt(from).number + 1;\n        if (this.lineWrapping)\n            lines += Math.ceil(((to - from) - (lines * this.lineLength * 0.5)) / this.lineLength);\n        return this.lineHeight * lines;\n    }\n    heightForLine(length) {\n        if (!this.lineWrapping)\n            return this.lineHeight;\n        let lines = 1 + Math.max(0, Math.ceil((length - this.lineLength) / (this.lineLength - 5)));\n        return lines * this.lineHeight;\n    }\n    setDoc(doc) { this.doc = doc; return this; }\n    mustRefresh(lineHeights, whiteSpace, direction) {\n        let newHeight = false;\n        for (let i = 0; i < lineHeights.length; i++) {\n            let h = lineHeights[i];\n            if (h < 0) {\n                i++;\n            }\n            else if (!this.heightSamples[Math.floor(h * 10)]) { // Round to .1 pixels\n                newHeight = true;\n                this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return newHeight || (wrappingWhiteSpace.indexOf(whiteSpace) > -1) != this.lineWrapping || this.direction != direction;\n    }\n    refresh(whiteSpace, direction, lineHeight, charWidth, lineLength, knownHeights) {\n        let lineWrapping = wrappingWhiteSpace.indexOf(whiteSpace) > -1;\n        let changed = Math.round(lineHeight) != Math.round(this.lineHeight) ||\n            this.lineWrapping != lineWrapping ||\n            this.direction != direction;\n        this.lineWrapping = lineWrapping;\n        this.direction = direction;\n        this.lineHeight = lineHeight;\n        this.charWidth = charWidth;\n        this.lineLength = lineLength;\n        if (changed) {\n            this.heightSamples = {};\n            for (let i = 0; i < knownHeights.length; i++) {\n                let h = knownHeights[i];\n                if (h < 0)\n                    i++;\n                else\n                    this.heightSamples[Math.floor(h * 10)] = true;\n            }\n        }\n        return changed;\n    }\n}\n// This object is used by `updateHeight` to make DOM measurements\n// arrive at the right nides. The `heights` array is a sequence of\n// block heights, starting from position `from`.\nclass MeasuredHeights {\n    constructor(from, heights) {\n        this.from = from;\n        this.heights = heights;\n        this.index = 0;\n    }\n    get more() { return this.index < this.heights.length; }\n}\n/**\nRecord used to represent information about a block-level element\nin the editor view.\n*/\nclass BlockInfo {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The start of the element in the document.\n    */\n    from, \n    /**\n    The length of the element.\n    */\n    length, \n    /**\n    The top position of the element.\n    */\n    top, \n    /**\n    Its height.\n    */\n    height, \n    /**\n    The type of element this is. When querying lines, this may be\n    an array of all the blocks that make up the line.\n    */\n    type) {\n        this.from = from;\n        this.length = length;\n        this.top = top;\n        this.height = height;\n        this.type = type;\n    }\n    /**\n    The end of the element as a document position.\n    */\n    get to() { return this.from + this.length; }\n    /**\n    The bottom position of the element.\n    */\n    get bottom() { return this.top + this.height; }\n    /**\n    @internal\n    */\n    join(other) {\n        let detail = (Array.isArray(this.type) ? this.type : [this])\n            .concat(Array.isArray(other.type) ? other.type : [other]);\n        return new BlockInfo(this.from, this.length + other.length, this.top, this.height + other.height, detail);\n    }\n}\nvar QueryType = /*@__PURE__*/(function (QueryType) {\n    QueryType[QueryType[\"ByPos\"] = 0] = \"ByPos\";\n    QueryType[QueryType[\"ByHeight\"] = 1] = \"ByHeight\";\n    QueryType[QueryType[\"ByPosNoHeight\"] = 2] = \"ByPosNoHeight\";\nreturn QueryType})(QueryType || (QueryType = {}));\nconst Epsilon = 1e-4;\nclass HeightMap {\n    constructor(length, // The number of characters covered\n    height, // Height of this part of the document\n    flags = 2 /* Outdated */) {\n        this.length = length;\n        this.height = height;\n        this.flags = flags;\n    }\n    get outdated() { return (this.flags & 2 /* Outdated */) > 0; }\n    set outdated(value) { this.flags = (value ? 2 /* Outdated */ : 0) | (this.flags & ~2 /* Outdated */); }\n    setHeight(oracle, height) {\n        if (this.height != height) {\n            if (Math.abs(this.height - height) > Epsilon)\n                oracle.heightChanged = true;\n            this.height = height;\n        }\n    }\n    // Base case is to replace a leaf node, which simply builds a tree\n    // from the new nodes and returns that (HeightMapBranch and\n    // HeightMapGap override this to actually use from/to)\n    replace(_from, _to, nodes) {\n        return HeightMap.of(nodes);\n    }\n    // Again, these are base cases, and are overridden for branch and gap nodes.\n    decomposeLeft(_to, result) { result.push(this); }\n    decomposeRight(_from, result) { result.push(this); }\n    applyChanges(decorations, oldDoc, oracle, changes) {\n        let me = this;\n        for (let i = changes.length - 1; i >= 0; i--) {\n            let { fromA, toA, fromB, toB } = changes[i];\n            let start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            let end = start.to >= toA ? start : me.lineAt(toA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            toB += end.to - toA;\n            toA = end.to;\n            while (i > 0 && start.from <= changes[i - 1].toA) {\n                fromA = changes[i - 1].fromA;\n                fromB = changes[i - 1].fromB;\n                i--;\n                if (fromA < start.from)\n                    start = me.lineAt(fromA, QueryType.ByPosNoHeight, oldDoc, 0, 0);\n            }\n            fromB += start.from - fromA;\n            fromA = start.from;\n            let nodes = NodeBuilder.build(oracle, decorations, fromB, toB);\n            me = me.replace(fromA, toA, nodes);\n        }\n        return me.updateHeight(oracle, 0);\n    }\n    static empty() { return new HeightMapText(0, 0); }\n    // nodes uses null values to indicate the position of line breaks.\n    // There are never line breaks at the start or end of the array, or\n    // two line breaks next to each other, and the array isn't allowed\n    // to be empty (same restrictions as return value from the builder).\n    static of(nodes) {\n        if (nodes.length == 1)\n            return nodes[0];\n        let i = 0, j = nodes.length, before = 0, after = 0;\n        for (;;) {\n            if (i == j) {\n                if (before > after * 2) {\n                    let split = nodes[i - 1];\n                    if (split.break)\n                        nodes.splice(--i, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(--i, 1, split.left, split.right);\n                    j += 1 + split.break;\n                    before -= split.size;\n                }\n                else if (after > before * 2) {\n                    let split = nodes[j];\n                    if (split.break)\n                        nodes.splice(j, 1, split.left, null, split.right);\n                    else\n                        nodes.splice(j, 1, split.left, split.right);\n                    j += 2 + split.break;\n                    after -= split.size;\n                }\n                else {\n                    break;\n                }\n            }\n            else if (before < after) {\n                let next = nodes[i++];\n                if (next)\n                    before += next.size;\n            }\n            else {\n                let next = nodes[--j];\n                if (next)\n                    after += next.size;\n            }\n        }\n        let brk = 0;\n        if (nodes[i - 1] == null) {\n            brk = 1;\n            i--;\n        }\n        else if (nodes[i] == null) {\n            brk = 1;\n            j++;\n        }\n        return new HeightMapBranch(HeightMap.of(nodes.slice(0, i)), brk, HeightMap.of(nodes.slice(j)));\n    }\n}\nHeightMap.prototype.size = 1;\nclass HeightMapBlock extends HeightMap {\n    constructor(length, height, type) {\n        super(length, height);\n        this.type = type;\n    }\n    blockAt(_height, _doc, top, offset) {\n        return new BlockInfo(offset, this.length, top, this.height, this.type);\n    }\n    lineAt(_value, _type, doc, top, offset) {\n        return this.blockAt(0, doc, top, offset);\n    }\n    forEachLine(_from, _to, doc, top, offset, f) {\n        f(this.blockAt(0, doc, top, offset));\n    }\n    updateHeight(oracle, offset = 0, _force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        this.outdated = false;\n        return this;\n    }\n    toString() { return `block(${this.length})`; }\n}\nclass HeightMapText extends HeightMapBlock {\n    constructor(length, height) {\n        super(length, height, BlockType.Text);\n        this.collapsed = 0; // Amount of collapsed content in the line\n        this.widgetHeight = 0; // Maximum inline widget height\n    }\n    replace(_from, _to, nodes) {\n        let node = nodes[0];\n        if (nodes.length == 1 && (node instanceof HeightMapText || node instanceof HeightMapGap && (node.flags & 4 /* SingleLine */)) &&\n            Math.abs(this.length - node.length) < 10) {\n            if (node instanceof HeightMapGap)\n                node = new HeightMapText(node.length, this.height);\n            else\n                node.height = this.height;\n            if (!this.outdated)\n                node.outdated = false;\n            return node;\n        }\n        else {\n            return HeightMap.of(nodes);\n        }\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        if (measured && measured.from <= offset && measured.more)\n            this.setHeight(oracle, measured.heights[measured.index++]);\n        else if (force || this.outdated)\n            this.setHeight(oracle, Math.max(this.widgetHeight, oracle.heightForLine(this.length - this.collapsed)));\n        this.outdated = false;\n        return this;\n    }\n    toString() {\n        return `line(${this.length}${this.collapsed ? -this.collapsed : \"\"}${this.widgetHeight ? \":\" + this.widgetHeight : \"\"})`;\n    }\n}\nclass HeightMapGap extends HeightMap {\n    constructor(length) { super(length, 0); }\n    lines(doc, offset) {\n        let firstLine = doc.lineAt(offset).number, lastLine = doc.lineAt(offset + this.length).number;\n        return { firstLine, lastLine, lineHeight: this.height / (lastLine - firstLine + 1) };\n    }\n    blockAt(height, doc, top, offset) {\n        let { firstLine, lastLine, lineHeight } = this.lines(doc, offset);\n        let line = Math.max(0, Math.min(lastLine - firstLine, Math.floor((height - top) / lineHeight)));\n        let { from, length } = doc.line(firstLine + line);\n        return new BlockInfo(from, length, top + lineHeight * line, lineHeight, BlockType.Text);\n    }\n    lineAt(value, type, doc, top, offset) {\n        if (type == QueryType.ByHeight)\n            return this.blockAt(value, doc, top, offset);\n        if (type == QueryType.ByPosNoHeight) {\n            let { from, to } = doc.lineAt(value);\n            return new BlockInfo(from, to - from, 0, 0, BlockType.Text);\n        }\n        let { firstLine, lineHeight } = this.lines(doc, offset);\n        let { from, length, number } = doc.lineAt(value);\n        return new BlockInfo(from, length, top + lineHeight * (number - firstLine), lineHeight, BlockType.Text);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        let { firstLine, lineHeight } = this.lines(doc, offset);\n        for (let pos = Math.max(from, offset), end = Math.min(offset + this.length, to); pos <= end;) {\n            let line = doc.lineAt(pos);\n            if (pos == from)\n                top += lineHeight * (line.number - firstLine);\n            f(new BlockInfo(line.from, line.length, top, lineHeight, BlockType.Text));\n            top += lineHeight;\n            pos = line.to + 1;\n        }\n    }\n    replace(from, to, nodes) {\n        let after = this.length - to;\n        if (after > 0) {\n            let last = nodes[nodes.length - 1];\n            if (last instanceof HeightMapGap)\n                nodes[nodes.length - 1] = new HeightMapGap(last.length + after);\n            else\n                nodes.push(null, new HeightMapGap(after - 1));\n        }\n        if (from > 0) {\n            let first = nodes[0];\n            if (first instanceof HeightMapGap)\n                nodes[0] = new HeightMapGap(from + first.length);\n            else\n                nodes.unshift(new HeightMapGap(from - 1), null);\n        }\n        return HeightMap.of(nodes);\n    }\n    decomposeLeft(to, result) {\n        result.push(new HeightMapGap(to - 1), null);\n    }\n    decomposeRight(from, result) {\n        result.push(null, new HeightMapGap(this.length - from - 1));\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let end = offset + this.length;\n        if (measured && measured.from <= offset + this.length && measured.more) {\n            // Fill in part of this gap with measured lines. We know there\n            // can't be widgets or collapsed ranges in those lines, because\n            // they would already have been added to the heightmap (gaps\n            // only contain plain text).\n            let nodes = [], pos = Math.max(offset, measured.from);\n            if (measured.from > offset)\n                nodes.push(new HeightMapGap(measured.from - offset - 1).updateHeight(oracle, offset));\n            while (pos <= end && measured.more) {\n                let len = oracle.doc.lineAt(pos).length;\n                if (nodes.length)\n                    nodes.push(null);\n                let line = new HeightMapText(len, measured.heights[measured.index++]);\n                line.outdated = false;\n                nodes.push(line);\n                pos += len + 1;\n            }\n            if (pos <= end)\n                nodes.push(null, new HeightMapGap(end - pos).updateHeight(oracle, pos));\n            oracle.heightChanged = true;\n            return HeightMap.of(nodes);\n        }\n        else if (force || this.outdated) {\n            this.setHeight(oracle, oracle.heightForGap(offset, offset + this.length));\n            this.outdated = false;\n        }\n        return this;\n    }\n    toString() { return `gap(${this.length})`; }\n}\nclass HeightMapBranch extends HeightMap {\n    constructor(left, brk, right) {\n        super(left.length + brk + right.length, left.height + right.height, brk | (left.outdated || right.outdated ? 2 /* Outdated */ : 0));\n        this.left = left;\n        this.right = right;\n        this.size = left.size + right.size;\n    }\n    get break() { return this.flags & 1 /* Break */; }\n    blockAt(height, doc, top, offset) {\n        let mid = top + this.left.height;\n        return height < mid || this.right.height == 0 ? this.left.blockAt(height, doc, top, offset)\n            : this.right.blockAt(height, doc, mid, offset + this.left.length + this.break);\n    }\n    lineAt(value, type, doc, top, offset) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        let left = type == QueryType.ByHeight ? value < rightTop || this.right.height == 0 : value < rightOffset;\n        let base = left ? this.left.lineAt(value, type, doc, top, offset)\n            : this.right.lineAt(value, type, doc, rightTop, rightOffset);\n        if (this.break || (left ? base.to < rightOffset : base.from > rightOffset))\n            return base;\n        let subQuery = type == QueryType.ByPosNoHeight ? QueryType.ByPosNoHeight : QueryType.ByPos;\n        if (left)\n            return base.join(this.right.lineAt(rightOffset, subQuery, doc, rightTop, rightOffset));\n        else\n            return this.left.lineAt(rightOffset, subQuery, doc, top, offset).join(base);\n    }\n    forEachLine(from, to, doc, top, offset, f) {\n        let rightTop = top + this.left.height, rightOffset = offset + this.left.length + this.break;\n        if (this.break) {\n            if (from < rightOffset)\n                this.left.forEachLine(from, to, doc, top, offset, f);\n            if (to >= rightOffset)\n                this.right.forEachLine(from, to, doc, rightTop, rightOffset, f);\n        }\n        else {\n            let mid = this.lineAt(rightOffset, QueryType.ByPos, doc, top, offset);\n            if (from < mid.from)\n                this.left.forEachLine(from, mid.from - 1, doc, top, offset, f);\n            if (mid.to >= from && mid.from <= to)\n                f(mid);\n            if (to > mid.to)\n                this.right.forEachLine(mid.to + 1, to, doc, rightTop, rightOffset, f);\n        }\n    }\n    replace(from, to, nodes) {\n        let rightStart = this.left.length + this.break;\n        if (to < rightStart)\n            return this.balanced(this.left.replace(from, to, nodes), this.right);\n        if (from > this.left.length)\n            return this.balanced(this.left, this.right.replace(from - rightStart, to - rightStart, nodes));\n        let result = [];\n        if (from > 0)\n            this.decomposeLeft(from, result);\n        let left = result.length;\n        for (let node of nodes)\n            result.push(node);\n        if (from > 0)\n            mergeGaps(result, left - 1);\n        if (to < this.length) {\n            let right = result.length;\n            this.decomposeRight(to, result);\n            mergeGaps(result, right);\n        }\n        return HeightMap.of(result);\n    }\n    decomposeLeft(to, result) {\n        let left = this.left.length;\n        if (to <= left)\n            return this.left.decomposeLeft(to, result);\n        result.push(this.left);\n        if (this.break) {\n            left++;\n            if (to >= left)\n                result.push(null);\n        }\n        if (to > left)\n            this.right.decomposeLeft(to - left, result);\n    }\n    decomposeRight(from, result) {\n        let left = this.left.length, right = left + this.break;\n        if (from >= right)\n            return this.right.decomposeRight(from - right, result);\n        if (from < left)\n            this.left.decomposeRight(from, result);\n        if (this.break && from < right)\n            result.push(null);\n        result.push(this.right);\n    }\n    balanced(left, right) {\n        if (left.size > 2 * right.size || right.size > 2 * left.size)\n            return HeightMap.of(this.break ? [left, null, right] : [left, right]);\n        this.left = left;\n        this.right = right;\n        this.height = left.height + right.height;\n        this.outdated = left.outdated || right.outdated;\n        this.size = left.size + right.size;\n        this.length = left.length + this.break + right.length;\n        return this;\n    }\n    updateHeight(oracle, offset = 0, force = false, measured) {\n        let { left, right } = this, rightStart = offset + left.length + this.break, rebalance = null;\n        if (measured && measured.from <= offset + left.length && measured.more)\n            rebalance = left = left.updateHeight(oracle, offset, force, measured);\n        else\n            left.updateHeight(oracle, offset, force);\n        if (measured && measured.from <= rightStart + right.length && measured.more)\n            rebalance = right = right.updateHeight(oracle, rightStart, force, measured);\n        else\n            right.updateHeight(oracle, rightStart, force);\n        if (rebalance)\n            return this.balanced(left, right);\n        this.height = this.left.height + this.right.height;\n        this.outdated = false;\n        return this;\n    }\n    toString() { return this.left + (this.break ? \" \" : \"-\") + this.right; }\n}\nfunction mergeGaps(nodes, around) {\n    let before, after;\n    if (nodes[around] == null &&\n        (before = nodes[around - 1]) instanceof HeightMapGap &&\n        (after = nodes[around + 1]) instanceof HeightMapGap)\n        nodes.splice(around - 1, 3, new HeightMapGap(before.length + 1 + after.length));\n}\nconst relevantWidgetHeight = 5;\nclass NodeBuilder {\n    constructor(pos, oracle) {\n        this.pos = pos;\n        this.oracle = oracle;\n        this.nodes = [];\n        this.lineStart = -1;\n        this.lineEnd = -1;\n        this.covering = null;\n        this.writtenTo = pos;\n    }\n    get isCovered() {\n        return this.covering && this.nodes[this.nodes.length - 1] == this.covering;\n    }\n    span(_from, to) {\n        if (this.lineStart > -1) {\n            let end = Math.min(to, this.lineEnd), last = this.nodes[this.nodes.length - 1];\n            if (last instanceof HeightMapText)\n                last.length += end - this.pos;\n            else if (end > this.pos || !this.isCovered)\n                this.nodes.push(new HeightMapText(end - this.pos, -1));\n            this.writtenTo = end;\n            if (to > end) {\n                this.nodes.push(null);\n                this.writtenTo++;\n                this.lineStart = -1;\n            }\n        }\n        this.pos = to;\n    }\n    point(from, to, deco) {\n        if (from < to || deco.heightRelevant) {\n            let height = deco.widget ? Math.max(0, deco.widget.estimatedHeight) : 0;\n            let len = to - from;\n            if (deco.block) {\n                this.addBlock(new HeightMapBlock(len, height, deco.type));\n            }\n            else if (len || height >= relevantWidgetHeight) {\n                this.addLineDeco(height, len);\n            }\n        }\n        else if (to > from) {\n            this.span(from, to);\n        }\n        if (this.lineEnd > -1 && this.lineEnd < this.pos)\n            this.lineEnd = this.oracle.doc.lineAt(this.pos).to;\n    }\n    enterLine() {\n        if (this.lineStart > -1)\n            return;\n        let { from, to } = this.oracle.doc.lineAt(this.pos);\n        this.lineStart = from;\n        this.lineEnd = to;\n        if (this.writtenTo < from) {\n            if (this.writtenTo < from - 1 || this.nodes[this.nodes.length - 1] == null)\n                this.nodes.push(this.blankContent(this.writtenTo, from - 1));\n            this.nodes.push(null);\n        }\n        if (this.pos > from)\n            this.nodes.push(new HeightMapText(this.pos - from, -1));\n        this.writtenTo = this.pos;\n    }\n    blankContent(from, to) {\n        let gap = new HeightMapGap(to - from);\n        if (this.oracle.doc.lineAt(from).to == to)\n            gap.flags |= 4 /* SingleLine */;\n        return gap;\n    }\n    ensureLine() {\n        this.enterLine();\n        let last = this.nodes.length ? this.nodes[this.nodes.length - 1] : null;\n        if (last instanceof HeightMapText)\n            return last;\n        let line = new HeightMapText(0, -1);\n        this.nodes.push(line);\n        return line;\n    }\n    addBlock(block) {\n        this.enterLine();\n        if (block.type == BlockType.WidgetAfter && !this.isCovered)\n            this.ensureLine();\n        this.nodes.push(block);\n        this.writtenTo = this.pos = this.pos + block.length;\n        if (block.type != BlockType.WidgetBefore)\n            this.covering = block;\n    }\n    addLineDeco(height, length) {\n        let line = this.ensureLine();\n        line.length += length;\n        line.collapsed += length;\n        line.widgetHeight = Math.max(line.widgetHeight, height);\n        this.writtenTo = this.pos = this.pos + length;\n    }\n    finish(from) {\n        let last = this.nodes.length == 0 ? null : this.nodes[this.nodes.length - 1];\n        if (this.lineStart > -1 && !(last instanceof HeightMapText) && !this.isCovered)\n            this.nodes.push(new HeightMapText(0, -1));\n        else if (this.writtenTo < this.pos || last == null)\n            this.nodes.push(this.blankContent(this.writtenTo, this.pos));\n        let pos = from;\n        for (let node of this.nodes) {\n            if (node instanceof HeightMapText)\n                node.updateHeight(this.oracle, pos);\n            pos += node ? node.length : 1;\n        }\n        return this.nodes;\n    }\n    // Always called with a region that on both sides either stretches\n    // to a line break or the end of the document.\n    // The returned array uses null to indicate line breaks, but never\n    // starts or ends in a line break, or has multiple line breaks next\n    // to each other.\n    static build(oracle, decorations, from, to) {\n        let builder = new NodeBuilder(from, oracle);\n        RangeSet.spans(decorations, from, to, builder, 0);\n        return builder.finish(from);\n    }\n}\nfunction heightRelevantDecoChanges(a, b, diff) {\n    let comp = new DecorationComparator;\n    RangeSet.compare(a, b, diff, comp, 0);\n    return comp.changes;\n}\nclass DecorationComparator {\n    constructor() {\n        this.changes = [];\n    }\n    compareRange() { }\n    comparePoint(from, to, a, b) {\n        if (from < to || a && a.heightRelevant || b && b.heightRelevant)\n            addRange(from, to, this.changes, 5);\n    }\n}\n\nfunction visiblePixelRange(dom, paddingTop) {\n    let rect = dom.getBoundingClientRect();\n    let left = Math.max(0, rect.left), right = Math.min(innerWidth, rect.right);\n    let top = Math.max(0, rect.top), bottom = Math.min(innerHeight, rect.bottom);\n    for (let parent = dom.parentNode; parent;) { // (Cast to any because TypeScript is useless with Node types)\n        if (parent.nodeType == 1) {\n            let style = window.getComputedStyle(parent);\n            if ((parent.scrollHeight > parent.clientHeight || parent.scrollWidth > parent.clientWidth) &&\n                style.overflow != \"visible\") {\n                let parentRect = parent.getBoundingClientRect();\n                left = Math.max(left, parentRect.left);\n                right = Math.min(right, parentRect.right);\n                top = Math.max(top, parentRect.top);\n                bottom = Math.min(bottom, parentRect.bottom);\n            }\n            parent = style.position == \"absolute\" || style.position == \"fixed\" ? parent.offsetParent : parent.parentNode;\n        }\n        else if (parent.nodeType == 11) { // Shadow root\n            parent = parent.host;\n        }\n        else {\n            break;\n        }\n    }\n    return { left: left - rect.left, right: right - rect.left,\n        top: top - (rect.top + paddingTop), bottom: bottom - (rect.top + paddingTop) };\n}\n// Line gaps are placeholder widgets used to hide pieces of overlong\n// lines within the viewport, as a kludge to keep the editor\n// responsive when a ridiculously long line is loaded into it.\nclass LineGap {\n    constructor(from, to, size) {\n        this.from = from;\n        this.to = to;\n        this.size = size;\n    }\n    static same(a, b) {\n        if (a.length != b.length)\n            return false;\n        for (let i = 0; i < a.length; i++) {\n            let gA = a[i], gB = b[i];\n            if (gA.from != gB.from || gA.to != gB.to || gA.size != gB.size)\n                return false;\n        }\n        return true;\n    }\n    draw(wrapping) {\n        return Decoration.replace({ widget: new LineGapWidget(this.size, wrapping) }).range(this.from, this.to);\n    }\n}\nclass LineGapWidget extends WidgetType {\n    constructor(size, vertical) {\n        super();\n        this.size = size;\n        this.vertical = vertical;\n    }\n    eq(other) { return other.size == this.size && other.vertical == this.vertical; }\n    toDOM() {\n        let elt = document.createElement(\"div\");\n        if (this.vertical) {\n            elt.style.height = this.size + \"px\";\n        }\n        else {\n            elt.style.width = this.size + \"px\";\n            elt.style.height = \"2px\";\n            elt.style.display = \"inline-block\";\n        }\n        return elt;\n    }\n    get estimatedHeight() { return this.vertical ? this.size : -1; }\n}\nclass ViewState {\n    constructor(state) {\n        this.state = state;\n        // These are contentDOM-local coordinates\n        this.pixelViewport = { left: 0, right: window.innerWidth, top: 0, bottom: 0 };\n        this.inView = true;\n        this.paddingTop = 0;\n        this.paddingBottom = 0;\n        this.contentWidth = 0;\n        this.heightOracle = new HeightOracle;\n        // See VP.MaxDOMHeight\n        this.scaler = IdScaler;\n        this.scrollTo = null;\n        // Briefly set to true when printing, to disable viewport limiting\n        this.printing = false;\n        this.visibleRanges = [];\n        // Cursor 'assoc' is only significant when the cursor is on a line\n        // wrap point, where it must stick to the character that it is\n        // associated with. Since browsers don't provide a reasonable\n        // interface to set or query this, when a selection is set that\n        // might cause this to be significant, this flag is set. The next\n        // measure phase will check whether the cursor is on a line-wrapping\n        // boundary and, if so, reset it to make sure it is positioned in\n        // the right place.\n        this.mustEnforceCursorAssoc = false;\n        this.heightMap = HeightMap.empty().applyChanges(state.facet(decorations), Text.empty, this.heightOracle.setDoc(state.doc), [new ChangedRange(0, 0, 0, state.doc.length)]);\n        this.viewport = this.getViewport(0, null);\n        this.updateForViewport();\n        this.lineGaps = this.ensureLineGaps([]);\n        this.lineGapDeco = Decoration.set(this.lineGaps.map(gap => gap.draw(false)));\n        this.computeVisibleRanges();\n    }\n    updateForViewport() {\n        let viewports = [this.viewport], { main } = this.state.selection;\n        for (let i = 0; i <= 1; i++) {\n            let pos = i ? main.head : main.anchor;\n            if (!viewports.some(({ from, to }) => pos >= from && pos <= to)) {\n                let { from, to } = this.lineAt(pos, 0);\n                viewports.push(new Viewport(from, to));\n            }\n        }\n        this.viewports = viewports.sort((a, b) => a.from - b.from);\n        this.scaler = this.heightMap.height <= 7000000 /* MaxDOMHeight */ ? IdScaler :\n            new BigScaler(this.heightOracle.doc, this.heightMap, this.viewports);\n    }\n    update(update, scrollTo = null) {\n        let prev = this.state;\n        this.state = update.state;\n        let newDeco = this.state.facet(decorations);\n        let contentChanges = update.changedRanges;\n        let heightChanges = ChangedRange.extendWithRanges(contentChanges, heightRelevantDecoChanges(update.startState.facet(decorations), newDeco, update ? update.changes : ChangeSet.empty(this.state.doc.length)));\n        let prevHeight = this.heightMap.height;\n        this.heightMap = this.heightMap.applyChanges(newDeco, prev.doc, this.heightOracle.setDoc(this.state.doc), heightChanges);\n        if (this.heightMap.height != prevHeight)\n            update.flags |= 2 /* Height */;\n        let viewport = heightChanges.length ? this.mapViewport(this.viewport, update.changes) : this.viewport;\n        if (scrollTo && (scrollTo.head < viewport.from || scrollTo.head > viewport.to) || !this.viewportIsAppropriate(viewport))\n            viewport = this.getViewport(0, scrollTo);\n        if (!viewport.eq(this.viewport)) {\n            this.viewport = viewport;\n            update.flags |= 4 /* Viewport */;\n        }\n        this.updateForViewport();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > 15000 /* MinViewPort */)\n            update.flags |= this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps, update.changes)));\n        this.computeVisibleRanges();\n        if (scrollTo)\n            this.scrollTo = scrollTo;\n        if (!this.mustEnforceCursorAssoc && update.selectionSet && update.view.lineWrapping &&\n            update.state.selection.main.empty && update.state.selection.main.assoc)\n            this.mustEnforceCursorAssoc = true;\n    }\n    measure(docView, repeated) {\n        let dom = docView.dom, whiteSpace = \"\", direction = Direction.LTR;\n        if (!repeated) {\n            // Vertical padding\n            let style = window.getComputedStyle(dom);\n            whiteSpace = style.whiteSpace, direction = (style.direction == \"rtl\" ? Direction.RTL : Direction.LTR);\n            this.paddingTop = parseInt(style.paddingTop) || 0;\n            this.paddingBottom = parseInt(style.paddingBottom) || 0;\n        }\n        // Pixel viewport\n        let pixelViewport = this.printing ? { top: -1e8, bottom: 1e8, left: -1e8, right: 1e8 } : visiblePixelRange(dom, this.paddingTop);\n        let dTop = pixelViewport.top - this.pixelViewport.top, dBottom = pixelViewport.bottom - this.pixelViewport.bottom;\n        this.pixelViewport = pixelViewport;\n        this.inView = this.pixelViewport.bottom > this.pixelViewport.top && this.pixelViewport.right > this.pixelViewport.left;\n        if (!this.inView)\n            return 0;\n        let lineHeights = docView.measureVisibleLineHeights();\n        let refresh = false, bias = 0, result = 0, oracle = this.heightOracle;\n        if (!repeated) {\n            let contentWidth = docView.dom.clientWidth;\n            if (oracle.mustRefresh(lineHeights, whiteSpace, direction) ||\n                oracle.lineWrapping && Math.abs(contentWidth - this.contentWidth) > oracle.charWidth) {\n                let { lineHeight, charWidth } = docView.measureTextSize();\n                refresh = oracle.refresh(whiteSpace, direction, lineHeight, charWidth, contentWidth / charWidth, lineHeights);\n                if (refresh) {\n                    docView.minWidth = 0;\n                    result |= 16 /* Geometry */;\n                }\n            }\n            if (this.contentWidth != contentWidth) {\n                this.contentWidth = contentWidth;\n                result |= 16 /* Geometry */;\n            }\n            if (dTop > 0 && dBottom > 0)\n                bias = Math.max(dTop, dBottom);\n            else if (dTop < 0 && dBottom < 0)\n                bias = Math.min(dTop, dBottom);\n        }\n        oracle.heightChanged = false;\n        this.heightMap = this.heightMap.updateHeight(oracle, 0, refresh, new MeasuredHeights(this.viewport.from, lineHeights));\n        if (oracle.heightChanged)\n            result |= 2 /* Height */;\n        if (!this.viewportIsAppropriate(this.viewport, bias) ||\n            this.scrollTo && (this.scrollTo.head < this.viewport.from || this.scrollTo.head > this.viewport.to)) {\n            let newVP = this.getViewport(bias, this.scrollTo);\n            if (newVP.from != this.viewport.from || newVP.to != this.viewport.to) {\n                this.viewport = newVP;\n                result |= 4 /* Viewport */;\n            }\n        }\n        this.updateForViewport();\n        if (this.lineGaps.length || this.viewport.to - this.viewport.from > 15000 /* MinViewPort */)\n            result |= this.updateLineGaps(this.ensureLineGaps(refresh ? [] : this.lineGaps));\n        this.computeVisibleRanges();\n        if (this.mustEnforceCursorAssoc) {\n            this.mustEnforceCursorAssoc = false;\n            // This is done in the read stage, because moving the selection\n            // to a line end is going to trigger a layout anyway, so it\n            // can't be a pure write. It should be rare that it does any\n            // writing.\n            docView.enforceCursorAssoc();\n        }\n        return result;\n    }\n    get visibleTop() { return this.scaler.fromDOM(this.pixelViewport.top, 0); }\n    get visibleBottom() { return this.scaler.fromDOM(this.pixelViewport.bottom, 0); }\n    getViewport(bias, scrollTo) {\n        // This will divide VP.Margin between the top and the\n        // bottom, depending on the bias (the change in viewport position\n        // since the last update). It'll hold a number between 0 and 1\n        let marginTop = 0.5 - Math.max(-0.5, Math.min(0.5, bias / 1000 /* Margin */ / 2));\n        let map = this.heightMap, doc = this.state.doc, { visibleTop, visibleBottom } = this;\n        let viewport = new Viewport(map.lineAt(visibleTop - marginTop * 1000 /* Margin */, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(visibleBottom + (1 - marginTop) * 1000 /* Margin */, QueryType.ByHeight, doc, 0, 0).to);\n        // If scrollTo is given, make sure the viewport includes that position\n        if (scrollTo) {\n            if (scrollTo.head < viewport.from) {\n                let { top: newTop } = map.lineAt(scrollTo.head, QueryType.ByPos, doc, 0, 0);\n                viewport = new Viewport(map.lineAt(newTop - 1000 /* Margin */ / 2, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(newTop + (visibleBottom - visibleTop) + 1000 /* Margin */ / 2, QueryType.ByHeight, doc, 0, 0).to);\n            }\n            else if (scrollTo.head > viewport.to) {\n                let { bottom: newBottom } = map.lineAt(scrollTo.head, QueryType.ByPos, doc, 0, 0);\n                viewport = new Viewport(map.lineAt(newBottom - (visibleBottom - visibleTop) - 1000 /* Margin */ / 2, QueryType.ByHeight, doc, 0, 0).from, map.lineAt(newBottom + 1000 /* Margin */ / 2, QueryType.ByHeight, doc, 0, 0).to);\n            }\n        }\n        return viewport;\n    }\n    mapViewport(viewport, changes) {\n        let from = changes.mapPos(viewport.from, -1), to = changes.mapPos(viewport.to, 1);\n        return new Viewport(this.heightMap.lineAt(from, QueryType.ByPos, this.state.doc, 0, 0).from, this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0).to);\n    }\n    // Checks if a given viewport covers the visible part of the\n    // document and not too much beyond that.\n    viewportIsAppropriate({ from, to }, bias = 0) {\n        let { top } = this.heightMap.lineAt(from, QueryType.ByPos, this.state.doc, 0, 0);\n        let { bottom } = this.heightMap.lineAt(to, QueryType.ByPos, this.state.doc, 0, 0);\n        let { visibleTop, visibleBottom } = this;\n        return (from == 0 || top <= visibleTop - Math.max(10 /* MinCoverMargin */, Math.min(-bias, 250 /* MaxCoverMargin */))) &&\n            (to == this.state.doc.length ||\n                bottom >= visibleBottom + Math.max(10 /* MinCoverMargin */, Math.min(bias, 250 /* MaxCoverMargin */))) &&\n            (top > visibleTop - 2 * 1000 /* Margin */ && bottom < visibleBottom + 2 * 1000 /* Margin */);\n    }\n    mapLineGaps(gaps, changes) {\n        if (!gaps.length || changes.empty)\n            return gaps;\n        let mapped = [];\n        for (let gap of gaps)\n            if (!changes.touchesRange(gap.from, gap.to))\n                mapped.push(new LineGap(changes.mapPos(gap.from), changes.mapPos(gap.to), gap.size));\n        return mapped;\n    }\n    // Computes positions in the viewport where the start or end of a\n    // line should be hidden, trying to reuse existing line gaps when\n    // appropriate to avoid unneccesary redraws.\n    // Uses crude character-counting for the positioning and sizing,\n    // since actual DOM coordinates aren't always available and\n    // predictable. Relies on generous margins (see LG.Margin) to hide\n    // the artifacts this might produce from the user.\n    ensureLineGaps(current) {\n        let gaps = [];\n        // This won't work at all in predominantly right-to-left text.\n        if (this.heightOracle.direction != Direction.LTR)\n            return gaps;\n        this.heightMap.forEachLine(this.viewport.from, this.viewport.to, this.state.doc, 0, 0, line => {\n            if (line.length < 10000 /* Margin */)\n                return;\n            let structure = lineStructure(line.from, line.to, this.state);\n            if (structure.total < 10000 /* Margin */)\n                return;\n            let viewFrom, viewTo;\n            if (this.heightOracle.lineWrapping) {\n                if (line.from != this.viewport.from)\n                    viewFrom = line.from;\n                else\n                    viewFrom = findPosition(structure, (this.visibleTop - line.top) / line.height);\n                if (line.to != this.viewport.to)\n                    viewTo = line.to;\n                else\n                    viewTo = findPosition(structure, (this.visibleBottom - line.top) / line.height);\n            }\n            else {\n                let totalWidth = structure.total * this.heightOracle.charWidth;\n                viewFrom = findPosition(structure, this.pixelViewport.left / totalWidth);\n                viewTo = findPosition(structure, this.pixelViewport.right / totalWidth);\n            }\n            let sel = this.state.selection.main;\n            // Make sure the gap doesn't cover a selection end\n            if (sel.from <= viewFrom && sel.to >= line.from)\n                viewFrom = sel.from;\n            if (sel.from <= line.to && sel.to >= viewTo)\n                viewTo = sel.to;\n            let gapTo = viewFrom - 10000 /* Margin */, gapFrom = viewTo + 10000 /* Margin */;\n            if (gapTo > line.from + 5000 /* HalfMargin */)\n                gaps.push(find(current, gap => gap.from == line.from && gap.to > gapTo - 5000 /* HalfMargin */ && gap.to < gapTo + 5000 /* HalfMargin */) ||\n                    new LineGap(line.from, gapTo, this.gapSize(line, gapTo, true, structure)));\n            if (gapFrom < line.to - 5000 /* HalfMargin */)\n                gaps.push(find(current, gap => gap.to == line.to && gap.from > gapFrom - 5000 /* HalfMargin */ &&\n                    gap.from < gapFrom + 5000 /* HalfMargin */) ||\n                    new LineGap(gapFrom, line.to, this.gapSize(line, gapFrom, false, structure)));\n        });\n        return gaps;\n    }\n    gapSize(line, pos, start, structure) {\n        if (this.heightOracle.lineWrapping) {\n            let height = line.height * findFraction(structure, pos);\n            return start ? height : line.height - height;\n        }\n        else {\n            let ratio = findFraction(structure, pos);\n            return structure.total * this.heightOracle.charWidth * (start ? ratio : 1 - ratio);\n        }\n    }\n    updateLineGaps(gaps) {\n        if (!LineGap.same(gaps, this.lineGaps)) {\n            this.lineGaps = gaps;\n            this.lineGapDeco = Decoration.set(gaps.map(gap => gap.draw(this.heightOracle.lineWrapping)));\n            return 8 /* LineGaps */;\n        }\n        return 0;\n    }\n    computeVisibleRanges() {\n        let deco = this.state.facet(decorations);\n        if (this.lineGaps.length)\n            deco = deco.concat(this.lineGapDeco);\n        let ranges = [];\n        RangeSet.spans(deco, this.viewport.from, this.viewport.to, {\n            span(from, to) { ranges.push({ from, to }); },\n            point() { }\n        }, 20);\n        this.visibleRanges = ranges;\n    }\n    lineAt(pos, editorTop) {\n        editorTop += this.paddingTop;\n        return scaleBlock(this.heightMap.lineAt(pos, QueryType.ByPos, this.state.doc, editorTop, 0), this.scaler, editorTop);\n    }\n    lineAtHeight(height, editorTop) {\n        editorTop += this.paddingTop;\n        return scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(height, editorTop), QueryType.ByHeight, this.state.doc, editorTop, 0), this.scaler, editorTop);\n    }\n    blockAtHeight(height, editorTop) {\n        editorTop += this.paddingTop;\n        return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(height, editorTop), this.state.doc, editorTop, 0), this.scaler, editorTop);\n    }\n    forEachLine(from, to, f, editorTop) {\n        editorTop += this.paddingTop;\n        return this.heightMap.forEachLine(from, to, this.state.doc, editorTop, 0, this.scaler.scale == 1 ? f : b => f(scaleBlock(b, this.scaler, editorTop)));\n    }\n    get contentHeight() {\n        return this.domHeight + this.paddingTop + this.paddingBottom;\n    }\n    get domHeight() {\n        return this.scaler.toDOM(this.heightMap.height, this.paddingTop);\n    }\n}\n/**\nIndicates the range of the document that is in the visible\nviewport.\n*/\nclass Viewport {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n    eq(b) { return this.from == b.from && this.to == b.to; }\n}\nfunction lineStructure(from, to, state) {\n    let ranges = [], pos = from, total = 0;\n    RangeSet.spans(state.facet(decorations), from, to, {\n        span() { },\n        point(from, to) {\n            if (from > pos) {\n                ranges.push({ from: pos, to: from });\n                total += from - pos;\n            }\n            pos = to;\n        }\n    }, 20); // We're only interested in collapsed ranges of a significant size\n    if (pos < to) {\n        ranges.push({ from: pos, to });\n        total += to - pos;\n    }\n    return { total, ranges };\n}\nfunction findPosition({ total, ranges }, ratio) {\n    if (ratio <= 0)\n        return ranges[0].from;\n    if (ratio >= 1)\n        return ranges[ranges.length - 1].to;\n    let dist = Math.floor(total * ratio);\n    for (let i = 0;; i++) {\n        let { from, to } = ranges[i], size = to - from;\n        if (dist <= size)\n            return from + dist;\n        dist -= size;\n    }\n}\nfunction findFraction(structure, pos) {\n    let counted = 0;\n    for (let { from, to } of structure.ranges) {\n        if (pos <= to) {\n            counted += pos - from;\n            break;\n        }\n        counted += to - from;\n    }\n    return counted / structure.total;\n}\nfunction find(array, f) {\n    for (let val of array)\n        if (f(val))\n            return val;\n    return undefined;\n}\n// Don't scale when the document height is within the range of what\n// the DOM can handle.\nconst IdScaler = {\n    toDOM(n) { return n; },\n    fromDOM(n) { return n; },\n    scale: 1\n};\n// When the height is too big (> VP.MaxDOMHeight), scale down the\n// regions outside the viewports so that the total height is\n// VP.MaxDOMHeight.\nclass BigScaler {\n    constructor(doc, heightMap, viewports) {\n        let vpHeight = 0, base = 0, domBase = 0;\n        this.viewports = viewports.map(({ from, to }) => {\n            let top = heightMap.lineAt(from, QueryType.ByPos, doc, 0, 0).top;\n            let bottom = heightMap.lineAt(to, QueryType.ByPos, doc, 0, 0).bottom;\n            vpHeight += bottom - top;\n            return { from, to, top, bottom, domTop: 0, domBottom: 0 };\n        });\n        this.scale = (7000000 /* MaxDOMHeight */ - vpHeight) / (heightMap.height - vpHeight);\n        for (let obj of this.viewports) {\n            obj.domTop = domBase + (obj.top - base) * this.scale;\n            domBase = obj.domBottom = obj.domTop + (obj.bottom - obj.top);\n            base = obj.bottom;\n        }\n    }\n    toDOM(n, top) {\n        n -= top;\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.top)\n                return domBase + (n - base) * this.scale + top;\n            if (n <= vp.bottom)\n                return vp.domTop + (n - vp.top) + top;\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n    fromDOM(n, top) {\n        n -= top;\n        for (let i = 0, base = 0, domBase = 0;; i++) {\n            let vp = i < this.viewports.length ? this.viewports[i] : null;\n            if (!vp || n < vp.domTop)\n                return base + (n - domBase) / this.scale + top;\n            if (n <= vp.domBottom)\n                return vp.top + (n - vp.domTop) + top;\n            base = vp.bottom;\n            domBase = vp.domBottom;\n        }\n    }\n}\nfunction scaleBlock(block, scaler, top) {\n    if (scaler.scale == 1)\n        return block;\n    let bTop = scaler.toDOM(block.top, top), bBottom = scaler.toDOM(block.bottom, top);\n    return new BlockInfo(block.from, block.length, bTop, bBottom - bTop, Array.isArray(block.type) ? block.type.map(b => scaleBlock(b, scaler, top)) : block.type);\n}\n\nconst theme = /*@__PURE__*/Facet.define({ combine: strs => strs.join(\" \") });\nconst darkTheme = /*@__PURE__*/Facet.define({ combine: values => values.indexOf(true) > -1 });\nconst baseThemeID = /*@__PURE__*/StyleModule.newName(), baseLightID = /*@__PURE__*/StyleModule.newName(), baseDarkID = /*@__PURE__*/StyleModule.newName();\nconst lightDarkIDs = { \"&light\": \".\" + baseLightID, \"&dark\": \".\" + baseDarkID };\nfunction buildTheme(main, spec, scopes) {\n    return new StyleModule(spec, {\n        finish(sel) {\n            return /&/.test(sel) ? sel.replace(/&\\w*/, m => {\n                if (m == \"&\")\n                    return main;\n                if (!scopes || !scopes[m])\n                    throw new RangeError(`Unsupported selector: ${m}`);\n                return scopes[m];\n            }) : main + \" \" + sel;\n        }\n    });\n}\nconst baseTheme = /*@__PURE__*/buildTheme(\".\" + baseThemeID, {\n    \"&\": {\n        position: \"relative !important\",\n        boxSizing: \"border-box\",\n        \"&.cm-focused\": {\n            // Provide a simple default outline to make sure a focused\n            // editor is visually distinct. Can't leave the default behavior\n            // because that will apply to the content element, which is\n            // inside the scrollable container and doesn't include the\n            // gutters. We also can't use an 'auto' outline, since those\n            // are, for some reason, drawn behind the element content, which\n            // will cause things like the active line background to cover\n            // the outline (#297).\n            outline: \"1px dotted #212121\"\n        },\n        display: \"flex !important\",\n        flexDirection: \"column\"\n    },\n    \".cm-scroller\": {\n        display: \"flex !important\",\n        alignItems: \"flex-start !important\",\n        fontFamily: \"monospace\",\n        lineHeight: 1.4,\n        height: \"100%\",\n        overflowX: \"auto\",\n        position: \"relative\",\n        zIndex: 0\n    },\n    \".cm-content\": {\n        margin: 0,\n        flexGrow: 2,\n        minHeight: \"100%\",\n        display: \"block\",\n        whiteSpace: \"pre\",\n        wordWrap: \"normal\",\n        boxSizing: \"border-box\",\n        padding: \"4px 0\",\n        outline: \"none\"\n    },\n    \".cm-lineWrapping\": {\n        whiteSpace: \"pre-wrap\",\n        wordBreak: \"break-word\",\n        overflowWrap: \"anywhere\"\n    },\n    \"&light .cm-content\": { caretColor: \"black\" },\n    \"&dark .cm-content\": { caretColor: \"white\" },\n    \".cm-line\": {\n        display: \"block\",\n        padding: \"0 2px 0 4px\"\n    },\n    \".cm-selectionLayer\": {\n        zIndex: -1,\n        contain: \"size style\"\n    },\n    \".cm-selectionBackground\": {\n        position: \"absolute\",\n    },\n    \"&light .cm-selectionBackground\": {\n        background: \"#d9d9d9\"\n    },\n    \"&dark .cm-selectionBackground\": {\n        background: \"#222\"\n    },\n    \"&light.cm-focused .cm-selectionBackground\": {\n        background: \"#d7d4f0\"\n    },\n    \"&dark.cm-focused .cm-selectionBackground\": {\n        background: \"#233\"\n    },\n    \".cm-cursorLayer\": {\n        zIndex: 100,\n        contain: \"size style\",\n        pointerEvents: \"none\"\n    },\n    \"&.cm-focused .cm-cursorLayer\": {\n        animation: \"steps(1) cm-blink 1.2s infinite\"\n    },\n    // Two animations defined so that we can switch between them to\n    // restart the animation without forcing another style\n    // recomputation.\n    \"@keyframes cm-blink\": { \"0%\": {}, \"50%\": { visibility: \"hidden\" }, \"100%\": {} },\n    \"@keyframes cm-blink2\": { \"0%\": {}, \"50%\": { visibility: \"hidden\" }, \"100%\": {} },\n    \".cm-cursor\": {\n        position: \"absolute\",\n        borderLeft: \"1.2px solid black\",\n        marginLeft: \"-0.6px\",\n        pointerEvents: \"none\",\n        display: \"none\"\n    },\n    \"&dark .cm-cursor\": {\n        borderLeftColor: \"#444\"\n    },\n    \"&.cm-focused .cm-cursor\": {\n        display: \"block\"\n    },\n    \"&light .cm-activeLine\": { backgroundColor: \"#f3f9ff\" },\n    \"&dark .cm-activeLine\": { backgroundColor: \"#223039\" },\n    \"&light .cm-specialChar\": { color: \"red\" },\n    \"&dark .cm-specialChar\": { color: \"#f78\" },\n    \".cm-tab\": {\n        display: \"inline-block\",\n        overflow: \"hidden\",\n        verticalAlign: \"bottom\"\n    },\n    \".cm-placeholder\": {\n        color: \"#888\",\n        display: \"inline-block\"\n    },\n    \".cm-button\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        padding: \".2em 1em\",\n        borderRadius: \"3px\"\n    },\n    \"&light .cm-button\": {\n        backgroundImage: \"linear-gradient(#eff1f5, #d9d9df)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#b4b4b4, #d0d3d6)\"\n        }\n    },\n    \"&dark .cm-button\": {\n        backgroundImage: \"linear-gradient(#393939, #111)\",\n        border: \"1px solid #888\",\n        \"&:active\": {\n            backgroundImage: \"linear-gradient(#111, #333)\"\n        }\n    },\n    \".cm-textfield\": {\n        verticalAlign: \"middle\",\n        color: \"inherit\",\n        fontSize: \"70%\",\n        border: \"1px solid silver\",\n        padding: \".2em .5em\"\n    },\n    \"&light .cm-textfield\": {\n        backgroundColor: \"white\"\n    },\n    \"&dark .cm-textfield\": {\n        border: \"1px solid #555\",\n        backgroundColor: \"inherit\"\n    }\n}, lightDarkIDs);\n\nconst observeOptions = {\n    childList: true,\n    characterData: true,\n    subtree: true,\n    attributes: true,\n    characterDataOldValue: true\n};\n// IE11 has very broken mutation observers, so we also listen to\n// DOMCharacterDataModified there\nconst useCharData = browser.ie && browser.ie_version <= 11;\nclass DOMObserver {\n    constructor(view, onChange, onScrollChanged) {\n        this.view = view;\n        this.onChange = onChange;\n        this.onScrollChanged = onScrollChanged;\n        this.active = false;\n        this.ignoreSelection = new DOMSelection;\n        this.delayedFlush = -1;\n        this.queue = [];\n        this.lastFlush = 0;\n        this.scrollTargets = [];\n        this.intersection = null;\n        this.intersecting = false;\n        // Used to work around a Safari Selection/shadow DOM bug (#414)\n        this._selectionRange = null;\n        // Timeout for scheduling check of the parents that need scroll handlers\n        this.parentCheck = -1;\n        this.dom = view.contentDOM;\n        this.observer = new MutationObserver(mutations => {\n            for (let mut of mutations)\n                this.queue.push(mut);\n            this._selectionRange = null;\n            // IE11 will sometimes (on typing over a selection or\n            // backspacing out a single character text node) call the\n            // observer callback before actually updating the DOM.\n            //\n            // Unrelatedly, iOS Safari will, when ending a composition,\n            // sometimes first clear it, deliver the mutations, and then\n            // reinsert the finished text. CodeMirror's handling of the\n            // deletion will prevent the reinsertion from happening,\n            // breaking composition.\n            if ((browser.ie && browser.ie_version <= 11 || browser.ios && view.composing) &&\n                mutations.some(m => m.type == \"childList\" && m.removedNodes.length ||\n                    m.type == \"characterData\" && m.oldValue.length > m.target.nodeValue.length))\n                this.flushSoon();\n            else\n                this.flush();\n        });\n        if (useCharData)\n            this.onCharData = (event) => {\n                this.queue.push({ target: event.target,\n                    type: \"characterData\",\n                    oldValue: event.prevValue });\n                this.flushSoon();\n            };\n        this.onSelectionChange = this.onSelectionChange.bind(this);\n        this.start();\n        this.onScroll = this.onScroll.bind(this);\n        window.addEventListener(\"scroll\", this.onScroll);\n        if (typeof IntersectionObserver == \"function\") {\n            this.intersection = new IntersectionObserver(entries => {\n                if (this.parentCheck < 0)\n                    this.parentCheck = setTimeout(this.listenForScroll.bind(this), 1000);\n                if (entries[entries.length - 1].intersectionRatio > 0 != this.intersecting) {\n                    this.intersecting = !this.intersecting;\n                    if (this.intersecting != this.view.inView)\n                        this.onScrollChanged(document.createEvent(\"Event\"));\n                }\n            }, {});\n            this.intersection.observe(this.dom);\n        }\n        this.listenForScroll();\n    }\n    onScroll(e) {\n        if (this.intersecting)\n            this.flush();\n        this.onScrollChanged(e);\n    }\n    onSelectionChange(event) {\n        if (this.lastFlush < Date.now() - 50)\n            this._selectionRange = null;\n        let { view } = this, sel = this.selectionRange;\n        if (view.state.facet(editable) ? view.root.activeElement != this.dom : !hasSelection(view.dom, sel))\n            return;\n        let context = sel.anchorNode && view.docView.nearest(sel.anchorNode);\n        if (context && context.ignoreEvent(event))\n            return;\n        // Deletions on IE11 fire their events in the wrong order, giving\n        // us a selection change event before the DOM changes are\n        // reported.\n        // (Selection.isCollapsed isn't reliable on IE)\n        if (browser.ie && browser.ie_version <= 11 && !view.state.selection.main.empty &&\n            sel.focusNode && isEquivalentPosition(sel.focusNode, sel.focusOffset, sel.anchorNode, sel.anchorOffset))\n            this.flushSoon();\n        else\n            this.flush();\n    }\n    get selectionRange() {\n        if (!this._selectionRange) {\n            let { root } = this.view, sel = getSelection(root);\n            // The Selection object is broken in shadow roots in Safari. See\n            // https://github.com/codemirror/codemirror.next/issues/414\n            if (browser.safari && root.nodeType == 11 && deepActiveElement() == this.view.contentDOM)\n                sel = safariSelectionRangeHack(this.view) || sel;\n            this._selectionRange = sel;\n        }\n        return this._selectionRange;\n    }\n    setSelectionRange(anchor, head) {\n        var _a;\n        if (!((_a = this._selectionRange) === null || _a === void 0 ? void 0 : _a.type))\n            this._selectionRange = { anchorNode: anchor.node, anchorOffset: anchor.offset,\n                focusNode: head.node, focusOffset: head.offset };\n    }\n    listenForScroll() {\n        this.parentCheck = -1;\n        let i = 0, changed = null;\n        for (let dom = this.dom; dom;) {\n            if (dom.nodeType == 1) {\n                if (!changed && i < this.scrollTargets.length && this.scrollTargets[i] == dom)\n                    i++;\n                else if (!changed)\n                    changed = this.scrollTargets.slice(0, i);\n                if (changed)\n                    changed.push(dom);\n                dom = dom.assignedSlot || dom.parentNode;\n            }\n            else if (dom.nodeType == 11) { // Shadow root\n                dom = dom.host;\n            }\n            else {\n                break;\n            }\n        }\n        if (i < this.scrollTargets.length && !changed)\n            changed = this.scrollTargets.slice(0, i);\n        if (changed) {\n            for (let dom of this.scrollTargets)\n                dom.removeEventListener(\"scroll\", this.onScroll);\n            for (let dom of this.scrollTargets = changed)\n                dom.addEventListener(\"scroll\", this.onScroll);\n        }\n    }\n    ignore(f) {\n        if (!this.active)\n            return f();\n        try {\n            this.stop();\n            return f();\n        }\n        finally {\n            this.start();\n            this.clear();\n        }\n    }\n    start() {\n        if (this.active)\n            return;\n        this.observer.observe(this.dom, observeOptions);\n        this.dom.ownerDocument.addEventListener(\"selectionchange\", this.onSelectionChange);\n        if (useCharData)\n            this.dom.addEventListener(\"DOMCharacterDataModified\", this.onCharData);\n        this.active = true;\n    }\n    stop() {\n        if (!this.active)\n            return;\n        this.active = false;\n        this.observer.disconnect();\n        this.dom.ownerDocument.removeEventListener(\"selectionchange\", this.onSelectionChange);\n        if (useCharData)\n            this.dom.removeEventListener(\"DOMCharacterDataModified\", this.onCharData);\n    }\n    clearSelection() {\n        this.ignoreSelection.set(this.selectionRange);\n    }\n    // Throw away any pending changes\n    clear() {\n        this.observer.takeRecords();\n        this.queue.length = 0;\n        this.clearSelection();\n    }\n    flushSoon() {\n        if (this.delayedFlush < 0)\n            this.delayedFlush = window.setTimeout(() => { this.delayedFlush = -1; this.flush(); }, 20);\n    }\n    forceFlush() {\n        if (this.delayedFlush >= 0) {\n            window.clearTimeout(this.delayedFlush);\n            this.delayedFlush = -1;\n            this.flush();\n        }\n    }\n    // Apply pending changes, if any\n    flush() {\n        if (this.delayedFlush >= 0)\n            return;\n        this.lastFlush = Date.now();\n        let records = this.queue;\n        for (let mut of this.observer.takeRecords())\n            records.push(mut);\n        if (records.length)\n            this.queue = [];\n        let selection = this.selectionRange;\n        let newSel = !this.ignoreSelection.eq(selection) && hasSelection(this.dom, selection);\n        if (records.length == 0 && !newSel)\n            return;\n        let from = -1, to = -1, typeOver = false;\n        for (let record of records) {\n            let range = this.readMutation(record);\n            if (!range)\n                continue;\n            if (range.typeOver)\n                typeOver = true;\n            if (from == -1) {\n                ({ from, to } = range);\n            }\n            else {\n                from = Math.min(range.from, from);\n                to = Math.max(range.to, to);\n            }\n        }\n        let startState = this.view.state;\n        if (from > -1 || newSel)\n            this.onChange(from, to, typeOver);\n        if (this.view.state == startState) { // The view wasn't updated\n            if (this.view.docView.dirty) {\n                this.ignore(() => this.view.docView.sync());\n                this.view.docView.dirty = 0 /* Not */;\n            }\n            if (newSel)\n                this.view.docView.updateSelection();\n        }\n        this.clearSelection();\n    }\n    readMutation(rec) {\n        let cView = this.view.docView.nearest(rec.target);\n        if (!cView || cView.ignoreMutation(rec))\n            return null;\n        cView.markDirty(rec.type == \"attributes\");\n        if (rec.type == \"attributes\")\n            cView.dirty |= 4 /* Attrs */;\n        if (rec.type == \"childList\") {\n            let childBefore = findChild(cView, rec.previousSibling || rec.target.previousSibling, -1);\n            let childAfter = findChild(cView, rec.nextSibling || rec.target.nextSibling, 1);\n            return { from: childBefore ? cView.posAfter(childBefore) : cView.posAtStart,\n                to: childAfter ? cView.posBefore(childAfter) : cView.posAtEnd, typeOver: false };\n        }\n        else if (rec.type == \"characterData\") {\n            return { from: cView.posAtStart, to: cView.posAtEnd, typeOver: rec.target.nodeValue == rec.oldValue };\n        }\n        else {\n            return null;\n        }\n    }\n    destroy() {\n        this.stop();\n        if (this.intersection)\n            this.intersection.disconnect();\n        for (let dom of this.scrollTargets)\n            dom.removeEventListener(\"scroll\", this.onScroll);\n        window.removeEventListener(\"scroll\", this.onScroll);\n        clearTimeout(this.parentCheck);\n    }\n}\nfunction findChild(cView, dom, dir) {\n    while (dom) {\n        let curView = ContentView.get(dom);\n        if (curView && curView.parent == cView)\n            return curView;\n        let parent = dom.parentNode;\n        dom = parent != cView.dom ? parent : dir > 0 ? dom.nextSibling : dom.previousSibling;\n    }\n    return null;\n}\nfunction safariSelectionRangeHack(view) {\n    let found = null;\n    // Because Safari (at least in 2018-2021) doesn't provide regular\n    // access to the selection inside a shadowroot, we have to perform a\n    // ridiculous hack to get at itusing `execCommand` to trigger a\n    // `beforeInput` event so that we can read the target range from the\n    // event.\n    function read(event) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        found = event.getTargetRanges()[0];\n    }\n    view.contentDOM.addEventListener(\"beforeinput\", read, true);\n    document.execCommand(\"indent\");\n    view.contentDOM.removeEventListener(\"beforeinput\", read, true);\n    if (!found)\n        return null;\n    let anchorNode = found.startContainer, anchorOffset = found.startOffset;\n    let focusNode = found.endContainer, focusOffset = found.endOffset;\n    let curAnchor = view.docView.domAtPos(view.state.selection.main.anchor);\n    // Since such a range doesn't distinguish between anchor and head,\n    // use a heuristic that flips it around if its end matches the\n    // current anchor.\n    if (isEquivalentPosition(curAnchor.node, curAnchor.offset, focusNode, focusOffset))\n        [anchorNode, anchorOffset, focusNode, focusOffset] = [focusNode, focusOffset, anchorNode, anchorOffset];\n    return { anchorNode, anchorOffset, focusNode, focusOffset };\n}\n\nfunction applyDOMChange(view, start, end, typeOver) {\n    let change, newSel;\n    let sel = view.state.selection.main, bounds;\n    if (start > -1 && !view.state.readOnly && (bounds = view.docView.domBoundsAround(start, end, 0))) {\n        let { from, to } = bounds;\n        let selPoints = view.docView.impreciseHead || view.docView.impreciseAnchor ? [] : selectionPoints(view);\n        let reader = new DOMReader(selPoints, view);\n        reader.readRange(bounds.startDOM, bounds.endDOM);\n        newSel = selectionFromPoints(selPoints, from);\n        let preferredPos = sel.from, preferredSide = null;\n        // Prefer anchoring to end when Backspace is pressed (or, on\n        // Android, when something was deleted)\n        if (view.inputState.lastKeyCode === 8 && view.inputState.lastKeyTime > Date.now() - 100 ||\n            browser.android && reader.text.length < to - from) {\n            preferredPos = sel.to;\n            preferredSide = \"end\";\n        }\n        let diff = findDiff(view.state.sliceDoc(from, to), reader.text, preferredPos - from, preferredSide);\n        if (diff)\n            change = { from: from + diff.from, to: from + diff.toA,\n                insert: view.state.toText(reader.text.slice(diff.from, diff.toB)) };\n    }\n    else if (view.hasFocus || !view.state.facet(editable)) {\n        let domSel = view.observer.selectionRange;\n        let { impreciseHead: iHead, impreciseAnchor: iAnchor } = view.docView;\n        let head = iHead && iHead.node == domSel.focusNode && iHead.offset == domSel.focusOffset ||\n            !contains(view.contentDOM, domSel.focusNode)\n            ? view.state.selection.main.head\n            : view.docView.posFromDOM(domSel.focusNode, domSel.focusOffset);\n        let anchor = iAnchor && iAnchor.node == domSel.anchorNode && iAnchor.offset == domSel.anchorOffset ||\n            !contains(view.contentDOM, domSel.anchorNode)\n            ? view.state.selection.main.anchor\n            : view.docView.posFromDOM(domSel.anchorNode, domSel.anchorOffset);\n        if (head != sel.head || anchor != sel.anchor)\n            newSel = EditorSelection.single(anchor, head);\n    }\n    if (!change && !newSel)\n        return;\n    // Heuristic to notice typing over a selected character\n    if (!change && typeOver && !sel.empty && newSel && newSel.main.empty)\n        change = { from: sel.from, to: sel.to, insert: view.state.doc.slice(sel.from, sel.to) };\n    // If the change is inside the selection and covers most of it,\n    // assume it is a selection replace (with identical characters at\n    // the start/end not included in the diff)\n    else if (change && change.from >= sel.from && change.to <= sel.to &&\n        (change.from != sel.from || change.to != sel.to) &&\n        (sel.to - sel.from) - (change.to - change.from) <= 4)\n        change = {\n            from: sel.from, to: sel.to,\n            insert: view.state.doc.slice(sel.from, change.from).append(change.insert).append(view.state.doc.slice(change.to, sel.to))\n        };\n    if (change) {\n        let startState = view.state;\n        // Android browsers don't fire reasonable key events for enter,\n        // backspace, or delete. So this detects changes that look like\n        // they're caused by those keys, and reinterprets them as key\n        // events.\n        if (browser.android &&\n            ((change.from == sel.from && change.to == sel.to &&\n                change.insert.length == 1 && change.insert.lines == 2 &&\n                dispatchKey(view.contentDOM, \"Enter\", 13)) ||\n                (change.from == sel.from - 1 && change.to == sel.to && change.insert.length == 0 &&\n                    dispatchKey(view.contentDOM, \"Backspace\", 8)) ||\n                (change.from == sel.from && change.to == sel.to + 1 && change.insert.length == 0 &&\n                    dispatchKey(view.contentDOM, \"Delete\", 46))) ||\n            browser.ios && view.inputState.flushIOSKey(view))\n            return;\n        let text = change.insert.toString();\n        if (view.state.facet(inputHandler).some(h => h(view, change.from, change.to, text)))\n            return;\n        if (view.inputState.composing >= 0)\n            view.inputState.composing++;\n        let tr;\n        if (change.from >= sel.from && change.to <= sel.to && change.to - change.from >= (sel.to - sel.from) / 3 &&\n            (!newSel || newSel.main.empty && newSel.main.from == change.from + change.insert.length)) {\n            let before = sel.from < change.from ? startState.sliceDoc(sel.from, change.from) : \"\";\n            let after = sel.to > change.to ? startState.sliceDoc(change.to, sel.to) : \"\";\n            tr = startState.replaceSelection(view.state.toText(before + change.insert.sliceString(0, undefined, view.state.lineBreak) +\n                after));\n        }\n        else {\n            let changes = startState.changes(change);\n            tr = {\n                changes,\n                selection: newSel && !startState.selection.main.eq(newSel.main) && newSel.main.to <= changes.newLength\n                    ? startState.selection.replaceRange(newSel.main) : undefined\n            };\n        }\n        let userEvent = \"input.type\";\n        if (view.composing) {\n            userEvent += \".compose\";\n            if (view.inputState.compositionFirstChange) {\n                userEvent += \".start\";\n                view.inputState.compositionFirstChange = false;\n            }\n        }\n        view.dispatch(tr, { scrollIntoView: true, userEvent });\n    }\n    else if (newSel && !newSel.main.eq(sel)) {\n        let scrollIntoView = false, userEvent = \"select\";\n        if (view.inputState.lastSelectionTime > Date.now() - 50) {\n            if (view.inputState.lastSelectionOrigin == \"select\")\n                scrollIntoView = true;\n            userEvent = view.inputState.lastSelectionOrigin;\n        }\n        view.dispatch({ selection: newSel, scrollIntoView, userEvent });\n    }\n}\nfunction findDiff(a, b, preferredPos, preferredSide) {\n    let minLen = Math.min(a.length, b.length);\n    let from = 0;\n    while (from < minLen && a.charCodeAt(from) == b.charCodeAt(from))\n        from++;\n    if (from == minLen && a.length == b.length)\n        return null;\n    let toA = a.length, toB = b.length;\n    while (toA > 0 && toB > 0 && a.charCodeAt(toA - 1) == b.charCodeAt(toB - 1)) {\n        toA--;\n        toB--;\n    }\n    if (preferredSide == \"end\") {\n        let adjust = Math.max(0, from - Math.min(toA, toB));\n        preferredPos -= toA + adjust - from;\n    }\n    if (toA < from && a.length < b.length) {\n        let move = preferredPos <= from && preferredPos >= toA ? from - preferredPos : 0;\n        from -= move;\n        toB = from + (toB - toA);\n        toA = from;\n    }\n    else if (toB < from) {\n        let move = preferredPos <= from && preferredPos >= toB ? from - preferredPos : 0;\n        from -= move;\n        toA = from + (toA - toB);\n        toB = from;\n    }\n    return { from, toA, toB };\n}\nclass DOMReader {\n    constructor(points, view) {\n        this.points = points;\n        this.view = view;\n        this.text = \"\";\n        this.lineBreak = view.state.lineBreak;\n    }\n    readRange(start, end) {\n        if (!start)\n            return;\n        let parent = start.parentNode;\n        for (let cur = start;;) {\n            this.findPointBefore(parent, cur);\n            this.readNode(cur);\n            let next = cur.nextSibling;\n            if (next == end)\n                break;\n            let view = ContentView.get(cur), nextView = ContentView.get(next);\n            if ((view ? view.breakAfter : isBlockElement(cur)) ||\n                ((nextView ? nextView.breakAfter : isBlockElement(next)) && !(cur.nodeName == \"BR\" && !cur.cmIgnore)))\n                this.text += this.lineBreak;\n            cur = next;\n        }\n        this.findPointBefore(parent, end);\n    }\n    readNode(node) {\n        if (node.cmIgnore)\n            return;\n        let view = ContentView.get(node);\n        let fromView = view && view.overrideDOMText;\n        let text;\n        if (fromView != null)\n            text = fromView.sliceString(0, undefined, this.lineBreak);\n        else if (node.nodeType == 3)\n            text = node.nodeValue;\n        else if (node.nodeName == \"BR\")\n            text = node.nextSibling ? this.lineBreak : \"\";\n        else if (node.nodeType == 1)\n            this.readRange(node.firstChild, null);\n        if (text != null) {\n            this.findPointIn(node, text.length);\n            this.text += text;\n            // Chrome inserts two newlines when pressing shift-enter at the\n            // end of a line. This drops one of those.\n            if (browser.chrome && this.view.inputState.lastKeyCode == 13 && !node.nextSibling && /\\n\\n$/.test(this.text))\n                this.text = this.text.slice(0, -1);\n        }\n    }\n    findPointBefore(node, next) {\n        for (let point of this.points)\n            if (point.node == node && node.childNodes[point.offset] == next)\n                point.pos = this.text.length;\n    }\n    findPointIn(node, maxLen) {\n        for (let point of this.points)\n            if (point.node == node)\n                point.pos = this.text.length + Math.min(point.offset, maxLen);\n    }\n}\nfunction isBlockElement(node) {\n    return node.nodeType == 1 && /^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\\d|SECTION|PRE)$/.test(node.nodeName);\n}\nclass DOMPoint {\n    constructor(node, offset) {\n        this.node = node;\n        this.offset = offset;\n        this.pos = -1;\n    }\n}\nfunction selectionPoints(view) {\n    let result = [];\n    if (view.root.activeElement != view.contentDOM)\n        return result;\n    let { anchorNode, anchorOffset, focusNode, focusOffset } = view.observer.selectionRange;\n    if (anchorNode) {\n        result.push(new DOMPoint(anchorNode, anchorOffset));\n        if (focusNode != anchorNode || focusOffset != anchorOffset)\n            result.push(new DOMPoint(focusNode, focusOffset));\n    }\n    return result;\n}\nfunction selectionFromPoints(points, base) {\n    if (points.length == 0)\n        return null;\n    let anchor = points[0].pos, head = points.length == 2 ? points[1].pos : anchor;\n    return anchor > -1 && head > -1 ? EditorSelection.single(anchor + base, head + base) : null;\n}\n\n// The editor's update state machine looks something like this:\n//\n//     Idle  Updating  Idle (unchecked)  Measuring  Idle\n//                                               \n//                                         Updating (measure)\n//\n// The difference between 'Idle' and 'Idle (unchecked)' lies in\n// whether a layout check has been scheduled. A regular update through\n// the `update` method updates the DOM in a write-only fashion, and\n// relies on a check (scheduled with `requestAnimationFrame`) to make\n// sure everything is where it should be and the viewport covers the\n// visible code. That check continues to measure and then optionally\n// update until it reaches a coherent state.\n/**\nAn editor view represents the editor's user interface. It holds\nthe editable DOM surface, and possibly other elements such as the\nline number gutter. It handles events and dispatches state\ntransactions for editing actions.\n*/\nclass EditorView {\n    /**\n    Construct a new view. You'll usually want to put `view.dom` into\n    your document after creating a view, so that the user can see\n    it.\n    */\n    constructor(\n    /**\n    Initialization options.\n    */\n    config = {}) {\n        this.plugins = [];\n        this.editorAttrs = {};\n        this.contentAttrs = {};\n        this.bidiCache = [];\n        /**\n        @internal\n        */\n        this.updateState = 2 /* Updating */;\n        /**\n        @internal\n        */\n        this.measureScheduled = -1;\n        /**\n        @internal\n        */\n        this.measureRequests = [];\n        this.contentDOM = document.createElement(\"div\");\n        this.scrollDOM = document.createElement(\"div\");\n        this.scrollDOM.tabIndex = -1;\n        this.scrollDOM.className = \"cm-scroller\";\n        this.scrollDOM.appendChild(this.contentDOM);\n        this.announceDOM = document.createElement(\"div\");\n        this.announceDOM.style.cssText = \"position: absolute; top: -10000px\";\n        this.announceDOM.setAttribute(\"aria-live\", \"polite\");\n        this.dom = document.createElement(\"div\");\n        this.dom.appendChild(this.announceDOM);\n        this.dom.appendChild(this.scrollDOM);\n        this._dispatch = config.dispatch || ((tr) => this.update([tr]));\n        this.dispatch = this.dispatch.bind(this);\n        this.root = (config.root || document);\n        this.viewState = new ViewState(config.state || EditorState.create());\n        this.plugins = this.state.facet(viewPlugin).map(spec => new PluginInstance(spec).update(this));\n        this.observer = new DOMObserver(this, (from, to, typeOver) => {\n            applyDOMChange(this, from, to, typeOver);\n        }, event => {\n            this.inputState.runScrollHandlers(this, event);\n            if (this.observer.intersecting)\n                this.measure();\n        });\n        this.inputState = new InputState(this);\n        this.docView = new DocView(this);\n        this.mountStyles();\n        this.updateAttrs();\n        this.updateState = 0 /* Idle */;\n        ensureGlobalHandler();\n        this.requestMeasure();\n        if (config.parent)\n            config.parent.appendChild(this.dom);\n    }\n    /**\n    The current editor state.\n    */\n    get state() { return this.viewState.state; }\n    /**\n    To be able to display large documents without consuming too much\n    memory or overloading the browser, CodeMirror only draws the\n    code that is visible (plus a margin around it) to the DOM. This\n    property tells you the extent of the current drawn viewport, in\n    document positions.\n    */\n    get viewport() { return this.viewState.viewport; }\n    /**\n    When there are, for example, large collapsed ranges in the\n    viewport, its size can be a lot bigger than the actual visible\n    content. Thus, if you are doing something like styling the\n    content in the viewport, it is preferable to only do so for\n    these ranges, which are the subset of the viewport that is\n    actually drawn.\n    */\n    get visibleRanges() { return this.viewState.visibleRanges; }\n    /**\n    Returns false when the editor is entirely scrolled out of view\n    or otherwise hidden.\n    */\n    get inView() { return this.viewState.inView; }\n    /**\n    Indicates whether the user is currently composing text via\n    [IME](https://en.wikipedia.org/wiki/Input_method).\n    */\n    get composing() { return this.inputState.composing > 0; }\n    dispatch(...input) {\n        this._dispatch(input.length == 1 && input[0] instanceof Transaction ? input[0]\n            : this.state.update(...input));\n    }\n    /**\n    Update the view for the given array of transactions. This will\n    update the visible document and selection to match the state\n    produced by the transactions, and notify view plugins of the\n    change. You should usually call\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead, which uses this\n    as a primitive.\n    */\n    update(transactions) {\n        if (this.updateState != 0 /* Idle */)\n            throw new Error(\"Calls to EditorView.update are not allowed while an update is in progress\");\n        let redrawn = false, update;\n        let state = this.state;\n        for (let tr of transactions) {\n            if (tr.startState != state)\n                throw new RangeError(\"Trying to update state with a transaction that doesn't start from the previous state.\");\n            state = tr.state;\n        }\n        // When the phrases change, redraw the editor\n        if (state.facet(EditorState.phrases) != this.state.facet(EditorState.phrases))\n            return this.setState(state);\n        update = new ViewUpdate(this, state, transactions);\n        let scrollPos = null;\n        try {\n            this.updateState = 2 /* Updating */;\n            for (let tr of transactions) {\n                if (scrollPos)\n                    scrollPos = scrollPos.map(tr.changes);\n                if (tr.scrollIntoView) {\n                    let { main } = tr.state.selection;\n                    scrollPos = main.empty ? main : EditorSelection.cursor(main.head, main.head > main.anchor ? -1 : 1);\n                }\n                for (let e of tr.effects)\n                    if (e.is(scrollTo))\n                        scrollPos = e.value;\n            }\n            this.viewState.update(update, scrollPos);\n            this.bidiCache = CachedOrder.update(this.bidiCache, update.changes);\n            if (!update.empty) {\n                this.updatePlugins(update);\n                this.inputState.update(update);\n            }\n            redrawn = this.docView.update(update);\n            if (this.state.facet(styleModule) != this.styleModules)\n                this.mountStyles();\n            this.updateAttrs();\n            this.showAnnouncements(transactions);\n        }\n        finally {\n            this.updateState = 0 /* Idle */;\n        }\n        if (redrawn || scrollPos || this.viewState.mustEnforceCursorAssoc)\n            this.requestMeasure();\n        if (!update.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(update);\n    }\n    /**\n    Reset the view to the given state. (This will cause the entire\n    document to be redrawn and all view plugins to be reinitialized,\n    so you should probably only use it when the new state isn't\n    derived from the old state. Otherwise, use\n    [`dispatch`](https://codemirror.net/6/docs/ref/#view.EditorView.dispatch) instead.)\n    */\n    setState(newState) {\n        if (this.updateState != 0 /* Idle */)\n            throw new Error(\"Calls to EditorView.setState are not allowed while an update is in progress\");\n        this.updateState = 2 /* Updating */;\n        try {\n            for (let plugin of this.plugins)\n                plugin.destroy(this);\n            this.viewState = new ViewState(newState);\n            this.plugins = newState.facet(viewPlugin).map(spec => new PluginInstance(spec).update(this));\n            this.docView = new DocView(this);\n            this.inputState.ensureHandlers(this);\n            this.mountStyles();\n            this.updateAttrs();\n            this.bidiCache = [];\n        }\n        finally {\n            this.updateState = 0 /* Idle */;\n        }\n        this.requestMeasure();\n    }\n    updatePlugins(update) {\n        let prevSpecs = update.startState.facet(viewPlugin), specs = update.state.facet(viewPlugin);\n        if (prevSpecs != specs) {\n            let newPlugins = [];\n            for (let spec of specs) {\n                let found = prevSpecs.indexOf(spec);\n                if (found < 0) {\n                    newPlugins.push(new PluginInstance(spec));\n                }\n                else {\n                    let plugin = this.plugins[found];\n                    plugin.mustUpdate = update;\n                    newPlugins.push(plugin);\n                }\n            }\n            for (let plugin of this.plugins)\n                if (plugin.mustUpdate != update)\n                    plugin.destroy(this);\n            this.plugins = newPlugins;\n            this.inputState.ensureHandlers(this);\n        }\n        else {\n            for (let p of this.plugins)\n                p.mustUpdate = update;\n        }\n        for (let i = 0; i < this.plugins.length; i++)\n            this.plugins[i] = this.plugins[i].update(this);\n    }\n    /**\n    @internal\n    */\n    measure(flush = true) {\n        if (this.measureScheduled > -1)\n            cancelAnimationFrame(this.measureScheduled);\n        this.measureScheduled = -1; // Prevent requestMeasure calls from scheduling another animation frame\n        if (flush)\n            this.observer.flush();\n        let updated = null;\n        try {\n            for (let i = 0;; i++) {\n                this.updateState = 1 /* Measuring */;\n                let changed = this.viewState.measure(this.docView, i > 0);\n                let measuring = this.measureRequests;\n                if (!changed && !measuring.length && this.viewState.scrollTo == null)\n                    break;\n                this.measureRequests = [];\n                if (i > 5) {\n                    console.warn(\"Viewport failed to stabilize\");\n                    break;\n                }\n                let measured = measuring.map(m => {\n                    try {\n                        return m.read(this);\n                    }\n                    catch (e) {\n                        logException(this.state, e);\n                        return BadMeasure;\n                    }\n                });\n                let update = new ViewUpdate(this, this.state);\n                update.flags |= changed;\n                if (!updated)\n                    updated = update;\n                else\n                    updated.flags |= changed;\n                this.updateState = 2 /* Updating */;\n                if (!update.empty) {\n                    this.updatePlugins(update);\n                    this.inputState.update(update);\n                }\n                this.updateAttrs();\n                if (changed)\n                    this.docView.update(update);\n                for (let i = 0; i < measuring.length; i++)\n                    if (measured[i] != BadMeasure) {\n                        try {\n                            measuring[i].write(measured[i], this);\n                        }\n                        catch (e) {\n                            logException(this.state, e);\n                        }\n                    }\n                if (this.viewState.scrollTo) {\n                    this.docView.scrollRangeIntoView(this.viewState.scrollTo);\n                    this.viewState.scrollTo = null;\n                }\n                if (!(changed & 4 /* Viewport */) && this.measureRequests.length == 0)\n                    break;\n            }\n        }\n        finally {\n            this.updateState = 0 /* Idle */;\n        }\n        this.measureScheduled = -1;\n        if (updated && !updated.empty)\n            for (let listener of this.state.facet(updateListener))\n                listener(updated);\n    }\n    /**\n    Get the CSS classes for the currently active editor themes.\n    */\n    get themeClasses() {\n        return baseThemeID + \" \" +\n            (this.state.facet(darkTheme) ? baseDarkID : baseLightID) + \" \" +\n            this.state.facet(theme);\n    }\n    updateAttrs() {\n        let editorAttrs = combineAttrs(this.state.facet(editorAttributes), {\n            class: \"cm-editor\" + (this.hasFocus ? \" cm-focused \" : \" \") + this.themeClasses\n        });\n        updateAttrs(this.dom, this.editorAttrs, editorAttrs);\n        this.editorAttrs = editorAttrs;\n        let contentAttrs = {\n            spellcheck: \"false\",\n            autocorrect: \"off\",\n            autocapitalize: \"off\",\n            contenteditable: !this.state.facet(editable) ? \"false\" : contentEditablePlainTextSupported() ? \"plaintext-only\" : \"true\",\n            class: \"cm-content\",\n            style: `${browser.tabSize}: ${this.state.tabSize}`,\n            role: \"textbox\",\n            \"aria-multiline\": \"true\"\n        };\n        if (this.state.readOnly)\n            contentAttrs[\"aria-readonly\"] = \"true\";\n        combineAttrs(this.state.facet(contentAttributes), contentAttrs);\n        updateAttrs(this.contentDOM, this.contentAttrs, contentAttrs);\n        this.contentAttrs = contentAttrs;\n    }\n    showAnnouncements(trs) {\n        let first = true;\n        for (let tr of trs)\n            for (let effect of tr.effects)\n                if (effect.is(EditorView.announce)) {\n                    if (first)\n                        this.announceDOM.textContent = \"\";\n                    first = false;\n                    let div = this.announceDOM.appendChild(document.createElement(\"div\"));\n                    div.textContent = effect.value;\n                }\n    }\n    mountStyles() {\n        this.styleModules = this.state.facet(styleModule);\n        StyleModule.mount(this.root, this.styleModules.concat(baseTheme).reverse());\n    }\n    readMeasured() {\n        if (this.updateState == 2 /* Updating */)\n            throw new Error(\"Reading the editor layout isn't allowed during an update\");\n        if (this.updateState == 0 /* Idle */ && this.measureScheduled > -1)\n            this.measure(false);\n    }\n    /**\n    Schedule a layout measurement, optionally providing callbacks to\n    do custom DOM measuring followed by a DOM write phase. Using\n    this is preferable reading DOM layout directly from, for\n    example, an event handler, because it'll make sure measuring and\n    drawing done by other components is synchronized, avoiding\n    unnecessary DOM layout computations.\n    */\n    requestMeasure(request) {\n        if (this.measureScheduled < 0)\n            this.measureScheduled = requestAnimationFrame(() => this.measure());\n        if (request) {\n            if (request.key != null)\n                for (let i = 0; i < this.measureRequests.length; i++) {\n                    if (this.measureRequests[i].key === request.key) {\n                        this.measureRequests[i] = request;\n                        return;\n                    }\n                }\n            this.measureRequests.push(request);\n        }\n    }\n    /**\n    Collect all values provided by the active plugins for a given\n    field.\n    */\n    pluginField(field) {\n        let result = [];\n        for (let plugin of this.plugins)\n            plugin.update(this).takeField(field, result);\n        return result;\n    }\n    /**\n    Get the value of a specific plugin, if present. Note that\n    plugins that crash can be dropped from a view, so even when you\n    know you registered a given plugin, it is recommended to check\n    the return value of this method.\n    */\n    plugin(plugin) {\n        for (let inst of this.plugins)\n            if (inst.spec == plugin)\n                return inst.update(this).value;\n        return null;\n    }\n    /**\n    Find the line or block widget at the given vertical position.\n    \n    By default, this position is interpreted as a screen position,\n    meaning `docTop` is set to the DOM top position of the editor\n    content (forcing a layout). You can pass a different `docTop`\n    valuefor example 0 to interpret `height` as a document-relative\n    position, or a precomputed document top\n    (`view.contentDOM.getBoundingClientRect().top`) to limit layout\n    queries.\n    */\n    blockAtHeight(height, docTop) {\n        this.readMeasured();\n        return this.viewState.blockAtHeight(height, ensureTop(docTop, this.contentDOM));\n    }\n    /**\n    Find information for the visual line (see\n    [`visualLineAt`](https://codemirror.net/6/docs/ref/#view.EditorView.visualLineAt)) at the given\n    vertical position. The resulting block info might hold another\n    array of block info structs in its `type` field if this line\n    consists of more than one block.\n    \n    Defaults to treating `height` as a screen position. See\n    [`blockAtHeight`](https://codemirror.net/6/docs/ref/#view.EditorView.blockAtHeight) for the\n    interpretation of the `docTop` parameter.\n    */\n    visualLineAtHeight(height, docTop) {\n        this.readMeasured();\n        return this.viewState.lineAtHeight(height, ensureTop(docTop, this.contentDOM));\n    }\n    /**\n    Iterate over the height information of the visual lines in the\n    viewport. The heights of lines are reported relative to the\n    given document top, which defaults to the screen position of the\n    document (forcing a layout).\n    */\n    viewportLines(f, docTop) {\n        let { from, to } = this.viewport;\n        this.viewState.forEachLine(from, to, f, ensureTop(docTop, this.contentDOM));\n    }\n    /**\n    Find the extent and height of the visual line (a range delimited\n    on both sides by either non-[hidden](https://codemirror.net/6/docs/ref/#view.Decoration^range)\n    line breaks, or the start/end of the document) at the given position.\n    \n    Vertical positions are computed relative to the `docTop`\n    argument, which defaults to 0 for this method. You can pass\n    `view.contentDOM.getBoundingClientRect().top` here to get screen\n    coordinates.\n    */\n    visualLineAt(pos, docTop = 0) {\n        return this.viewState.lineAt(pos, docTop);\n    }\n    /**\n    The editor's total content height.\n    */\n    get contentHeight() {\n        return this.viewState.contentHeight;\n    }\n    /**\n    Move a cursor position by [grapheme\n    cluster](https://codemirror.net/6/docs/ref/#text.findClusterBreak). `forward` determines whether\n    the motion is away from the line start, or towards it. Motion in\n    bidirectional text is in visual order, in the editor's [text\n    direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection). When the start\n    position was the last one on the line, the returned position\n    will be across the line break. If there is no further line, the\n    original position is returned.\n    \n    By default, this method moves over a single cluster. The\n    optional `by` argument can be used to move across more. It will\n    be called with the first cluster as argument, and should return\n    a predicate that determines, for each subsequent cluster,\n    whether it should also be moved over.\n    */\n    moveByChar(start, forward, by) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, by));\n    }\n    /**\n    Move a cursor position across the next group of either\n    [letters](https://codemirror.net/6/docs/ref/#state.EditorState.charCategorizer) or non-letter\n    non-whitespace characters.\n    */\n    moveByGroup(start, forward) {\n        return skipAtoms(this, start, moveByChar(this, start, forward, initial => byGroup(this, start.head, initial)));\n    }\n    /**\n    Move to the next line boundary in the given direction. If\n    `includeWrap` is true, line wrapping is on, and there is a\n    further wrap point on the current line, the wrap point will be\n    returned. Otherwise this function will return the start or end\n    of the line.\n    */\n    moveToLineBoundary(start, forward, includeWrap = true) {\n        return moveToLineBoundary(this, start, forward, includeWrap);\n    }\n    /**\n    Move a cursor position vertically. When `distance` isn't given,\n    it defaults to moving to the next line (including wrapped\n    lines). Otherwise, `distance` should provide a positive distance\n    in pixels.\n    \n    When `start` has a\n    [`goalColumn`](https://codemirror.net/6/docs/ref/#state.SelectionRange.goalColumn), the vertical\n    motion will use that as a target horizontal position. Otherwise,\n    the cursor's own horizontal position is used. The returned\n    cursor will have its goal column set to whichever column was\n    used.\n    */\n    moveVertically(start, forward, distance) {\n        return skipAtoms(this, start, moveVertically(this, start, forward, distance));\n    }\n    /**\n    Scroll the given document position into view.\n    */\n    scrollPosIntoView(pos) {\n        this.viewState.scrollTo = EditorSelection.cursor(pos);\n        this.requestMeasure();\n    }\n    /**\n    Find the DOM parent node and offset (child offset if `node` is\n    an element, character offset when it is a text node) at the\n    given document position.\n    */\n    domAtPos(pos) {\n        return this.docView.domAtPos(pos);\n    }\n    /**\n    Find the document position at the given DOM node. Can be useful\n    for associating positions with DOM events. Will raise an error\n    when `node` isn't part of the editor content.\n    */\n    posAtDOM(node, offset = 0) {\n        return this.docView.posFromDOM(node, offset);\n    }\n    posAtCoords(coords, precise = true) {\n        this.readMeasured();\n        return posAtCoords(this, coords, precise);\n    }\n    /**\n    Get the screen coordinates at the given document position.\n    `side` determines whether the coordinates are based on the\n    element before (-1) or after (1) the position (if no element is\n    available on the given side, the method will transparently use\n    another strategy to get reasonable coordinates).\n    */\n    coordsAtPos(pos, side = 1) {\n        this.readMeasured();\n        let rect = this.docView.coordsAt(pos, side);\n        if (!rect || rect.left == rect.right)\n            return rect;\n        let line = this.state.doc.lineAt(pos), order = this.bidiSpans(line);\n        let span = order[BidiSpan.find(order, pos - line.from, -1, side)];\n        return flattenRect(rect, (span.dir == Direction.LTR) == (side > 0));\n    }\n    /**\n    The default width of a character in the editor. May not\n    accurately reflect the width of all characters (given variable\n    width fonts or styling of invididual ranges).\n    */\n    get defaultCharacterWidth() { return this.viewState.heightOracle.charWidth; }\n    /**\n    The default height of a line in the editor. May not be accurate\n    for all lines.\n    */\n    get defaultLineHeight() { return this.viewState.heightOracle.lineHeight; }\n    /**\n    The text direction\n    ([`direction`](https://developer.mozilla.org/en-US/docs/Web/CSS/direction)\n    CSS property) of the editor.\n    */\n    get textDirection() { return this.viewState.heightOracle.direction; }\n    /**\n    Whether this editor [wraps lines](https://codemirror.net/6/docs/ref/#view.EditorView.lineWrapping)\n    (as determined by the\n    [`white-space`](https://developer.mozilla.org/en-US/docs/Web/CSS/white-space)\n    CSS property of its content element).\n    */\n    get lineWrapping() { return this.viewState.heightOracle.lineWrapping; }\n    /**\n    Returns the bidirectional text structure of the given line\n    (which should be in the current document) as an array of span\n    objects. The order of these spans matches the [text\n    direction](https://codemirror.net/6/docs/ref/#view.EditorView.textDirection)if that is\n    left-to-right, the leftmost spans come first, otherwise the\n    rightmost spans come first.\n    */\n    bidiSpans(line) {\n        if (line.length > MaxBidiLine)\n            return trivialOrder(line.length);\n        let dir = this.textDirection;\n        for (let entry of this.bidiCache)\n            if (entry.from == line.from && entry.dir == dir)\n                return entry.order;\n        let order = computeOrder(line.text, this.textDirection);\n        this.bidiCache.push(new CachedOrder(line.from, line.to, dir, order));\n        return order;\n    }\n    /**\n    Check whether the editor has focus.\n    */\n    get hasFocus() {\n        var _a;\n        // Safari return false for hasFocus when the context menu is open\n        // or closing, which leads us to ignore selection changes from the\n        // context menu because it looks like the editor isn't focused.\n        // This kludges around that.\n        return (document.hasFocus() || browser.safari && ((_a = this.inputState) === null || _a === void 0 ? void 0 : _a.lastContextMenu) > Date.now() - 3e4) &&\n            this.root.activeElement == this.contentDOM;\n    }\n    /**\n    Put focus on the editor.\n    */\n    focus() {\n        this.observer.ignore(() => {\n            focusPreventScroll(this.contentDOM);\n            this.docView.updateSelection();\n        });\n    }\n    /**\n    Clean up this editor view, removing its element from the\n    document, unregistering event handlers, and notifying\n    plugins. The view instance can no longer be used after\n    calling this.\n    */\n    destroy() {\n        for (let plugin of this.plugins)\n            plugin.destroy(this);\n        this.inputState.destroy();\n        this.dom.remove();\n        this.observer.destroy();\n        if (this.measureScheduled > -1)\n            cancelAnimationFrame(this.measureScheduled);\n    }\n    /**\n    Facet that can be used to add DOM event handlers. The value\n    should be an object mapping event names to handler functions. The\n    first such function to return true will be assumed to have handled\n    that event, and no other handlers or built-in behavior will be\n    activated for it.\n    These are registered on the [content\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.contentDOM), except for `scroll`\n    handlers, which will be called any time the editor's [scroll\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.scrollDOM) or one of its parent nodes\n    is scrolled.\n    */\n    static domEventHandlers(handlers) {\n        return ViewPlugin.define(() => ({}), { eventHandlers: handlers });\n    }\n    /**\n    Create a theme extension. The first argument can be a\n    [`style-mod`](https://github.com/marijnh/style-mod#documentation)\n    style spec providing the styles for the theme. These will be\n    prefixed with a generated class for the style.\n    \n    Because the selectors will be prefixed with a scope class, rule\n    that directly match the editor's [wrapper\n    element](https://codemirror.net/6/docs/ref/#view.EditorView.dom)to which the scope class will be\n    addedneed to be explicitly differentiated by adding an `&` to\n    the selector for that elementfor example\n    `&.cm-focused`.\n    \n    When `dark` is set to true, the theme will be marked as dark,\n    which will cause the `&dark` rules from [base\n    themes](https://codemirror.net/6/docs/ref/#view.EditorView^baseTheme) to be used (as opposed to\n    `&light` when a light theme is active).\n    */\n    static theme(spec, options) {\n        let prefix = StyleModule.newName();\n        let result = [theme.of(prefix), styleModule.of(buildTheme(`.${prefix}`, spec))];\n        if (options && options.dark)\n            result.push(darkTheme.of(true));\n        return result;\n    }\n    /**\n    Create an extension that adds styles to the base theme. Like\n    with [`theme`](https://codemirror.net/6/docs/ref/#view.EditorView^theme), use `&` to indicate the\n    place of the editor wrapper element when directly targeting\n    that. You can also use `&dark` or `&light` instead to only\n    target editors with a dark or light theme.\n    */\n    static baseTheme(spec) {\n        return Prec.fallback(styleModule.of(buildTheme(\".\" + baseThemeID, spec, lightDarkIDs)));\n    }\n}\n/**\nEffect that can be [added](https://codemirror.net/6/docs/ref/#state.TransactionSpec.effects) to a\ntransaction to make it scroll the given range into view.\n*/\nEditorView.scrollTo = scrollTo;\n/**\nFacet to add a [style\nmodule](https://github.com/marijnh/style-mod#documentation) to\nan editor view. The view will ensure that the module is\nmounted in its [document\nroot](https://codemirror.net/6/docs/ref/#view.EditorView.constructor^config.root).\n*/\nEditorView.styleModule = styleModule;\n/**\nAn input handler can override the way changes to the editable\nDOM content are handled. Handlers are passed the document\npositions between which the change was found, and the new\ncontent. When one returns true, no further input handlers are\ncalled and the default behavior is prevented.\n*/\nEditorView.inputHandler = inputHandler;\n/**\nAllows you to provide a function that should be called when the\nlibrary catches an exception from an extension (mostly from view\nplugins, but may be used by other extensions to route exceptions\nfrom user-code-provided callbacks). This is mostly useful for\ndebugging and logging. See [`logException`](https://codemirror.net/6/docs/ref/#view.logException).\n*/\nEditorView.exceptionSink = exceptionSink;\n/**\nA facet that can be used to register a function to be called\nevery time the view updates.\n*/\nEditorView.updateListener = updateListener;\n/**\nFacet that controls whether the editor content DOM is editable.\nWhen its highest-precedence value is `false`, the element will\nnot longer have its `contenteditable` attribute set. (Note that\nthis doesn't affect API calls that change the editor content,\neven when those are bound to keys or buttons. See the\n[`readOnly`](https://codemirror.net/6/docs/ref/#state.EditorState.readOnly) facet for that.)\n*/\nEditorView.editable = editable;\n/**\nAllows you to influence the way mouse selection happens. The\nfunctions in this facet will be called for a `mousedown` event\non the editor, and can return an object that overrides the way a\nselection is computed from that mouse click or drag.\n*/\nEditorView.mouseSelectionStyle = mouseSelectionStyle;\n/**\nFacet used to configure whether a given selection drag event\nshould move or copy the selection. The given predicate will be\ncalled with the `mousedown` event, and can return `true` when\nthe drag should move the content.\n*/\nEditorView.dragMovesSelection = dragMovesSelection$1;\n/**\nFacet used to configure whether a given selecting click adds\na new range to the existing selection or replaces it entirely.\n*/\nEditorView.clickAddsSelectionRange = clickAddsSelectionRange;\n/**\nA facet that determines which [decorations](https://codemirror.net/6/docs/ref/#view.Decoration)\nare shown in the view. See also [view\nplugins](https://codemirror.net/6/docs/ref/#view.EditorView^decorations), which have a separate\nmechanism for providing decorations.\n*/\nEditorView.decorations = decorations;\n/**\nFacet that provides additional DOM attributes for the editor's\neditable DOM element.\n*/\nEditorView.contentAttributes = contentAttributes;\n/**\nFacet that provides DOM attributes for the editor's outer\nelement.\n*/\nEditorView.editorAttributes = editorAttributes;\n/**\nAn extension that enables line wrapping in the editor (by\nsetting CSS `white-space` to `pre-wrap` in the content).\n*/\nEditorView.lineWrapping = /*@__PURE__*/EditorView.contentAttributes.of({ \"class\": \"cm-lineWrapping\" });\n/**\nState effect used to include screen reader announcements in a\ntransaction. These will be added to the DOM in a visually hidden\nelement with `aria-live=\"polite\"` set, and should be used to\ndescribe effects that are visually obvious but may not be\nnoticed by screen reader users (such as moving to the next\nsearch match).\n*/\nEditorView.announce = /*@__PURE__*/StateEffect.define();\n// Maximum line length for which we compute accurate bidi info\nconst MaxBidiLine = 4096;\nfunction ensureTop(given, dom) {\n    return given == null ? dom.getBoundingClientRect().top : given;\n}\nlet resizeDebounce = -1;\nfunction ensureGlobalHandler() {\n    window.addEventListener(\"resize\", () => {\n        if (resizeDebounce == -1)\n            resizeDebounce = setTimeout(handleResize, 50);\n    });\n}\nfunction handleResize() {\n    resizeDebounce = -1;\n    let found = document.querySelectorAll(\".cm-content\");\n    for (let i = 0; i < found.length; i++) {\n        let docView = ContentView.get(found[i]);\n        if (docView)\n            docView.editorView.requestMeasure();\n    }\n}\nconst BadMeasure = {};\nclass CachedOrder {\n    constructor(from, to, dir, order) {\n        this.from = from;\n        this.to = to;\n        this.dir = dir;\n        this.order = order;\n    }\n    static update(cache, changes) {\n        if (changes.empty)\n            return cache;\n        let result = [], lastDir = cache.length ? cache[cache.length - 1].dir : Direction.LTR;\n        for (let i = Math.max(0, cache.length - 10); i < cache.length; i++) {\n            let entry = cache[i];\n            if (entry.dir == lastDir && !changes.touchesRange(entry.from, entry.to))\n                result.push(new CachedOrder(changes.mapPos(entry.from, 1), changes.mapPos(entry.to, -1), entry.dir, entry.order));\n        }\n        return result;\n    }\n}\n\nconst currentPlatform = typeof navigator == \"undefined\" ? \"key\"\n    : /*@__PURE__*//Mac/.test(navigator.platform) ? \"mac\"\n        : /*@__PURE__*//Win/.test(navigator.platform) ? \"win\"\n            : /*@__PURE__*//Linux|X11/.test(navigator.platform) ? \"linux\"\n                : \"key\";\nfunction normalizeKeyName(name, platform) {\n    const parts = name.split(/-(?!$)/);\n    let result = parts[parts.length - 1];\n    if (result == \"Space\")\n        result = \" \";\n    let alt, ctrl, shift, meta;\n    for (let i = 0; i < parts.length - 1; ++i) {\n        const mod = parts[i];\n        if (/^(cmd|meta|m)$/i.test(mod))\n            meta = true;\n        else if (/^a(lt)?$/i.test(mod))\n            alt = true;\n        else if (/^(c|ctrl|control)$/i.test(mod))\n            ctrl = true;\n        else if (/^s(hift)?$/i.test(mod))\n            shift = true;\n        else if (/^mod$/i.test(mod)) {\n            if (platform == \"mac\")\n                meta = true;\n            else\n                ctrl = true;\n        }\n        else\n            throw new Error(\"Unrecognized modifier name: \" + mod);\n    }\n    if (alt)\n        result = \"Alt-\" + result;\n    if (ctrl)\n        result = \"Ctrl-\" + result;\n    if (meta)\n        result = \"Meta-\" + result;\n    if (shift)\n        result = \"Shift-\" + result;\n    return result;\n}\nfunction modifiers(name, event, shift) {\n    if (event.altKey)\n        name = \"Alt-\" + name;\n    if (event.ctrlKey)\n        name = \"Ctrl-\" + name;\n    if (event.metaKey)\n        name = \"Meta-\" + name;\n    if (shift !== false && event.shiftKey)\n        name = \"Shift-\" + name;\n    return name;\n}\nconst handleKeyEvents = /*@__PURE__*/EditorView.domEventHandlers({\n    keydown(event, view) {\n        return runHandlers(getKeymap(view.state), event, view, \"editor\");\n    }\n});\n/**\nFacet used for registering keymaps.\n\nYou can add multiple keymaps to an editor. Their priorities\ndetermine their precedence (the ones specified early or with high\npriority get checked first). When a handler has returned `true`\nfor a given key, no further handlers are called.\n*/\nconst keymap = /*@__PURE__*/Facet.define({ enables: handleKeyEvents });\nconst Keymaps = /*@__PURE__*/new WeakMap();\n// This is hidden behind an indirection, rather than directly computed\n// by the facet, to keep internal types out of the facet's type.\nfunction getKeymap(state) {\n    let bindings = state.facet(keymap);\n    let map = Keymaps.get(bindings);\n    if (!map)\n        Keymaps.set(bindings, map = buildKeymap(bindings.reduce((a, b) => a.concat(b), [])));\n    return map;\n}\n/**\nRun the key handlers registered for a given scope. The event\nobject should be `\"keydown\"` event. Returns true if any of the\nhandlers handled it.\n*/\nfunction runScopeHandlers(view, event, scope) {\n    return runHandlers(getKeymap(view.state), event, view, scope);\n}\nlet storedPrefix = null;\nconst PrefixTimeout = 4000;\nfunction buildKeymap(bindings, platform = currentPlatform) {\n    let bound = Object.create(null);\n    let isPrefix = Object.create(null);\n    let checkPrefix = (name, is) => {\n        let current = isPrefix[name];\n        if (current == null)\n            isPrefix[name] = is;\n        else if (current != is)\n            throw new Error(\"Key binding \" + name + \" is used both as a regular binding and as a multi-stroke prefix\");\n    };\n    let add = (scope, key, command, preventDefault) => {\n        let scopeObj = bound[scope] || (bound[scope] = Object.create(null));\n        let parts = key.split(/ (?!$)/).map(k => normalizeKeyName(k, platform));\n        for (let i = 1; i < parts.length; i++) {\n            let prefix = parts.slice(0, i).join(\" \");\n            checkPrefix(prefix, true);\n            if (!scopeObj[prefix])\n                scopeObj[prefix] = {\n                    preventDefault: true,\n                    commands: [(view) => {\n                            let ourObj = storedPrefix = { view, prefix, scope };\n                            setTimeout(() => { if (storedPrefix == ourObj)\n                                storedPrefix = null; }, PrefixTimeout);\n                            return true;\n                        }]\n                };\n        }\n        let full = parts.join(\" \");\n        checkPrefix(full, false);\n        let binding = scopeObj[full] || (scopeObj[full] = { preventDefault: false, commands: [] });\n        binding.commands.push(command);\n        if (preventDefault)\n            binding.preventDefault = true;\n    };\n    for (let b of bindings) {\n        let name = b[platform] || b.key;\n        if (!name)\n            continue;\n        for (let scope of b.scope ? b.scope.split(\" \") : [\"editor\"]) {\n            add(scope, name, b.run, b.preventDefault);\n            if (b.shift)\n                add(scope, \"Shift-\" + name, b.shift, b.preventDefault);\n        }\n    }\n    return bound;\n}\nfunction runHandlers(map, event, view, scope) {\n    let name = keyName(event), isChar = name.length == 1 && name != \" \";\n    let prefix = \"\", fallthrough = false;\n    if (storedPrefix && storedPrefix.view == view && storedPrefix.scope == scope) {\n        prefix = storedPrefix.prefix + \" \";\n        if (fallthrough = modifierCodes.indexOf(event.keyCode) < 0)\n            storedPrefix = null;\n    }\n    let runFor = (binding) => {\n        if (binding) {\n            for (let cmd of binding.commands)\n                if (cmd(view))\n                    return true;\n            if (binding.preventDefault)\n                fallthrough = true;\n        }\n        return false;\n    };\n    let scopeObj = map[scope], baseName;\n    if (scopeObj) {\n        if (runFor(scopeObj[prefix + modifiers(name, event, !isChar)]))\n            return true;\n        if (isChar && (event.shiftKey || event.altKey || event.metaKey) &&\n            (baseName = base[event.keyCode]) && baseName != name) {\n            if (runFor(scopeObj[prefix + modifiers(baseName, event, true)]))\n                return true;\n        }\n        else if (isChar && event.shiftKey) {\n            if (runFor(scopeObj[prefix + modifiers(name, event, true)]))\n                return true;\n        }\n    }\n    return fallthrough;\n}\n\nconst CanHidePrimary = !browser.ios; // FIXME test IE\nconst selectionConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            cursorBlinkRate: 1200,\n            drawRangeCursor: true\n        }, {\n            cursorBlinkRate: (a, b) => Math.min(a, b),\n            drawRangeCursor: (a, b) => a || b\n        });\n    }\n});\n/**\nReturns an extension that hides the browser's native selection and\ncursor, replacing the selection with a background behind the text\n(with the `cm-selectionBackground` class), and the\ncursors with elements overlaid over the code (using\n`cm-cursor-primary` and `cm-cursor-secondary`).\n\nThis allows the editor to display secondary selection ranges, and\ntends to produce a type of selection more in line with that users\nexpect in a text editor (the native selection styling will often\nleave gaps between lines and won't fill the horizontal space after\na line when the selection continues past it).\n\nIt does have a performance cost, in that it requires an extra DOM\nlayout cycle for many updates (the selection is drawn based on DOM\nlayout information that's only available after laying out the\ncontent).\n*/\nfunction drawSelection(config = {}) {\n    return [\n        selectionConfig.of(config),\n        drawSelectionPlugin,\n        hideNativeSelection\n    ];\n}\nclass Piece {\n    constructor(left, top, width, height, className) {\n        this.left = left;\n        this.top = top;\n        this.width = width;\n        this.height = height;\n        this.className = className;\n    }\n    draw() {\n        let elt = document.createElement(\"div\");\n        elt.className = this.className;\n        this.adjust(elt);\n        return elt;\n    }\n    adjust(elt) {\n        elt.style.left = this.left + \"px\";\n        elt.style.top = this.top + \"px\";\n        if (this.width >= 0)\n            elt.style.width = this.width + \"px\";\n        elt.style.height = this.height + \"px\";\n    }\n    eq(p) {\n        return this.left == p.left && this.top == p.top && this.width == p.width && this.height == p.height &&\n            this.className == p.className;\n    }\n}\nconst drawSelectionPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.rangePieces = [];\n        this.cursors = [];\n        this.measureReq = { read: this.readPos.bind(this), write: this.drawSel.bind(this) };\n        this.selectionLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.selectionLayer.className = \"cm-selectionLayer\";\n        this.selectionLayer.setAttribute(\"aria-hidden\", \"true\");\n        this.cursorLayer = view.scrollDOM.appendChild(document.createElement(\"div\"));\n        this.cursorLayer.className = \"cm-cursorLayer\";\n        this.cursorLayer.setAttribute(\"aria-hidden\", \"true\");\n        view.requestMeasure(this.measureReq);\n        this.setBlinkRate();\n    }\n    setBlinkRate() {\n        this.cursorLayer.style.animationDuration = this.view.state.facet(selectionConfig).cursorBlinkRate + \"ms\";\n    }\n    update(update) {\n        let confChanged = update.startState.facet(selectionConfig) != update.state.facet(selectionConfig);\n        if (confChanged || update.selectionSet || update.geometryChanged || update.viewportChanged)\n            this.view.requestMeasure(this.measureReq);\n        if (update.transactions.some(tr => tr.scrollIntoView))\n            this.cursorLayer.style.animationName = this.cursorLayer.style.animationName == \"cm-blink\" ? \"cm-blink2\" : \"cm-blink\";\n        if (confChanged)\n            this.setBlinkRate();\n    }\n    readPos() {\n        let { state } = this.view, conf = state.facet(selectionConfig);\n        let rangePieces = state.selection.ranges.map(r => r.empty ? [] : measureRange(this.view, r)).reduce((a, b) => a.concat(b));\n        let cursors = [];\n        for (let r of state.selection.ranges) {\n            let prim = r == state.selection.main;\n            if (r.empty ? !prim || CanHidePrimary : conf.drawRangeCursor) {\n                let piece = measureCursor(this.view, r, prim);\n                if (piece)\n                    cursors.push(piece);\n            }\n        }\n        return { rangePieces, cursors };\n    }\n    drawSel({ rangePieces, cursors }) {\n        if (rangePieces.length != this.rangePieces.length || rangePieces.some((p, i) => !p.eq(this.rangePieces[i]))) {\n            this.selectionLayer.textContent = \"\";\n            for (let p of rangePieces)\n                this.selectionLayer.appendChild(p.draw());\n            this.rangePieces = rangePieces;\n        }\n        if (cursors.length != this.cursors.length || cursors.some((c, i) => !c.eq(this.cursors[i]))) {\n            let oldCursors = this.cursorLayer.children;\n            if (oldCursors.length !== cursors.length) {\n                this.cursorLayer.textContent = \"\";\n                for (const c of cursors)\n                    this.cursorLayer.appendChild(c.draw());\n            }\n            else {\n                cursors.forEach((c, idx) => c.adjust(oldCursors[idx]));\n            }\n            this.cursors = cursors;\n        }\n    }\n    destroy() {\n        this.selectionLayer.remove();\n        this.cursorLayer.remove();\n    }\n});\nconst themeSpec = {\n    \".cm-line\": {\n        \"& ::selection\": { backgroundColor: \"transparent !important\" },\n        \"&::selection\": { backgroundColor: \"transparent !important\" }\n    }\n};\nif (CanHidePrimary)\n    themeSpec[\".cm-line\"].caretColor = \"transparent !important\";\nconst hideNativeSelection = /*@__PURE__*/Prec.override(/*@__PURE__*/EditorView.theme(themeSpec));\nfunction getBase(view) {\n    let rect = view.scrollDOM.getBoundingClientRect();\n    let left = view.textDirection == Direction.LTR ? rect.left : rect.right - view.scrollDOM.clientWidth;\n    return { left: left - view.scrollDOM.scrollLeft, top: rect.top - view.scrollDOM.scrollTop };\n}\nfunction wrappedLine(view, pos, inside) {\n    let range = EditorSelection.cursor(pos);\n    return { from: Math.max(inside.from, view.moveToLineBoundary(range, false, true).from),\n        to: Math.min(inside.to, view.moveToLineBoundary(range, true, true).from),\n        type: BlockType.Text };\n}\nfunction blockAt(view, pos) {\n    let line = view.visualLineAt(pos);\n    if (Array.isArray(line.type))\n        for (let l of line.type) {\n            if (l.to > pos || l.to == pos && (l.to == line.to || l.type == BlockType.Text))\n                return l;\n        }\n    return line;\n}\nfunction measureRange(view, range) {\n    if (range.to <= view.viewport.from || range.from >= view.viewport.to)\n        return [];\n    let from = Math.max(range.from, view.viewport.from), to = Math.min(range.to, view.viewport.to);\n    let ltr = view.textDirection == Direction.LTR;\n    let content = view.contentDOM, contentRect = content.getBoundingClientRect(), base = getBase(view);\n    let lineStyle = window.getComputedStyle(content.firstChild);\n    let leftSide = contentRect.left + parseInt(lineStyle.paddingLeft);\n    let rightSide = contentRect.right - parseInt(lineStyle.paddingRight);\n    let startBlock = blockAt(view, from), endBlock = blockAt(view, to);\n    let visualStart = startBlock.type == BlockType.Text ? startBlock : null;\n    let visualEnd = endBlock.type == BlockType.Text ? endBlock : null;\n    if (view.lineWrapping) {\n        if (visualStart)\n            visualStart = wrappedLine(view, from, visualStart);\n        if (visualEnd)\n            visualEnd = wrappedLine(view, to, visualEnd);\n    }\n    if (visualStart && visualEnd && visualStart.from == visualEnd.from) {\n        return pieces(drawForLine(range.from, range.to, visualStart));\n    }\n    else {\n        let top = visualStart ? drawForLine(range.from, null, visualStart) : drawForWidget(startBlock, false);\n        let bottom = visualEnd ? drawForLine(null, range.to, visualEnd) : drawForWidget(endBlock, true);\n        let between = [];\n        if ((visualStart || startBlock).to < (visualEnd || endBlock).from - 1)\n            between.push(piece(leftSide, top.bottom, rightSide, bottom.top));\n        else if (top.bottom < bottom.top && blockAt(view, (top.bottom + bottom.top) / 2).type == BlockType.Text)\n            top.bottom = bottom.top = (top.bottom + bottom.top) / 2;\n        return pieces(top).concat(between).concat(pieces(bottom));\n    }\n    function piece(left, top, right, bottom) {\n        return new Piece(left - base.left, top - base.top, right - left, bottom - top, \"cm-selectionBackground\");\n    }\n    function pieces({ top, bottom, horizontal }) {\n        let pieces = [];\n        for (let i = 0; i < horizontal.length; i += 2)\n            pieces.push(piece(horizontal[i], top, horizontal[i + 1], bottom));\n        return pieces;\n    }\n    // Gets passed from/to in line-local positions\n    function drawForLine(from, to, line) {\n        let top = 1e9, bottom = -1e9, horizontal = [];\n        function addSpan(from, fromOpen, to, toOpen, dir) {\n            // Passing 2/-2 is a kludge to force the view to return\n            // coordinates on the proper side of block widgets, since\n            // normalizing the side there, though appropriate for most\n            // coordsAtPos queries, would break selection drawing.\n            let fromCoords = view.coordsAtPos(from, (from == line.to ? -2 : 2));\n            let toCoords = view.coordsAtPos(to, (to == line.from ? 2 : -2));\n            top = Math.min(fromCoords.top, toCoords.top, top);\n            bottom = Math.max(fromCoords.bottom, toCoords.bottom, bottom);\n            if (dir == Direction.LTR)\n                horizontal.push(ltr && fromOpen ? leftSide : fromCoords.left, ltr && toOpen ? rightSide : toCoords.right);\n            else\n                horizontal.push(!ltr && toOpen ? leftSide : toCoords.left, !ltr && fromOpen ? rightSide : fromCoords.right);\n        }\n        let start = from !== null && from !== void 0 ? from : line.from, end = to !== null && to !== void 0 ? to : line.to;\n        // Split the range by visible range and document line\n        for (let r of view.visibleRanges)\n            if (r.to > start && r.from < end) {\n                for (let pos = Math.max(r.from, start), endPos = Math.min(r.to, end);;) {\n                    let docLine = view.state.doc.lineAt(pos);\n                    for (let span of view.bidiSpans(docLine)) {\n                        let spanFrom = span.from + docLine.from, spanTo = span.to + docLine.from;\n                        if (spanFrom >= endPos)\n                            break;\n                        if (spanTo > pos)\n                            addSpan(Math.max(spanFrom, pos), from == null && spanFrom <= start, Math.min(spanTo, endPos), to == null && spanTo >= end, span.dir);\n                    }\n                    pos = docLine.to + 1;\n                    if (pos >= endPos)\n                        break;\n                }\n            }\n        if (horizontal.length == 0)\n            addSpan(start, from == null, end, to == null, view.textDirection);\n        return { top, bottom, horizontal };\n    }\n    function drawForWidget(block, top) {\n        let y = contentRect.top + (top ? block.top : block.bottom);\n        return { top: y, bottom: y, horizontal: [] };\n    }\n}\nfunction measureCursor(view, cursor, primary) {\n    let pos = view.coordsAtPos(cursor.head, cursor.assoc || 1);\n    if (!pos)\n        return null;\n    let base = getBase(view);\n    return new Piece(pos.left - base.left, pos.top - base.top, -1, pos.bottom - pos.top, primary ? \"cm-cursor cm-cursor-primary\" : \"cm-cursor cm-cursor-secondary\");\n}\n\nfunction iterMatches(doc, re, from, to, f) {\n    re.lastIndex = 0;\n    for (let cursor = doc.iterRange(from, to), pos = from, m; !cursor.next().done; pos += cursor.value.length) {\n        if (!cursor.lineBreak)\n            while (m = re.exec(cursor.value))\n                f(pos + m.index, pos + m.index + m[0].length, m);\n    }\n}\n/**\nHelper class used to make it easier to maintain decorations on\nvisible code that matches a given regular expression. To be used\nin a [view plugin](https://codemirror.net/6/docs/ref/#view.ViewPlugin). Instances of this object\nrepresent a matching configuration.\n*/\nclass MatchDecorator {\n    /**\n    Create a decorator.\n    */\n    constructor(config) {\n        let { regexp, decoration, boundary } = config;\n        if (!regexp.global)\n            throw new RangeError(\"The regular expression given to MatchDecorator should have its 'g' flag set\");\n        this.regexp = regexp;\n        this.getDeco = typeof decoration == \"function\" ? decoration : () => decoration;\n        this.boundary = boundary;\n    }\n    /**\n    Compute the full set of decorations for matches in the given\n    view's viewport. You'll want to call this when initializing your\n    plugin.\n    */\n    createDeco(view) {\n        let build = new RangeSetBuilder();\n        for (let { from, to } of view.visibleRanges)\n            iterMatches(view.state.doc, this.regexp, from, to, (a, b, m) => build.add(a, b, this.getDeco(m, view, a)));\n        return build.finish();\n    }\n    /**\n    Update a set of decorations for a view update. `deco` _must_ be\n    the set of decorations produced by _this_ `MatchDecorator` for\n    the view state before the update.\n    */\n    updateDeco(update, deco) {\n        let changeFrom = 1e9, changeTo = -1;\n        if (update.docChanged)\n            update.changes.iterChanges((_f, _t, from, to) => {\n                if (to > update.view.viewport.from && from < update.view.viewport.to) {\n                    changeFrom = Math.min(from, changeFrom);\n                    changeTo = Math.max(to, changeTo);\n                }\n            });\n        if (update.viewportChanged || changeTo - changeFrom > 1000)\n            return this.createDeco(update.view);\n        if (changeTo > -1)\n            return this.updateRange(update.view, deco.map(update.changes), changeFrom, changeTo);\n        return deco;\n    }\n    updateRange(view, deco, updateFrom, updateTo) {\n        for (let r of view.visibleRanges) {\n            let from = Math.max(r.from, updateFrom), to = Math.min(r.to, updateTo);\n            if (to > from) {\n                let fromLine = view.state.doc.lineAt(from), toLine = fromLine.to < to ? view.state.doc.lineAt(to) : fromLine;\n                let start = Math.max(r.from, fromLine.from), end = Math.min(r.to, toLine.to);\n                if (this.boundary) {\n                    for (; from > fromLine.from; from--)\n                        if (this.boundary.test(fromLine.text[from - 1 - fromLine.from])) {\n                            start = from;\n                            break;\n                        }\n                    for (; to < toLine.to; to++)\n                        if (this.boundary.test(toLine.text[to - toLine.from])) {\n                            end = to;\n                            break;\n                        }\n                }\n                let ranges = [], m;\n                if (fromLine == toLine) {\n                    this.regexp.lastIndex = start - fromLine.from;\n                    while ((m = this.regexp.exec(fromLine.text)) && m.index < end - fromLine.from) {\n                        let pos = m.index + fromLine.from;\n                        ranges.push(this.getDeco(m, view, pos).range(pos, pos + m[0].length));\n                    }\n                }\n                else {\n                    iterMatches(view.state.doc, this.regexp, start, end, (from, to, m) => ranges.push(this.getDeco(m, view, from).range(from, to)));\n                }\n                deco = deco.update({ filterFrom: start, filterTo: end, filter: (from, to) => from < start || to > end, add: ranges });\n            }\n        }\n        return deco;\n    }\n}\n\nconst UnicodeRegexpSupport = /x/.unicode != null ? \"gu\" : \"g\";\nconst Specials = /*@__PURE__*/new RegExp(\"[\\u0000-\\u0008\\u000a-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]\", UnicodeRegexpSupport);\nconst Names = {\n    0: \"null\",\n    7: \"bell\",\n    8: \"backspace\",\n    10: \"newline\",\n    11: \"vertical tab\",\n    13: \"carriage return\",\n    27: \"escape\",\n    8203: \"zero width space\",\n    8204: \"zero width non-joiner\",\n    8205: \"zero width joiner\",\n    8206: \"left-to-right mark\",\n    8207: \"right-to-left mark\",\n    8232: \"line separator\",\n    8233: \"paragraph separator\",\n    65279: \"zero width no-break space\",\n    65532: \"object replacement\"\n};\nlet _supportsTabSize = null;\nfunction supportsTabSize() {\n    var _a;\n    if (_supportsTabSize == null && typeof document != \"undefined\" && document.body) {\n        let styles = document.body.style;\n        _supportsTabSize = ((_a = styles.tabSize) !== null && _a !== void 0 ? _a : styles.MozTabSize) != null;\n    }\n    return _supportsTabSize || false;\n}\nconst specialCharConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        let config = combineConfig(configs, {\n            render: null,\n            specialChars: Specials,\n            addSpecialChars: null\n        });\n        if (config.replaceTabs = !supportsTabSize())\n            config.specialChars = new RegExp(\"\\t|\" + config.specialChars.source, UnicodeRegexpSupport);\n        if (config.addSpecialChars)\n            config.specialChars = new RegExp(config.specialChars.source + \"|\" + config.addSpecialChars.source, UnicodeRegexpSupport);\n        return config;\n    }\n});\n/**\nReturns an extension that installs highlighting of special\ncharacters.\n*/\nfunction highlightSpecialChars(\n/**\nConfiguration options.\n*/\nconfig = {}) {\n    return [specialCharConfig.of(config), specialCharPlugin()];\n}\nlet _plugin = null;\nfunction specialCharPlugin() {\n    return _plugin || (_plugin = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.decorations = Decoration.none;\n            this.decorationCache = Object.create(null);\n            this.decorator = this.makeDecorator(view.state.facet(specialCharConfig));\n            this.decorations = this.decorator.createDeco(view);\n        }\n        makeDecorator(conf) {\n            return new MatchDecorator({\n                regexp: conf.specialChars,\n                decoration: (m, view, pos) => {\n                    let { doc } = view.state;\n                    let code = codePointAt(m[0], 0);\n                    if (code == 9) {\n                        let line = doc.lineAt(pos);\n                        let size = view.state.tabSize, col = countColumn(line.text, size, pos - line.from);\n                        return Decoration.replace({ widget: new TabWidget((size - (col % size)) * this.view.defaultCharacterWidth) });\n                    }\n                    return this.decorationCache[code] ||\n                        (this.decorationCache[code] = Decoration.replace({ widget: new SpecialCharWidget(conf, code) }));\n                },\n                boundary: conf.replaceTabs ? undefined : /[^]/\n            });\n        }\n        update(update) {\n            let conf = update.state.facet(specialCharConfig);\n            if (update.startState.facet(specialCharConfig) != conf) {\n                this.decorator = this.makeDecorator(conf);\n                this.decorations = this.decorator.createDeco(update.view);\n            }\n            else {\n                this.decorations = this.decorator.updateDeco(update, this.decorations);\n            }\n        }\n    }, {\n        decorations: v => v.decorations\n    }));\n}\nconst DefaultPlaceholder = \"\\u2022\";\n// Assigns placeholder characters from the Control Pictures block to\n// ASCII control characters\nfunction placeholder$1(code) {\n    if (code >= 32)\n        return DefaultPlaceholder;\n    if (code == 10)\n        return \"\\u2424\";\n    return String.fromCharCode(9216 + code);\n}\nclass SpecialCharWidget extends WidgetType {\n    constructor(options, code) {\n        super();\n        this.options = options;\n        this.code = code;\n    }\n    eq(other) { return other.code == this.code; }\n    toDOM(view) {\n        let ph = placeholder$1(this.code);\n        let desc = view.state.phrase(\"Control character\") + \" \" + (Names[this.code] || \"0x\" + this.code.toString(16));\n        let custom = this.options.render && this.options.render(this.code, desc, ph);\n        if (custom)\n            return custom;\n        let span = document.createElement(\"span\");\n        span.textContent = ph;\n        span.title = desc;\n        span.setAttribute(\"aria-label\", desc);\n        span.className = \"cm-specialChar\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\nclass TabWidget extends WidgetType {\n    constructor(width) {\n        super();\n        this.width = width;\n    }\n    eq(other) { return other.width == this.width; }\n    toDOM() {\n        let span = document.createElement(\"span\");\n        span.textContent = \"\\t\";\n        span.className = \"cm-tab\";\n        span.style.width = this.width + \"px\";\n        return span;\n    }\n    ignoreEvent() { return false; }\n}\n\nconst plugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.height = -1;\n        this.measure = {\n            read: view => Math.max(0, view.scrollDOM.clientHeight - view.defaultLineHeight),\n            write: (value, view) => {\n                if (Math.abs(value - this.height) > 1) {\n                    this.height = value;\n                    view.contentDOM.style.paddingBottom = value + \"px\";\n                }\n            }\n        };\n        view.requestMeasure(this.measure);\n    }\n    update(update) {\n        if (update.geometryChanged)\n            update.view.requestMeasure(this.measure);\n    }\n});\n/**\nReturns a plugin that makes sure the content has a bottom margin\nequivalent to the height of the editor, minus one line height, so\nthat every line in the document can be scrolled to the top of the\neditor.\n\nThis is only meaningful when the editor is scrollable, and should\nnot be enabled in editors that take the size of their content.\n*/\nfunction scrollPastEnd() {\n    return plugin;\n}\n\n/**\nMark lines that have a cursor on them with the `\"cm-activeLine\"`\nDOM class.\n*/\nfunction highlightActiveLine() {\n    return activeLineHighlighter;\n}\nconst lineDeco = /*@__PURE__*/Decoration.line({ attributes: { class: \"cm-activeLine\" } });\nconst activeLineHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.decorations = this.getDeco(view);\n    }\n    update(update) {\n        if (update.docChanged || update.selectionSet)\n            this.decorations = this.getDeco(update.view);\n    }\n    getDeco(view) {\n        let lastLineStart = -1, deco = [];\n        for (let r of view.state.selection.ranges) {\n            if (!r.empty)\n                return Decoration.none;\n            let line = view.visualLineAt(r.head);\n            if (line.from > lastLineStart) {\n                deco.push(lineDeco.range(line.from));\n                lastLineStart = line.from;\n            }\n        }\n        return Decoration.set(deco);\n    }\n}, {\n    decorations: v => v.decorations\n});\n\nclass Placeholder extends WidgetType {\n    constructor(content) {\n        super();\n        this.content = content;\n    }\n    toDOM() {\n        let wrap = document.createElement(\"span\");\n        wrap.className = \"cm-placeholder\";\n        wrap.style.pointerEvents = \"none\";\n        wrap.appendChild(typeof this.content == \"string\" ? document.createTextNode(this.content) : this.content);\n        if (typeof this.content == \"string\")\n            wrap.setAttribute(\"aria-label\", \"placeholder \" + this.content);\n        else\n            wrap.setAttribute(\"aria-hidden\", \"true\");\n        return wrap;\n    }\n    ignoreEvent() { return false; }\n}\n/**\nExtension that enables a placeholdera piece of example content\nto show when the editor is empty.\n*/\nfunction placeholder(content) {\n    return ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.view = view;\n            this.placeholder = Decoration.set([Decoration.widget({ widget: new Placeholder(content), side: 1 }).range(0)]);\n        }\n        get decorations() { return this.view.state.doc.length ? Decoration.none : this.placeholder; }\n    }, { decorations: v => v.decorations });\n}\n\n/**\n@internal\n*/\nconst __test = { HeightMap, HeightOracle, MeasuredHeights, QueryType, ChangedRange, computeOrder, moveVisually };\n\nexport { BidiSpan, BlockInfo, BlockType, Decoration, Direction, EditorView, MatchDecorator, PluginField, PluginFieldProvider, ViewPlugin, ViewUpdate, WidgetType, __test, drawSelection, highlightActiveLine, highlightSpecialChars, keymap, logException, placeholder, runScopeHandlers, scrollPastEnd };\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CodemirrorComponent } from './codemirror.component';\n\n@NgModule({\n  declarations: [CodemirrorComponent],\n  exports: [\n    CodemirrorComponent\n  ],\n  imports: [\n    CommonModule,\n  ],\n  providers: [\n\n  ]\n})\nexport class CodemirrorModule { }\n","import { ContextTracker, ExternalTokenizer, LRParser } from '@lezer/lr';\nimport { NodeProp } from '@lezer/common';\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst noSemi = 271,\n  incdec = 1,\n  incdecPrefix = 2,\n  templateContent = 272,\n  templateDollarBrace = 273,\n  templateEnd = 274,\n  insertSemi = 275,\n  TSExtends = 3,\n  spaces = 277,\n  newline = 278,\n  LineComment = 4,\n  BlockComment = 5,\n  Dialect_ts = 1;\n\n/* Hand-written tokenizers for JavaScript tokens that can't be\n   expressed by lezer's built-in tokenizer. */\n\nconst space = [9, 10, 11, 12, 13, 32, 133, 160, 5760, 8192, 8193, 8194, 8195, 8196, 8197, 8198, 8199, 8200,\n               8201, 8202, 8232, 8233, 8239, 8287, 12288];\n\nconst braceR = 125, braceL = 123, semicolon = 59, slash = 47, star = 42,\n      plus = 43, minus = 45, dollar = 36, backtick = 96, backslash = 92;\n\nconst trackNewline = new ContextTracker({\n  start: false,\n  shift(context, term) {\n    return term == LineComment || term == BlockComment || term == spaces ? context : term == newline\n  },\n  strict: false\n});\n\nconst insertSemicolon = new ExternalTokenizer((input, stack) => {\n  let {next} = input;\n  if ((next == braceR || next == -1 || stack.context) && stack.canShift(insertSemi))\n    input.acceptToken(insertSemi);\n}, {contextual: true, fallback: true});\n\nconst noSemicolon = new ExternalTokenizer((input, stack) => {\n  let {next} = input, after;\n  if (space.indexOf(next) > -1) return\n  if (next == slash && ((after = input.peek(1)) == slash || after == star)) return\n  if (next != braceR && next != semicolon && next != -1 && !stack.context && stack.canShift(noSemi))\n    input.acceptToken(noSemi);\n}, {contextual: true});\n\nconst incdecToken = new ExternalTokenizer((input, stack) => {\n  let {next} = input;\n  if (next == plus || next == minus) {\n    input.advance();\n    if (next == input.next) {\n      input.advance();\n      let mayPostfix = !stack.context && stack.canShift(incdec);\n      input.acceptToken(mayPostfix ? incdec : incdecPrefix);\n    }\n  }\n}, {contextual: true});\n\nconst template = new ExternalTokenizer(input => {\n  for (let afterDollar = false, i = 0;; i++) {\n    let {next} = input;\n    if (next < 0) {\n      if (i) input.acceptToken(templateContent);\n      break\n    } else if (next == backtick) {\n      if (i) input.acceptToken(templateContent);\n      else input.acceptToken(templateEnd, 1);\n      break\n    } else if (next == braceL && afterDollar) {\n      if (i == 1) input.acceptToken(templateDollarBrace, 1);\n      else input.acceptToken(templateContent, -1);\n      break\n    } else if (next == 10 /* \"\\n\" */ && i) {\n      // Break up template strings on lines, to avoid huge tokens\n      input.advance();\n      input.acceptToken(templateContent);\n      break\n    } else if (next == backslash) {\n      input.advance();\n    }\n    afterDollar = next == dollar;\n    input.advance();\n  }\n});\n\nfunction tsExtends(value, stack) {\n  return value == \"extends\" && stack.dialectEnabled(Dialect_ts) ? TSExtends : -1\n}\n\n// This file was generated by lezer-generator. You probably shouldn't edit it.\nconst spec_identifier = {__proto__:null,export:16, as:21, from:25, default:30, async:35, function:36, this:46, true:54, false:54, void:60, typeof:64, null:78, super:80, new:114, await:131, yield:133, delete:134, class:144, extends:146, public:183, private:183, protected:183, readonly:185, in:204, instanceof:206, const:208, import:240, keyof:291, unique:295, infer:301, is:335, abstract:355, implements:357, type:359, let:362, var:364, interface:371, enum:375, namespace:381, module:383, declare:387, global:391, for:412, of:421, while:424, with:428, do:432, if:436, else:438, switch:442, case:448, try:454, catch:456, finally:458, return:462, throw:466, break:470, continue:474, debugger:478};\nconst spec_word = {__proto__:null,async:101, get:103, set:105, public:153, private:153, protected:153, static:155, abstract:157, readonly:161, new:339};\nconst spec_LessThan = {__proto__:null,\"<\":121};\nconst parser = LRParser.deserialize({\n  version: 13,\n  states: \"$-tO`QYOOO&}Q!LdO'#CgO'UOSO'#DSO)^QYO'#DXO)nQYO'#DdO)uQYO'#DnO-lQYO'#DtOOQO'#EU'#EUO.PQWO'#ETO.UQWO'#ETO0TQ!LdO'#ImO2kQ!LdO'#InO3XQWO'#ErO3^QpO'#FXOOQ!LS'#Ez'#EzO3fO!bO'#EzO3tQWO'#F`O5RQWO'#F_OOQ!LS'#In'#InOOQ!LQ'#Im'#ImOOQQ'#JV'#JVO5WQWO'#HfO5]Q!LYO'#HgOOQQ'#I_'#I_OOQQ'#Hh'#HhQ`QYOOO)uQYO'#DfO5eQWO'#GSO5jQ#tO'#ClO5xQWO'#ESO6TQ#tO'#EyO6oQWO'#GSO6tQWO'#GWO7PQWO'#GWO7_QWO'#GZO7_QWO'#G[O7_QWO'#G^O5eQWO'#GaO8OQWO'#GdO9^QWO'#CcO9nQWO'#GqO9vQWO'#GwO9vQWO'#GyO`QYO'#G{O9vQWO'#G}O9vQWO'#HQO9{QWO'#HWO:QQ!LZO'#H[O)uQYO'#H^O:]Q!LZO'#H`O:hQ!LZO'#HbO5]Q!LYO'#HdO)uQYO'#IoOOOS'#Hj'#HjO:sOSO,59nOOQ!LS,59n,59nO=UQbO'#CgO=`QYO'#HkO=mQWO'#IpO?lQbO'#IpO'aQYO'#IpO?sQWO,59sO@ZQ&jO'#D^OASQWO'#EUOAaQWO'#IzOAlQWO'#IyOAtQWO,5:rOAyQWO'#IxOBQQWO'#DuO5jQ#tO'#ESOB`QWO'#ESOBkQ`O'#EyOOQ!LS,5:O,5:OOBsQYO,5:OODqQ!LdO,5:YOE_QWO,5:`OExQ!LYO'#IwO6tQWO'#IvOFPQWO'#IvOFXQWO,5:qOF^QWO'#IvOFlQYO,5:oOHiQWO'#EQOIsQWO,5:oOKSQWO'#DhOKZQYO'#DmOKeQ&jO,5:xO)uQYO,5:xOOQQ'#Ej'#EjOOQQ'#El'#ElO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yO)uQYO,5:yOOQQ'#Ep'#EpOKjQYO,5;ZOOQ!LS,5;`,5;`OOQ!LS,5;a,5;aOMgQWO,5;aOOQ!LS,5;b,5;bO)uQYO'#HuOMlQ!LYO,5;{ONWQWO,5:yO)uQYO,5;^ONpQpO'#JOON_QpO'#JOONwQpO'#JOO! YQpO,5;iOOQO,5;s,5;sO! hQYO'#FZOOOO'#Ht'#HtO3fO!bO,5;fO! oQpO'#F]OOQ!LS,5;f,5;fO!!]Q,UO'#CqOOQ!LS'#Ct'#CtO!!pQWO'#CtO!!uOSO'#CxO!#cQ#tO,5;xO!#jQWO,5;zO!$vQWO'#FjO!%TQWO'#FkO!%YQWO'#FoO!&[Q&jO'#FsO!&}Q,UO'#IhOOQ!LS'#Ih'#IhO!'XQWO'#IgO!'gQWO'#IfOOQ!LS'#Cr'#CrOOQ!LS'#Cy'#CyO!'oQWO'#C{OIxQWO'#FbOIxQWO'#FdO!'tQWO'#FfO!'yQWO'#FgO!(OQWO'#FmOIxQWO'#FrO!(TQWO'#EVO!(lQWO,5;yO`QYO,5>QOOQQ'#Ib'#IbOOQQ,5>R,5>ROOQQ-E;f-E;fO!*hQ!LdO,5:QOOQ!LQ'#Co'#CoO!+XQ#tO,5<nOOQO'#Ce'#CeO!+jQWO'#CpO!+rQ!LYO'#IcO5RQWO'#IcO9{QWO,59WO!,QQpO,59WO!,YQ#tO,59WO5jQ#tO,59WO!,eQWO,5:oO!,mQWO'#GpO!,uQWO'#JZO)uQYO,5;cOKeQ&jO,5;eO!,}QWO,5=ZO!-SQWO,5=ZO!-XQWO,5=ZO5]Q!LYO,5=ZO5eQWO,5<nO!-gQWO'#EWO!-xQ&jO'#EXOOQ!LQ'#Ix'#IxO!.ZQ!LYO'#JWO5]Q!LYO,5<rO7_QWO,5<xOOQO'#Cq'#CqO!.fQpO,5<uO!.nQ#tO,5<vO!.yQWO,5<xO!/OQ`O,5<{O9{QWO'#GfO5eQWO'#GhO!/WQWO'#GhO5jQ#tO'#GkO!/]QWO'#GkOOQQ,5=O,5=OO!/bQWO'#GlO!/jQWO'#ClO!/oQWO,58}O!/yQWO,58}O!1xQYO,58}OOQQ,58},58}O!2VQ!LYO,58}O)uQYO,58}O!2bQYO'#GsOOQQ'#Gt'#GtOOQQ'#Gu'#GuO`QYO,5=]O!2rQWO,5=]O)uQYO'#DtO`QYO,5=cO`QYO,5=eO!2wQWO,5=gO`QYO,5=iO!2|QWO,5=lO!3RQYO,5=rOOQQ,5=v,5=vO)uQYO,5=vO5]Q!LYO,5=xOOQQ,5=z,5=zO!7PQWO,5=zOOQQ,5=|,5=|O!7PQWO,5=|OOQQ,5>O,5>OO!7UQ`O,5?ZOOOS-E;h-E;hOOQ!LS1G/Y1G/YO!7ZQbO,5>VO)uQYO,5>VOOQO-E;i-E;iO!7eQWO,5?[O!7mQbO,5?[O!7tQWO,5?eOOQ!LS1G/_1G/_O!7|QpO'#DQOOQO'#Ir'#IrO)uQYO'#IrO!8kQpO'#IrO!9YQpO'#D_O!9kQ&jO'#D_O!;sQYO'#D_O!;zQWO'#IqO!<SQWO,59xO!<XQWO'#EYO!<gQWO'#I{O!<oQWO,5:sO!=VQ&jO'#D_O)uQYO,5?fO!=aQWO'#HpO!7tQWO,5?eOOQ!LQ1G0^1G0^O!>gQ&jO'#DxOOQ!LS,5:a,5:aO)uQYO,5:aOHiQWO,5:aO!>nQWO,5:aO9{QWO,5:nO!,QQpO,5:nO!,YQ#tO,5:nO5jQ#tO,5:nOOQ!LS1G/j1G/jOOQ!LS1G/z1G/zOOQ!LQ'#EP'#EPO)uQYO,5?cO!>yQ!LYO,5?cO!?[Q!LYO,5?cO!?cQWO,5?bO!?kQWO'#HrO!?cQWO,5?bOOQ!LQ1G0]1G0]O6tQWO,5?bOOQ!LS1G0Z1G0ZO!@VQ!LdO1G0ZO!@vQ!LbO,5:lOOQ!LS'#Fi'#FiO!AdQ!LdO'#IhOFlQYO1G0ZO!CcQ#tO'#IsO!CmQWO,5:SO!CrQbO'#ItO)uQYO'#ItO!C|QWO,5:XOOQ!LS'#DQ'#DQOOQ!LS1G0d1G0dO!DRQWO1G0dO!FdQ!LdO1G0eO!FkQ!LdO1G0eO!IOQ!LdO1G0eO!IVQ!LdO1G0eO!K^Q!LdO1G0eO!KqQ!LdO1G0eO!NbQ!LdO1G0eO!NiQ!LdO1G0eO#!|Q!LdO1G0eO##TQ!LdO1G0eO#$xQ!LdO1G0eO#'rQ7^O'#CgO#)mQ7^O1G0uO#+hQ7^O'#InOOQ!LS1G0{1G0{O#+{Q!LdO,5>aOOQ!LQ-E;s-E;sO#,lQ!LdO1G0eOOQ!LS1G0e1G0eO#.nQ!LdO1G0xO#/_QpO,5;kO#/dQpO,5;lO#/iQpO'#FSO#/}QWO'#FROOQO'#JP'#JPOOQO'#Hs'#HsO#0SQpO1G1TOOQ!LS1G1T1G1TOOQO1G1^1G1^O#0bQ7^O'#ImO#0lQWO,5;uOKjQYO,5;uOOOO-E;r-E;rOOQ!LS1G1Q1G1QOOQ!LS,5;w,5;wO#0qQpO,5;wOOQ!LS,59`,59`OHiQWO'#IjOOOS'#Hi'#HiO#0vOSO,59dOOQ!LS,59d,59dO)uQYO1G1dOKeQ&jO'#HwO#1RQWO,5<]OOQ!LS,5<Y,5<YOOQO'#F}'#F}OIxQWO,5<hOOQO'#GP'#GPOIxQWO,5<jOIxQWO,5<lOOQO1G1f1G1fO#1^Q`O'#CoO#1qQ`O,5<UO#1xQWO'#JSO5eQWO'#JSO#2WQWO,5<WOIxQWO,5<VO#2]Q`O'#FiO#2jQ`O'#JTO#2tQWO'#JTOHiQWO'#JTO#2yQWO,5<ZOOQ!LQ'#Dc'#DcO#3OQWO'#FlO#3ZQpO'#FtO!&VQ&jO'#FtO!&VQ&jO'#FvO#3lQWO'#FwO!(OQWO'#FzOOQO'#Hy'#HyO#3qQ&jO,5<_OOQ!LS,5<_,5<_O#3xQ&jO'#FtO#4WQ&jO'#FuO#4`Q&jO'#FuOOQ!LS,5<m,5<mOIxQWO,5?ROIxQWO,5?RO#4eQWO'#HzO#4pQWO,5?QOOQ!LS'#Cg'#CgO#5dQ#tO,59gOOQ!LS,59g,59gO#6VQ#tO,5;|O#6xQ#tO,5<OO#7SQWO,5<QOOQ!LS,5<R,5<RO#7XQWO,5<XO#7^Q#tO,5<^OFlQYO1G1eO#7nQWO1G1eOOQQ1G3l1G3lOOQ!LS1G/l1G/lOMgQWO1G/lOOQQ1G2Y1G2YOHiQWO1G2YO)uQYO1G2YOHiQWO1G2YO#7sQWO1G2YO#8RQWO,59[O#9[QWO'#EQOOQ!LQ,5>},5>}O#9fQ!LYO,5>}OOQQ1G.r1G.rO9{QWO1G.rO!,QQpO1G.rO!,YQ#tO1G.rO#9tQWO1G0ZO#9yQWO'#CgO#:UQWO'#J[O#:^QWO,5=[O#:cQWO'#J[O#:hQWO'#ISO#:vQWO,5?uO#;OQbO1G0}OOQ!LS1G1P1G1PO5eQWO1G2uO#;VQWO1G2uO#;[QWO1G2uO#;aQWO1G2uOOQQ1G2u1G2uO#;fQ#tO1G2YO6tQWO'#IyO6tQWO'#EYO6tQWO'#H|O#;wQ!LYO,5?rOOQQ1G2^1G2^O!.yQWO1G2dOHiQWO1G2aO#<SQWO1G2aOOQQ1G2b1G2bOHiQWO1G2bO#<XQWO1G2bO#<aQ&jO'#G`OOQQ1G2d1G2dO!&VQ&jO'#IOO!/OQ`O1G2gOOQQ1G2g1G2gOOQQ,5=Q,5=QO#<iQ#tO,5=SO5eQWO,5=SO#3lQWO,5=VO5RQWO,5=VO!,QQpO,5=VO!,YQ#tO,5=VO5jQ#tO,5=VO#<zQWO'#JYO#=VQWO,5=WOOQQ1G.i1G.iO#=[Q!LYO1G.iO#=gQWO1G.iO!'oQWO1G.iO5]Q!LYO1G.iO#=lQbO,5?wO#=vQWO,5?wO#>RQYO,5=_O#>YQWO,5=_O6tQWO,5?wOOQQ1G2w1G2wO`QYO1G2wOOQQ1G2}1G2}OOQQ1G3P1G3PO9vQWO1G3RO#>_QYO1G3TO#BVQYO'#HSOOQQ1G3W1G3WO9{QWO1G3^O#BdQWO1G3^O5]Q!LYO1G3bOOQQ1G3d1G3dOOQ!LQ'#Fp'#FpO5]Q!LYO1G3fO5]Q!LYO1G3hOOOS1G4u1G4uO#BlQ`O,5;{O#BtQbO1G3qO#COQWO1G4vO#CWQWO1G5PO#C`QWO,5?^OKjQYO,5:tO6tQWO,5:tO9{QWO,59yOKjQYO,59yO!,QQpO,59yO#CeQ7^O,59yOOQO,5:t,5:tO#CoQ&jO'#HlO#DVQWO,5?]OOQ!LS1G/d1G/dO#D_Q&jO'#HqO#DsQWO,5?gOOQ!LQ1G0_1G0_O!9kQ&jO,59yO#D{QbO1G5QOOQO,5>[,5>[O6tQWO,5>[OOQO-E;n-E;nO#EVQ!LrO'#D}O!&VQ&jO'#DyOOQO'#Ho'#HoO#EqQ&jO,5:dOOQ!LS,5:d,5:dO#ExQ&jO'#DyO#FWQ&jO'#D}O#FlQ&jO'#D}O!&VQ&jO'#D}O#FvQWO1G/{O#F{Q`O1G/{OOQ!LS1G/{1G/{O)uQYO1G/{OHiQWO1G/{OOQ!LS1G0Y1G0YO9{QWO1G0YO!,QQpO1G0YO!,YQ#tO1G0YO#GSQ!LdO1G4}O)uQYO1G4}O#GdQ!LYO1G4}O#GuQWO1G4|O6tQWO,5>^OOQO,5>^,5>^O#G}QWO,5>^OOQO-E;p-E;pO#GuQWO1G4|O#H]Q!LdO,59gO#J[Q!LdO,5;|O#L^Q!LdO,5<OO#N`Q!LdO,5<^OOQ!LS7+%u7+%uO$!hQ!LdO7+%uO$#XQWO'#HmO$#cQWO,5?_OOQ!LS1G/n1G/nO$#kQYO'#HnO$#xQWO,5?`O$$QQbO,5?`OOQ!LS1G/s1G/sOOQ!LS7+&O7+&OO$$[Q7^O,5:YO)uQYO7+&aO$$fQ7^O,5:QOOQO1G1V1G1VOOQO1G1W1G1WO$$sQMhO,5;nOKjQYO,5;mOOQO-E;q-E;qOOQ!LS7+&o7+&oOOQO7+&x7+&xOOOO1G1a1G1aO$%OQWO1G1aOOQ!LS1G1c1G1cO$%TQ`O,5?UOOOS-E;g-E;gOOQ!LS1G/O1G/OO$%[Q!LdO7+'OOOQ!LS,5>c,5>cO$%{QWO,5>cOOQ!LS1G1w1G1wP$&QQWO'#HwPOQ!LS-E;u-E;uO$&qQ#tO1G2SO$'dQ#tO1G2UO$'nQ#tO1G2WOOQ!LS1G1p1G1pO$'uQWO'#HvO$(TQWO,5?nO$(TQWO,5?nO$(]QWO,5?nO$(hQWO,5?nOOQO1G1r1G1rO$(vQ#tO1G1qO$)WQWO'#HxO$)hQWO,5?oOHiQWO,5?oO$)pQ`O,5?oOOQ!LS1G1u1G1uO5]Q!LYO,5<`O5]Q!LYO,5<aO$)zQWO,5<aO#3gQWO,5<aO!,QQpO,5<`O$*PQWO,5<bO5]Q!LYO,5<cO$)zQWO,5<fOOQO-E;w-E;wOOQ!LS1G1y1G1yO!&VQ&jO,5<`O$*XQWO,5<aO!&VQ&jO,5<bO!&VQ&jO,5<aO$*dQ#tO1G4mO$*nQ#tO1G4mOOQO,5>f,5>fOOQO-E;x-E;xOKeQ&jO,59iO)uQYO,59iO$*{QWO1G1lOIxQWO1G1sO$+QQ!LdO7+'POOQ!LS7+'P7+'POFlQYO7+'POOQ!LS7+%W7+%WO$+qQ`O'#JUO#FvQWO7+'tO$+{QWO7+'tO$,TQ`O7+'tOOQQ7+'t7+'tOHiQWO7+'tO)uQYO7+'tOHiQWO7+'tOOQO1G.v1G.vO$,_Q!LbO'#CgO$,oQ!LbO,5<dO$-^QWO,5<dOOQ!LQ1G4i1G4iOOQQ7+$^7+$^O9{QWO7+$^O!,QQpO7+$^OFlQYO7+%uO$-cQWO'#IRO$-nQWO,5?vOOQO1G2v1G2vO5eQWO,5?vOOQO,5>n,5>nOOQO-E<Q-E<QOOQ!LS7+&i7+&iO$-vQWO7+(aO5]Q!LYO7+(aO5eQWO7+(aO$-{QWO7+(aO$.QQWO7+'tOOQ!LQ,5>h,5>hOOQ!LQ-E;z-E;zOOQQ7+(O7+(OO$.`Q!LbO7+'{OHiQWO7+'{O$.jQ`O7+'|OOQQ7+'|7+'|OHiQWO7+'|O$.qQWO'#JXO$.|QWO,5<zOOQO,5>j,5>jOOQO-E;|-E;|OOQQ7+(R7+(RO$/sQ&jO'#GiOOQQ1G2n1G2nOHiQWO1G2nO)uQYO1G2nOHiQWO1G2nO$/zQWO1G2nO$0YQ#tO1G2nO5]Q!LYO1G2qO#3lQWO1G2qO5RQWO1G2qO!,QQpO1G2qO!,YQ#tO1G2qO$0kQWO'#IQO$0vQWO,5?tO$1OQ&jO,5?tOOQ!LQ1G2r1G2rOOQQ7+$T7+$TO$1TQWO7+$TO5]Q!LYO7+$TO$1YQWO7+$TO)uQYO1G5cO)uQYO1G5dO$1_QYO1G2yO$1fQWO1G2yO$1kQYO1G2yO$1rQ!LYO1G5cOOQQ7+(c7+(cO5]Q!LYO7+(mO`QYO7+(oOOQQ'#J_'#J_OOQQ'#IT'#ITO$1|QYO,5=nOOQQ,5=n,5=nO)uQYO'#HTO$2ZQWO'#HVOOQQ7+(x7+(xO$2`QYO7+(xO6tQWO7+(xOOQQ7+(|7+(|OOQQ7+)Q7+)QOOQQ7+)S7+)SOOQO1G4x1G4xO$6ZQ7^O1G0`O$6eQWO1G0`OOQO1G/e1G/eO$6pQ7^O1G/eO9{QWO1G/eOKjQYO'#D_OOQO,5>W,5>WOOQO-E;j-E;jOOQO,5>],5>]OOQO-E;o-E;oO!,QQpO1G/eOOQO1G3v1G3vO9{QWO,5:eOOQO,5:i,5:iO)uQYO,5:iO$6zQ!LYO,5:iO$7VQ!LYO,5:iO!,QQpO,5:eOOQO-E;m-E;mOOQ!LS1G0O1G0OO!&VQ&jO,5:eO$7eQ!LrO,5:iO$8PQ&jO,5:eO!&VQ&jO,5:iO$8_Q&jO,5:iO$8sQ!LYO,5:iOOQ!LS7+%g7+%gO#FvQWO7+%gO#F{Q`O7+%gOOQ!LS7+%t7+%tO9{QWO7+%tO!,QQpO7+%tO$9XQ!LdO7+*iO)uQYO7+*iOOQO1G3x1G3xO6tQWO1G3xO$9iQWO7+*hO$9qQ!LdO1G2SO$;sQ!LdO1G2UO$=uQ!LdO1G1qO$?}Q#tO,5>XOOQO-E;k-E;kO$@XQbO,5>YO)uQYO,5>YOOQO-E;l-E;lO$@cQWO1G4zO$@kQ7^O1G0ZO$BrQ7^O1G0eO$ByQ7^O1G0eO$DzQ7^O1G0eO$ERQ7^O1G0eO$FvQ7^O1G0eO$GZQ7^O1G0eO$IhQ7^O1G0eO$IoQ7^O1G0eO$KpQ7^O1G0eO$KwQ7^O1G0eO$MlQ7^O1G0eO$NPQ!LdO<<I{O$NpQ7^O1G0eO%!`Q7^O'#IhO%$]Q7^O1G0xOKjQYO'#FUOOQO'#JQ'#JQOOQO1G1Y1G1YO%$jQWO1G1XO%$oQ7^O,5>aOOOO7+&{7+&{OOOS1G4p1G4pOOQ!LS1G3}1G3}OIxQWO7+'rO%$yQWO,5>bO5eQWO,5>bOOQO-E;t-E;tO%%XQWO1G5YO%%XQWO1G5YO%%aQWO1G5YO%%lQ`O,5>dO%%vQWO,5>dOHiQWO,5>dOOQO-E;v-E;vO%%{Q`O1G5ZO%&VQWO1G5ZOOQO1G1z1G1zOOQO1G1{1G1{O5]Q!LYO1G1{O$)zQWO1G1{O5]Q!LYO1G1zO%&_QWO1G1|OHiQWO1G1|OOQO1G1}1G1}O5]Q!LYO1G2QO!,QQpO1G1zO#3gQWO1G1{O%&dQWO1G1|O%&lQWO1G1{OIxQWO7+*XOOQ!LS1G/T1G/TO%&wQWO1G/TOOQ!LS7+'W7+'WO%&|Q#tO7+'_O%'^Q!LdO<<JkOOQ!LS<<Jk<<JkOHiQWO'#H{O%'}QWO,5?pOOQQ<<K`<<K`OHiQWO<<K`O#FvQWO<<K`O%(VQWO<<K`O%(_Q`O<<K`OHiQWO1G2OOOQQ<<Gx<<GxO9{QWO<<GxO%(iQ!LdO<<IaOOQ!LS<<Ia<<IaOOQO,5>m,5>mO%)YQWO,5>mOOQO-E<P-E<PO%)_QWO1G5bO%)gQWO<<K{OOQQ<<K{<<K{O%)lQWO<<K{O5]Q!LYO<<K{O)uQYO<<K`OHiQWO<<K`OOQQ<<Kg<<KgO$.`Q!LbO<<KgOOQQ<<Kh<<KhO$.jQ`O<<KhO%)qQ&jO'#H}O%)|QWO,5?sOKjQYO,5?sOOQQ1G2f1G2fO#EVQ!LrO'#D}O!&VQ&jO'#GjOOQO'#IP'#IPO%*UQ&jO,5=TOOQQ,5=T,5=TO#4WQ&jO'#D}O%*]Q&jO'#D}O%*qQ&jO'#D}O%*{Q&jO'#GjO%+ZQWO7+(YO%+`QWO7+(YO%+hQ`O7+(YOOQQ7+(Y7+(YOHiQWO7+(YO)uQYO7+(YOHiQWO7+(YO%+rQWO7+(YOOQQ7+(]7+(]O5]Q!LYO7+(]O#3lQWO7+(]O5RQWO7+(]O!,QQpO7+(]O%,QQWO,5>lOOQO-E<O-E<OOOQO'#Gm'#GmO%,]QWO1G5`O5]Q!LYO<<GoOOQQ<<Go<<GoO%,eQWO<<GoO%,jQWO7+*}O%,oQWO7++OOOQQ7+(e7+(eO%,tQWO7+(eO%,yQYO7+(eO%-QQWO7+(eO)uQYO7+*}O)uQYO7++OOOQQ<<LX<<LXOOQQ<<LZ<<LZOOQQ-E<R-E<ROOQQ1G3Y1G3YO%-VQWO,5=oOOQQ,5=q,5=qO9{QWO<<LdO%-[QWO<<LdOKjQYO7+%zOOQO7+%P7+%PO%-aQ7^O1G5QO9{QWO7+%POOQO1G0P1G0PO%-kQ!LdO1G0TOOQO1G0T1G0TO)uQYO1G0TO%-uQ!LYO1G0TO9{QWO1G0PO!,QQpO1G0PO%.QQ!LYO1G0TO!&VQ&jO1G0PO%.`Q!LYO1G0TO%.tQ!LrO1G0TO%/OQ&jO1G0PO!&VQ&jO1G0TOOQ!LS<<IR<<IROOQ!LS<<I`<<I`O9{QWO<<I`O%/^Q!LdO<<NTOOQO7+)d7+)dO%/nQ!LdO7+'_O%1vQbO1G3tO%2QQ7^O7+%uO%2_Q7^O,59gO%4[Q7^O,5;|O%6XQ7^O,5<OO%8UQ7^O,5<^O%9tQ7^O7+'OO%:RQ7^O7+'PO%:`QWO,5;pOOQO7+&s7+&sO%:eQ#tO<<K^OOQO1G3|1G3|O%:uQWO1G3|O%;QQWO1G3|O%;`QWO7+*tO%;`QWO7+*tOHiQWO1G4OO%;hQ`O1G4OO%;rQWO7+*uOOQO7+'g7+'gO5]Q!LYO7+'gOOQO7+'f7+'fO$)zQWO7+'hO%;zQ`O7+'hOOQO7+'l7+'lO5]Q!LYO7+'fO$)zQWO7+'gO%<RQWO7+'hOHiQWO7+'hO#3gQWO7+'gO%<WQ#tO<<MsOOQ!LS7+$o7+$oO%<bQ`O,5>gOOQO-E;y-E;yO#FvQWOAN@zOOQQAN@zAN@zOHiQWOAN@zO%<lQ!LbO7+'jOOQQAN=dAN=dO5eQWO1G4XO%<yQWO7+*|O5]Q!LYOANAgO%=RQWOANAgOOQQANAgANAgO%=WQWOAN@zO%=`Q`OAN@zOOQQANARANAROOQQANASANASO%=jQWO,5>iOOQO-E;{-E;{O%=uQ7^O1G5_O#3lQWO,5=UO5RQWO,5=UO!,QQpO,5=UOOQO-E;}-E;}OOQQ1G2o1G2oO$7eQ!LrO,5:iO!&VQ&jO,5=UO%>PQ&jO,5=UO%>_Q&jO,5:iOOQQ<<Kt<<KtOHiQWO<<KtO%+ZQWO<<KtO%>sQWO<<KtO%>{Q`O<<KtO)uQYO<<KtOHiQWO<<KtOOQQ<<Kw<<KwO5]Q!LYO<<KwO#3lQWO<<KwO5RQWO<<KwO%?VQ&jO1G4WO%?[QWO7+*zOOQQAN=ZAN=ZO5]Q!LYOAN=ZOOQQ<<Ni<<NiOOQQ<<Nj<<NjOOQQ<<LP<<LPO%?dQWO<<LPO%?iQYO<<LPO%?pQWO<<NiO%?uQWO<<NjOOQQ1G3Z1G3ZOOQQANBOANBOO9{QWOANBOO%?zQ7^O<<IfOOQO<<Hk<<HkOOQO7+%o7+%oO%-kQ!LdO7+%oO)uQYO7+%oOOQO7+%k7+%kO9{QWO7+%kO%@UQ!LYO7+%oO!,QQpO7+%kO%@aQ!LYO7+%oO!&VQ&jO7+%kO%@oQ!LYO7+%oOOQ!LSAN>zAN>zO%ATQ!LdO<<K^O%C]Q7^O<<I{O%CjQ7^O1G1qO%EYQ7^O1G2SO%GVQ7^O1G2UO%ISQ7^O<<JkO%IaQ7^O<<IaOOQO1G1[1G1[OOQO7+)h7+)hO%InQWO7+)hO%IyQWO<<N`O%JRQ`O7+)jOOQO<<KR<<KRO5]Q!LYO<<KSO$)zQWO<<KSOOQO<<KQ<<KQO5]Q!LYO<<KRO%J]Q`O<<KSO$)zQWO<<KROOQQG26fG26fO#FvQWOG26fOOQO7+)s7+)sOOQQG27RG27RO5]Q!LYOG27ROHiQWOG26fOKjQYO1G4TO%JdQWO7+*yO5]Q!LYO1G2pO#3lQWO1G2pO5RQWO1G2pO!,QQpO1G2pO!&VQ&jO1G2pO%.tQ!LrO1G0TO%JlQ&jO1G2pO%+ZQWOANA`OOQQANA`ANA`OHiQWOANA`O%JzQWOANA`O%KSQ`OANA`OOQQANAcANAcO5]Q!LYOANAcO#3lQWOANAcOOQO'#Gn'#GnOOQO7+)r7+)rOOQQG22uG22uOOQQANAkANAkO%K^QWOANAkOOQQANDTANDTOOQQANDUANDUO%KcQYOG27jOOQO<<IZ<<IZO%-kQ!LdO<<IZOOQO<<IV<<IVO)uQYO<<IZO9{QWO<<IVO& ^Q!LYO<<IZO!,QQpO<<IVO& iQ!LYO<<IZO& wQ7^O7+'_OOQO<<MS<<MSOOQOAN@nAN@nO5]Q!LYOAN@nOOQOAN@mAN@mO$)zQWOAN@nO5]Q!LYOAN@mOOQQLD,QLD,QOOQQLD,mLD,mO#FvQWOLD,QO&#gQ7^O7+)oOOQO7+([7+([O5]Q!LYO7+([O#3lQWO7+([O5RQWO7+([O!,QQpO7+([O!&VQ&jO7+([OOQQG26zG26zO%+ZQWOG26zOHiQWOG26zOOQQG26}G26}O5]Q!LYOG26}OOQQG27VG27VO9{QWOLD-UOOQOAN>uAN>uO%-kQ!LdOAN>uOOQOAN>qAN>qO)uQYOAN>uO9{QWOAN>qO&#qQ!LYOAN>uO&#|Q7^O<<K^OOQOG26YG26YO5]Q!LYOG26YOOQOG26XG26XOOQQ!$( l!$( lOOQO<<Kv<<KvO5]Q!LYO<<KvO#3lQWO<<KvO5RQWO<<KvO!,QQpO<<KvOOQQLD,fLD,fO%+ZQWOLD,fOOQQLD,iLD,iOOQQ!$(!p!$(!pOOQOG24aG24aO%-kQ!LdOG24aOOQOG24]G24]O)uQYOG24aOOQOLD+tLD+tOOQOANAbANAbO5]Q!LYOANAbO#3lQWOANAbO5RQWOANAbOOQQ!$(!Q!$(!QOOQOLD){LD){O%-kQ!LdOLD){OOQOG26|G26|O5]Q!LYOG26|O#3lQWOG26|OOQO!$'Mg!$'MgOOQOLD,hLD,hO5]Q!LYOLD,hOOQO!$(!S!$(!SOKjQYO'#DnO&%lQbO'#ImOKjQYO'#DfO&%sQ!LdO'#CgO&&^QbO'#CgO&&nQYO,5:oOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO,5:yOKjQYO'#HuO&(kQWO,5;{O&)}QWO,5:yOKjQYO,5;^O!'oQWO'#C{O!'oQWO'#C{OHiQWO'#FbO&(sQWO'#FbOHiQWO'#FdO&(sQWO'#FdOHiQWO'#FrO&(sQWO'#FrOKjQYO,5?fO&&nQYO1G0ZO&*UQ7^O'#CgOKjQYO1G1dOHiQWO,5<hO&(sQWO,5<hOHiQWO,5<jO&(sQWO,5<jOHiQWO,5<VO&(sQWO,5<VO&&nQYO1G1eOKjQYO7+&aOHiQWO1G1sO&(sQWO1G1sO&&nQYO7+'PO&&nQYO7+%uOHiQWO7+'rO&(sQWO7+'rO&*`QWO'#ETO&*eQWO'#ETO&*mQWO'#ErO&*rQWO'#IzO&*}QWO'#IxO&+YQWO,5:oO&+_Q#tO,5;xO&+fQWO'#FkO&+kQWO'#FkO&+pQWO,5;yO&+xQWO,5:oO&,QQ7^O1G0uO&,XQWO,5<XO&,^QWO,5<XO&,cQWO1G1eO&,hQWO1G0ZO&,mQ#tO1G2WO&,tQ#tO1G2WO3tQWO'#F`O5RQWO'#F_OB`QWO'#ESOKjQYO,5;ZO!(OQWO'#FmO!(OQWO'#FmOIxQWO,5<lOIxQWO,5<l\",\n  stateData: \"&-p~O'POS'QOSSOSTOS~OPTOQTOWwO]bO^gOamOblOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!PSO!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!jkO#[qO#lnO#p]O$woO$yrO${pO$|pO%PsO%RtO%UuO%VuO%XvO%fxO%lyO%nzO%p{O%r|O%u}O%{!OO&P!PO&R!QO&T!RO&V!SO&X!TO'SPO']QO'u`O~OPZXYZX^ZXiZXrZXsZXuZX}ZX!]ZX!^ZX!`ZX!fZX!uZX#PcX#SZX#TZX#UZX#VZX#WZX#XZX#YZX#ZZX#]ZX#_ZX#aZX#bZX#gZX&}ZX']ZX'iZX'pZX'qZX~O!X$dX~P$wO&z!VO&{!UO&|!XO~OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!P!`O!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!j!fO#l!iO#p]O'S!YO']QO'u`O~O|!^O}!ZOz'dPz'mP~P'aO!O!jO~P`OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!P!`O!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!j!fO#l!iO#p]O'S8lO']QO'u`O~OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!P!`O!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!j!fO#l!iO#p]O']QO'u`O~O|!oO!}!rO#O!oO'S8mO!_'jP~P+rO#P!sO~O!X!tO#P!sO~OP#ZOY#aOi#OOr!xOs!xOu!yO}#_O!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO#_#TO#a#VO#b#WO']QO'i#XO'p!zO'q!{O~O^'aX&}'aX!_'aXz'aX!P'aX$x'aX!X'aX~P.^O!u#bO#g#bOP'bXY'bX^'bXi'bXr'bXs'bXu'bX}'bX!]'bX!^'bX!`'bX!f'bX#S'bX#T'bX#U'bX#V'bX#W'bX#X'bX#Z'bX#]'bX#_'bX#a'bX#b'bX']'bX'i'bX'p'bX'q'bX~O#Y'bX&}'bXz'bX!_'bX'_'bX!P'bX$x'bX!X'bX~P0nO!u#bO~O#r#cO#y#gO~O!P#hO#p]O#|#iO$O#kO~O]#nOg#{Oi#oOj#nOk#nOn#|Op#}Ou#uO!P#vO!Z$SO!`#sO#O$TO#l$QO$V$OO$X$PO$[$RO'S#mO']#pO'W'YP~O!`$UO~O!X$WO~O^$XO&}$XO~O'S$]O~O!`$UO'S$]O'T$_O'X$`O~Ob$fO!`$UO'S$]O~O]$oOr$kO!P$hO!`$jO$y$nO'S$]O'T$_O['}P~O!j$pO~Ou$qO!P$rO'S$]O~Ou$qO!P$rO%R$vO'S$]O~O'S$wO~O#[qO$yrO${pO$|pO%PsO%RtO%UuO%VuO~Oa%QOb%PO!j$}O$w%OO%Z$|O~P7dOa%TOblO!P%SO!jkO#[qO$woO${pO$|pO%PsO%RtO%UuO%VuO%XvO~O_%WO!u%ZO$y%UO'T$_O~P8cO!`%[O!c%`O~O!`%aO~O!PSO~O^$XO&y%iO&}$XO~O^$XO&y%lO&}$XO~O^$XO&y%nO&}$XO~O&z!VO&{!UO&|%rO~OPZXYZXiZXrZXsZXuZX}ZX}cX!]ZX!^ZX!`ZX!fZX!uZX!ucX#PcX#SZX#TZX#UZX#VZX#WZX#XZX#YZX#ZZX#]ZX#_ZX#aZX#bZX#gZX']ZX'iZX'pZX'qZX~OzZXzcX~P;OO|%tOz&_X}&_X~P)uO}!ZOz'dX~OP#ZOY#aOi#OOr!xOs!xOu!yO}!ZO!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO#_#TO#a#VO#b#WO']QO'i#XO'p!zO'q!{O~Oz'dX~P=uOz%yO~Ou%|O!S&WO!T&PO!U&PO'T$_O~O]%}Oj%}O|&QO'`%zO!O'eP!O'oP~P?xOz'lX}'lX!X'lX!_'lX'i'lX~O!u'lX#P!xX!O'lX~P@qO!u&XOz'nX}'nX~O}&YOz'mX~Oz&[O~O!u#bO~P@qOR&`O!P&]O!k&_O'S$]O~Ob&eO!`$UO'S$]O~Or$kO!`$jO~O!O&fO~P`Or!xOs!xOu!yO!^!vO!`!wO']QOP!baY!bai!ba}!ba!]!ba!f!ba#S!ba#T!ba#U!ba#V!ba#W!ba#X!ba#Y!ba#Z!ba#]!ba#_!ba#a!ba#b!ba'i!ba'p!ba'q!ba~O^!ba&}!baz!ba!_!ba'_!ba!P!ba$x!ba!X!ba~PBzO!_&gO~O!X!tO!u&iO'i&hO}'kX^'kX&}'kX~O!_'kX~PEdO}&mO!_'jX~O!_&oO~Ou$qO!P$rO#O&pO'S$]O~OPTOQTO]bOa!hOb!gOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!PSO!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!j!fO#l!iO#p]O'S8lO']QO'u`O~O]#nOg#{Oi#oOj#nOk#nOn#|Op9OOu#uO!P#vO!Z:QO!`#sO#O9UO#l$QO$V9QO$X9SO$[$RO'S&tO']#pO~O#P&vO~O]#nOg#{Oi#oOj#nOk#nOn#|Op#}Ou#uO!P#vO!Z$SO!`#sO#O$TO#l$QO$V$OO$X$PO$[$RO'S&tO']#pO~O'W'gP~PIxO|&zO!_'hP~P)uO'`&|O~OP8iOQ8iO]bOa:OOb!gOgbOi8iOjbOkbOn8iOp8iOuROwbOxbOybO!P!`O!Z8kO!`UO!c8iO!d8iO!e8iO!f8iO!g8iO!j!fO#l!iO#p]O'S'[O']QO'u9|O~O!`!wO~O}#_O^$Ta&}$Ta!_$Taz$Ta!P$Ta$x$Ta!X$Ta~O#['cO~PHiO!X'eO!P'rX#o'rX#r'rX#y'rX~Or'fO~PN_Or'fO!P'rX#o'rX#r'rX#y'rX~O!P'hO#o'lO#r'gO#y'mO~O|'pO~PKjO#r#cO#y'sO~Or$]Xu$]X!^$]X'i$]X'p$]X'q$]X~OReX}eX!ueX'WeX'W$]X~P! wOj'uO~O&z'wO&{'vO&|'yO~Or'{Ou'|O'i#XO'p(OO'q(QO~O'W'zO~P!#QO'W(TO~O]#nOg#{Oi#oOj#nOk#nOn#|Op9OOu#uO!P#vO!Z:QO!`#sO#O9UO#l$QO$V9QO$X9SO$[$RO']#pO~O|(XO'S(UO!_'vP~P!#oO#P(ZO~O|(_O'S([Oz'wP~P!#oO^(hOi(mOu(eO!S(kO!T(dO!U(dO!`(bO!r(lO$o(gO'T$_O'`(aO~O!O(jO~P!%gO!^!vOr'[Xu'[X'i'[X'p'[X'q'[X}'[X!u'[X~O'W'[X#e'[X~P!&cOR(pO!u(oO}'ZX'W'ZX~O}(qO'W'YX~O'S(sO~O!`(xO~O'S&tO~O!`(bO~Ou$qO|!oO!P$rO!}!rO#O!oO'S$]O!_'jP~O!X!tO#P(|O~OP#ZOY#aOi#OOr!xOs!xOu!yO!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO#_#TO#a#VO#b#WO']QO'i#XO'p!zO'q!{O~O^!Ya}!Ya&}!Yaz!Ya!_!Ya'_!Ya!P!Ya$x!Ya!X!Ya~P!(tOR)UO!P&]O!k)TO$x)SO'X$`O~O'S$wO'W'YP~O!X)XO!P'VX^'VX&}'VX~O!`$UO'X$`O~O!`$UO'S$]O'X$`O~O!X!tO#P&vO~O'S)aO!O(OP~O})eO['}X~OY)iO~O[)jO~O!P$hO'S$]O'T$_O['}P~Ou$qO|)oO!P$rO'S$]Oz'mP~O]&TOj&TO|)pO'`&|O!O'oP~O})qO^'zX&}'zX~O!u)uO'X$`O~OR)xO!P#vO'X$`O~O!P)zO~Or)|O!PSO~O!j*RO~Ob*WO~O'S(sO!O'|P~Ob$fO~O$yrO'S$wO~P8cOY*^O[*]O~OPTOQTO]bOamOblOgbOiTOjbOkbOnTOpTOuROwbOxbOybO!ZjO!`UO!cTO!dTO!eTO!fTO!gTO!jkO#p]O$woO']QO'u`O~O!P!`O#l!iO'S8lO~P!0RO[*]O^$XO&}$XO~O^*bO#[*dO${*dO$|*dO~P)uO!`%[O~O%l*iO~O!P*kO~O%|*nO%}*mOP%zaQ%zaW%za]%za^%zaa%zab%zag%zai%zaj%zak%zan%zap%zau%zaw%zax%zay%za!P%za!Z%za!`%za!c%za!d%za!e%za!f%za!g%za!j%za#[%za#l%za#p%za$w%za$y%za${%za$|%za%P%za%R%za%U%za%V%za%X%za%f%za%l%za%n%za%p%za%r%za%u%za%{%za&P%za&R%za&T%za&V%za&X%za&x%za'S%za']%za'u%za!O%za%s%za_%za%x%za~O'S*qO~O'_*tO~Oz&_a}&_a~P!(tO}!ZOz'da~Oz'da~P=uO}&YOz'ma~O}tX}!VX!OtX!O!VX!XtX!X!VX!`!VX!utX'X!VX~O!X*{O!u*zO}!|X}'fX!O!|X!O'fX!X'fX!`'fX'X'fX~O!X*}O!`$UO'X$`O}!RX!O!RX~O]%{Oj%{Ou%|O'`(aO~OP8iOQ8iO]bOa:OOb!gOgbOi8iOjbOkbOn8iOp8iOuROwbOxbOybO!P!`O!Z8kO!`UO!c8iO!d8iO!e8iO!f8iO!g8iO!j!fO#l!iO#p]O']QO'u9|O~O'S9YO~P!9yO}+RO!O'eX~O!O+TO~O!X*{O!u*zO}!|X!O!|X~O}+UO!O'oX~O!O+WO~O]%{Oj%{Ou%|O'T$_O'`(aO~O!T+XO!U+XO~P!<tOu$qO|+[O!P$rO'S$]Oz&dX}&dX~O^+`O!S+cO!T+_O!U+_O!n+eO!o+dO!p+dO!r+fO'T$_O'`(aO~O!O+bO~P!=uOR+kO!P&]O!k+jO~O!u+qO}'ka!_'ka^'ka&}'ka~O!X!tO~P!>yO}&mO!_'ja~Ou$qO|+tO!P$rO!}+vO#O+tO'S$]O}&fX!_&fX~O^!wi}!wi&}!wiz!wi!_!wi'_!wi!P!wi$x!wi!X!wi~P!(tO#P!ta}!ta!_!ta!u!ta!P!ta^!ta&}!taz!ta~P!#QO#P'[XP'[XY'[X^'[Xi'[Xs'[X!]'[X!`'[X!f'[X#S'[X#T'[X#U'[X#V'[X#W'[X#X'[X#Y'[X#Z'[X#]'[X#_'[X#a'[X#b'[X&}'[X']'[X!_'[Xz'[X!P'[X'_'[X$x'[X!X'[X~P!&cO},PO'W'gX~P!#QO'W,RO~O},SO!_'hX~P!(tO!_,VO~Oz,WO~OP#ZOr!xOs!xOu!yO!^!vO!`!wO!f#ZO']QOY#Ri^#Rii#Ri}#Ri!]#Ri#T#Ri#U#Ri#V#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri&}#Ri'i#Ri'p#Ri'q#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~O#S#Ri~P!DWO#S!|O~P!DWOP#ZOr!xOs!xOu!yO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O']QOY#Ri^#Ri}#Ri!]#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri&}#Ri'i#Ri'p#Ri'q#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~Oi#Ri~P!FrOi#OO~P!FrOP#ZOi#OOr!xOs!xOu!yO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO']QO^#Ri}#Ri#]#Ri#_#Ri#a#Ri#b#Ri&}#Ri'i#Ri'p#Ri'q#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~OY#Ri!]#Ri#X#Ri#Y#Ri#Z#Ri~P!I^OY#aO!]#QO#X#QO#Y#QO#Z#QO~P!I^OP#ZOY#aOi#OOr!xOs!xOu!yO!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO']QO^#Ri}#Ri#_#Ri#a#Ri#b#Ri&}#Ri'i#Ri'q#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~O'p#Ri~P!LUO'p!zO~P!LUOP#ZOY#aOi#OOr!xOs!xOu!yO!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO#_#TO']QO'p!zO^#Ri}#Ri#a#Ri#b#Ri&}#Ri'i#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~O'q#Ri~P!NpO'q!{O~P!NpOP#ZOY#aOi#OOr!xOs!xOu!yO!]#QO!^!vO!`!wO!f#ZO#S!|O#T!}O#U!}O#V!}O#W#PO#X#QO#Y#QO#Z#QO#]#RO#_#TO#a#VO']QO'p!zO'q!{O~O^#Ri}#Ri#b#Ri&}#Ri'i#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~P##[OPZXYZXiZXrZXsZXuZX!]ZX!^ZX!`ZX!fZX!uZX#PcX#SZX#TZX#UZX#VZX#WZX#XZX#YZX#ZZX#]ZX#_ZX#aZX#bZX#gZX']ZX'iZX'pZX'qZX}ZX!OZX~O#eZX~P#%oOP#ZOY8|Oi8qOr!xOs!xOu!yO!]8sO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO#W8rO#X8sO#Y8sO#Z8sO#]8tO#_8vO#a8xO#b8yO']QO'i#XO'p!zO'q!{O~O#e,YO~P#'yOP'bXY'bXi'bXr'bXs'bXu'bX!]'bX!^'bX!`'bX!f'bX#S'bX#T'bX#U'bX#V'bX#W'bX#X'bX#Z'bX#]'bX#_'bX#a'bX#b'bX']'bX'i'bX'p'bX'q'bX}'bX~O!u8}O#g8}O#Y'bX#e'bX!O'bX~P#)tO^&ia}&ia&}&ia!_&ia'_&iaz&ia!P&ia$x&ia!X&ia~P!(tOP#RiY#Ri^#Rii#Ris#Ri}#Ri!]#Ri!^#Ri!`#Ri!f#Ri#S#Ri#T#Ri#U#Ri#V#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri&}#Ri']#Riz#Ri!_#Ri'_#Ri!P#Ri$x#Ri!X#Ri~P!#QO^#fi}#fi&}#fiz#fi!_#fi'_#fi!P#fi$x#fi!X#fi~P!(tO#r,[O~O#r,]O~O!X'eO!u,^O!P#vX#o#vX#r#vX#y#vX~O|,_O~O!P'hO#o,aO#r'gO#y,bO~O}8zO!O'aX~P#'yO!O,cO~O#y,eO~O&z'wO&{'vO&|,hO~O],kOj,kOz,lO~O}cX!XcX!_cX!_$]X'icX~P! wO!_,rO~P!#QO},sO!X!tO'i&hO!_'vX~O!_,xO~Oz$]X}$]X!X$dX~P! wO},zOz'wX~P!#QO!X,|O~Oz-OO~O|(XO'S$]O!_'vP~Oi-SO!X!tO!`$UO'X$`O'i&hO~O!X)XO~O!O-YO~P!%gO!T-ZO!U-ZO'T$_O'`(aO~Ou-]O'`(aO~O!r-^O~O'S$wO}&nX'W&nX~O}(qO'W'Ya~Or-cOs-cOu-dO'ioa'poa'qoa}oa!uoa~O'Woa#eoa~P#4xOr'{Ou'|O'i$Ua'p$Ua'q$Ua}$Ua!u$Ua~O'W$Ua#e$Ua~P#5nOr'{Ou'|O'i$Wa'p$Wa'q$Wa}$Wa!u$Wa~O'W$Wa#e$Wa~P#6aO]-eO~O#P-fO~O'W$fa}$fa#e$fa!u$fa~P!#QO#P-iO~OR-rO!P&]O!k-qO$x-pO~O'W-sO~O]#nOi#oOj#nOk#nOn#|Op9OOu#uO!P#vO!Z:QO!`#sO#O9UO#l$QO$V9QO$X9SO$[$RO']#pO~Og-uO'S-tO~P#8WO!X)XO!P'Va^'Va&}'Va~O#P-{O~OYZX}cX!OcX~O}-|O!O(OX~O!O.OO~OY.PO~O!P$hO'S$]O[&vX}&vX~O})eO['}a~O!_.SO~P!(tO].UO~OY.VO~O[.WO~OR-rO!P&]O!k-qO$x-pO'X$`O~O})qO^'za&}'za~O!u.^O~OR.aO!P#vO~O'`&|O!O'{P~OR.kO!P.gO!k.jO$x.iO'X$`O~OY.uO}.sO!O'|X~O!O.vO~O[.xO^$XO&}$XO~O].yO~O#Y.{O%j.|O~P0nO!u#bO#Y.{O%j.|O~O^.}O~P)uO^/PO~O%s/TOP%qiQ%qiW%qi]%qi^%qia%qib%qig%qii%qij%qik%qin%qip%qiu%qiw%qix%qiy%qi!P%qi!Z%qi!`%qi!c%qi!d%qi!e%qi!f%qi!g%qi!j%qi#[%qi#l%qi#p%qi$w%qi$y%qi${%qi$|%qi%P%qi%R%qi%U%qi%V%qi%X%qi%f%qi%l%qi%n%qi%p%qi%r%qi%u%qi%{%qi&P%qi&R%qi&T%qi&V%qi&X%qi&x%qi'S%qi']%qi'u%qi!O%qi_%qi%x%qi~O_/ZO!O/XO%x/YO~P`O!PSO!`/^O~O}#_O'_$Ta~Oz&_i}&_i~P!(tO}!ZOz'di~O}&YOz'mi~Oz/bO~O}!Ra!O!Ra~P#'yO]%{Oj%{O|/hO'`(aO}&`X!O&`X~P?xO}+RO!O'ea~O]&TOj&TO|)pO'`&|O}&eX!O&eX~O}+UO!O'oa~Oz'ni}'ni~P!(tO^$XO!X!tO!`$UO!f/sO!u/qO&}$XO'X$`O'i&hO~O!O/vO~P!=uO!T/wO!U/wO'T$_O'`(aO~O!S/yO!T/wO!U/wO!r/zO'T$_O'`(aO~O!o/{O!p/{O~P#FWO!P&]O~O!P&]O~P!#QO}'ki!_'ki^'ki&}'ki~P!(tO!u0UO}'ki!_'ki^'ki&}'ki~O}&mO!_'ji~Ou$qO!P$rO#O0WO'S$]O~O#PoaPoaYoa^oaioa!]oa!^oa!`oa!foa#Soa#Toa#Uoa#Voa#Woa#Xoa#Yoa#Zoa#]oa#_oa#aoa#boa&}oa']oa!_oazoa!Poa'_oa$xoa!Xoa~P#4xO#P$UaP$UaY$Ua^$Uai$Uas$Ua!]$Ua!^$Ua!`$Ua!f$Ua#S$Ua#T$Ua#U$Ua#V$Ua#W$Ua#X$Ua#Y$Ua#Z$Ua#]$Ua#_$Ua#a$Ua#b$Ua&}$Ua']$Ua!_$Uaz$Ua!P$Ua'_$Ua$x$Ua!X$Ua~P#5nO#P$WaP$WaY$Wa^$Wai$Was$Wa!]$Wa!^$Wa!`$Wa!f$Wa#S$Wa#T$Wa#U$Wa#V$Wa#W$Wa#X$Wa#Y$Wa#Z$Wa#]$Wa#_$Wa#a$Wa#b$Wa&}$Wa']$Wa!_$Waz$Wa!P$Wa'_$Wa$x$Wa!X$Wa~P#6aO#P$faP$faY$fa^$fai$fas$fa}$fa!]$fa!^$fa!`$fa!f$fa#S$fa#T$fa#U$fa#V$fa#W$fa#X$fa#Y$fa#Z$fa#]$fa#_$fa#a$fa#b$fa&}$fa']$fa!_$faz$fa!P$fa!u$fa'_$fa$x$fa!X$fa~P!#QO^!wq}!wq&}!wqz!wq!_!wq'_!wq!P!wq$x!wq!X!wq~P!(tO}&aX'W&aX~PIxO},PO'W'ga~O|0`O}&bX!_&bX~P)uO},SO!_'ha~O},SO!_'ha~P!(tO#e!ba!O!ba~PBzO#e!Ya}!Ya!O!Ya~P#'yO!P0sO#p]O#w0tO~O!O0xO~O'_0yO~P!#QO^$Qq}$Qq&}$Qqz$Qq!_$Qq'_$Qq!P$Qq$x$Qq!X$Qq~P!(tOz0zO~O],kOj,kO~Or'{Ou'|O'q(QO'i$pi'p$pi}$pi!u$pi~O'W$pi#e$pi~P$&YOr'{Ou'|O'i$ri'p$ri'q$ri}$ri!u$ri~O'W$ri#e$ri~P$&{O#e0{O~P!#QO|0}O'S$]O}&jX!_&jX~O},sO!_'va~O},sO!X!tO!_'va~O},sO!X!tO'i&hO!_'va~O'W$_i}$_i#e$_i!u$_i~P!#QO|1UO'S([Oz&lX}&lX~P!#oO},zOz'wa~O},zOz'wa~P!#QO!X!tO~O!X!tO#Y1`O~Oi1dO!X!tO'i&hO~O}'Zi'W'Zi~P!#QO!u1gO}'Zi'W'Zi~P!#QO!_1jO~O^$Rq}$Rq&}$Rqz$Rq!_$Rq'_$Rq!P$Rq$x$Rq!X$Rq~P!(tO}1nO!P'xX~P!#QO!P&]O$x1qO~O!P&]O$x1qO~P!#QO!P$]X$mZX^$]X&}$]X~P! wO$m1uOrfXufX!PfX'ifX'pfX'qfX^fX&}fX~O$m1uO~O'S)aO}&uX!O&uX~O}-|O!O(Oa~O[2OO~O]2RO~OR2TO!P&]O!k2SO$x1qO~O^$XO&}$XO~P!#QO!P#vO~P!#QO}2YO!u2[O!O'{X~O!O2]O~Ou(eO!S2fO!T2_O!U2_O!n2eO!o2dO!p2dO!r2cO'T$_O'`(aO~O!O2bO~P$/ROR2mO!P.gO!k2lO$x2kO~OR2mO!P.gO!k2lO$x2kO'X$`O~O'S(sO}&tX!O&tX~O}.sO!O'|a~O'`2vO~O]2xO~O[2zO~O!_2}O~P)uO^3PO~O^3PO~P)uO#Y3RO%j3SO~PEdO_/ZO!O3WO%x/YO~P`O!X3YO~O%}3ZOP%zqQ%zqW%zq]%zq^%zqa%zqb%zqg%zqi%zqj%zqk%zqn%zqp%zqu%zqw%zqx%zqy%zq!P%zq!Z%zq!`%zq!c%zq!d%zq!e%zq!f%zq!g%zq!j%zq#[%zq#l%zq#p%zq$w%zq$y%zq${%zq$|%zq%P%zq%R%zq%U%zq%V%zq%X%zq%f%zq%l%zq%n%zq%p%zq%r%zq%u%zq%{%zq&P%zq&R%zq&T%zq&V%zq&X%zq&x%zq'S%zq']%zq'u%zq!O%zq%s%zq_%zq%x%zq~O}!|i!O!|i~P#'yO!u3]O}!|i!O!|i~O}!Ri!O!Ri~P#'yO^$XO!u3dO&}$XO~O^$XO!X!tO!u3dO&}$XO~O^$XO!X!tO!`$UO!f3hO!u3dO&}$XO'X$`O'i&hO~O!T3iO!U3iO'T$_O'`(aO~O!S3lO!T3iO!U3iO!r3mO'T$_O'`(aO~O^$XO!X!tO!f3hO!u3dO&}$XO'i&hO~O}'kq!_'kq^'kq&}'kq~P!(tO}&mO!_'jq~O#P$piP$piY$pi^$pii$pis$pi!]$pi!^$pi!`$pi!f$pi#S$pi#T$pi#U$pi#V$pi#W$pi#X$pi#Y$pi#Z$pi#]$pi#_$pi#a$pi#b$pi&}$pi']$pi!_$piz$pi!P$pi'_$pi$x$pi!X$pi~P$&YO#P$riP$riY$ri^$rii$ris$ri!]$ri!^$ri!`$ri!f$ri#S$ri#T$ri#U$ri#V$ri#W$ri#X$ri#Y$ri#Z$ri#]$ri#_$ri#a$ri#b$ri&}$ri']$ri!_$riz$ri!P$ri'_$ri$x$ri!X$ri~P$&{O#P$_iP$_iY$_i^$_ii$_is$_i}$_i!]$_i!^$_i!`$_i!f$_i#S$_i#T$_i#U$_i#V$_i#W$_i#X$_i#Y$_i#Z$_i#]$_i#_$_i#a$_i#b$_i&}$_i']$_i!_$_iz$_i!P$_i!u$_i'_$_i$x$_i!X$_i~P!#QO}&aa'W&aa~P!#QO}&ba!_&ba~P!(tO},SO!_'hi~O#e!wi}!wi!O!wi~P#'yOP#ZOr!xOs!xOu!yO!^!vO!`!wO!f#ZO']QOY#Rii#Ri!]#Ri#T#Ri#U#Ri#V#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri#e#Ri'i#Ri'p#Ri'q#Ri}#Ri!O#Ri~O#S#Ri~P$@xO#S8oO~P$@xOP#ZOr!xOs!xOu!yO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO']QOY#Ri!]#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri#e#Ri'i#Ri'p#Ri'q#Ri}#Ri!O#Ri~Oi#Ri~P$CQOi8qO~P$CQOP#ZOi8qOr!xOs!xOu!yO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO#W8rO']QO#]#Ri#_#Ri#a#Ri#b#Ri#e#Ri'i#Ri'p#Ri'q#Ri}#Ri!O#Ri~OY#Ri!]#Ri#X#Ri#Y#Ri#Z#Ri~P$EYOY8|O!]8sO#X8sO#Y8sO#Z8sO~P$EYOP#ZOY8|Oi8qOr!xOs!xOu!yO!]8sO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO#W8rO#X8sO#Y8sO#Z8sO#]8tO']QO#_#Ri#a#Ri#b#Ri#e#Ri'i#Ri'q#Ri}#Ri!O#Ri~O'p#Ri~P$GnO'p!zO~P$GnOP#ZOY8|Oi8qOr!xOs!xOu!yO!]8sO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO#W8rO#X8sO#Y8sO#Z8sO#]8tO#_8vO']QO'p!zO#a#Ri#b#Ri#e#Ri'i#Ri}#Ri!O#Ri~O'q#Ri~P$IvO'q!{O~P$IvOP#ZOY8|Oi8qOr!xOs!xOu!yO!]8sO!^!vO!`!wO!f#ZO#S8oO#T8pO#U8pO#V8pO#W8rO#X8sO#Y8sO#Z8sO#]8tO#_8vO#a8xO']QO'p!zO'q!{O~O#b#Ri#e#Ri'i#Ri}#Ri!O#Ri~P$LOO^#cy}#cy&}#cyz#cy!_#cy'_#cy!P#cy$x#cy!X#cy~P!(tOP#RiY#Rii#Ris#Ri!]#Ri!^#Ri!`#Ri!f#Ri#S#Ri#T#Ri#U#Ri#V#Ri#W#Ri#X#Ri#Y#Ri#Z#Ri#]#Ri#_#Ri#a#Ri#b#Ri#e#Ri']#Ri}#Ri!O#Ri~P!#QO!^!vOP'[XY'[Xi'[Xr'[Xs'[Xu'[X!]'[X!`'[X!f'[X#S'[X#T'[X#U'[X#V'[X#W'[X#X'[X#Y'[X#Z'[X#]'[X#_'[X#a'[X#b'[X#e'[X']'[X'i'[X'p'[X'q'[X}'[X!O'[X~O#e#fi}#fi!O#fi~P#'yO!O3}O~O}&ia!O&ia~P#'yO!X!tO'i&hO}&ja!_&ja~O},sO!_'vi~O},sO!X!tO!_'vi~Oz&la}&la~P!#QO!X4UO~O},zOz'wi~P!#QO},zOz'wi~Oz4[O~O!X!tO#Y4bO~Oi4cO!X!tO'i&hO~Oz4eO~O'W$aq}$aq#e$aq!u$aq~P!#QO^$Ry}$Ry&}$Ryz$Ry!_$Ry'_$Ry!P$Ry$x$Ry!X$Ry~P!(tO}1nO!P'xa~O!P&]O$x4jO~O!P&]O$x4jO~P!#QO^!wy}!wy&}!wyz!wy!_!wy'_!wy!P!wy$x!wy!X!wy~P!(tOY4mO~O}-|O!O(Oi~O]4oO~O[4pO~O'`&|O}&qX!O&qX~O}2YO!O'{a~O!O4}O~P$/RO!S5QO!T5PO!U5PO!r/zO'T$_O'`(aO~O!o5RO!p5RO~P%*]O!T5PO!U5PO'T$_O'`(aO~O!P.gO~O!P.gO$x5TO~O!P.gO$x5TO~P!#QOR5YO!P.gO!k5XO$x5TO~OY5_O}&ta!O&ta~O}.sO!O'|i~O]5bO~O!_5cO~O!_5dO~O!_5eO~O!_5eO~P)uO^5gO~O!X5jO~O!_5lO~O}'ni!O'ni~P#'yO^$XO&}$XO~P!(tO^$XO!u5qO&}$XO~O^$XO!X!tO!u5qO&}$XO~O^$XO!X!tO!f5vO!u5qO&}$XO'i&hO~O!`$UO'X$`O~P%.`O!T5wO!U5wO'T$_O'`(aO~O}'ky!_'ky^'ky&}'ky~P!(tO#P$aqP$aqY$aq^$aqi$aqs$aq}$aq!]$aq!^$aq!`$aq!f$aq#S$aq#T$aq#U$aq#V$aq#W$aq#X$aq#Y$aq#Z$aq#]$aq#_$aq#a$aq#b$aq&}$aq']$aq!_$aqz$aq!P$aq!u$aq'_$aq$x$aq!X$aq~P!#QO}&bi!_&bi~P!(tO#e!wq}!wq!O!wq~P#'yOr-cOs-cOu-dOPoaYoaioa!]oa!^oa!`oa!foa#Soa#Toa#Uoa#Voa#Woa#Xoa#Yoa#Zoa#]oa#_oa#aoa#boa#eoa']oa'ioa'poa'qoa}oa!Ooa~Or'{Ou'|OP$UaY$Uai$Uas$Ua!]$Ua!^$Ua!`$Ua!f$Ua#S$Ua#T$Ua#U$Ua#V$Ua#W$Ua#X$Ua#Y$Ua#Z$Ua#]$Ua#_$Ua#a$Ua#b$Ua#e$Ua']$Ua'i$Ua'p$Ua'q$Ua}$Ua!O$Ua~Or'{Ou'|OP$WaY$Wai$Was$Wa!]$Wa!^$Wa!`$Wa!f$Wa#S$Wa#T$Wa#U$Wa#V$Wa#W$Wa#X$Wa#Y$Wa#Z$Wa#]$Wa#_$Wa#a$Wa#b$Wa#e$Wa']$Wa'i$Wa'p$Wa'q$Wa}$Wa!O$Wa~OP$faY$fai$fas$fa!]$fa!^$fa!`$fa!f$fa#S$fa#T$fa#U$fa#V$fa#W$fa#X$fa#Y$fa#Z$fa#]$fa#_$fa#a$fa#b$fa#e$fa']$fa}$fa!O$fa~P!#QO#e$Qq}$Qq!O$Qq~P#'yO#e$Rq}$Rq!O$Rq~P#'yO!O6RO~O'W$ty}$ty#e$ty!u$ty~P!#QO!X!tO}&ji!_&ji~O!X!tO'i&hO}&ji!_&ji~O},sO!_'vq~Oz&li}&li~P!#QO},zOz'wq~Oz6YO~P!#QOz6YO~O}'Zy'W'Zy~P!#QO}&oa!P&oa~P!#QO!P$lq^$lq&}$lq~P!#QO}-|O!O(Oq~O]6cO~O!P&]O$x6dO~O!P&]O$x6dO~P!#QO!u6eO}&qa!O&qa~O}2YO!O'{i~P#'yO!T6kO!U6kO'T$_O'`(aO~O!S6mO!T6kO!U6kO!r3mO'T$_O'`(aO~O!P.gO$x6pO~O!P.gO$x6pO~P!#QO'`6vO~O}.sO!O'|q~O!_6yO~O!_6yO~P)uO!_6{O~O!_6|O~O}!|y!O!|y~P#'yO^$XO!u7RO&}$XO~O^$XO!X!tO!u7RO&}$XO~O^$XO!X!tO!f7VO!u7RO&}$XO'i&hO~O#P$tyP$tyY$ty^$tyi$tys$ty}$ty!]$ty!^$ty!`$ty!f$ty#S$ty#T$ty#U$ty#V$ty#W$ty#X$ty#Y$ty#Z$ty#]$ty#_$ty#a$ty#b$ty&}$ty']$ty!_$tyz$ty!P$ty!u$ty'_$ty$x$ty!X$ty~P!#QO#e#cy}#cy!O#cy~P#'yOP$_iY$_ii$_is$_i!]$_i!^$_i!`$_i!f$_i#S$_i#T$_i#U$_i#V$_i#W$_i#X$_i#Y$_i#Z$_i#]$_i#_$_i#a$_i#b$_i#e$_i']$_i}$_i!O$_i~P!#QOr'{Ou'|O'q(QOP$piY$pii$pis$pi!]$pi!^$pi!`$pi!f$pi#S$pi#T$pi#U$pi#V$pi#W$pi#X$pi#Y$pi#Z$pi#]$pi#_$pi#a$pi#b$pi#e$pi']$pi'i$pi'p$pi}$pi!O$pi~Or'{Ou'|OP$riY$rii$ris$ri!]$ri!^$ri!`$ri!f$ri#S$ri#T$ri#U$ri#V$ri#W$ri#X$ri#Y$ri#Z$ri#]$ri#_$ri#a$ri#b$ri#e$ri']$ri'i$ri'p$ri'q$ri}$ri!O$ri~O#e$Ry}$Ry!O$Ry~P#'yO#e!wy}!wy!O!wy~P#'yO!X!tO}&jq!_&jq~O},sO!_'vy~Oz&lq}&lq~P!#QOz7]O~P!#QO}2YO!O'{q~O!T7hO!U7hO'T$_O'`(aO~O!P.gO$x7kO~O!P.gO$x7kO~P!#QO!_7nO~O%}7oOP%z!ZQ%z!ZW%z!Z]%z!Z^%z!Za%z!Zb%z!Zg%z!Zi%z!Zj%z!Zk%z!Zn%z!Zp%z!Zu%z!Zw%z!Zx%z!Zy%z!Z!P%z!Z!Z%z!Z!`%z!Z!c%z!Z!d%z!Z!e%z!Z!f%z!Z!g%z!Z!j%z!Z#[%z!Z#l%z!Z#p%z!Z$w%z!Z$y%z!Z${%z!Z$|%z!Z%P%z!Z%R%z!Z%U%z!Z%V%z!Z%X%z!Z%f%z!Z%l%z!Z%n%z!Z%p%z!Z%r%z!Z%u%z!Z%{%z!Z&P%z!Z&R%z!Z&T%z!Z&V%z!Z&X%z!Z&x%z!Z'S%z!Z']%z!Z'u%z!Z!O%z!Z%s%z!Z_%z!Z%x%z!Z~O^$XO!u7sO&}$XO~O^$XO!X!tO!u7sO&}$XO~OP$aqY$aqi$aqs$aq!]$aq!^$aq!`$aq!f$aq#S$aq#T$aq#U$aq#V$aq#W$aq#X$aq#Y$aq#Z$aq#]$aq#_$aq#a$aq#b$aq#e$aq']$aq}$aq!O$aq~P!#QO}&qq!O&qq~P#'yO^$XO!u8XO&}$XO~OP$tyY$tyi$tys$ty!]$ty!^$ty!`$ty!f$ty#S$ty#T$ty#U$ty#V$ty#W$ty#X$ty#Y$ty#Z$ty#]$ty#_$ty#a$ty#b$ty#e$ty']$ty}$ty!O$ty~P!#QO'_'aX~P.^O'_ZXzZX!_ZX%jZX!PZX$xZX!XZX~P$wO!XcX!_ZX!_cX'icX~P;OOP8iOQ8iO]bOa:OOb!gOgbOi8iOjbOkbOn8iOp8iOuROwbOxbOybO!PSO!Z8kO!`UO!c8iO!d8iO!e8iO!f8iO!g8iO!j!fO#l!iO#p]O'S'[O']QO'u9|O~O}8zO!O$Ta~O]#nOg#{Oi#oOj#nOk#nOn#|Op9POu#uO!P#vO!Z:RO!`#sO#O9VO#l$QO$V9RO$X9TO$[$RO'S&tO']#pO~O#['cO~P&(sO!OZX!OcX~P;OO#P8nO~O!X!tO#P8nO~O!u8}O~O!u9WO}'nX!O'nX~O!u8}O}'lX!O'lX~O#P9XO~O'W9ZO~P!#QO#P9`O~O#P9aO~O!X!tO#P9bO~O!X!tO#P9XO~O#e9cO~P#'yO#P9dO~O#P9eO~O#P9fO~O#P9gO~O#e9hO~P!#QO#e9iO~P!#QO#p~!^!n!p!}#O'u$V$X$[$m$w$x$y%P%R%U%V%X%Z~TS#p'u#Ty'P'Q#r'P'S'`~\",\n  goto: \"#=a(SPPPPPPP(TP(eP*QPPPP-aPP-v2z4m5QP5QPPP5Q5QP5QP6nPP6sP7[PPPP;kPPPP;k>ZPPP>a@dP;kPBwPPPPDo;kPPPPPFh;kPPIgJdPPPJhPJpKqP;k;kNx!#q!(a!(a!+nPPP!+u;kPPPPPPPPPP!.iP!/zPP;k!1XP;kP;k;k;k;kP;k!3lPP!6cP!9U!9^!9b!9bP!6`P!9f!9fP!<XP!<];k;k!<c!?T5QP5QP5Q5QP!@W5Q5Q!A{5Q5Q5Q!C}5Q5Q!Dk!Fe!Fe!Fi!Fe!FqP!FeP5Q!Gm5Q!Hw5Q5Q-aPPP!JUPP!Jn!JnP!JnP!KT!JnPP!KZP!KQP!KQ!KmJl!KQ!L[!Lb!Le(T!Lh(TP!Lo!Lo!LoP(TP(TP(TP(TPP(TP!Lu!LxP!Lx(TPPP(TP(TP(TP(TP(TP(T(T!L|!MW!M^!Md!Mr!Mx!NO!NY!N`!Nj!Np# O# U# [# j#!P##c##q##w##}#$T#$Z#$e#$k#$q#${#%V#%]PPPPPPPPP#%cPP#&V#*TPP#+h#+o#+wP#0TPP#0X#2l#8f#8j#8m#8p#8{#9OP#9R#9V#9t#:i#:m#;PPP#;T#;Z#;_P#;b#;f#;i#<X#<o#<t#<w#<z#=Q#=T#=X#=]mgOSi{!k$W%_%b%c%e*f*k/T/WQ$elQ$lnQ%VwS&P!`+RQ&d!gS(d#v(iQ)_$fQ)k$nQ*V%PQ+X&WS+_&]+aQ+o&eQ-Z(kQ.r*WU/w+c+d+eS2_.g2aS3i/y/{U5P2d2e2fQ5w3lS6k5Q5RR7h6m$lZORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8X!j'^#Y#h&Q'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PQ(t#}Q)d$hQ*X%SQ*`%[Q+y9OQ-v)XQ.z*^Q1{-|Q2t.sR3v9PpdOSiw{!k$W%U%_%b%c%e*f*k/T/WR*Z%W&WVOSTijm{!Q!U!Z!h!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$W$j%W%Z%[%_%a%b%c%e%i%t%|&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:O:PW!aRU!^&QQ$^kQ$dlS$in$nv$spq!o!r$U$q&Y&m&p)o)p)q*d*{+[+t+v/^0WQ${uQ&a!fQ&c!gS(W#s(bS)^$e$fQ)b$hQ)n$pQ*Q$}Q*U%PS+n&d&eQ,w(XQ-z)_Q.Q)eQ.T)iQ.m*RS.q*V*WQ0S+oQ0|,sQ1z-|Q1}.PQ2Q.VQ2s.rQ4R0}R6a4m!W$bl!g$d$e$f&O&c&d&e(c)^)_+O+^+n+o-T-z/m/t/x0S1c3g3k5u7UQ)V$^Q)v$xQ)y$yQ*T%PQ.X)nQ.l*QU.p*U*V*WQ2n.mS2r.q.rQ4z2^Q5^2sS6i4{5OS7f6j6lQ8O7gR8^8PW#y`$`(q9|S$xr%UQ$ysQ$ztR)t$v$V#x`!t!v#a#s#u$O$P$T&`'v(P(R(S(Z(_(o(p)S)U)X)u)x+k,P,z,|-f-p-r.^.a.i.k0{1U1`1g1n1q1u2T2k2m4U4b4j5T5Y6d6p7k8|9Q9R9S9T9U9V9[9]9^9_9`9a9d9e9h9i9|:S:TV(u#}9O9PU&T!`$r+UQ&}!xQ)h$kQ,j'{Q.b)zQ1h-cR4v2Y&YbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:P$]#^Y!]!l$[%s%w&r&y'P'Q'R'S'T'U'V'W'X'Y'Z']'`'d'n)g*v+P+Y+p,O,U,X,Z,i-g/c/f0T0_0c0d0e0f0g0h0i0j0k0l0m0n0o0r0w1l1x3_3b3q3t3u3z3{4x5m5p5{6P6Q7P7b7q8V8a8j9u&ZbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PQ&R!`R/i+RY%{!`&P&W+R+XS(c#v(iS+^&]+aS-T(d(kQ-U(eQ-[(lQ.d)|S/t+_+cS/x+d+eS/|+f2cQ1c-ZQ1e-]Q1f-^S2^.g2aS3g/w/yQ3j/zQ3k/{S4{2_2fS5O2d2eS5u3i3lQ5x3mS6j5P5QQ6l5RQ7U5wS7g6k6mR8P7hlgOSi{!k$W%_%b%c%e*f*k/T/WQ%g!OS&q!s8nQ)[$cQ*O${Q*P$|Q+l&bS+}&v9XS-h(|9bQ-x)]Q.f)}Q/[*mQ/]*nQ/e*|Q0Q+mS1m-i9fQ1v-yS1y-{9gQ3^/gQ3a/oQ3o0RQ4l1wQ5k3ZQ5n3`Q5r3fQ5y3pQ6}5lQ7Q5sQ7r7SQ8T7oR8W7t$W#]Y!]!l%s%w&r&y'P'Q'R'S'T'U'V'W'X'Y'Z']'`'d'n)g*v+P+Y+p,O,U,X,i-g/c/f0T0_0c0d0e0f0g0h0i0j0k0l0m0n0o0r0w1l1x3_3b3q3t3u3z3{4x5m5p5{6P6Q7P7b7q8V8a8j9uU(n#w&u0qT)Q$[,Z$W#[Y!]!l%s%w&r&y'P'Q'R'S'T'U'V'W'X'Y'Z']'`'d'n)g*v+P+Y+p,O,U,X,i-g/c/f0T0_0c0d0e0f0g0h0i0j0k0l0m0n0o0r0w1l1x3_3b3q3t3u3z3{4x5m5p5{6P6Q7P7b7q8V8a8j9uQ'_#]S)P$[,ZR-j)Q&YbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PQ%byQ%czQ%e|Q%f}R/S*iQ&^!fQ)R$^Q+i&aS-o)V)nS/}+g+hW1p-l-m-n.XS3n0O0PU4i1r1s1tU6_4h4r4sQ7_6`R7z7aT+`&]+aS+`&]+aT2`.g2aS&k!n/QQ,v(WQ-R(cS/s+^2^Q1R,wS1]-S-[U3h/x/|5OQ4Q0|S4`1d1fU5v3j3k6lQ6T4RQ6^4cR7V5xQ!uXS&j!n/QQ(}$VQ)Y$aQ)`$gQ+r&kQ,u(WQ-Q(cQ-V(fQ-w)ZQ.n*SS/r+^2^S1Q,v,wS1[-R-[Q1_-UQ1b-WQ2p.oW3e/s/x/|5OQ4P0|Q4T1RS4Y1]1fQ4a1eQ5[2qW5t3h3j3k6lS6S4Q4RQ6X4[Q6[4`Q6g4yQ6t5]S7T5v5xQ7X6TQ7Z6YQ7^6^Q7d6hQ7m6uQ7u7VQ7x7]Q7|7eQ8[7}Q8c8]Q8g8dQ9o9kQ9x9sR9y9t$nWORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%[%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8XS!um!h!j9j#Y#h&Q'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PR9o:O$nXORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%[%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8XQ$Va!W$al!g$d$e$f&O&c&d&e(c)^)_+O+^+n+o-T-z/m/t/x0S1c3g3k5u7US$gm!hQ)Z$bQ*S%PW.o*T*U*V*WU2q.p.q.rQ4y2^S5]2r2sU6h4z4{5OQ6u5^U7e6i6j6lS7}7f7gS8]8O8PQ8d8^!j9k#Y#h&Q'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PQ9s9}R9t:O$f[OSTij{!Q!U!Z!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8XU!eRU!^v$spq!o!r$U$q&Y&m&p)o)p)q*d*{+[+t+v/^0WQ*a%[!h9l#Y#h'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PR9n&QS&U!`$rR/k+U$lZORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8X!j'^#Y#h&Q'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PR*`%[!h#SY!]$[%s%w&r&y'W'X'Y'Z'`'d)g*v+Y+p,O,U,i-g0T0_0o1l1x3b3q3t5p7P7q8V8a8j!R8u']'n+P,Z/c/f0c0k0l0m0n0r0w3_3u3z3{4x5m5{6P6Q7b9u!d#UY!]$[%s%w&r&y'Y'Z'`'d)g*v+Y+p,O,U,i-g0T0_0o1l1x3b3q3t5p7P7q8V8a8j}8w']'n+P,Z/c/f0c0m0n0r0w3_3u3z3{4x5m5{6P6Q7b9u!`#YY!]$[%s%w&r&y'`'d)g*v+Y+p,O,U,i-g0T0_0o1l1x3b3q3t5p7P7q8V8a8jl(S#q&w({,q,y-_-`0]1k4O4d9p9z9{x:P']'n+P,Z/c/f0c0r0w3_3u3z3{4x5m5{6P6Q7b9u!`:S&s'b(V(]+h+|,f,}-k-n.]._0P0[1S1W1t2V2X2i3s4V4]4f4k4s5W5z6V6]6rZ:T0p3y5|7W7v&YbORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PS#i_#jR0t,^&a^ORSTU_ij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h#j$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,^,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PS#d]#kT'g#f'kT#e]#kT'i#f'k&a_ORSTU_ij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#Y#_#b#h#j$W$j%W%Z%[%_%a%b%c%e%i%t%|&Q&X&_&i&v&z'p'z(|)T*b*f*k*z*}+j+q,S,Y,^,_-d-i-q-{.j.{.|.}/P/T/W/Y/h/q0U0`0s2S2[2l3P3R3S3]3d5X5g5q6e7R7s8X8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:PT#i_#jQ#l_R'r#j$naORSTUij{!Q!U!Z!^!k!s!w!y!|!}#O#P#Q#R#S#T#U#V#W#_#b$W$j%W%Z%[%_%a%b%c%e%i%t%|&X&_&i&v&z'z(|)T*b*f*k+j+q,S,Y-d-i-q-{.j.{.|.}/P/T/W/Y/q0U0`2S2l3P3R3S3d5X5g5q7R7s8X!k9}#Y#h&Q'p*z*},_/h0s2[3]6e8i8k8n8o8p8q8r8s8t8u8v8w8x8y8z8}9W9X9Z9b9c9f9g:P#RcOSUi{!Q!U!k!y#h$W%W%Z%[%_%a%b%c%e%i%|&_'p)T*b*f*k+j,_-d-q.j.{.|.}/P/T/W/Y0s2S2l3P3R3S5X5gt#w`!v$O$P$T(P(R(S(Z(o(p,P-f0{1g9|:S:T!|&u!t#a#s#u&`'v(_)S)U)X)u)x+k,z,|-p-r.^.a.i.k1U1`1n1q1u2T2k2m4U4b4j5T5Y6d6p7k9Q9S9U9[9^9`9d9hQ(y$Rc0q8|9R9T9V9]9_9a9e9it#t`!v$O$P$T(P(R(S(Z(o(p,P-f0{1g9|:S:TS(f#v(iQ(z$SQ-W(g!|9q!t#a#s#u&`'v(_)S)U)X)u)x+k,z,|-p-r.^.a.i.k1U1`1n1q1u2T2k2m4U4b4j5T5Y6d6p7k9Q9S9U9[9^9`9d9hb9r8|9R9T9V9]9_9a9e9iQ9v:QR9w:RleOSi{!k$W%_%b%c%e*f*k/T/WQ(^#uQ*r%lQ*s%nR1T,z$U#x`!t!v#a#s#u$O$P$T&`'v(P(R(S(Z(_(o(p)S)U)X)u)x+k,P,z,|-f-p-r.^.a.i.k0{1U1`1g1n1q1u2T2k2m4U4b4j5T5Y6d6p7k8|9Q9R9S9T9U9V9[9]9^9_9`9a9d9e9h9i9|:S:TQ)w$yQ.`)yQ2W._R4u2XT(h#v(iS(h#v(iT2`.g2aQ)Y$aQ-V(fQ-w)ZQ.n*SQ2p.oQ5[2qQ6g4yQ6t5]Q7d6hQ7m6uQ7|7eQ8[7}Q8c8]R8g8dl(P#q&w({,q,y-_-`0]1k4O4d9p9z9{!`9[&s'b(V(]+h+|,f,}-k-n.]._0P0[1S1W1t2V2X2i3s4V4]4f4k4s5W5z6V6]6rZ9]0p3y5|7W7vn(R#q&w({,o,q,y-_-`0]1k4O4d9p9z9{!b9^&s'b(V(]+h+|,f,}-k-n.]._0P0Y0[1S1W1t2V2X2i3s4V4]4f4k4s5W5z6V6]6r]9_0p3y5|5}7W7vpdOSiw{!k$W%U%_%b%c%e*f*k/T/WQ%RvR*b%[pdOSiw{!k$W%U%_%b%c%e*f*k/T/WR%RvQ){$zR.[)tqdOSiw{!k$W%U%_%b%c%e*f*k/T/WQ.h*QS2j.l.mW5S2g2h2i2nU6o5U5V5WU7i6n6q6rQ8Q7jR8_8RQ%YwR*[%UR2w.uR6w5_S$in$nR.Q)eQ%_xR*f%`R*l%fT/U*k/WQiOQ!kST$Zi!kQ'x#pR,g'xQ!WQR%q!WQ![RU%u![%v*wQ%v!]R*w%wQ+S&RR/j+SQ,Q&wR0^,QQ,T&yS0a,T0bR0b,UQ+a&]R/u+aQ&Z!cQ*x%xT+]&Z*xQ+V&UR/l+VQ&n!pQ+s&lU+w&n+s0XR0X+xQ'k#fR,`'kQ#j_R'q#jQ#`YU'a#`*u8{Q*u8jR8{'nQ,t(WW1O,t1P4S6UU1P,u,v,wS4S1Q1RR6U4T#q'}#q&s&w'b(V(](v(w({+h+z+{+|,f,o,p,q,y,}-_-`-k-n.]._0P0Y0Z0[0]0p1S1W1k1t2V2X2i3s3w3x3y4O4V4]4d4f4k4s5W5z5|5}6O6V6]6r7W7v9p9z9{Q,{(]U1V,{1X4WQ1X,}R4W1WQ(i#vR-X(iQ(r#zR-b(rQ1o-kR4g1oQ)r$tR.Z)rQ2Z.bS4w2Z6fR6f4xQ)}${R.e)}Q2a.gR4|2aQ.t*XS2u.t5`R5`2wQ-})bS1|-}4nR4n1}Q)f$iR.R)fQ/W*kR3V/WWhOSi!kQ%d{Q)O$WQ*e%_Q*g%bQ*h%cQ*j%eQ/R*fS/U*k/WR3U/TQ$YfQ%h!PQ%k!RQ%m!SQ%o!TQ)m$oQ)s$uQ*Z%YQ*p%jS.w*[*_Q/_*oQ/`*rQ/a*sS/p+^2^Q1Y-PQ1Z-QQ1a-VQ2P.UQ2U.]Q2o.nQ2y.yQ3T/SY3c/r/s/x/|5OQ4X1[Q4Z1^Q4^1bQ4q2RQ4t2VQ5Z2pQ5a2x[5o3b3e3h3j3k6lQ6W4YQ6Z4_Q6b4oQ6s5[Q6x5bW7O5p5t5v5xQ7Y6XQ7[6[Q7`6cQ7c6gQ7l6tU7p7P7T7VQ7w7ZQ7y7^Q7{7dQ8S7mS8U7q7uQ8Y7xQ8Z7|Q8`8VQ8b8[Q8e8aQ8f8cR8h8gQ$clQ&b!gU)]$d$e$fQ*|&OU+m&c&d&eQ-P(cS-y)^)_Q/g+OQ/o+^S0R+n+oQ1^-TQ1w-zQ3`/mS3f/t/xQ3p0SQ4_1cS5s3g3kQ7S5uR7t7US#r`9|R)W$`U#z`$`9|R-a(qQ#q`S&s!t)XQ&w!vQ'b#aQ(V#sQ(]#uQ(v$OQ(w$PQ({$TQ+h&`Q+z9QQ+{9SQ+|9UQ,f'vQ,o(PQ,p(RQ,q(SQ,y(ZQ,}(_Q-_(oQ-`(pd-k)S-p.i1q2k4j5T6d6p7kQ-n)UQ.])uQ._)xQ0P+kQ0Y9[Q0Z9^Q0[9`Q0],PQ0p8|Q1S,zQ1W,|Q1k-fQ1t-rQ2V.^Q2X.aQ2i.kQ3s9dQ3w9RQ3x9TQ3y9VQ4O0{Q4V1UQ4]1`Q4d1gQ4f1nQ4k1uQ4s2TQ5W2mQ5z9hQ5|9aQ5}9]Q6O9_Q6V4UQ6]4bQ6r5YQ7W9eQ7v9iQ9p9|Q9z:SR9{:TT'w#p'xlfOSi{!k$W%_%b%c%e*f*k/T/WS!mU%aQ%j!QQ%p!UQ'O!yQ'o#hS*_%W%ZQ*c%[Q*o%iQ*y%|Q+g&_Q,d'pQ-m)TQ/O*bQ0O+jQ0v,_Q1i-dQ1s-qQ2h.jQ2{.{Q2|.|Q3O.}Q3Q/PQ3X/YQ3|0sQ4r2SQ5V2lQ5f3PQ5h3RQ5i3SQ6q5XR6z5g!vYOSUi{!Q!k!y$W%W%Z%[%_%a%b%c%e%i%|&_)T*b*f*k+j-d-q.j.{.|.}/P/T/W/Y2S2l3P3R3S5X5gQ!]RQ!lTQ$[jQ%s!ZQ%w!^Q&r!sQ&y!wQ'P!|Q'Q!}Q'R#OQ'S#PQ'T#QQ'U#RQ'V#SQ'W#TQ'X#UQ'Y#VQ'Z#WQ']#YQ'`#_Q'd#bW'n#h'p,_0sQ)g$jQ*v%tS+P&Q/hQ+Y&XQ+p&iQ,O&vQ,U&zQ,X8iQ,Z8kQ,i'zQ-g(|Q/c*zQ/f*}Q0T+qQ0_,SQ0c8nQ0d8oQ0e8pQ0f8qQ0g8rQ0h8sQ0i8tQ0j8uQ0k8vQ0l8wQ0m8xQ0n8yQ0o,YQ0r8}Q0w8zQ1l-iQ1x-{Q3_9WQ3b/qQ3q0UQ3t0`Q3u9XQ3z9ZQ3{9bQ4x2[Q5m3]Q5p3dQ5{9cQ6P9fQ6Q9gQ7P5qQ7b6eQ7q7RQ8V7sQ8a8XQ8j!UR9u:PT!VQ!WR!_RR&S!`S&O!`+RS+O&P&WR/m+XR&x!vR&{!wT!qU$US!pU$UU$tpq*dS&l!o!rQ+u&mQ+x&pQ.Y)qS0V+t+vR3r0W[!bR!^$q&Y)o+[h!nUpq!o!r$U&m&p)q+t+v0WQ/Q*dQ/d*{Q3[/^T9m&Q)pT!dR$qS!cR$qS%x!^)oS+Q&Q)pQ+Z&YR/n+[T&V!`$rQ#f]R't#kT'j#f'kR0u,^T(Y#s(bR(`#uQ-l)SQ1r-pQ2g.iQ4h1qQ5U2kQ6`4jQ6n5TQ7a6dQ7j6pR8R7klgOSi{!k$W%_%b%c%e*f*k/T/WQ%XwR*Z%UV$upq*dR.c)zR*Y%SQ$mnR)l$nR)c$hT%]x%`T%^x%`T/V*k/W\",\n  nodeNames: \" ArithOp ArithOp extends LineComment BlockComment Script ExportDeclaration export Star as VariableName from String ; default FunctionDeclaration async function VariableDefinition TypeParamList TypeDefinition ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType VoidType void TypeofType typeof MemberExpression . ?. PropertyName [ TemplateString null super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyNameDefinition Block : NewExpression new TypeArgList CompareOp < ) ( ArgList UnaryExpression await yield delete LogicOp BitOp ParenthesizedExpression ClassExpression class extends ClassBody MethodDeclaration Privacy static abstract PropertyDeclaration readonly Optional TypeAnnotation Equals FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp in instanceof const CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression TaggedTemplatExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXStartTag JSXSelfClosingTag JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast ArrowFunction TypeParamList SequenceExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature CallSignature TypePredicate is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody MethodDeclaration AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try catch finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement\",\n  maxTerm: 325,\n  context: trackNewline,\n  nodeProps: [\n    [NodeProp.group, -26,7,14,16,54,176,180,183,184,186,189,192,203,205,211,213,215,217,220,226,230,232,234,236,238,240,241,\"Statement\",-30,11,13,23,26,27,38,39,40,41,43,48,56,64,70,71,84,85,94,95,111,114,116,117,118,119,121,122,140,141,143,\"Expression\",-22,22,24,28,29,31,144,146,148,149,151,152,153,155,156,157,159,160,161,170,172,174,175,\"Type\",-2,75,79,\"ClassItem\"],\n    [NodeProp.closedBy, 37,\"]\",47,\"}\",62,\")\",124,\"JSXSelfCloseEndTag JSXEndTag\",138,\"JSXEndTag\"],\n    [NodeProp.openedBy, 42,\"[\",46,\"{\",61,\"(\",123,\"JSXStartTag\",133,\"JSXStartTag JSXStartCloseTag\"]\n  ],\n  skippedNodes: [0,4,5],\n  repeatNodeCount: 28,\n  tokenData: \"!As~R!`OX%TXY%cYZ'RZ[%c[]%T]^'R^p%Tpq%cqr'crs(kst%Ttu0huv2xvw3mwx4kxy;Ryz;cz{;s{|<s|}=W}!O<s!O!P=h!P!QAt!Q!R!.d!R![!/y![!]!5i!]!^!5{!^!_!6]!_!`!7Y!`!a!8Q!a!b!9w!b!c%T!c!}0h!}#O!;Y#O#P%T#P#Q!;j#Q#R!;z#R#S0h#S#T!<_#T#o0h#o#p!<o#p#q!<t#q#r!=[#r#s!=n#s$f%T$f$g%c$g#BY0h#BY#BZ!>O#BZ$IS0h$IS$I_!>O$I_$I|0h$I|$I}!@g$I}$JO!@g$JO$JT0h$JT$JU!>O$JU$KV0h$KV$KW!>O$KW&FU0h&FU&FV!>O&FV?HT0h?HT?HU!>O?HU~0hW%YR#|WO!^%T!_#o%T#p~%T,T%jg#|W'P+{OX%TXY%cYZ%TZ[%c[p%Tpq%cq!^%T!_#o%T#p$f%T$f$g%c$g#BY%T#BY#BZ%c#BZ$IS%T$IS$I_%c$I_$JT%T$JT$JU%c$JU$KV%T$KV$KW%c$KW&FU%T&FU&FV%c&FV?HT%T?HT?HU%c?HU~%T,T'YR#|W'Q+{O!^%T!_#o%T#p~%T$T'jS#|W!f#{O!^%T!_!`'v!`#o%T#p~%T$O'}S#]#v#|WO!^%T!_!`(Z!`#o%T#p~%T$O(bR#]#v#|WO!^%T!_#o%T#p~%T'u(rZ#|W]!ROY(kYZ)eZr(krs*rs!^(k!^!_+U!_#O(k#O#P-b#P#o(k#o#p+U#p~(k&r)jV#|WOr)ers*Ps!^)e!^!_*a!_#o)e#o#p*a#p~)e&r*WR#w&j#|WO!^%T!_#o%T#p~%T&j*dROr*ars*ms~*a&j*rO#w&j'u*{R#w&j#|W]!RO!^%T!_#o%T#p~%T'm+ZV]!ROY+UYZ*aZr+Urs+ps#O+U#O#P+w#P~+U'm+wO#w&j]!R'm+zROr+Urs,Ts~+U'm,[U#w&j]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R,sU]!ROY,nZr,nrs-Vs#O,n#O#P-[#P~,n!R-[O]!R!R-_PO~,n'u-gV#|WOr(krs-|s!^(k!^!_+U!_#o(k#o#p+U#p~(k'u.VZ#w&j#|W]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/PZ#|W]!ROY.xYZ%TZr.xrs/rs!^.x!^!_,n!_#O.x#O#P0S#P#o.x#o#p,n#p~.x!Z/yR#|W]!RO!^%T!_#o%T#p~%T!Z0XT#|WO!^.x!^!_,n!_#o.x#o#p,n#p~.x&i0s_#|W#rS'S%k'`pOt%Ttu0hu}%T}!O1r!O!Q%T!Q![0h![!^%T!_!c%T!c!}0h!}#R%T#R#S0h#S#T%T#T#o0h#p$g%T$g~0h[1y_#|W#rSOt%Ttu1ru}%T}!O1r!O!Q%T!Q![1r![!^%T!_!c%T!c!}1r!}#R%T#R#S1r#S#T%T#T#o1r#p$g%T$g~1r$O3PS#U#v#|WO!^%T!_!`3]!`#o%T#p~%T$O3dR#|W#g#vO!^%T!_#o%T#p~%T%r3tU'q%j#|WOv%Tvw4Ww!^%T!_!`3]!`#o%T#p~%T$O4_S#|W#a#vO!^%T!_!`3]!`#o%T#p~%T'u4rZ#|W]!ROY4kYZ5eZw4kwx*rx!^4k!^!_6]!_#O4k#O#P8]#P#o4k#o#p6]#p~4k&r5jV#|WOw5ewx*Px!^5e!^!_6P!_#o5e#o#p6P#p~5e&j6SROw6Pwx*mx~6P'm6bV]!ROY6]YZ6PZw6]wx+px#O6]#O#P6w#P~6]'m6zROw6]wx7Tx~6]'m7[U#w&j]!ROY7nZw7nwx-Vx#O7n#O#P8V#P~7n!R7sU]!ROY7nZw7nwx-Vx#O7n#O#P8V#P~7n!R8YPO~7n'u8bV#|WOw4kwx8wx!^4k!^!_6]!_#o4k#o#p6]#p~4k'u9QZ#w&j#|W]!ROY9sYZ%TZw9swx/rx!^9s!^!_7n!_#O9s#O#P:m#P#o9s#o#p7n#p~9s!Z9zZ#|W]!ROY9sYZ%TZw9swx/rx!^9s!^!_7n!_#O9s#O#P:m#P#o9s#o#p7n#p~9s!Z:rT#|WO!^9s!^!_7n!_#o9s#o#p7n#p~9s%V;YR!`$}#|WO!^%T!_#o%T#p~%TZ;jR!_R#|WO!^%T!_#o%T#p~%T%R;|U'T!R#V#v#|WOz%Tz{<`{!^%T!_!`3]!`#o%T#p~%T$O<gS#S#v#|WO!^%T!_!`3]!`#o%T#p~%T$u<zSi$m#|WO!^%T!_!`3]!`#o%T#p~%T&i=_R}&a#|WO!^%T!_#o%T#p~%T&i=oVr%n#|WO!O%T!O!P>U!P!Q%T!Q![>z![!^%T!_#o%T#p~%Ty>ZT#|WO!O%T!O!P>j!P!^%T!_#o%T#p~%Ty>qR|q#|WO!^%T!_#o%T#p~%Ty?RZ#|WjqO!Q%T!Q![>z![!^%T!_!g%T!g!h?t!h#R%T#R#S>z#S#X%T#X#Y?t#Y#o%T#p~%Ty?yZ#|WO{%T{|@l|}%T}!O@l!O!Q%T!Q![AW![!^%T!_#R%T#R#SAW#S#o%T#p~%Ty@qV#|WO!Q%T!Q![AW![!^%T!_#R%T#R#SAW#S#o%T#p~%TyA_V#|WjqO!Q%T!Q![AW![!^%T!_#R%T#R#SAW#S#o%T#p~%T,TA{`#|W#T#vOYB}YZ%TZzB}z{Ht{!PB}!P!Q!+m!Q!^B}!^!_EQ!_!`!,f!`!a!-e!a!}B}!}#OFy#O#PHY#P#oB}#o#pEQ#p~B}XCU[#|WyPOYB}YZ%TZ!PB}!P!QCz!Q!^B}!^!_EQ!_!}B}!}#OFy#O#PHY#P#oB}#o#pEQ#p~B}XDR_#|WyPO!^%T!_#Z%T#Z#[Cz#[#]%T#]#^Cz#^#a%T#a#bCz#b#g%T#g#hCz#h#i%T#i#jCz#j#m%T#m#nCz#n#o%T#p~%TPEVVyPOYEQZ!PEQ!P!QEl!Q!}EQ!}#OFT#O#PFp#P~EQPEqUyP#Z#[El#]#^El#a#bEl#g#hEl#i#jEl#m#nElPFWTOYFTZ#OFT#O#PFg#P#QEQ#Q~FTPFjQOYFTZ~FTPFsQOYEQZ~EQXGOY#|WOYFyYZ%TZ!^Fy!^!_FT!_#OFy#O#PGn#P#QB}#Q#oFy#o#pFT#p~FyXGsV#|WOYFyYZ%TZ!^Fy!^!_FT!_#oFy#o#pFT#p~FyXH_V#|WOYB}YZ%TZ!^B}!^!_EQ!_#oB}#o#pEQ#p~B},TH{^#|WyPOYHtYZIwZzHtz{LY{!PHt!P!Q!*Z!Q!^Ht!^!_Ne!_!}Ht!}#O!&U#O#P!)i#P#oHt#o#pNe#p~Ht,TI|V#|WOzIwz{Jc{!^Iw!^!_Ke!_#oIw#o#pKe#p~Iw,TJhX#|WOzIwz{Jc{!PIw!P!QKT!Q!^Iw!^!_Ke!_#oIw#o#pKe#p~Iw,TK[R#|WT+{O!^%T!_#o%T#p~%T+{KhROzKez{Kq{~Ke+{KtTOzKez{Kq{!PKe!P!QLT!Q~Ke+{LYOT+{,TLa^#|WyPOYHtYZIwZzHtz{LY{!PHt!P!QM]!Q!^Ht!^!_Ne!_!}Ht!}#O!&U#O#P!)i#P#oHt#o#pNe#p~Ht,TMf_#|WT+{yPO!^%T!_#Z%T#Z#[Cz#[#]%T#]#^Cz#^#a%T#a#bCz#b#g%T#g#hCz#h#i%T#i#jCz#j#m%T#m#nCz#n#o%T#p~%T+{NjYyPOYNeYZKeZzNez{! Y{!PNe!P!Q!%Q!Q!}Ne!}#O!!h#O#P!$n#P~Ne+{! _YyPOYNeYZKeZzNez{! Y{!PNe!P!Q! }!Q!}Ne!}#O!!h#O#P!$n#P~Ne+{!!UUT+{yP#Z#[El#]#^El#a#bEl#g#hEl#i#jEl#m#nEl+{!!kWOY!!hYZKeZz!!hz{!#T{#O!!h#O#P!$[#P#QNe#Q~!!h+{!#WYOY!!hYZKeZz!!hz{!#T{!P!!h!P!Q!#v!Q#O!!h#O#P!$[#P#QNe#Q~!!h+{!#{TT+{OYFTZ#OFT#O#PFg#P#QEQ#Q~FT+{!$_TOY!!hYZKeZz!!hz{!#T{~!!h+{!$qTOYNeYZKeZzNez{! Y{~Ne+{!%V_yPOzKez{Kq{#ZKe#Z#[!%Q#[#]Ke#]#^!%Q#^#aKe#a#b!%Q#b#gKe#g#h!%Q#h#iKe#i#j!%Q#j#mKe#m#n!%Q#n~Ke,T!&Z[#|WOY!&UYZIwZz!&Uz{!'P{!^!&U!^!_!!h!_#O!&U#O#P!(w#P#QHt#Q#o!&U#o#p!!h#p~!&U,T!'U^#|WOY!&UYZIwZz!&Uz{!'P{!P!&U!P!Q!(Q!Q!^!&U!^!_!!h!_#O!&U#O#P!(w#P#QHt#Q#o!&U#o#p!!h#p~!&U,T!(XY#|WT+{OYFyYZ%TZ!^Fy!^!_FT!_#OFy#O#PGn#P#QB}#Q#oFy#o#pFT#p~Fy,T!(|X#|WOY!&UYZIwZz!&Uz{!'P{!^!&U!^!_!!h!_#o!&U#o#p!!h#p~!&U,T!)nX#|WOYHtYZIwZzHtz{LY{!^Ht!^!_Ne!_#oHt#o#pNe#p~Ht,T!*bc#|WyPOzIwz{Jc{!^Iw!^!_Ke!_#ZIw#Z#[!*Z#[#]Iw#]#^!*Z#^#aIw#a#b!*Z#b#gIw#g#h!*Z#h#iIw#i#j!*Z#j#mIw#m#n!*Z#n#oIw#o#pKe#p~Iw,T!+tV#|WS+{OY!+mYZ%TZ!^!+m!^!_!,Z!_#o!+m#o#p!,Z#p~!+m+{!,`QS+{OY!,ZZ~!,Z$P!,o[#|W#g#vyPOYB}YZ%TZ!PB}!P!QCz!Q!^B}!^!_EQ!_!}B}!}#OFy#O#PHY#P#oB}#o#pEQ#p~B}]!-n[#oS#|WyPOYB}YZ%TZ!PB}!P!QCz!Q!^B}!^!_EQ!_!}B}!}#OFy#O#PHY#P#oB}#o#pEQ#p~B}y!.kd#|WjqO!O%T!O!P>z!P!Q%T!Q![!/y![!^%T!_!g%T!g!h?t!h#R%T#R#S!/y#S#U%T#U#V!1a#V#X%T#X#Y?t#Y#b%T#b#c!1P#c#d!2o#d#l%T#l#m!3w#m#o%T#p~%Ty!0Q_#|WjqO!O%T!O!P>z!P!Q%T!Q![!/y![!^%T!_!g%T!g!h?t!h#R%T#R#S!/y#S#X%T#X#Y?t#Y#b%T#b#c!1P#c#o%T#p~%Ty!1WR#|WjqO!^%T!_#o%T#p~%Ty!1fW#|WO!Q%T!Q!R!2O!R!S!2O!S!^%T!_#R%T#R#S!2O#S#o%T#p~%Ty!2VW#|WjqO!Q%T!Q!R!2O!R!S!2O!S!^%T!_#R%T#R#S!2O#S#o%T#p~%Ty!2tV#|WO!Q%T!Q!Y!3Z!Y!^%T!_#R%T#R#S!3Z#S#o%T#p~%Ty!3bV#|WjqO!Q%T!Q!Y!3Z!Y!^%T!_#R%T#R#S!3Z#S#o%T#p~%Ty!3|Z#|WO!Q%T!Q![!4o![!^%T!_!c%T!c!i!4o!i#R%T#R#S!4o#S#T%T#T#Z!4o#Z#o%T#p~%Ty!4vZ#|WjqO!Q%T!Q![!4o![!^%T!_!c%T!c!i!4o!i#R%T#R#S!4o#S#T%T#T#Z!4o#Z#o%T#p~%T%w!5rR!XV#|W#e%hO!^%T!_#o%T#p~%T!P!6SR^w#|WO!^%T!_#o%T#p~%T+c!6hR'Xd!]%Y#p&s'uP!P!Q!6q!^!_!6v!_!`!7TW!6vO$OW#v!6{P#W#v!_!`!7O#v!7TO#g#v#v!7YO#X#v%w!7aT!u%o#|WO!^%T!_!`'v!`!a!7p!a#o%T#p~%T$P!7wR#P#w#|WO!^%T!_#o%T#p~%T%w!8]T'W!s#X#v#yS#|WO!^%T!_!`!8l!`!a!8|!a#o%T#p~%T$O!8sR#X#v#|WO!^%T!_#o%T#p~%T$O!9TT#W#v#|WO!^%T!_!`3]!`!a!9d!a#o%T#p~%T$O!9kS#W#v#|WO!^%T!_!`3]!`#o%T#p~%T%w!:OV'i%o#|WO!O%T!O!P!:e!P!^%T!_!a%T!a!b!:u!b#o%T#p~%T$`!:lRs$W#|WO!^%T!_#o%T#p~%T$O!:|S#|W#b#vO!^%T!_!`3]!`#o%T#p~%T&e!;aRu&]#|WO!^%T!_#o%T#p~%TZ!;qRzR#|WO!^%T!_#o%T#p~%T$O!<RS#_#v#|WO!^%T!_!`3]!`#o%T#p~%T$P!<fR#|W']#wO!^%T!_#o%T#p~%T~!<tO!P~%r!<{T'p%j#|WO!^%T!_!`3]!`#o%T#p#q!:u#q~%T$u!=eR!O$k#|W'_QO!^%T!_#o%T#p~%TX!=uR!gP#|WO!^%T!_#o%T#p~%T,T!>]r#|W'P+{#rS'S%k'`pOX%TXY%cYZ%TZ[%c[p%Tpq%cqt%Ttu0hu}%T}!O1r!O!Q%T!Q![0h![!^%T!_!c%T!c!}0h!}#R%T#R#S0h#S#T%T#T#o0h#p$f%T$f$g%c$g#BY0h#BY#BZ!>O#BZ$IS0h$IS$I_!>O$I_$JT0h$JT$JU!>O$JU$KV0h$KV$KW!>O$KW&FU0h&FU&FV!>O&FV?HT0h?HT?HU!>O?HU~0h,T!@t_#|W'Q+{#rS'S%k'`pOt%Ttu0hu}%T}!O1r!O!Q%T!Q![0h![!^%T!_!c%T!c!}0h!}#R%T#R#S0h#S#T%T#T#o0h#p$g%T$g~0h\",\n  tokenizers: [noSemicolon, incdecToken, template, 0, 1, 2, 3, 4, 5, 6, 7, 8, insertSemicolon],\n  topRules: {\"Script\":[0,6]},\n  dialects: {jsx: 11129, ts: 11131},\n  dynamicPrecedences: {\"141\":1,\"168\":1},\n  specialized: [{term: 280, get: (value, stack) => (tsExtends(value, stack) << 1) | 1},{term: 280, get: value => spec_identifier[value] || -1},{term: 292, get: value => spec_word[value] || -1},{term: 59, get: value => spec_LessThan[value] || -1}],\n  tokenPrec: 11151\n});\n\nexport { parser };\n","export default function crelt() {\n  var elt = arguments[0]\n  if (typeof elt == \"string\") elt = document.createElement(elt)\n  var i = 1, next = arguments[1]\n  if (next && typeof next == \"object\" && next.nodeType == null && !Array.isArray(next)) {\n    for (var name in next) if (Object.prototype.hasOwnProperty.call(next, name)) {\n      var value = next[name]\n      if (typeof value == \"string\") elt.setAttribute(name, value)\n      else if (value != null) elt[name] = value\n    }\n    i++\n  }\n  for (; i < arguments.length; i++) add(elt, arguments[i])\n  return elt\n}\n\nfunction add(elt, child) {\n  if (typeof child == \"string\") {\n    elt.appendChild(document.createTextNode(child))\n  } else if (child == null) {\n  } else if (child.nodeType != null) {\n    elt.appendChild(child)\n  } else if (Array.isArray(child)) {\n    for (var i = 0; i < child.length; i++) add(elt, child[i])\n  } else {\n    throw new RangeError(\"Unsupported child node: \" + child)\n  }\n}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjb2RlbWlycm9yLWV4YW1wbGUuY29tcG9uZW50LmNzcyJ9 */\";","import { EditorSelection, CharCategory } from '@codemirror/state';\nimport { Text, findClusterBreak, countColumn } from '@codemirror/text';\nimport { Direction, EditorView, PluginField } from '@codemirror/view';\nimport { matchBrackets } from '@codemirror/matchbrackets';\nimport { IndentContext, getIndentation, indentString, indentUnit, getIndentUnit, syntaxTree } from '@codemirror/language';\nimport { NodeProp } from '@lezer/common';\n\nfunction updateSel(sel, by) {\n    return EditorSelection.create(sel.ranges.map(by), sel.mainIndex);\n}\nfunction setSel(state, selection) {\n    return state.update({ selection, scrollIntoView: true, userEvent: \"select\" });\n}\nfunction moveSel({ state, dispatch }, how) {\n    let selection = updateSel(state.selection, how);\n    if (selection.eq(state.selection))\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n}\nfunction rangeEnd(range, forward) {\n    return EditorSelection.cursor(forward ? range.to : range.from);\n}\nfunction cursorByChar(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveByChar(range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection one character to the left (which is backward in\nleft-to-right text, forward in right-to-left text).\n*/\nconst cursorCharLeft = view => cursorByChar(view, view.textDirection != Direction.LTR);\n/**\nMove the selection one character to the right.\n*/\nconst cursorCharRight = view => cursorByChar(view, view.textDirection == Direction.LTR);\n/**\nMove the selection one character forward.\n*/\nconst cursorCharForward = view => cursorByChar(view, true);\n/**\nMove the selection one character backward.\n*/\nconst cursorCharBackward = view => cursorByChar(view, false);\nfunction cursorByGroup(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveByGroup(range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection to the left across one group of word or\nnon-word (but also non-space) characters.\n*/\nconst cursorGroupLeft = view => cursorByGroup(view, view.textDirection != Direction.LTR);\n/**\nMove the selection one group to the right.\n*/\nconst cursorGroupRight = view => cursorByGroup(view, view.textDirection == Direction.LTR);\n/**\nMove the selection one group forward.\n*/\nconst cursorGroupForward = view => cursorByGroup(view, true);\n/**\nMove the selection one group backward.\n*/\nconst cursorGroupBackward = view => cursorByGroup(view, false);\nfunction moveBySubword(view, range, forward) {\n    let categorize = view.state.charCategorizer(range.from);\n    return view.moveByChar(range, forward, start => {\n        let cat = CharCategory.Space, pos = range.from;\n        let done = false, sawUpper = false, sawLower = false;\n        let step = (next) => {\n            if (done)\n                return false;\n            pos += forward ? next.length : -next.length;\n            let nextCat = categorize(next), ahead;\n            if (cat == CharCategory.Space)\n                cat = nextCat;\n            if (cat != nextCat)\n                return false;\n            if (cat == CharCategory.Word) {\n                if (next.toLowerCase() == next) {\n                    if (!forward && sawUpper)\n                        return false;\n                    sawLower = true;\n                }\n                else if (sawLower) {\n                    if (forward)\n                        return false;\n                    done = true;\n                }\n                else {\n                    if (sawUpper && forward && categorize(ahead = view.state.sliceDoc(pos, pos + 1)) == CharCategory.Word &&\n                        ahead.toLowerCase() == ahead)\n                        return false;\n                    sawUpper = true;\n                }\n            }\n            return true;\n        };\n        step(start);\n        return step;\n    });\n}\nfunction cursorBySubword(view, forward) {\n    return moveSel(view, range => range.empty ? moveBySubword(view, range, forward) : rangeEnd(range, forward));\n}\n/**\nMove the selection one group or camel-case subword forward.\n*/\nconst cursorSubwordForward = view => cursorBySubword(view, true);\n/**\nMove the selection one group or camel-case subword backward.\n*/\nconst cursorSubwordBackward = view => cursorBySubword(view, false);\nfunction interestingNode(state, node, bracketProp) {\n    if (node.type.prop(bracketProp))\n        return true;\n    let len = node.to - node.from;\n    return len && (len > 2 || /[^\\s,.;:]/.test(state.sliceDoc(node.from, node.to))) || node.firstChild;\n}\nfunction moveBySyntax(state, start, forward) {\n    let pos = syntaxTree(state).resolveInner(start.head);\n    let bracketProp = forward ? NodeProp.closedBy : NodeProp.openedBy;\n    // Scan forward through child nodes to see if there's an interesting\n    // node ahead.\n    for (let at = start.head;;) {\n        let next = forward ? pos.childAfter(at) : pos.childBefore(at);\n        if (!next)\n            break;\n        if (interestingNode(state, next, bracketProp))\n            pos = next;\n        else\n            at = forward ? next.to : next.from;\n    }\n    let bracket = pos.type.prop(bracketProp), match, newPos;\n    if (bracket && (match = forward ? matchBrackets(state, pos.from, 1) : matchBrackets(state, pos.to, -1)) && match.matched)\n        newPos = forward ? match.end.to : match.end.from;\n    else\n        newPos = forward ? pos.to : pos.from;\n    return EditorSelection.cursor(newPos, forward ? -1 : 1);\n}\n/**\nMove the cursor over the next syntactic element to the left.\n*/\nconst cursorSyntaxLeft = view => moveSel(view, range => moveBySyntax(view.state, range, view.textDirection != Direction.LTR));\n/**\nMove the cursor over the next syntactic element to the right.\n*/\nconst cursorSyntaxRight = view => moveSel(view, range => moveBySyntax(view.state, range, view.textDirection == Direction.LTR));\nfunction cursorByLine(view, forward) {\n    return moveSel(view, range => {\n        if (!range.empty)\n            return rangeEnd(range, forward);\n        let moved = view.moveVertically(range, forward);\n        return moved.head != range.head ? moved : view.moveToLineBoundary(range, forward);\n    });\n}\n/**\nMove the selection one line up.\n*/\nconst cursorLineUp = view => cursorByLine(view, false);\n/**\nMove the selection one line down.\n*/\nconst cursorLineDown = view => cursorByLine(view, true);\nfunction cursorByPage(view, forward) {\n    return moveSel(view, range => range.empty ? view.moveVertically(range, forward, view.dom.clientHeight) : rangeEnd(range, forward));\n}\n/**\nMove the selection one page up.\n*/\nconst cursorPageUp = view => cursorByPage(view, false);\n/**\nMove the selection one page down.\n*/\nconst cursorPageDown = view => cursorByPage(view, true);\nfunction moveByLineBoundary(view, start, forward) {\n    let line = view.visualLineAt(start.head), moved = view.moveToLineBoundary(start, forward);\n    if (moved.head == start.head && moved.head != (forward ? line.to : line.from))\n        moved = view.moveToLineBoundary(start, forward, false);\n    if (!forward && moved.head == line.from && line.length) {\n        let space = /^\\s*/.exec(view.state.sliceDoc(line.from, Math.min(line.from + 100, line.to)))[0].length;\n        if (space && start.head != line.from + space)\n            moved = EditorSelection.cursor(line.from + space);\n    }\n    return moved;\n}\n/**\nMove the selection to the next line wrap point, or to the end of\nthe line if there isn't one left on this line.\n*/\nconst cursorLineBoundaryForward = view => moveSel(view, range => moveByLineBoundary(view, range, true));\n/**\nMove the selection to previous line wrap point, or failing that to\nthe start of the line. If the line is indented, and the cursor\nisn't already at the end of the indentation, this will move to the\nend of the indentation instead of the start of the line.\n*/\nconst cursorLineBoundaryBackward = view => moveSel(view, range => moveByLineBoundary(view, range, false));\n/**\nMove the selection to the start of the line.\n*/\nconst cursorLineStart = view => moveSel(view, range => EditorSelection.cursor(view.visualLineAt(range.head).from, 1));\n/**\nMove the selection to the end of the line.\n*/\nconst cursorLineEnd = view => moveSel(view, range => EditorSelection.cursor(view.visualLineAt(range.head).to, -1));\nfunction toMatchingBracket(state, dispatch, extend) {\n    let found = false, selection = updateSel(state.selection, range => {\n        let matching = matchBrackets(state, range.head, -1)\n            || matchBrackets(state, range.head, 1)\n            || (range.head > 0 && matchBrackets(state, range.head - 1, 1))\n            || (range.head < state.doc.length && matchBrackets(state, range.head + 1, -1));\n        if (!matching || !matching.end)\n            return range;\n        found = true;\n        let head = matching.start.from == range.head ? matching.end.to : matching.end.from;\n        return extend ? EditorSelection.range(range.anchor, head) : EditorSelection.cursor(head);\n    });\n    if (!found)\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n}\n/**\nMove the selection to the bracket matching the one it is currently\non, if any.\n*/\nconst cursorMatchingBracket = ({ state, dispatch }) => toMatchingBracket(state, dispatch, false);\n/**\nExtend the selection to the bracket matching the one the selection\nhead is currently on, if any.\n*/\nconst selectMatchingBracket = ({ state, dispatch }) => toMatchingBracket(state, dispatch, true);\nfunction extendSel(view, how) {\n    let selection = updateSel(view.state.selection, range => {\n        let head = how(range);\n        return EditorSelection.range(range.anchor, head.head, head.goalColumn);\n    });\n    if (selection.eq(view.state.selection))\n        return false;\n    view.dispatch(setSel(view.state, selection));\n    return true;\n}\nfunction selectByChar(view, forward) {\n    return extendSel(view, range => view.moveByChar(range, forward));\n}\n/**\nMove the selection head one character to the left, while leaving\nthe anchor in place.\n*/\nconst selectCharLeft = view => selectByChar(view, view.textDirection != Direction.LTR);\n/**\nMove the selection head one character to the right.\n*/\nconst selectCharRight = view => selectByChar(view, view.textDirection == Direction.LTR);\n/**\nMove the selection head one character forward.\n*/\nconst selectCharForward = view => selectByChar(view, true);\n/**\nMove the selection head one character backward.\n*/\nconst selectCharBackward = view => selectByChar(view, false);\nfunction selectByGroup(view, forward) {\n    return extendSel(view, range => view.moveByGroup(range, forward));\n}\n/**\nMove the selection head one [group](https://codemirror.net/6/docs/ref/#commands.cursorGroupLeft) to\nthe left.\n*/\nconst selectGroupLeft = view => selectByGroup(view, view.textDirection != Direction.LTR);\n/**\nMove the selection head one group to the right.\n*/\nconst selectGroupRight = view => selectByGroup(view, view.textDirection == Direction.LTR);\n/**\nMove the selection head one group forward.\n*/\nconst selectGroupForward = view => selectByGroup(view, true);\n/**\nMove the selection head one group backward.\n*/\nconst selectGroupBackward = view => selectByGroup(view, false);\nfunction selectBySubword(view, forward) {\n    return extendSel(view, range => moveBySubword(view, range, forward));\n}\n/**\nMove the selection head one group or camel-case subword forward.\n*/\nconst selectSubwordForward = view => selectBySubword(view, true);\n/**\nMove the selection head one group or subword backward.\n*/\nconst selectSubwordBackward = view => selectBySubword(view, false);\n/**\nMove the selection head over the next syntactic element to the left.\n*/\nconst selectSyntaxLeft = view => extendSel(view, range => moveBySyntax(view.state, range, view.textDirection != Direction.LTR));\n/**\nMove the selection head over the next syntactic element to the right.\n*/\nconst selectSyntaxRight = view => extendSel(view, range => moveBySyntax(view.state, range, view.textDirection == Direction.LTR));\nfunction selectByLine(view, forward) {\n    return extendSel(view, range => view.moveVertically(range, forward));\n}\n/**\nMove the selection head one line up.\n*/\nconst selectLineUp = view => selectByLine(view, false);\n/**\nMove the selection head one line down.\n*/\nconst selectLineDown = view => selectByLine(view, true);\nfunction selectByPage(view, forward) {\n    return extendSel(view, range => view.moveVertically(range, forward, view.dom.clientHeight));\n}\n/**\nMove the selection head one page up.\n*/\nconst selectPageUp = view => selectByPage(view, false);\n/**\nMove the selection head one page down.\n*/\nconst selectPageDown = view => selectByPage(view, true);\n/**\nMove the selection head to the next line boundary.\n*/\nconst selectLineBoundaryForward = view => extendSel(view, range => moveByLineBoundary(view, range, true));\n/**\nMove the selection head to the previous line boundary.\n*/\nconst selectLineBoundaryBackward = view => extendSel(view, range => moveByLineBoundary(view, range, false));\n/**\nMove the selection head to the start of the line.\n*/\nconst selectLineStart = view => extendSel(view, range => EditorSelection.cursor(view.visualLineAt(range.head).from));\n/**\nMove the selection head to the end of the line.\n*/\nconst selectLineEnd = view => extendSel(view, range => EditorSelection.cursor(view.visualLineAt(range.head).to));\n/**\nMove the selection to the start of the document.\n*/\nconst cursorDocStart = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: 0 }));\n    return true;\n};\n/**\nMove the selection to the end of the document.\n*/\nconst cursorDocEnd = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.doc.length }));\n    return true;\n};\n/**\nMove the selection head to the start of the document.\n*/\nconst selectDocStart = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.selection.main.anchor, head: 0 }));\n    return true;\n};\n/**\nMove the selection head to the end of the document.\n*/\nconst selectDocEnd = ({ state, dispatch }) => {\n    dispatch(setSel(state, { anchor: state.selection.main.anchor, head: state.doc.length }));\n    return true;\n};\n/**\nSelect the entire document.\n*/\nconst selectAll = ({ state, dispatch }) => {\n    dispatch(state.update({ selection: { anchor: 0, head: state.doc.length }, userEvent: \"select\" }));\n    return true;\n};\n/**\nExpand the selection to cover entire lines.\n*/\nconst selectLine = ({ state, dispatch }) => {\n    let ranges = selectedLineBlocks(state).map(({ from, to }) => EditorSelection.range(from, Math.min(to + 1, state.doc.length)));\n    dispatch(state.update({ selection: EditorSelection.create(ranges), userEvent: \"select\" }));\n    return true;\n};\n/**\nSelect the next syntactic construct that is larger than the\nselection. Note that this will only work insofar as the language\n[provider](https://codemirror.net/6/docs/ref/#language.language) you use builds up a full\nsyntax tree.\n*/\nconst selectParentSyntax = ({ state, dispatch }) => {\n    let selection = updateSel(state.selection, range => {\n        var _a;\n        let context = syntaxTree(state).resolveInner(range.head, 1);\n        while (!((context.from < range.from && context.to >= range.to) ||\n            (context.to > range.to && context.from <= range.from) ||\n            !((_a = context.parent) === null || _a === void 0 ? void 0 : _a.parent)))\n            context = context.parent;\n        return EditorSelection.range(context.to, context.from);\n    });\n    dispatch(setSel(state, selection));\n    return true;\n};\n/**\nSimplify the current selection. When multiple ranges are selected,\nreduce it to its main range. Otherwise, if the selection is\nnon-empty, convert it to a cursor selection.\n*/\nconst simplifySelection = ({ state, dispatch }) => {\n    let cur = state.selection, selection = null;\n    if (cur.ranges.length > 1)\n        selection = EditorSelection.create([cur.main]);\n    else if (!cur.main.empty)\n        selection = EditorSelection.create([EditorSelection.cursor(cur.main.head)]);\n    if (!selection)\n        return false;\n    dispatch(setSel(state, selection));\n    return true;\n};\nfunction deleteBy({ state, dispatch }, by) {\n    if (state.readOnly)\n        return false;\n    let event = \"delete.selection\";\n    let changes = state.changeByRange(range => {\n        let { from, to } = range;\n        if (from == to) {\n            let towards = by(from);\n            if (towards < from)\n                event = \"delete.backward\";\n            else if (towards > from)\n                event = \"delete.forward\";\n            from = Math.min(from, towards);\n            to = Math.max(to, towards);\n        }\n        return from == to ? { range } : { changes: { from, to }, range: EditorSelection.cursor(from) };\n    });\n    if (changes.changes.empty)\n        return false;\n    dispatch(state.update(changes, { scrollIntoView: true, userEvent: event }));\n    return true;\n}\nfunction skipAtomic(target, pos, forward) {\n    if (target instanceof EditorView)\n        for (let ranges of target.pluginField(PluginField.atomicRanges))\n            ranges.between(pos, pos, (from, to) => {\n                if (from < pos && to > pos)\n                    pos = forward ? to : from;\n            });\n    return pos;\n}\nconst deleteByChar = (target, forward) => deleteBy(target, pos => {\n    let { state } = target, line = state.doc.lineAt(pos), before, targetPos;\n    if (!forward && pos > line.from && pos < line.from + 200 &&\n        !/[^ \\t]/.test(before = line.text.slice(0, pos - line.from))) {\n        if (before[before.length - 1] == \"\\t\")\n            return pos - 1;\n        let col = countColumn(before, state.tabSize), drop = col % getIndentUnit(state) || getIndentUnit(state);\n        for (let i = 0; i < drop && before[before.length - 1 - i] == \" \"; i++)\n            pos--;\n        targetPos = pos;\n    }\n    else {\n        targetPos = findClusterBreak(line.text, pos - line.from, forward) + line.from;\n        if (targetPos == pos && line.number != (forward ? state.doc.lines : 1))\n            targetPos += forward ? 1 : -1;\n    }\n    return skipAtomic(target, targetPos, forward);\n});\n/**\nDelete the selection, or, for cursor selections, the character\nbefore the cursor.\n*/\nconst deleteCharBackward = view => deleteByChar(view, false);\n/**\nDelete the selection or the character after the cursor.\n*/\nconst deleteCharForward = view => deleteByChar(view, true);\nconst deleteByGroup = (target, forward) => deleteBy(target, start => {\n    let pos = start, { state } = target, line = state.doc.lineAt(pos);\n    let categorize = state.charCategorizer(pos);\n    for (let cat = null;;) {\n        if (pos == (forward ? line.to : line.from)) {\n            if (pos == start && line.number != (forward ? state.doc.lines : 1))\n                pos += forward ? 1 : -1;\n            break;\n        }\n        let next = findClusterBreak(line.text, pos - line.from, forward) + line.from;\n        let nextChar = line.text.slice(Math.min(pos, next) - line.from, Math.max(pos, next) - line.from);\n        let nextCat = categorize(nextChar);\n        if (cat != null && nextCat != cat)\n            break;\n        if (nextChar != \" \" || pos != start)\n            cat = nextCat;\n        pos = next;\n    }\n    return skipAtomic(target, pos, forward);\n});\n/**\nDelete the selection or backward until the end of the next\n[group](https://codemirror.net/6/docs/ref/#view.EditorView.moveByGroup), only skipping groups of\nwhitespace when they consist of a single space.\n*/\nconst deleteGroupBackward = target => deleteByGroup(target, false);\n/**\nDelete the selection or forward until the end of the next group.\n*/\nconst deleteGroupForward = target => deleteByGroup(target, true);\n/**\nDelete the selection, or, if it is a cursor selection, delete to\nthe end of the line. If the cursor is directly at the end of the\nline, delete the line break after it.\n*/\nconst deleteToLineEnd = view => deleteBy(view, pos => {\n    let lineEnd = view.visualLineAt(pos).to;\n    return skipAtomic(view, pos < lineEnd ? lineEnd : Math.min(view.state.doc.length, pos + 1), true);\n});\n/**\nDelete the selection, or, if it is a cursor selection, delete to\nthe start of the line. If the cursor is directly at the start of the\nline, delete the line break before it.\n*/\nconst deleteToLineStart = view => deleteBy(view, pos => {\n    let lineStart = view.visualLineAt(pos).from;\n    return skipAtomic(view, pos > lineStart ? lineStart : Math.max(0, pos - 1), false);\n});\n/**\nDelete all whitespace directly before a line end from the\ndocument.\n*/\nconst deleteTrailingWhitespace = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = [];\n    for (let pos = 0, prev = \"\", iter = state.doc.iter();;) {\n        iter.next();\n        if (iter.lineBreak || iter.done) {\n            let trailing = prev.search(/\\s+$/);\n            if (trailing > -1)\n                changes.push({ from: pos - (prev.length - trailing), to: pos });\n            if (iter.done)\n                break;\n            prev = \"\";\n        }\n        else {\n            prev = iter.value;\n        }\n        pos += iter.value.length;\n    }\n    if (!changes.length)\n        return false;\n    dispatch(state.update({ changes, userEvent: \"delete\" }));\n    return true;\n};\n/**\nReplace each selection range with a line break, leaving the cursor\non the line before the break.\n*/\nconst splitLine = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = state.changeByRange(range => {\n        return { changes: { from: range.from, to: range.to, insert: Text.of([\"\", \"\"]) },\n            range: EditorSelection.cursor(range.from) };\n    });\n    dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\n/**\nFlip the characters before and after the cursor(s).\n*/\nconst transposeChars = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = state.changeByRange(range => {\n        if (!range.empty || range.from == 0 || range.from == state.doc.length)\n            return { range };\n        let pos = range.from, line = state.doc.lineAt(pos);\n        let from = pos == line.from ? pos - 1 : findClusterBreak(line.text, pos - line.from, false) + line.from;\n        let to = pos == line.to ? pos + 1 : findClusterBreak(line.text, pos - line.from, true) + line.from;\n        return { changes: { from, to, insert: state.doc.slice(pos, to).append(state.doc.slice(from, pos)) },\n            range: EditorSelection.cursor(to) };\n    });\n    if (changes.changes.empty)\n        return false;\n    dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"move.character\" }));\n    return true;\n};\nfunction selectedLineBlocks(state) {\n    let blocks = [], upto = -1;\n    for (let range of state.selection.ranges) {\n        let startLine = state.doc.lineAt(range.from), endLine = state.doc.lineAt(range.to);\n        if (!range.empty && range.to == endLine.from)\n            endLine = state.doc.lineAt(range.to - 1);\n        if (upto >= startLine.number) {\n            let prev = blocks[blocks.length - 1];\n            prev.to = endLine.to;\n            prev.ranges.push(range);\n        }\n        else {\n            blocks.push({ from: startLine.from, to: endLine.to, ranges: [range] });\n        }\n        upto = endLine.number + 1;\n    }\n    return blocks;\n}\nfunction moveLine(state, dispatch, forward) {\n    if (state.readOnly)\n        return false;\n    let changes = [], ranges = [];\n    for (let block of selectedLineBlocks(state)) {\n        if (forward ? block.to == state.doc.length : block.from == 0)\n            continue;\n        let nextLine = state.doc.lineAt(forward ? block.to + 1 : block.from - 1);\n        let size = nextLine.length + 1;\n        if (forward) {\n            changes.push({ from: block.to, to: nextLine.to }, { from: block.from, insert: nextLine.text + state.lineBreak });\n            for (let r of block.ranges)\n                ranges.push(EditorSelection.range(Math.min(state.doc.length, r.anchor + size), Math.min(state.doc.length, r.head + size)));\n        }\n        else {\n            changes.push({ from: nextLine.from, to: block.from }, { from: block.to, insert: state.lineBreak + nextLine.text });\n            for (let r of block.ranges)\n                ranges.push(EditorSelection.range(r.anchor - size, r.head - size));\n        }\n    }\n    if (!changes.length)\n        return false;\n    dispatch(state.update({\n        changes,\n        scrollIntoView: true,\n        selection: EditorSelection.create(ranges, state.selection.mainIndex),\n        userEvent: \"move.line\"\n    }));\n    return true;\n}\n/**\nMove the selected lines up one line.\n*/\nconst moveLineUp = ({ state, dispatch }) => moveLine(state, dispatch, false);\n/**\nMove the selected lines down one line.\n*/\nconst moveLineDown = ({ state, dispatch }) => moveLine(state, dispatch, true);\nfunction copyLine(state, dispatch, forward) {\n    if (state.readOnly)\n        return false;\n    let changes = [];\n    for (let block of selectedLineBlocks(state)) {\n        if (forward)\n            changes.push({ from: block.from, insert: state.doc.slice(block.from, block.to) + state.lineBreak });\n        else\n            changes.push({ from: block.to, insert: state.lineBreak + state.doc.slice(block.from, block.to) });\n    }\n    dispatch(state.update({ changes, scrollIntoView: true, userEvent: \"input.copyline\" }));\n    return true;\n}\n/**\nCreate a copy of the selected lines. Keep the selection in the top copy.\n*/\nconst copyLineUp = ({ state, dispatch }) => copyLine(state, dispatch, false);\n/**\nCreate a copy of the selected lines. Keep the selection in the bottom copy.\n*/\nconst copyLineDown = ({ state, dispatch }) => copyLine(state, dispatch, true);\n/**\nDelete selected lines.\n*/\nconst deleteLine = view => {\n    if (view.state.readOnly)\n        return false;\n    let { state } = view, changes = state.changes(selectedLineBlocks(state).map(({ from, to }) => {\n        if (from > 0)\n            from--;\n        else if (to < state.doc.length)\n            to++;\n        return { from, to };\n    }));\n    let selection = updateSel(state.selection, range => view.moveVertically(range, true)).map(changes);\n    view.dispatch({ changes, selection, scrollIntoView: true, userEvent: \"delete.line\" });\n    return true;\n};\n/**\nReplace the selection with a newline.\n*/\nconst insertNewline = ({ state, dispatch }) => {\n    dispatch(state.update(state.replaceSelection(state.lineBreak), { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\nfunction isBetweenBrackets(state, pos) {\n    if (/\\(\\)|\\[\\]|\\{\\}/.test(state.sliceDoc(pos - 1, pos + 1)))\n        return { from: pos, to: pos };\n    let context = syntaxTree(state).resolveInner(pos);\n    let before = context.childBefore(pos), after = context.childAfter(pos), closedBy;\n    if (before && after && before.to <= pos && after.from >= pos &&\n        (closedBy = before.type.prop(NodeProp.closedBy)) && closedBy.indexOf(after.name) > -1 &&\n        state.doc.lineAt(before.to).from == state.doc.lineAt(after.from).from)\n        return { from: before.to, to: after.from };\n    return null;\n}\n/**\nReplace the selection with a newline and indent the newly created\nline(s). If the current line consists only of whitespace, this\nwill also delete that whitespace. When the cursor is between\nmatching brackets, an additional newline will be inserted after\nthe cursor.\n*/\nconst insertNewlineAndIndent = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let changes = state.changeByRange(({ from, to }) => {\n        let explode = from == to && isBetweenBrackets(state, from);\n        let cx = new IndentContext(state, { simulateBreak: from, simulateDoubleBreak: !!explode });\n        let indent = getIndentation(cx, from);\n        if (indent == null)\n            indent = /^\\s*/.exec(state.doc.lineAt(from).text)[0].length;\n        let line = state.doc.lineAt(from);\n        while (to < line.to && /\\s/.test(line.text[to - line.from]))\n            to++;\n        if (explode)\n            ({ from, to } = explode);\n        else if (from > line.from && from < line.from + 100 && !/\\S/.test(line.text.slice(0, from)))\n            from = line.from;\n        let insert = [\"\", indentString(state, indent)];\n        if (explode)\n            insert.push(indentString(state, cx.lineIndent(line.from, -1)));\n        return { changes: { from, to, insert: Text.of(insert) },\n            range: EditorSelection.cursor(from + 1 + insert[1].length) };\n    });\n    dispatch(state.update(changes, { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\nfunction changeBySelectedLine(state, f) {\n    let atLine = -1;\n    return state.changeByRange(range => {\n        let changes = [];\n        for (let pos = range.from; pos <= range.to;) {\n            let line = state.doc.lineAt(pos);\n            if (line.number > atLine && (range.empty || range.to > line.from)) {\n                f(line, changes, range);\n                atLine = line.number;\n            }\n            pos = line.to + 1;\n        }\n        let changeSet = state.changes(changes);\n        return { changes,\n            range: EditorSelection.range(changeSet.mapPos(range.anchor, 1), changeSet.mapPos(range.head, 1)) };\n    });\n}\n/**\nAuto-indent the selected lines. This uses the [indentation service\nfacet](https://codemirror.net/6/docs/ref/#language.indentService) as source for auto-indent\ninformation.\n*/\nconst indentSelection = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    let updated = Object.create(null);\n    let context = new IndentContext(state, { overrideIndentation: start => {\n            let found = updated[start];\n            return found == null ? -1 : found;\n        } });\n    let changes = changeBySelectedLine(state, (line, changes, range) => {\n        let indent = getIndentation(context, line.from);\n        if (indent == null)\n            return;\n        if (!/\\S/.test(line.text))\n            indent = 0;\n        let cur = /^\\s*/.exec(line.text)[0];\n        let norm = indentString(state, indent);\n        if (cur != norm || range.from < line.from + cur.length) {\n            updated[line.from] = indent;\n            changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n        }\n    });\n    if (!changes.changes.empty)\n        dispatch(state.update(changes, { userEvent: \"indent\" }));\n    return true;\n};\n/**\nAdd a [unit](https://codemirror.net/6/docs/ref/#language.indentUnit) of indentation to all selected\nlines.\n*/\nconst indentMore = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    dispatch(state.update(changeBySelectedLine(state, (line, changes) => {\n        changes.push({ from: line.from, insert: state.facet(indentUnit) });\n    }), { userEvent: \"input.indent\" }));\n    return true;\n};\n/**\nRemove a [unit](https://codemirror.net/6/docs/ref/#language.indentUnit) of indentation from all\nselected lines.\n*/\nconst indentLess = ({ state, dispatch }) => {\n    if (state.readOnly)\n        return false;\n    dispatch(state.update(changeBySelectedLine(state, (line, changes) => {\n        let space = /^\\s*/.exec(line.text)[0];\n        if (!space)\n            return;\n        let col = countColumn(space, state.tabSize), keep = 0;\n        let insert = indentString(state, Math.max(0, col - getIndentUnit(state)));\n        while (keep < space.length && keep < insert.length && space.charCodeAt(keep) == insert.charCodeAt(keep))\n            keep++;\n        changes.push({ from: line.from + keep, to: line.from + space.length, insert: insert.slice(keep) });\n    }), { userEvent: \"delete.dedent\" }));\n    return true;\n};\n/**\nInsert a tab character at the cursor or, if something is selected,\nuse [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore) to indent the entire\nselection.\n*/\nconst insertTab = ({ state, dispatch }) => {\n    if (state.selection.ranges.some(r => !r.empty))\n        return indentMore({ state, dispatch });\n    dispatch(state.update(state.replaceSelection(\"\\t\"), { scrollIntoView: true, userEvent: \"input\" }));\n    return true;\n};\n/**\nArray of key bindings containing the Emacs-style bindings that are\navailable on macOS by default.\n\n - Ctrl-b: [`cursorCharLeft`](https://codemirror.net/6/docs/ref/#commands.cursorCharLeft) ([`selectCharLeft`](https://codemirror.net/6/docs/ref/#commands.selectCharLeft) with Shift)\n - Ctrl-f: [`cursorCharRight`](https://codemirror.net/6/docs/ref/#commands.cursorCharRight) ([`selectCharRight`](https://codemirror.net/6/docs/ref/#commands.selectCharRight) with Shift)\n - Ctrl-p: [`cursorLineUp`](https://codemirror.net/6/docs/ref/#commands.cursorLineUp) ([`selectLineUp`](https://codemirror.net/6/docs/ref/#commands.selectLineUp) with Shift)\n - Ctrl-n: [`cursorLineDown`](https://codemirror.net/6/docs/ref/#commands.cursorLineDown) ([`selectLineDown`](https://codemirror.net/6/docs/ref/#commands.selectLineDown) with Shift)\n - Ctrl-a: [`cursorLineStart`](https://codemirror.net/6/docs/ref/#commands.cursorLineStart) ([`selectLineStart`](https://codemirror.net/6/docs/ref/#commands.selectLineStart) with Shift)\n - Ctrl-e: [`cursorLineEnd`](https://codemirror.net/6/docs/ref/#commands.cursorLineEnd) ([`selectLineEnd`](https://codemirror.net/6/docs/ref/#commands.selectLineEnd) with Shift)\n - Ctrl-d: [`deleteCharForward`](https://codemirror.net/6/docs/ref/#commands.deleteCharForward)\n - Ctrl-h: [`deleteCharBackward`](https://codemirror.net/6/docs/ref/#commands.deleteCharBackward)\n - Ctrl-k: [`deleteToLineEnd`](https://codemirror.net/6/docs/ref/#commands.deleteToLineEnd)\n - Ctrl-Alt-h: [`deleteGroupBackward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupBackward)\n - Ctrl-o: [`splitLine`](https://codemirror.net/6/docs/ref/#commands.splitLine)\n - Ctrl-t: [`transposeChars`](https://codemirror.net/6/docs/ref/#commands.transposeChars)\n - Alt-<: [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart)\n - Alt->: [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd)\n - Ctrl-v: [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown)\n - Alt-v: [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp)\n*/\nconst emacsStyleKeymap = [\n    { key: \"Ctrl-b\", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },\n    { key: \"Ctrl-f\", run: cursorCharRight, shift: selectCharRight },\n    { key: \"Ctrl-p\", run: cursorLineUp, shift: selectLineUp },\n    { key: \"Ctrl-n\", run: cursorLineDown, shift: selectLineDown },\n    { key: \"Ctrl-a\", run: cursorLineStart, shift: selectLineStart },\n    { key: \"Ctrl-e\", run: cursorLineEnd, shift: selectLineEnd },\n    { key: \"Ctrl-d\", run: deleteCharForward },\n    { key: \"Ctrl-h\", run: deleteCharBackward },\n    { key: \"Ctrl-k\", run: deleteToLineEnd },\n    { key: \"Ctrl-Alt-h\", run: deleteGroupBackward },\n    { key: \"Ctrl-o\", run: splitLine },\n    { key: \"Ctrl-t\", run: transposeChars },\n    { key: \"Alt-<\", run: cursorDocStart },\n    { key: \"Alt->\", run: cursorDocEnd },\n    { key: \"Ctrl-v\", run: cursorPageDown },\n    { key: \"Alt-v\", run: cursorPageUp },\n];\n/**\nAn array of key bindings closely sticking to platform-standard or\nwidely used bindings. (This includes the bindings from\n[`emacsStyleKeymap`](https://codemirror.net/6/docs/ref/#commands.emacsStyleKeymap), with their `key`\nproperty changed to `mac`.)\n\n - ArrowLeft: [`cursorCharLeft`](https://codemirror.net/6/docs/ref/#commands.cursorCharLeft) ([`selectCharLeft`](https://codemirror.net/6/docs/ref/#commands.selectCharLeft) with Shift)\n - ArrowRight: [`cursorCharRight`](https://codemirror.net/6/docs/ref/#commands.cursorCharRight) ([`selectCharRight`](https://codemirror.net/6/docs/ref/#commands.selectCharRight) with Shift)\n - Ctrl-ArrowLeft (Alt-ArrowLeft on macOS): [`cursorGroupLeft`](https://codemirror.net/6/docs/ref/#commands.cursorGroupLeft) ([`selectGroupLeft`](https://codemirror.net/6/docs/ref/#commands.selectGroupLeft) with Shift)\n - Ctrl-ArrowRight (Alt-ArrowRight on macOS): [`cursorGroupRight`](https://codemirror.net/6/docs/ref/#commands.cursorGroupRight) ([`selectGroupRight`](https://codemirror.net/6/docs/ref/#commands.selectGroupRight) with Shift)\n - Cmd-ArrowLeft (on macOS): [`cursorLineStart`](https://codemirror.net/6/docs/ref/#commands.cursorLineStart) ([`selectLineStart`](https://codemirror.net/6/docs/ref/#commands.selectLineStart) with Shift)\n - Cmd-ArrowRight (on macOS): [`cursorLineEnd`](https://codemirror.net/6/docs/ref/#commands.cursorLineEnd) ([`selectLineEnd`](https://codemirror.net/6/docs/ref/#commands.selectLineEnd) with Shift)\n - ArrowUp: [`cursorLineUp`](https://codemirror.net/6/docs/ref/#commands.cursorLineUp) ([`selectLineUp`](https://codemirror.net/6/docs/ref/#commands.selectLineUp) with Shift)\n - ArrowDown: [`cursorLineDown`](https://codemirror.net/6/docs/ref/#commands.cursorLineDown) ([`selectLineDown`](https://codemirror.net/6/docs/ref/#commands.selectLineDown) with Shift)\n - Cmd-ArrowUp (on macOS): [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart) ([`selectDocStart`](https://codemirror.net/6/docs/ref/#commands.selectDocStart) with Shift)\n - Cmd-ArrowDown (on macOS): [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd) ([`selectDocEnd`](https://codemirror.net/6/docs/ref/#commands.selectDocEnd) with Shift)\n - Ctrl-ArrowUp (on macOS): [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp) ([`selectPageUp`](https://codemirror.net/6/docs/ref/#commands.selectPageUp) with Shift)\n - Ctrl-ArrowDown (on macOS): [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown) ([`selectPageDown`](https://codemirror.net/6/docs/ref/#commands.selectPageDown) with Shift)\n - PageUp: [`cursorPageUp`](https://codemirror.net/6/docs/ref/#commands.cursorPageUp) ([`selectPageUp`](https://codemirror.net/6/docs/ref/#commands.selectPageUp) with Shift)\n - PageDown: [`cursorPageDown`](https://codemirror.net/6/docs/ref/#commands.cursorPageDown) ([`selectPageDown`](https://codemirror.net/6/docs/ref/#commands.selectPageDown) with Shift)\n - Home: [`cursorLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.cursorLineBoundaryBackward) ([`selectLineBoundaryBackward`](https://codemirror.net/6/docs/ref/#commands.selectLineBoundaryBackward) with Shift)\n - End: [`cursorLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.cursorLineBoundaryForward) ([`selectLineBoundaryForward`](https://codemirror.net/6/docs/ref/#commands.selectLineBoundaryForward) with Shift)\n - Ctrl-Home (Cmd-Home on macOS): [`cursorDocStart`](https://codemirror.net/6/docs/ref/#commands.cursorDocStart) ([`selectDocStart`](https://codemirror.net/6/docs/ref/#commands.selectDocStart) with Shift)\n - Ctrl-End (Cmd-Home on macOS): [`cursorDocEnd`](https://codemirror.net/6/docs/ref/#commands.cursorDocEnd) ([`selectDocEnd`](https://codemirror.net/6/docs/ref/#commands.selectDocEnd) with Shift)\n - Enter: [`insertNewlineAndIndent`](https://codemirror.net/6/docs/ref/#commands.insertNewlineAndIndent)\n - Ctrl-a (Cmd-a on macOS): [`selectAll`](https://codemirror.net/6/docs/ref/#commands.selectAll)\n - Backspace: [`deleteCharBackward`](https://codemirror.net/6/docs/ref/#commands.deleteCharBackward)\n - Delete: [`deleteCharForward`](https://codemirror.net/6/docs/ref/#commands.deleteCharForward)\n - Ctrl-Backspace (Alt-Backspace on macOS): [`deleteGroupBackward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupBackward)\n - Ctrl-Delete (Alt-Delete on macOS): [`deleteGroupForward`](https://codemirror.net/6/docs/ref/#commands.deleteGroupForward)\n - Cmd-Backspace (macOS): [`deleteToLineStart`](https://codemirror.net/6/docs/ref/#commands.deleteToLineStart).\n - Cmd-Delete (macOS): [`deleteToLineEnd`](https://codemirror.net/6/docs/ref/#commands.deleteToLineEnd).\n*/\nconst standardKeymap = /*@__PURE__*/[\n    { key: \"ArrowLeft\", run: cursorCharLeft, shift: selectCharLeft, preventDefault: true },\n    { key: \"Mod-ArrowLeft\", mac: \"Alt-ArrowLeft\", run: cursorGroupLeft, shift: selectGroupLeft },\n    { mac: \"Cmd-ArrowLeft\", run: cursorLineBoundaryBackward, shift: selectLineBoundaryBackward },\n    { key: \"ArrowRight\", run: cursorCharRight, shift: selectCharRight, preventDefault: true },\n    { key: \"Mod-ArrowRight\", mac: \"Alt-ArrowRight\", run: cursorGroupRight, shift: selectGroupRight },\n    { mac: \"Cmd-ArrowRight\", run: cursorLineBoundaryForward, shift: selectLineBoundaryForward },\n    { key: \"ArrowUp\", run: cursorLineUp, shift: selectLineUp, preventDefault: true },\n    { mac: \"Cmd-ArrowUp\", run: cursorDocStart, shift: selectDocStart },\n    { mac: \"Ctrl-ArrowUp\", run: cursorPageUp, shift: selectPageUp },\n    { key: \"ArrowDown\", run: cursorLineDown, shift: selectLineDown, preventDefault: true },\n    { mac: \"Cmd-ArrowDown\", run: cursorDocEnd, shift: selectDocEnd },\n    { mac: \"Ctrl-ArrowDown\", run: cursorPageDown, shift: selectPageDown },\n    { key: \"PageUp\", run: cursorPageUp, shift: selectPageUp },\n    { key: \"PageDown\", run: cursorPageDown, shift: selectPageDown },\n    { key: \"Home\", run: cursorLineBoundaryBackward, shift: selectLineBoundaryBackward },\n    { key: \"Mod-Home\", run: cursorDocStart, shift: selectDocStart },\n    { key: \"End\", run: cursorLineBoundaryForward, shift: selectLineBoundaryForward },\n    { key: \"Mod-End\", run: cursorDocEnd, shift: selectDocEnd },\n    { key: \"Enter\", run: insertNewlineAndIndent },\n    { key: \"Mod-a\", run: selectAll },\n    { key: \"Backspace\", run: deleteCharBackward, shift: deleteCharBackward },\n    { key: \"Delete\", run: deleteCharForward, shift: deleteCharForward },\n    { key: \"Mod-Backspace\", mac: \"Alt-Backspace\", run: deleteGroupBackward },\n    { key: \"Mod-Delete\", mac: \"Alt-Delete\", run: deleteGroupForward },\n    { mac: \"Mod-Backspace\", run: deleteToLineStart },\n    { mac: \"Mod-Delete\", run: deleteToLineEnd }\n].concat(/*@__PURE__*/emacsStyleKeymap.map(b => ({ mac: b.key, run: b.run, shift: b.shift })));\n/**\nThe default keymap. Includes all bindings from\n[`standardKeymap`](https://codemirror.net/6/docs/ref/#commands.standardKeymap) plus the following:\n\n- Alt-ArrowLeft (Ctrl-ArrowLeft on macOS): [`cursorSyntaxLeft`](https://codemirror.net/6/docs/ref/#commands.cursorSyntaxLeft) ([`selectSyntaxLeft`](https://codemirror.net/6/docs/ref/#commands.selectSyntaxLeft) with Shift)\n- Alt-ArrowRight (Ctrl-ArrowRight on macOS): [`cursorSyntaxRight`](https://codemirror.net/6/docs/ref/#commands.cursorSyntaxRight) ([`selectSyntaxRight`](https://codemirror.net/6/docs/ref/#commands.selectSyntaxRight) with Shift)\n- Alt-ArrowUp: [`moveLineUp`](https://codemirror.net/6/docs/ref/#commands.moveLineUp)\n- Alt-ArrowDown: [`moveLineDown`](https://codemirror.net/6/docs/ref/#commands.moveLineDown)\n- Shift-Alt-ArrowUp: [`copyLineUp`](https://codemirror.net/6/docs/ref/#commands.copyLineUp)\n- Shift-Alt-ArrowDown: [`copyLineDown`](https://codemirror.net/6/docs/ref/#commands.copyLineDown)\n- Escape: [`simplifySelection`](https://codemirror.net/6/docs/ref/#commands.simplifySelection)\n- Alt-l (Ctrl-l on macOS): [`selectLine`](https://codemirror.net/6/docs/ref/#commands.selectLine)\n- Ctrl-i (Cmd-i on macOS): [`selectParentSyntax`](https://codemirror.net/6/docs/ref/#commands.selectParentSyntax)\n- Ctrl-[ (Cmd-[ on macOS): [`indentLess`](https://codemirror.net/6/docs/ref/#commands.indentLess)\n- Ctrl-] (Cmd-] on macOS): [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore)\n- Ctrl-Alt-\\\\ (Cmd-Alt-\\\\ on macOS): [`indentSelection`](https://codemirror.net/6/docs/ref/#commands.indentSelection)\n- Shift-Ctrl-k (Shift-Cmd-k on macOS): [`deleteLine`](https://codemirror.net/6/docs/ref/#commands.deleteLine)\n- Shift-Ctrl-\\\\ (Shift-Cmd-\\\\ on macOS): [`cursorMatchingBracket`](https://codemirror.net/6/docs/ref/#commands.cursorMatchingBracket)\n*/\nconst defaultKeymap = /*@__PURE__*/[\n    { key: \"Alt-ArrowLeft\", mac: \"Ctrl-ArrowLeft\", run: cursorSyntaxLeft, shift: selectSyntaxLeft },\n    { key: \"Alt-ArrowRight\", mac: \"Ctrl-ArrowRight\", run: cursorSyntaxRight, shift: selectSyntaxRight },\n    { key: \"Alt-ArrowUp\", run: moveLineUp },\n    { key: \"Shift-Alt-ArrowUp\", run: copyLineUp },\n    { key: \"Alt-ArrowDown\", run: moveLineDown },\n    { key: \"Shift-Alt-ArrowDown\", run: copyLineDown },\n    { key: \"Escape\", run: simplifySelection },\n    { key: \"Alt-l\", mac: \"Ctrl-l\", run: selectLine },\n    { key: \"Mod-i\", run: selectParentSyntax, preventDefault: true },\n    { key: \"Mod-[\", run: indentLess },\n    { key: \"Mod-]\", run: indentMore },\n    { key: \"Mod-Alt-\\\\\", run: indentSelection },\n    { key: \"Shift-Mod-k\", run: deleteLine },\n    { key: \"Shift-Mod-\\\\\", run: cursorMatchingBracket }\n].concat(standardKeymap);\n/**\nA binding that binds Tab to [`indentMore`](https://codemirror.net/6/docs/ref/#commands.indentMore) and\nShift-Tab to [`indentLess`](https://codemirror.net/6/docs/ref/#commands.indentLess).\nPlease see the [Tab example](../../examples/tab/) before using\nthis.\n*/\nconst indentWithTab = { key: \"Tab\", run: indentMore, shift: indentLess };\n\nexport { copyLineDown, copyLineUp, cursorCharBackward, cursorCharForward, cursorCharLeft, cursorCharRight, cursorDocEnd, cursorDocStart, cursorGroupBackward, cursorGroupForward, cursorGroupLeft, cursorGroupRight, cursorLineBoundaryBackward, cursorLineBoundaryForward, cursorLineDown, cursorLineEnd, cursorLineStart, cursorLineUp, cursorMatchingBracket, cursorPageDown, cursorPageUp, cursorSubwordBackward, cursorSubwordForward, cursorSyntaxLeft, cursorSyntaxRight, defaultKeymap, deleteCharBackward, deleteCharForward, deleteGroupBackward, deleteGroupForward, deleteLine, deleteToLineEnd, deleteToLineStart, deleteTrailingWhitespace, emacsStyleKeymap, indentLess, indentMore, indentSelection, indentWithTab, insertNewline, insertNewlineAndIndent, insertTab, moveLineDown, moveLineUp, selectAll, selectCharBackward, selectCharForward, selectCharLeft, selectCharRight, selectDocEnd, selectDocStart, selectGroupBackward, selectGroupForward, selectGroupLeft, selectGroupRight, selectLine, selectLineBoundaryBackward, selectLineBoundaryForward, selectLineDown, selectLineEnd, selectLineStart, selectLineUp, selectMatchingBracket, selectPageDown, selectPageUp, selectParentSyntax, selectSubwordBackward, selectSubwordForward, selectSyntaxLeft, selectSyntaxRight, simplifySelection, splitLine, standardKeymap, transposeChars };\n","export * from './codemirror.component';\nexport * from './codemirror.module';\n\n","import { Parser, NodeSet, NodeType, DefaultBufferLength, NodeProp, Tree } from '@lezer/common';\n\n/// A parse stack. These are used internally by the parser to track\n/// parsing progress. They also provide some properties and methods\n/// that external code such as a tokenizer can use to get information\n/// about the parse state.\nclass Stack {\n    /// @internal\n    constructor(\n    /// The parse that this stack is part of @internal\n    p, \n    /// Holds state, pos, value stack pos (15 bits array index, 15 bits\n    /// buffer index) triplets for all but the top state\n    /// @internal\n    stack, \n    /// The current parse state @internal\n    state, \n    // The position at which the next reduce should take place. This\n    // can be less than `this.pos` when skipped expressions have been\n    // added to the stack (which should be moved outside of the next\n    // reduction)\n    /// @internal\n    reducePos, \n    /// The input position up to which this stack has parsed.\n    pos, \n    /// The dynamic score of the stack, including dynamic precedence\n    /// and error-recovery penalties\n    /// @internal\n    score, \n    // The output buffer. Holds (type, start, end, size) quads\n    // representing nodes created by the parser, where `size` is\n    // amount of buffer array entries covered by this node.\n    /// @internal\n    buffer, \n    // The base offset of the buffer. When stacks are split, the split\n    // instance shared the buffer history with its parent up to\n    // `bufferBase`, which is the absolute offset (including the\n    // offset of previous splits) into the buffer at which this stack\n    // starts writing.\n    /// @internal\n    bufferBase, \n    /// @internal\n    curContext, \n    /// @internal\n    lookAhead = 0, \n    // A parent stack from which this was split off, if any. This is\n    // set up so that it always points to a stack that has some\n    // additional buffer content, never to a stack with an equal\n    // `bufferBase`.\n    /// @internal\n    parent) {\n        this.p = p;\n        this.stack = stack;\n        this.state = state;\n        this.reducePos = reducePos;\n        this.pos = pos;\n        this.score = score;\n        this.buffer = buffer;\n        this.bufferBase = bufferBase;\n        this.curContext = curContext;\n        this.lookAhead = lookAhead;\n        this.parent = parent;\n    }\n    /// @internal\n    toString() {\n        return `[${this.stack.filter((_, i) => i % 3 == 0).concat(this.state)}]@${this.pos}${this.score ? \"!\" + this.score : \"\"}`;\n    }\n    // Start an empty stack\n    /// @internal\n    static start(p, state, pos = 0) {\n        let cx = p.parser.context;\n        return new Stack(p, [], state, pos, pos, 0, [], 0, cx ? new StackContext(cx, cx.start) : null, 0, null);\n    }\n    /// The stack's current [context](#lr.ContextTracker) value, if\n    /// any. Its type will depend on the context tracker's type\n    /// parameter, or it will be `null` if there is no context\n    /// tracker.\n    get context() { return this.curContext ? this.curContext.context : null; }\n    // Push a state onto the stack, tracking its start position as well\n    // as the buffer base at that point.\n    /// @internal\n    pushState(state, start) {\n        this.stack.push(this.state, start, this.bufferBase + this.buffer.length);\n        this.state = state;\n    }\n    // Apply a reduce action\n    /// @internal\n    reduce(action) {\n        let depth = action >> 19 /* ReduceDepthShift */, type = action & 65535 /* ValueMask */;\n        let { parser } = this.p;\n        let dPrec = parser.dynamicPrecedence(type);\n        if (dPrec)\n            this.score += dPrec;\n        if (depth == 0) {\n            // Zero-depth reductions are a special casethey add stuff to\n            // the stack without popping anything off.\n            if (type < parser.minRepeatTerm)\n                this.storeNode(type, this.reducePos, this.reducePos, 4, true);\n            this.pushState(parser.getGoto(this.state, type, true), this.reducePos);\n            this.reduceContext(type, this.reducePos);\n            return;\n        }\n        // Find the base index into `this.stack`, content after which will\n        // be dropped. Note that with `StayFlag` reductions we need to\n        // consume two extra frames (the dummy parent node for the skipped\n        // expression and the state that we'll be staying in, which should\n        // be moved to `this.state`).\n        let base = this.stack.length - ((depth - 1) * 3) - (action & 262144 /* StayFlag */ ? 6 : 0);\n        let start = this.stack[base - 2];\n        let bufferBase = this.stack[base - 1], count = this.bufferBase + this.buffer.length - bufferBase;\n        // Store normal terms or `R -> R R` repeat reductions\n        if (type < parser.minRepeatTerm || (action & 131072 /* RepeatFlag */)) {\n            let pos = parser.stateFlag(this.state, 1 /* Skipped */) ? this.pos : this.reducePos;\n            this.storeNode(type, start, pos, count + 4, true);\n        }\n        if (action & 262144 /* StayFlag */) {\n            this.state = this.stack[base];\n        }\n        else {\n            let baseStateID = this.stack[base - 3];\n            this.state = parser.getGoto(baseStateID, type, true);\n        }\n        while (this.stack.length > base)\n            this.stack.pop();\n        this.reduceContext(type, start);\n    }\n    // Shift a value into the buffer\n    /// @internal\n    storeNode(term, start, end, size = 4, isReduce = false) {\n        if (term == 0 /* Err */) { // Try to omit/merge adjacent error nodes\n            let cur = this, top = this.buffer.length;\n            if (top == 0 && cur.parent) {\n                top = cur.bufferBase - cur.parent.bufferBase;\n                cur = cur.parent;\n            }\n            if (top > 0 && cur.buffer[top - 4] == 0 /* Err */ && cur.buffer[top - 1] > -1) {\n                if (start == end)\n                    return;\n                if (cur.buffer[top - 2] >= start) {\n                    cur.buffer[top - 2] = end;\n                    return;\n                }\n            }\n        }\n        if (!isReduce || this.pos == end) { // Simple case, just append\n            this.buffer.push(term, start, end, size);\n        }\n        else { // There may be skipped nodes that have to be moved forward\n            let index = this.buffer.length;\n            if (index > 0 && this.buffer[index - 4] != 0 /* Err */)\n                while (index > 0 && this.buffer[index - 2] > end) {\n                    // Move this record forward\n                    this.buffer[index] = this.buffer[index - 4];\n                    this.buffer[index + 1] = this.buffer[index - 3];\n                    this.buffer[index + 2] = this.buffer[index - 2];\n                    this.buffer[index + 3] = this.buffer[index - 1];\n                    index -= 4;\n                    if (size > 4)\n                        size -= 4;\n                }\n            this.buffer[index] = term;\n            this.buffer[index + 1] = start;\n            this.buffer[index + 2] = end;\n            this.buffer[index + 3] = size;\n        }\n    }\n    // Apply a shift action\n    /// @internal\n    shift(action, next, nextEnd) {\n        let start = this.pos;\n        if (action & 131072 /* GotoFlag */) {\n            this.pushState(action & 65535 /* ValueMask */, this.pos);\n        }\n        else if ((action & 262144 /* StayFlag */) == 0) { // Regular shift\n            let nextState = action, { parser } = this.p;\n            if (nextEnd > this.pos || next <= parser.maxNode) {\n                this.pos = nextEnd;\n                if (!parser.stateFlag(nextState, 1 /* Skipped */))\n                    this.reducePos = nextEnd;\n            }\n            this.pushState(nextState, start);\n            this.shiftContext(next, start);\n            if (next <= parser.maxNode)\n                this.buffer.push(next, start, nextEnd, 4);\n        }\n        else { // Shift-and-stay, which means this is a skipped token\n            this.pos = nextEnd;\n            this.shiftContext(next, start);\n            if (next <= this.p.parser.maxNode)\n                this.buffer.push(next, start, nextEnd, 4);\n        }\n    }\n    // Apply an action\n    /// @internal\n    apply(action, next, nextEnd) {\n        if (action & 65536 /* ReduceFlag */)\n            this.reduce(action);\n        else\n            this.shift(action, next, nextEnd);\n    }\n    // Add a prebuilt (reused) node into the buffer. @internal\n    useNode(value, next) {\n        let index = this.p.reused.length - 1;\n        if (index < 0 || this.p.reused[index] != value) {\n            this.p.reused.push(value);\n            index++;\n        }\n        let start = this.pos;\n        this.reducePos = this.pos = start + value.length;\n        this.pushState(next, start);\n        this.buffer.push(index, start, this.reducePos, -1 /* size == -1 means this is a reused value */);\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.reuse(this.curContext.context, value, this, this.p.stream.reset(this.pos - value.length)));\n    }\n    // Split the stack. Due to the buffer sharing and the fact\n    // that `this.stack` tends to stay quite shallow, this isn't very\n    // expensive.\n    /// @internal\n    split() {\n        let parent = this;\n        let off = parent.buffer.length;\n        // Because the top of the buffer (after this.pos) may be mutated\n        // to reorder reductions and skipped tokens, and shared buffers\n        // should be immutable, this copies any outstanding skipped tokens\n        // to the new buffer, and puts the base pointer before them.\n        while (off > 0 && parent.buffer[off - 2] > parent.reducePos)\n            off -= 4;\n        let buffer = parent.buffer.slice(off), base = parent.bufferBase + off;\n        // Make sure parent points to an actual parent with content, if there is such a parent.\n        while (parent && base == parent.bufferBase)\n            parent = parent.parent;\n        return new Stack(this.p, this.stack.slice(), this.state, this.reducePos, this.pos, this.score, buffer, base, this.curContext, this.lookAhead, parent);\n    }\n    // Try to recover from an error by 'deleting' (ignoring) one token.\n    /// @internal\n    recoverByDelete(next, nextEnd) {\n        let isNode = next <= this.p.parser.maxNode;\n        if (isNode)\n            this.storeNode(next, this.pos, nextEnd, 4);\n        this.storeNode(0 /* Err */, this.pos, nextEnd, isNode ? 8 : 4);\n        this.pos = this.reducePos = nextEnd;\n        this.score -= 190 /* Delete */;\n    }\n    /// Check if the given term would be able to be shifted (optionally\n    /// after some reductions) on this stack. This can be useful for\n    /// external tokenizers that want to make sure they only provide a\n    /// given token when it applies.\n    canShift(term) {\n        for (let sim = new SimulatedStack(this);;) {\n            let action = this.p.parser.stateSlot(sim.state, 4 /* DefaultReduce */) || this.p.parser.hasAction(sim.state, term);\n            if ((action & 65536 /* ReduceFlag */) == 0)\n                return true;\n            if (action == 0)\n                return false;\n            sim.reduce(action);\n        }\n    }\n    // Apply up to Recover.MaxNext recovery actions that conceptually\n    // inserts some missing token or rule.\n    /// @internal\n    recoverByInsert(next) {\n        if (this.stack.length >= 300 /* MaxInsertStackDepth */)\n            return [];\n        let nextStates = this.p.parser.nextStates(this.state);\n        if (nextStates.length > 4 /* MaxNext */ << 1 || this.stack.length >= 120 /* DampenInsertStackDepth */) {\n            let best = [];\n            for (let i = 0, s; i < nextStates.length; i += 2) {\n                if ((s = nextStates[i + 1]) != this.state && this.p.parser.hasAction(s, next))\n                    best.push(nextStates[i], s);\n            }\n            if (this.stack.length < 120 /* DampenInsertStackDepth */)\n                for (let i = 0; best.length < 4 /* MaxNext */ << 1 && i < nextStates.length; i += 2) {\n                    let s = nextStates[i + 1];\n                    if (!best.some((v, i) => (i & 1) && v == s))\n                        best.push(nextStates[i], s);\n                }\n            nextStates = best;\n        }\n        let result = [];\n        for (let i = 0; i < nextStates.length && result.length < 4 /* MaxNext */; i += 2) {\n            let s = nextStates[i + 1];\n            if (s == this.state)\n                continue;\n            let stack = this.split();\n            stack.storeNode(0 /* Err */, stack.pos, stack.pos, 4, true);\n            stack.pushState(s, this.pos);\n            stack.shiftContext(nextStates[i], this.pos);\n            stack.score -= 200 /* Insert */;\n            result.push(stack);\n        }\n        return result;\n    }\n    // Force a reduce, if possible. Return false if that can't\n    // be done.\n    /// @internal\n    forceReduce() {\n        let reduce = this.p.parser.stateSlot(this.state, 5 /* ForcedReduce */);\n        if ((reduce & 65536 /* ReduceFlag */) == 0)\n            return false;\n        if (!this.p.parser.validAction(this.state, reduce)) {\n            this.storeNode(0 /* Err */, this.reducePos, this.reducePos, 4, true);\n            this.score -= 100 /* Reduce */;\n        }\n        this.reduce(reduce);\n        return true;\n    }\n    /// @internal\n    forceAll() {\n        while (!this.p.parser.stateFlag(this.state, 2 /* Accepting */) && this.forceReduce()) { }\n        return this;\n    }\n    /// Check whether this state has no further actions (assumed to be a direct descendant of the\n    /// top state, since any other states must be able to continue\n    /// somehow). @internal\n    get deadEnd() {\n        if (this.stack.length != 3)\n            return false;\n        let { parser } = this.p;\n        return parser.data[parser.stateSlot(this.state, 1 /* Actions */)] == 65535 /* End */ &&\n            !parser.stateSlot(this.state, 4 /* DefaultReduce */);\n    }\n    /// Restart the stack (put it back in its start state). Only safe\n    /// when this.stack.length == 3 (state is directly below the top\n    /// state). @internal\n    restart() {\n        this.state = this.stack[0];\n        this.stack.length = 0;\n    }\n    /// @internal\n    sameState(other) {\n        if (this.state != other.state || this.stack.length != other.stack.length)\n            return false;\n        for (let i = 0; i < this.stack.length; i += 3)\n            if (this.stack[i] != other.stack[i])\n                return false;\n        return true;\n    }\n    /// Get the parser used by this stack.\n    get parser() { return this.p.parser; }\n    /// Test whether a given dialect (by numeric ID, as exported from\n    /// the terms file) is enabled.\n    dialectEnabled(dialectID) { return this.p.parser.dialect.flags[dialectID]; }\n    shiftContext(term, start) {\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.shift(this.curContext.context, term, this, this.p.stream.reset(start)));\n    }\n    reduceContext(term, start) {\n        if (this.curContext)\n            this.updateContext(this.curContext.tracker.reduce(this.curContext.context, term, this, this.p.stream.reset(start)));\n    }\n    /// @internal\n    emitContext() {\n        let last = this.buffer.length - 1;\n        if (last < 0 || this.buffer[last] != -3)\n            this.buffer.push(this.curContext.hash, this.reducePos, this.reducePos, -3);\n    }\n    /// @internal\n    emitLookAhead() {\n        let last = this.buffer.length - 1;\n        if (last < 0 || this.buffer[last] != -4)\n            this.buffer.push(this.lookAhead, this.reducePos, this.reducePos, -4);\n    }\n    updateContext(context) {\n        if (context != this.curContext.context) {\n            let newCx = new StackContext(this.curContext.tracker, context);\n            if (newCx.hash != this.curContext.hash)\n                this.emitContext();\n            this.curContext = newCx;\n        }\n    }\n    /// @internal\n    setLookAhead(lookAhead) {\n        if (lookAhead > this.lookAhead) {\n            this.emitLookAhead();\n            this.lookAhead = lookAhead;\n        }\n    }\n    /// @internal\n    close() {\n        if (this.curContext && this.curContext.tracker.strict)\n            this.emitContext();\n        if (this.lookAhead > 0)\n            this.emitLookAhead();\n    }\n}\nclass StackContext {\n    constructor(tracker, context) {\n        this.tracker = tracker;\n        this.context = context;\n        this.hash = tracker.strict ? tracker.hash(context) : 0;\n    }\n}\nvar Recover;\n(function (Recover) {\n    Recover[Recover[\"Insert\"] = 200] = \"Insert\";\n    Recover[Recover[\"Delete\"] = 190] = \"Delete\";\n    Recover[Recover[\"Reduce\"] = 100] = \"Reduce\";\n    Recover[Recover[\"MaxNext\"] = 4] = \"MaxNext\";\n    Recover[Recover[\"MaxInsertStackDepth\"] = 300] = \"MaxInsertStackDepth\";\n    Recover[Recover[\"DampenInsertStackDepth\"] = 120] = \"DampenInsertStackDepth\";\n})(Recover || (Recover = {}));\n// Used to cheaply run some reductions to scan ahead without mutating\n// an entire stack\nclass SimulatedStack {\n    constructor(start) {\n        this.start = start;\n        this.state = start.state;\n        this.stack = start.stack;\n        this.base = this.stack.length;\n    }\n    reduce(action) {\n        let term = action & 65535 /* ValueMask */, depth = action >> 19 /* ReduceDepthShift */;\n        if (depth == 0) {\n            if (this.stack == this.start.stack)\n                this.stack = this.stack.slice();\n            this.stack.push(this.state, 0, 0);\n            this.base += 3;\n        }\n        else {\n            this.base -= (depth - 1) * 3;\n        }\n        let goto = this.start.p.parser.getGoto(this.stack[this.base - 3], term, true);\n        this.state = goto;\n    }\n}\n// This is given to `Tree.build` to build a buffer, and encapsulates\n// the parent-stack-walking necessary to read the nodes.\nclass StackBufferCursor {\n    constructor(stack, pos, index) {\n        this.stack = stack;\n        this.pos = pos;\n        this.index = index;\n        this.buffer = stack.buffer;\n        if (this.index == 0)\n            this.maybeNext();\n    }\n    static create(stack, pos = stack.bufferBase + stack.buffer.length) {\n        return new StackBufferCursor(stack, pos, pos - stack.bufferBase);\n    }\n    maybeNext() {\n        let next = this.stack.parent;\n        if (next != null) {\n            this.index = this.stack.bufferBase - next.bufferBase;\n            this.stack = next;\n            this.buffer = next.buffer;\n        }\n    }\n    get id() { return this.buffer[this.index - 4]; }\n    get start() { return this.buffer[this.index - 3]; }\n    get end() { return this.buffer[this.index - 2]; }\n    get size() { return this.buffer[this.index - 1]; }\n    next() {\n        this.index -= 4;\n        this.pos -= 4;\n        if (this.index == 0)\n            this.maybeNext();\n    }\n    fork() {\n        return new StackBufferCursor(this.stack, this.pos, this.index);\n    }\n}\n\nclass CachedToken {\n    constructor() {\n        this.start = -1;\n        this.value = -1;\n        this.end = -1;\n        this.extended = -1;\n        this.lookAhead = 0;\n        this.mask = 0;\n        this.context = 0;\n    }\n}\nconst nullToken = new CachedToken;\n/// [Tokenizers](#lr.ExternalTokenizer) interact with the input\n/// through this interface. It presents the input as a stream of\n/// characters, tracking lookahead and hiding the complexity of\n/// [ranges](#common.Parser.parse^ranges) from tokenizer code.\nclass InputStream {\n    /// @internal\n    constructor(\n    /// @internal\n    input, \n    /// @internal\n    ranges) {\n        this.input = input;\n        this.ranges = ranges;\n        /// @internal\n        this.chunk = \"\";\n        /// @internal\n        this.chunkOff = 0;\n        /// Backup chunk\n        this.chunk2 = \"\";\n        this.chunk2Pos = 0;\n        /// The character code of the next code unit in the input, or -1\n        /// when the stream is at the end of the input.\n        this.next = -1;\n        /// @internal\n        this.token = nullToken;\n        this.rangeIndex = 0;\n        this.pos = this.chunkPos = ranges[0].from;\n        this.range = ranges[0];\n        this.end = ranges[ranges.length - 1].to;\n        this.readNext();\n    }\n    resolveOffset(offset, assoc) {\n        let range = this.range, index = this.rangeIndex;\n        let pos = this.pos + offset;\n        while (pos < range.from) {\n            if (!index)\n                return null;\n            let next = this.ranges[--index];\n            pos -= range.from - next.to;\n            range = next;\n        }\n        while (assoc < 0 ? pos > range.to : pos >= range.to) {\n            if (index == this.ranges.length - 1)\n                return null;\n            let next = this.ranges[++index];\n            pos += next.from - range.to;\n            range = next;\n        }\n        return pos;\n    }\n    /// Look at a code unit near the stream position. `.peek(0)` equals\n    /// `.next`, `.peek(-1)` gives you the previous character, and so\n    /// on.\n    ///\n    /// Note that looking around during tokenizing creates dependencies\n    /// on potentially far-away content, which may reduce the\n    /// effectiveness incremental parsingwhen looking forwardor even\n    /// cause invalid reparses when looking backward more than 25 code\n    /// units, since the library does not track lookbehind.\n    peek(offset) {\n        let idx = this.chunkOff + offset, pos, result;\n        if (idx >= 0 && idx < this.chunk.length) {\n            pos = this.pos + offset;\n            result = this.chunk.charCodeAt(idx);\n        }\n        else {\n            let resolved = this.resolveOffset(offset, 1);\n            if (resolved == null)\n                return -1;\n            pos = resolved;\n            if (pos >= this.chunk2Pos && pos < this.chunk2Pos + this.chunk2.length) {\n                result = this.chunk2.charCodeAt(pos - this.chunk2Pos);\n            }\n            else {\n                let i = this.rangeIndex, range = this.range;\n                while (range.to <= pos)\n                    range = this.ranges[++i];\n                this.chunk2 = this.input.chunk(this.chunk2Pos = pos);\n                if (pos + this.chunk2.length > range.to)\n                    this.chunk2 = this.chunk2.slice(0, range.to - pos);\n                result = this.chunk2.charCodeAt(0);\n            }\n        }\n        if (pos > this.token.lookAhead)\n            this.token.lookAhead = pos;\n        return result;\n    }\n    /// Accept a token. By default, the end of the token is set to the\n    /// current stream position, but you can pass an offset (relative to\n    /// the stream position) to change that.\n    acceptToken(token, endOffset = 0) {\n        let end = endOffset ? this.resolveOffset(endOffset, -1) : this.pos;\n        if (end == null || end < this.token.start)\n            throw new RangeError(\"Token end out of bounds\");\n        this.token.value = token;\n        this.token.end = end;\n    }\n    getChunk() {\n        if (this.pos >= this.chunk2Pos && this.pos < this.chunk2Pos + this.chunk2.length) {\n            let { chunk, chunkPos } = this;\n            this.chunk = this.chunk2;\n            this.chunkPos = this.chunk2Pos;\n            this.chunk2 = chunk;\n            this.chunk2Pos = chunkPos;\n            this.chunkOff = this.pos - this.chunkPos;\n        }\n        else {\n            this.chunk2 = this.chunk;\n            this.chunk2Pos = this.chunkPos;\n            let nextChunk = this.input.chunk(this.pos);\n            let end = this.pos + nextChunk.length;\n            this.chunk = end > this.range.to ? nextChunk.slice(0, this.range.to - this.pos) : nextChunk;\n            this.chunkPos = this.pos;\n            this.chunkOff = 0;\n        }\n    }\n    readNext() {\n        if (this.chunkOff >= this.chunk.length) {\n            this.getChunk();\n            if (this.chunkOff == this.chunk.length)\n                return this.next = -1;\n        }\n        return this.next = this.chunk.charCodeAt(this.chunkOff);\n    }\n    /// Move the stream forward N (defaults to 1) code units. Returns\n    /// the new value of [`next`](#lr.InputStream.next).\n    advance(n = 1) {\n        this.chunkOff += n;\n        while (this.pos + n >= this.range.to) {\n            if (this.rangeIndex == this.ranges.length - 1)\n                return this.setDone();\n            n -= this.range.to - this.pos;\n            this.range = this.ranges[++this.rangeIndex];\n            this.pos = this.range.from;\n        }\n        this.pos += n;\n        if (this.pos > this.token.lookAhead)\n            this.token.lookAhead = this.pos;\n        return this.readNext();\n    }\n    setDone() {\n        this.pos = this.chunkPos = this.end;\n        this.range = this.ranges[this.rangeIndex = this.ranges.length - 1];\n        this.chunk = \"\";\n        return this.next = -1;\n    }\n    /// @internal\n    reset(pos, token) {\n        if (token) {\n            this.token = token;\n            token.start = token.lookAhead = pos;\n            token.value = token.extended = -1;\n        }\n        else {\n            this.token = nullToken;\n        }\n        if (this.pos != pos) {\n            this.pos = pos;\n            if (pos == this.end) {\n                this.setDone();\n                return this;\n            }\n            while (pos < this.range.from)\n                this.range = this.ranges[--this.rangeIndex];\n            while (pos >= this.range.to)\n                this.range = this.ranges[++this.rangeIndex];\n            if (pos >= this.chunkPos && pos < this.chunkPos + this.chunk.length) {\n                this.chunkOff = pos - this.chunkPos;\n            }\n            else {\n                this.chunk = \"\";\n                this.chunkOff = 0;\n            }\n            this.readNext();\n        }\n        return this;\n    }\n    /// @internal\n    read(from, to) {\n        if (from >= this.chunkPos && to <= this.chunkPos + this.chunk.length)\n            return this.chunk.slice(from - this.chunkPos, to - this.chunkPos);\n        if (from >= this.range.from && to <= this.range.to)\n            return this.input.read(from, to);\n        let result = \"\";\n        for (let r of this.ranges) {\n            if (r.from >= to)\n                break;\n            if (r.to > from)\n                result += this.input.read(Math.max(r.from, from), Math.min(r.to, to));\n        }\n        return result;\n    }\n}\n/// @internal\nclass TokenGroup {\n    constructor(data, id) {\n        this.data = data;\n        this.id = id;\n    }\n    token(input, stack) { readToken(this.data, input, stack, this.id); }\n}\nTokenGroup.prototype.contextual = TokenGroup.prototype.fallback = TokenGroup.prototype.extend = false;\n/// `@external tokens` declarations in the grammar should resolve to\n/// an instance of this class.\nclass ExternalTokenizer {\n    /// Create a tokenizer. The first argument is the function that,\n    /// given an input stream, scans for the types of tokens it\n    /// recognizes at the stream's position, and calls\n    /// [`acceptToken`](#lr.InputStream.acceptToken) when it finds\n    /// one.\n    constructor(\n    /// @internal\n    token, options = {}) {\n        this.token = token;\n        this.contextual = !!options.contextual;\n        this.fallback = !!options.fallback;\n        this.extend = !!options.extend;\n    }\n}\n// Tokenizer data is stored a big uint16 array containing, for each\n// state:\n//\n//  - A group bitmask, indicating what token groups are reachable from\n//    this state, so that paths that can only lead to tokens not in\n//    any of the current groups can be cut off early.\n//\n//  - The position of the end of the state's sequence of accepting\n//    tokens\n//\n//  - The number of outgoing edges for the state\n//\n//  - The accepting tokens, as (token id, group mask) pairs\n//\n//  - The outgoing edges, as (start character, end character, state\n//    index) triples, with end character being exclusive\n//\n// This function interprets that data, running through a stream as\n// long as new states with the a matching group mask can be reached,\n// and updating `token` when it matches a token.\nfunction readToken(data, input, stack, group) {\n    let state = 0, groupMask = 1 << group, { parser } = stack.p, { dialect } = parser;\n    scan: for (;;) {\n        if ((groupMask & data[state]) == 0)\n            break;\n        let accEnd = data[state + 1];\n        // Check whether this state can lead to a token in the current group\n        // Accept tokens in this state, possibly overwriting\n        // lower-precedence / shorter tokens\n        for (let i = state + 3; i < accEnd; i += 2)\n            if ((data[i + 1] & groupMask) > 0) {\n                let term = data[i];\n                if (dialect.allows(term) &&\n                    (input.token.value == -1 || input.token.value == term || parser.overrides(term, input.token.value))) {\n                    input.acceptToken(term);\n                    break;\n                }\n            }\n        // Do a binary search on the state's edges\n        for (let next = input.next, low = 0, high = data[state + 2]; low < high;) {\n            let mid = (low + high) >> 1;\n            let index = accEnd + mid + (mid << 1);\n            let from = data[index], to = data[index + 1];\n            if (next < from)\n                high = mid;\n            else if (next >= to)\n                low = mid + 1;\n            else {\n                state = data[index + 2];\n                input.advance();\n                continue scan;\n            }\n        }\n        break;\n    }\n}\n\n// See lezer-generator/src/encode.ts for comments about the encoding\n// used here\nfunction decodeArray(input, Type = Uint16Array) {\n    if (typeof input != \"string\")\n        return input;\n    let array = null;\n    for (let pos = 0, out = 0; pos < input.length;) {\n        let value = 0;\n        for (;;) {\n            let next = input.charCodeAt(pos++), stop = false;\n            if (next == 126 /* BigValCode */) {\n                value = 65535 /* BigVal */;\n                break;\n            }\n            if (next >= 92 /* Gap2 */)\n                next--;\n            if (next >= 34 /* Gap1 */)\n                next--;\n            let digit = next - 32 /* Start */;\n            if (digit >= 46 /* Base */) {\n                digit -= 46 /* Base */;\n                stop = true;\n            }\n            value += digit;\n            if (stop)\n                break;\n            value *= 46 /* Base */;\n        }\n        if (array)\n            array[out++] = value;\n        else\n            array = new Type(value);\n    }\n    return array;\n}\n\n// FIXME find some way to reduce recovery work done when the input\n// doesn't match the grammar at all.\n// Environment variable used to control console output\nconst verbose = typeof process != \"undefined\" && /\\bparse\\b/.test(process.env.LOG);\nlet stackIDs = null;\nvar Safety;\n(function (Safety) {\n    Safety[Safety[\"Margin\"] = 25] = \"Margin\";\n})(Safety || (Safety = {}));\nfunction cutAt(tree, pos, side) {\n    let cursor = tree.fullCursor();\n    cursor.moveTo(pos);\n    for (;;) {\n        if (!(side < 0 ? cursor.childBefore(pos) : cursor.childAfter(pos)))\n            for (;;) {\n                if ((side < 0 ? cursor.to < pos : cursor.from > pos) && !cursor.type.isError)\n                    return side < 0 ? Math.max(0, Math.min(cursor.to - 1, pos - 25 /* Margin */))\n                        : Math.min(tree.length, Math.max(cursor.from + 1, pos + 25 /* Margin */));\n                if (side < 0 ? cursor.prevSibling() : cursor.nextSibling())\n                    break;\n                if (!cursor.parent())\n                    return side < 0 ? 0 : tree.length;\n            }\n    }\n}\nclass FragmentCursor {\n    constructor(fragments, nodeSet) {\n        this.fragments = fragments;\n        this.nodeSet = nodeSet;\n        this.i = 0;\n        this.fragment = null;\n        this.safeFrom = -1;\n        this.safeTo = -1;\n        this.trees = [];\n        this.start = [];\n        this.index = [];\n        this.nextFragment();\n    }\n    nextFragment() {\n        let fr = this.fragment = this.i == this.fragments.length ? null : this.fragments[this.i++];\n        if (fr) {\n            this.safeFrom = fr.openStart ? cutAt(fr.tree, fr.from + fr.offset, 1) - fr.offset : fr.from;\n            this.safeTo = fr.openEnd ? cutAt(fr.tree, fr.to + fr.offset, -1) - fr.offset : fr.to;\n            while (this.trees.length) {\n                this.trees.pop();\n                this.start.pop();\n                this.index.pop();\n            }\n            this.trees.push(fr.tree);\n            this.start.push(-fr.offset);\n            this.index.push(0);\n            this.nextStart = this.safeFrom;\n        }\n        else {\n            this.nextStart = 1e9;\n        }\n    }\n    // `pos` must be >= any previously given `pos` for this cursor\n    nodeAt(pos) {\n        if (pos < this.nextStart)\n            return null;\n        while (this.fragment && this.safeTo <= pos)\n            this.nextFragment();\n        if (!this.fragment)\n            return null;\n        for (;;) {\n            let last = this.trees.length - 1;\n            if (last < 0) { // End of tree\n                this.nextFragment();\n                return null;\n            }\n            let top = this.trees[last], index = this.index[last];\n            if (index == top.children.length) {\n                this.trees.pop();\n                this.start.pop();\n                this.index.pop();\n                continue;\n            }\n            let next = top.children[index];\n            let start = this.start[last] + top.positions[index];\n            if (start > pos) {\n                this.nextStart = start;\n                return null;\n            }\n            if (next instanceof Tree) {\n                if (start == pos) {\n                    if (start < this.safeFrom)\n                        return null;\n                    let end = start + next.length;\n                    if (end <= this.safeTo) {\n                        let lookAhead = next.prop(NodeProp.lookAhead);\n                        if (!lookAhead || end + lookAhead < this.fragment.to)\n                            return next;\n                    }\n                }\n                this.index[last]++;\n                if (start + next.length >= Math.max(this.safeFrom, pos)) { // Enter this node\n                    this.trees.push(next);\n                    this.start.push(start);\n                    this.index.push(0);\n                }\n            }\n            else {\n                this.index[last]++;\n                this.nextStart = start + next.length;\n            }\n        }\n    }\n}\nclass TokenCache {\n    constructor(parser, stream) {\n        this.stream = stream;\n        this.tokens = [];\n        this.mainToken = null;\n        this.actions = [];\n        this.tokens = parser.tokenizers.map(_ => new CachedToken);\n    }\n    getActions(stack) {\n        let actionIndex = 0;\n        let main = null;\n        let { parser } = stack.p, { tokenizers } = parser;\n        let mask = parser.stateSlot(stack.state, 3 /* TokenizerMask */);\n        let context = stack.curContext ? stack.curContext.hash : 0;\n        let lookAhead = 0;\n        for (let i = 0; i < tokenizers.length; i++) {\n            if (((1 << i) & mask) == 0)\n                continue;\n            let tokenizer = tokenizers[i], token = this.tokens[i];\n            if (main && !tokenizer.fallback)\n                continue;\n            if (tokenizer.contextual || token.start != stack.pos || token.mask != mask || token.context != context) {\n                this.updateCachedToken(token, tokenizer, stack);\n                token.mask = mask;\n                token.context = context;\n            }\n            if (token.lookAhead > token.end + 25 /* Margin */)\n                lookAhead = Math.max(token.lookAhead, lookAhead);\n            if (token.value != 0 /* Err */) {\n                let startIndex = actionIndex;\n                if (token.extended > -1)\n                    actionIndex = this.addActions(stack, token.extended, token.end, actionIndex);\n                actionIndex = this.addActions(stack, token.value, token.end, actionIndex);\n                if (!tokenizer.extend) {\n                    main = token;\n                    if (actionIndex > startIndex)\n                        break;\n                }\n            }\n        }\n        while (this.actions.length > actionIndex)\n            this.actions.pop();\n        if (lookAhead)\n            stack.setLookAhead(lookAhead);\n        if (!main && stack.pos == this.stream.end) {\n            main = new CachedToken;\n            main.value = stack.p.parser.eofTerm;\n            main.start = main.end = stack.pos;\n            actionIndex = this.addActions(stack, main.value, main.end, actionIndex);\n        }\n        this.mainToken = main;\n        return this.actions;\n    }\n    getMainToken(stack) {\n        if (this.mainToken)\n            return this.mainToken;\n        let main = new CachedToken, { pos, p } = stack;\n        main.start = pos;\n        main.end = Math.min(pos + 1, p.stream.end);\n        main.value = pos == p.stream.end ? p.parser.eofTerm : 0 /* Err */;\n        return main;\n    }\n    updateCachedToken(token, tokenizer, stack) {\n        tokenizer.token(this.stream.reset(stack.pos, token), stack);\n        if (token.value > -1) {\n            let { parser } = stack.p;\n            for (let i = 0; i < parser.specialized.length; i++)\n                if (parser.specialized[i] == token.value) {\n                    let result = parser.specializers[i](this.stream.read(token.start, token.end), stack);\n                    if (result >= 0 && stack.p.parser.dialect.allows(result >> 1)) {\n                        if ((result & 1) == 0 /* Specialize */)\n                            token.value = result >> 1;\n                        else\n                            token.extended = result >> 1;\n                        break;\n                    }\n                }\n        }\n        else {\n            token.value = 0 /* Err */;\n            token.end = Math.min(stack.p.stream.end, stack.pos + 1);\n        }\n    }\n    putAction(action, token, end, index) {\n        // Don't add duplicate actions\n        for (let i = 0; i < index; i += 3)\n            if (this.actions[i] == action)\n                return index;\n        this.actions[index++] = action;\n        this.actions[index++] = token;\n        this.actions[index++] = end;\n        return index;\n    }\n    addActions(stack, token, end, index) {\n        let { state } = stack, { parser } = stack.p, { data } = parser;\n        for (let set = 0; set < 2; set++) {\n            for (let i = parser.stateSlot(state, set ? 2 /* Skip */ : 1 /* Actions */);; i += 3) {\n                if (data[i] == 65535 /* End */) {\n                    if (data[i + 1] == 1 /* Next */) {\n                        i = pair(data, i + 2);\n                    }\n                    else {\n                        if (index == 0 && data[i + 1] == 2 /* Other */)\n                            index = this.putAction(pair(data, i + 1), token, end, index);\n                        break;\n                    }\n                }\n                if (data[i] == token)\n                    index = this.putAction(pair(data, i + 1), token, end, index);\n            }\n        }\n        return index;\n    }\n}\nvar Rec;\n(function (Rec) {\n    Rec[Rec[\"Distance\"] = 5] = \"Distance\";\n    Rec[Rec[\"MaxRemainingPerStep\"] = 3] = \"MaxRemainingPerStep\";\n    Rec[Rec[\"MinBufferLengthPrune\"] = 200] = \"MinBufferLengthPrune\";\n    Rec[Rec[\"ForceReduceLimit\"] = 10] = \"ForceReduceLimit\";\n})(Rec || (Rec = {}));\nclass Parse {\n    constructor(parser, input, fragments, ranges) {\n        this.parser = parser;\n        this.input = input;\n        this.ranges = ranges;\n        this.recovering = 0;\n        this.nextStackID = 0x2654;\n        this.minStackPos = 0;\n        this.reused = [];\n        this.stoppedAt = null;\n        this.stream = new InputStream(input, ranges);\n        this.tokens = new TokenCache(parser, this.stream);\n        this.topTerm = parser.top[1];\n        let { from } = ranges[0];\n        this.stacks = [Stack.start(this, parser.top[0], from)];\n        this.fragments = fragments.length && this.stream.end - from > parser.bufferLength * 4\n            ? new FragmentCursor(fragments, parser.nodeSet) : null;\n    }\n    get parsedPos() {\n        return this.minStackPos;\n    }\n    // Move the parser forward. This will process all parse stacks at\n    // `this.pos` and try to advance them to a further position. If no\n    // stack for such a position is found, it'll start error-recovery.\n    //\n    // When the parse is finished, this will return a syntax tree. When\n    // not, it returns `null`.\n    advance() {\n        let stacks = this.stacks, pos = this.minStackPos;\n        // This will hold stacks beyond `pos`.\n        let newStacks = this.stacks = [];\n        let stopped, stoppedTokens;\n        // Keep advancing any stacks at `pos` until they either move\n        // forward or can't be advanced. Gather stacks that can't be\n        // advanced further in `stopped`.\n        for (let i = 0; i < stacks.length; i++) {\n            let stack = stacks[i];\n            for (;;) {\n                this.tokens.mainToken = null;\n                if (stack.pos > pos) {\n                    newStacks.push(stack);\n                }\n                else if (this.advanceStack(stack, newStacks, stacks)) {\n                    continue;\n                }\n                else {\n                    if (!stopped) {\n                        stopped = [];\n                        stoppedTokens = [];\n                    }\n                    stopped.push(stack);\n                    let tok = this.tokens.getMainToken(stack);\n                    stoppedTokens.push(tok.value, tok.end);\n                }\n                break;\n            }\n        }\n        if (!newStacks.length) {\n            let finished = stopped && findFinished(stopped);\n            if (finished)\n                return this.stackToTree(finished);\n            if (this.parser.strict) {\n                if (verbose && stopped)\n                    console.log(\"Stuck with token \" + (this.tokens.mainToken ? this.parser.getName(this.tokens.mainToken.value) : \"none\"));\n                throw new SyntaxError(\"No parse at \" + pos);\n            }\n            if (!this.recovering)\n                this.recovering = 5 /* Distance */;\n        }\n        if (this.recovering && stopped) {\n            let finished = this.runRecovery(stopped, stoppedTokens, newStacks);\n            if (finished)\n                return this.stackToTree(finished.forceAll());\n        }\n        if (this.recovering) {\n            let maxRemaining = this.recovering == 1 ? 1 : this.recovering * 3 /* MaxRemainingPerStep */;\n            if (newStacks.length > maxRemaining) {\n                newStacks.sort((a, b) => b.score - a.score);\n                while (newStacks.length > maxRemaining)\n                    newStacks.pop();\n            }\n            if (newStacks.some(s => s.reducePos > pos))\n                this.recovering--;\n        }\n        else if (newStacks.length > 1) {\n            // Prune stacks that are in the same state, or that have been\n            // running without splitting for a while, to avoid getting stuck\n            // with multiple successful stacks running endlessly on.\n            outer: for (let i = 0; i < newStacks.length - 1; i++) {\n                let stack = newStacks[i];\n                for (let j = i + 1; j < newStacks.length; j++) {\n                    let other = newStacks[j];\n                    if (stack.sameState(other) ||\n                        stack.buffer.length > 200 /* MinBufferLengthPrune */ && other.buffer.length > 200 /* MinBufferLengthPrune */) {\n                        if (((stack.score - other.score) || (stack.buffer.length - other.buffer.length)) > 0) {\n                            newStacks.splice(j--, 1);\n                        }\n                        else {\n                            newStacks.splice(i--, 1);\n                            continue outer;\n                        }\n                    }\n                }\n            }\n        }\n        this.minStackPos = newStacks[0].pos;\n        for (let i = 1; i < newStacks.length; i++)\n            if (newStacks[i].pos < this.minStackPos)\n                this.minStackPos = newStacks[i].pos;\n        return null;\n    }\n    stopAt(pos) {\n        if (this.stoppedAt != null && this.stoppedAt < pos)\n            throw new RangeError(\"Can't move stoppedAt forward\");\n        this.stoppedAt = pos;\n    }\n    // Returns an updated version of the given stack, or null if the\n    // stack can't advance normally. When `split` and `stacks` are\n    // given, stacks split off by ambiguous operations will be pushed to\n    // `split`, or added to `stacks` if they move `pos` forward.\n    advanceStack(stack, stacks, split) {\n        let start = stack.pos, { parser } = this;\n        let base = verbose ? this.stackID(stack) + \" -> \" : \"\";\n        if (this.stoppedAt != null && start > this.stoppedAt)\n            return stack.forceReduce() ? stack : null;\n        if (this.fragments) {\n            let strictCx = stack.curContext && stack.curContext.tracker.strict, cxHash = strictCx ? stack.curContext.hash : 0;\n            for (let cached = this.fragments.nodeAt(start); cached;) {\n                let match = this.parser.nodeSet.types[cached.type.id] == cached.type ? parser.getGoto(stack.state, cached.type.id) : -1;\n                if (match > -1 && cached.length && (!strictCx || (cached.prop(NodeProp.contextHash) || 0) == cxHash)) {\n                    stack.useNode(cached, match);\n                    if (verbose)\n                        console.log(base + this.stackID(stack) + ` (via reuse of ${parser.getName(cached.type.id)})`);\n                    return true;\n                }\n                if (!(cached instanceof Tree) || cached.children.length == 0 || cached.positions[0] > 0)\n                    break;\n                let inner = cached.children[0];\n                if (inner instanceof Tree && cached.positions[0] == 0)\n                    cached = inner;\n                else\n                    break;\n            }\n        }\n        let defaultReduce = parser.stateSlot(stack.state, 4 /* DefaultReduce */);\n        if (defaultReduce > 0) {\n            stack.reduce(defaultReduce);\n            if (verbose)\n                console.log(base + this.stackID(stack) + ` (via always-reduce ${parser.getName(defaultReduce & 65535 /* ValueMask */)})`);\n            return true;\n        }\n        let actions = this.tokens.getActions(stack);\n        for (let i = 0; i < actions.length;) {\n            let action = actions[i++], term = actions[i++], end = actions[i++];\n            let last = i == actions.length || !split;\n            let localStack = last ? stack : stack.split();\n            localStack.apply(action, term, end);\n            if (verbose)\n                console.log(base + this.stackID(localStack) + ` (via ${(action & 65536 /* ReduceFlag */) == 0 ? \"shift\"\n                    : `reduce of ${parser.getName(action & 65535 /* ValueMask */)}`} for ${parser.getName(term)} @ ${start}${localStack == stack ? \"\" : \", split\"})`);\n            if (last)\n                return true;\n            else if (localStack.pos > start)\n                stacks.push(localStack);\n            else\n                split.push(localStack);\n        }\n        return false;\n    }\n    // Advance a given stack forward as far as it will go. Returns the\n    // (possibly updated) stack if it got stuck, or null if it moved\n    // forward and was given to `pushStackDedup`.\n    advanceFully(stack, newStacks) {\n        let pos = stack.pos;\n        for (;;) {\n            if (!this.advanceStack(stack, null, null))\n                return false;\n            if (stack.pos > pos) {\n                pushStackDedup(stack, newStacks);\n                return true;\n            }\n        }\n    }\n    runRecovery(stacks, tokens, newStacks) {\n        let finished = null, restarted = false;\n        for (let i = 0; i < stacks.length; i++) {\n            let stack = stacks[i], token = tokens[i << 1], tokenEnd = tokens[(i << 1) + 1];\n            let base = verbose ? this.stackID(stack) + \" -> \" : \"\";\n            if (stack.deadEnd) {\n                if (restarted)\n                    continue;\n                restarted = true;\n                stack.restart();\n                if (verbose)\n                    console.log(base + this.stackID(stack) + \" (restarted)\");\n                let done = this.advanceFully(stack, newStacks);\n                if (done)\n                    continue;\n            }\n            let force = stack.split(), forceBase = base;\n            for (let j = 0; force.forceReduce() && j < 10 /* ForceReduceLimit */; j++) {\n                if (verbose)\n                    console.log(forceBase + this.stackID(force) + \" (via force-reduce)\");\n                let done = this.advanceFully(force, newStacks);\n                if (done)\n                    break;\n                if (verbose)\n                    forceBase = this.stackID(force) + \" -> \";\n            }\n            for (let insert of stack.recoverByInsert(token)) {\n                if (verbose)\n                    console.log(base + this.stackID(insert) + \" (via recover-insert)\");\n                this.advanceFully(insert, newStacks);\n            }\n            if (this.stream.end > stack.pos) {\n                if (tokenEnd == stack.pos) {\n                    tokenEnd++;\n                    token = 0 /* Err */;\n                }\n                stack.recoverByDelete(token, tokenEnd);\n                if (verbose)\n                    console.log(base + this.stackID(stack) + ` (via recover-delete ${this.parser.getName(token)})`);\n                pushStackDedup(stack, newStacks);\n            }\n            else if (!finished || finished.score < stack.score) {\n                finished = stack;\n            }\n        }\n        return finished;\n    }\n    // Convert the stack's buffer to a syntax tree.\n    stackToTree(stack) {\n        stack.close();\n        return Tree.build({ buffer: StackBufferCursor.create(stack),\n            nodeSet: this.parser.nodeSet,\n            topID: this.topTerm,\n            maxBufferLength: this.parser.bufferLength,\n            reused: this.reused,\n            start: this.ranges[0].from,\n            length: stack.pos - this.ranges[0].from,\n            minRepeatType: this.parser.minRepeatTerm });\n    }\n    stackID(stack) {\n        let id = (stackIDs || (stackIDs = new WeakMap)).get(stack);\n        if (!id)\n            stackIDs.set(stack, id = String.fromCodePoint(this.nextStackID++));\n        return id + stack;\n    }\n}\nfunction pushStackDedup(stack, newStacks) {\n    for (let i = 0; i < newStacks.length; i++) {\n        let other = newStacks[i];\n        if (other.pos == stack.pos && other.sameState(stack)) {\n            if (newStacks[i].score < stack.score)\n                newStacks[i] = stack;\n            return;\n        }\n    }\n    newStacks.push(stack);\n}\nclass Dialect {\n    constructor(source, flags, disabled) {\n        this.source = source;\n        this.flags = flags;\n        this.disabled = disabled;\n    }\n    allows(term) { return !this.disabled || this.disabled[term] == 0; }\n}\nconst id = x => x;\n/// Context trackers are used to track stateful context (such as\n/// indentation in the Python grammar, or parent elements in the XML\n/// grammar) needed by external tokenizers. You declare them in a\n/// grammar file as `@context exportName from \"module\"`.\n///\n/// Context values should be immutable, and can be updated (replaced)\n/// on shift or reduce actions.\n///\n/// The export used in a `@context` declaration should be of this\n/// type.\nclass ContextTracker {\n    /// Define a context tracker.\n    constructor(spec) {\n        this.start = spec.start;\n        this.shift = spec.shift || id;\n        this.reduce = spec.reduce || id;\n        this.reuse = spec.reuse || id;\n        this.hash = spec.hash || (() => 0);\n        this.strict = spec.strict !== false;\n    }\n}\n/// A parser holds the parse tables for a given grammar, as generated\n/// by `lezer-generator`.\nclass LRParser extends Parser {\n    /// @internal\n    constructor(spec) {\n        super();\n        /// @internal\n        this.wrappers = [];\n        if (spec.version != 13 /* Version */)\n            throw new RangeError(`Parser version (${spec.version}) doesn't match runtime version (${13 /* Version */})`);\n        let nodeNames = spec.nodeNames.split(\" \");\n        this.minRepeatTerm = nodeNames.length;\n        for (let i = 0; i < spec.repeatNodeCount; i++)\n            nodeNames.push(\"\");\n        let topTerms = Object.keys(spec.topRules).map(r => spec.topRules[r][1]);\n        let nodeProps = [];\n        for (let i = 0; i < nodeNames.length; i++)\n            nodeProps.push([]);\n        function setProp(nodeID, prop, value) {\n            nodeProps[nodeID].push([prop, prop.deserialize(String(value))]);\n        }\n        if (spec.nodeProps)\n            for (let propSpec of spec.nodeProps) {\n                let prop = propSpec[0];\n                for (let i = 1; i < propSpec.length;) {\n                    let next = propSpec[i++];\n                    if (next >= 0) {\n                        setProp(next, prop, propSpec[i++]);\n                    }\n                    else {\n                        let value = propSpec[i + -next];\n                        for (let j = -next; j > 0; j--)\n                            setProp(propSpec[i++], prop, value);\n                        i++;\n                    }\n                }\n            }\n        this.nodeSet = new NodeSet(nodeNames.map((name, i) => NodeType.define({\n            name: i >= this.minRepeatTerm ? undefined : name,\n            id: i,\n            props: nodeProps[i],\n            top: topTerms.indexOf(i) > -1,\n            error: i == 0,\n            skipped: spec.skippedNodes && spec.skippedNodes.indexOf(i) > -1\n        })));\n        this.strict = false;\n        this.bufferLength = DefaultBufferLength;\n        let tokenArray = decodeArray(spec.tokenData);\n        this.context = spec.context;\n        this.specialized = new Uint16Array(spec.specialized ? spec.specialized.length : 0);\n        this.specializers = [];\n        if (spec.specialized)\n            for (let i = 0; i < spec.specialized.length; i++) {\n                this.specialized[i] = spec.specialized[i].term;\n                this.specializers[i] = spec.specialized[i].get;\n            }\n        this.states = decodeArray(spec.states, Uint32Array);\n        this.data = decodeArray(spec.stateData);\n        this.goto = decodeArray(spec.goto);\n        this.maxTerm = spec.maxTerm;\n        this.tokenizers = spec.tokenizers.map(value => typeof value == \"number\" ? new TokenGroup(tokenArray, value) : value);\n        this.topRules = spec.topRules;\n        this.dialects = spec.dialects || {};\n        this.dynamicPrecedences = spec.dynamicPrecedences || null;\n        this.tokenPrecTable = spec.tokenPrec;\n        this.termNames = spec.termNames || null;\n        this.maxNode = this.nodeSet.types.length - 1;\n        this.dialect = this.parseDialect();\n        this.top = this.topRules[Object.keys(this.topRules)[0]];\n    }\n    createParse(input, fragments, ranges) {\n        let parse = new Parse(this, input, fragments, ranges);\n        for (let w of this.wrappers)\n            parse = w(parse, input, fragments, ranges);\n        return parse;\n    }\n    /// Get a goto table entry @internal\n    getGoto(state, term, loose = false) {\n        let table = this.goto;\n        if (term >= table[0])\n            return -1;\n        for (let pos = table[term + 1];;) {\n            let groupTag = table[pos++], last = groupTag & 1;\n            let target = table[pos++];\n            if (last && loose)\n                return target;\n            for (let end = pos + (groupTag >> 1); pos < end; pos++)\n                if (table[pos] == state)\n                    return target;\n            if (last)\n                return -1;\n        }\n    }\n    /// Check if this state has an action for a given terminal @internal\n    hasAction(state, terminal) {\n        let data = this.data;\n        for (let set = 0; set < 2; set++) {\n            for (let i = this.stateSlot(state, set ? 2 /* Skip */ : 1 /* Actions */), next;; i += 3) {\n                if ((next = data[i]) == 65535 /* End */) {\n                    if (data[i + 1] == 1 /* Next */)\n                        next = data[i = pair(data, i + 2)];\n                    else if (data[i + 1] == 2 /* Other */)\n                        return pair(data, i + 2);\n                    else\n                        break;\n                }\n                if (next == terminal || next == 0 /* Err */)\n                    return pair(data, i + 1);\n            }\n        }\n        return 0;\n    }\n    /// @internal\n    stateSlot(state, slot) {\n        return this.states[(state * 6 /* Size */) + slot];\n    }\n    /// @internal\n    stateFlag(state, flag) {\n        return (this.stateSlot(state, 0 /* Flags */) & flag) > 0;\n    }\n    /// @internal\n    validAction(state, action) {\n        if (action == this.stateSlot(state, 4 /* DefaultReduce */))\n            return true;\n        for (let i = this.stateSlot(state, 1 /* Actions */);; i += 3) {\n            if (this.data[i] == 65535 /* End */) {\n                if (this.data[i + 1] == 1 /* Next */)\n                    i = pair(this.data, i + 2);\n                else\n                    return false;\n            }\n            if (action == pair(this.data, i + 1))\n                return true;\n        }\n    }\n    /// Get the states that can follow this one through shift actions or\n    /// goto jumps. @internal\n    nextStates(state) {\n        let result = [];\n        for (let i = this.stateSlot(state, 1 /* Actions */);; i += 3) {\n            if (this.data[i] == 65535 /* End */) {\n                if (this.data[i + 1] == 1 /* Next */)\n                    i = pair(this.data, i + 2);\n                else\n                    break;\n            }\n            if ((this.data[i + 2] & (65536 /* ReduceFlag */ >> 16)) == 0) {\n                let value = this.data[i + 1];\n                if (!result.some((v, i) => (i & 1) && v == value))\n                    result.push(this.data[i], value);\n            }\n        }\n        return result;\n    }\n    /// @internal\n    overrides(token, prev) {\n        let iPrev = findOffset(this.data, this.tokenPrecTable, prev);\n        return iPrev < 0 || findOffset(this.data, this.tokenPrecTable, token) < iPrev;\n    }\n    /// Configure the parser. Returns a new parser instance that has the\n    /// given settings modified. Settings not provided in `config` are\n    /// kept from the original parser.\n    configure(config) {\n        // Hideous reflection-based kludge to make it easy to create a\n        // slightly modified copy of a parser.\n        let copy = Object.assign(Object.create(LRParser.prototype), this);\n        if (config.props)\n            copy.nodeSet = this.nodeSet.extend(...config.props);\n        if (config.top) {\n            let info = this.topRules[config.top];\n            if (!info)\n                throw new RangeError(`Invalid top rule name ${config.top}`);\n            copy.top = info;\n        }\n        if (config.tokenizers)\n            copy.tokenizers = this.tokenizers.map(t => {\n                let found = config.tokenizers.find(r => r.from == t);\n                return found ? found.to : t;\n            });\n        if (config.contextTracker)\n            copy.context = config.contextTracker;\n        if (config.dialect)\n            copy.dialect = this.parseDialect(config.dialect);\n        if (config.strict != null)\n            copy.strict = config.strict;\n        if (config.wrap)\n            copy.wrappers = copy.wrappers.concat(config.wrap);\n        if (config.bufferLength != null)\n            copy.bufferLength = config.bufferLength;\n        return copy;\n    }\n    /// Returns the name associated with a given term. This will only\n    /// work for all terms when the parser was generated with the\n    /// `--names` option. By default, only the names of tagged terms are\n    /// stored.\n    getName(term) {\n        return this.termNames ? this.termNames[term] : String(term <= this.maxNode && this.nodeSet.types[term].name || term);\n    }\n    /// The eof term id is always allocated directly after the node\n    /// types. @internal\n    get eofTerm() { return this.maxNode + 1; }\n    /// The type of top node produced by the parser.\n    get topNode() { return this.nodeSet.types[this.top[1]]; }\n    /// @internal\n    dynamicPrecedence(term) {\n        let prec = this.dynamicPrecedences;\n        return prec == null ? 0 : prec[term] || 0;\n    }\n    /// @internal\n    parseDialect(dialect) {\n        let values = Object.keys(this.dialects), flags = values.map(() => false);\n        if (dialect)\n            for (let part of dialect.split(\" \")) {\n                let id = values.indexOf(part);\n                if (id >= 0)\n                    flags[id] = true;\n            }\n        let disabled = null;\n        for (let i = 0; i < values.length; i++)\n            if (!flags[i]) {\n                for (let j = this.dialects[values[i]], id; (id = this.data[j++]) != 65535 /* End */;)\n                    (disabled || (disabled = new Uint8Array(this.maxTerm + 1)))[id] = 1;\n            }\n        return new Dialect(dialect, flags, disabled);\n    }\n    /// (used by the output of the parser generator) @internal\n    static deserialize(spec) {\n        return new LRParser(spec);\n    }\n}\nfunction pair(data, off) { return data[off] | (data[off + 1] << 16); }\nfunction findOffset(data, start, term) {\n    for (let i = start, next; (next = data[i]) != 65535 /* End */; i++)\n        if (next == term)\n            return i - start;\n    return -1;\n}\nfunction findFinished(stacks) {\n    let best = null;\n    for (let stack of stacks) {\n        let stopped = stack.p.stoppedAt;\n        if ((stack.pos == stack.p.stream.end || stopped != null && stack.pos > stopped) &&\n            stack.p.parser.stateFlag(stack.state, 2 /* Accepting */) &&\n            (!best || best.score < stack.score))\n            best = stack;\n    }\n    return best;\n}\n\nexport { ContextTracker, ExternalTokenizer, InputStream, LRParser, Stack };\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { emojiExampleList } from '../../example-emoji-list';\nimport { oneDark } from '@codemirror/theme-one-dark';\nimport { javascript, javascriptLanguage } from '@codemirror/lang-javascript';\nimport { autocompletion, completionKeymap } from '@codemirror/autocomplete';\nimport { keymap } from '@codemirror/view';\nimport { Extension } from '@codemirror/state';\nimport { basicSetup } from '@codemirror/basic-setup';\nimport { CodemirrorComponent } from '@gewd/components/codemirror';\n\nconst sharedExtensions: Extension[] = [\n     oneDark,\n\n    javascriptLanguage, //.data.of({autocomplete:jsCompletion}),\n\n    javascript(),\n];\n\n@Component({\n  selector: 'gewd-codemirror-example',\n  templateUrl: './codemirror-example.component.html',\n  styleUrls: ['./codemirror-example.component.css']\n})\nexport class CodemirrorExampleComponent implements OnInit {\n  private subscription: Subscription;\n\n  emojiList = emojiExampleList;\n\n  exampleJsText = `\nexport const some = 'string';\n\nexport function test() {\n   return 42;\n}\n  `.trim();\n\n  longExampleText =`\n// long code example\nexport const some = 'string';\n\nexport function test() {\n   return 42;\n}\n\nexport const some = 'string';\n\nexport function test() {\n   return 42;\n}\n\nexport const some = 'string';\n\nexport function test() {\n   return 42;\n}\n\nexport const some = 'string';\n\nexport function test() {\n   return 42;\n}\n  `.trim();\n\n  normalExtensions: Extension[] = [\n    ...sharedExtensions\n  ]\n\n  extensions: Extension = [\n    basicSetup,\n     // overrides first..\n\n    ...sharedExtensions,\n\n    autocompletion(),\n    keymap.of([\n      ...completionKeymap,\n    ]),\n  ];\n\n  constructor(private cd: ChangeDetectorRef) { }\n\n  ngOnDestroy (): void {\n    this.subscription.unsubscribe();\n  }\n\n  ngOnInit (): void {\n\n  }\n\n\n  updateCodemirror (codemirror: CodemirrorComponent, textarea: HTMLTextAreaElement) {\n    codemirror.value = textarea.value;\n    this.cd.detectChanges();\n  }\n\n  insertText (codemirror: CodemirrorComponent) {\n    codemirror.insertText(\n      codemirror.selectedRange.from,\n      codemirror.selectedRange.to,\n      'test'\n    );\n\n    codemirror.codeMirrorView.focus();\n  }\n}\n","import { EditorSelection } from '@codemirror/state';\n\n/**\nComment or uncomment the current selection. Will use line comments\nif available, otherwise falling back to block comments.\n*/\nconst toggleComment = target => {\n    let config = getConfig(target.state);\n    return config.line ? toggleLineComment(target) : config.block ? toggleBlockComment(target) : false;\n};\nfunction command(f, option) {\n    return ({ state, dispatch }) => {\n        let tr = f(option, state.selection.ranges, state);\n        if (!tr)\n            return false;\n        dispatch(state.update(tr));\n        return true;\n    };\n}\n/**\nComment or uncomment the current selection using line comments.\nThe line comment syntax is taken from the\n[`commentTokens`](https://codemirror.net/6/docs/ref/#comment.CommentTokens) [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt).\n*/\nconst toggleLineComment = /*@__PURE__*/command(changeLineComment, 0 /* Toggle */);\n/**\nComment the current selection using line comments.\n*/\nconst lineComment = /*@__PURE__*/command(changeLineComment, 1 /* Comment */);\n/**\nUncomment the current selection using line comments.\n*/\nconst lineUncomment = /*@__PURE__*/command(changeLineComment, 2 /* Uncomment */);\n/**\nComment or uncomment the current selection using block comments.\nThe block comment syntax is taken from the\n[`commentTokens`](https://codemirror.net/6/docs/ref/#comment.CommentTokens) [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt).\n*/\nconst toggleBlockComment = /*@__PURE__*/command(changeBlockComment, 0 /* Toggle */);\n/**\nComment the current selection using block comments.\n*/\nconst blockComment = /*@__PURE__*/command(changeBlockComment, 1 /* Comment */);\n/**\nUncomment the current selection using block comments.\n*/\nconst blockUncomment = /*@__PURE__*/command(changeBlockComment, 2 /* Uncomment */);\n/**\nDefault key bindings for this package.\n\n - Ctrl-/ (Cmd-/ on macOS): [`toggleComment`](https://codemirror.net/6/docs/ref/#comment.toggleComment).\n - Shift-Alt-a: [`toggleBlockComment`](https://codemirror.net/6/docs/ref/#comment.toggleBlockComment).\n*/\nconst commentKeymap = [\n    { key: \"Mod-/\", run: toggleComment },\n    { key: \"Alt-A\", run: toggleBlockComment }\n];\nfunction getConfig(state, pos = state.selection.main.head) {\n    let data = state.languageDataAt(\"commentTokens\", pos);\n    return data.length ? data[0] : {};\n}\nconst SearchMargin = 50;\n/**\nDetermines if the given range is block-commented in the given\nstate.\n*/\nfunction findBlockComment(state, { open, close }, from, to) {\n    let textBefore = state.sliceDoc(from - SearchMargin, from);\n    let textAfter = state.sliceDoc(to, to + SearchMargin);\n    let spaceBefore = /\\s*$/.exec(textBefore)[0].length, spaceAfter = /^\\s*/.exec(textAfter)[0].length;\n    let beforeOff = textBefore.length - spaceBefore;\n    if (textBefore.slice(beforeOff - open.length, beforeOff) == open &&\n        textAfter.slice(spaceAfter, spaceAfter + close.length) == close) {\n        return { open: { pos: from - spaceBefore, margin: spaceBefore && 1 },\n            close: { pos: to + spaceAfter, margin: spaceAfter && 1 } };\n    }\n    let startText, endText;\n    if (to - from <= 2 * SearchMargin) {\n        startText = endText = state.sliceDoc(from, to);\n    }\n    else {\n        startText = state.sliceDoc(from, from + SearchMargin);\n        endText = state.sliceDoc(to - SearchMargin, to);\n    }\n    let startSpace = /^\\s*/.exec(startText)[0].length, endSpace = /\\s*$/.exec(endText)[0].length;\n    let endOff = endText.length - endSpace - close.length;\n    if (startText.slice(startSpace, startSpace + open.length) == open &&\n        endText.slice(endOff, endOff + close.length) == close) {\n        return { open: { pos: from + startSpace + open.length,\n                margin: /\\s/.test(startText.charAt(startSpace + open.length)) ? 1 : 0 },\n            close: { pos: to - endSpace - close.length,\n                margin: /\\s/.test(endText.charAt(endOff - 1)) ? 1 : 0 } };\n    }\n    return null;\n}\n// Performs toggle, comment and uncomment of block comments in\n// languages that support them.\nfunction changeBlockComment(option, ranges, state) {\n    let tokens = ranges.map(r => getConfig(state, r.from).block);\n    if (!tokens.every(c => c))\n        return null;\n    let comments = ranges.map((r, i) => findBlockComment(state, tokens[i], r.from, r.to));\n    if (option != 2 /* Uncomment */ && !comments.every(c => c)) {\n        let index = 0;\n        return state.changeByRange(range => {\n            let { open, close } = tokens[index++];\n            if (comments[index])\n                return { range };\n            let shift = open.length + 1;\n            return {\n                changes: [{ from: range.from, insert: open + \" \" }, { from: range.to, insert: \" \" + close }],\n                range: EditorSelection.range(range.anchor + shift, range.head + shift)\n            };\n        });\n    }\n    else if (option != 1 /* Comment */ && comments.some(c => c)) {\n        let changes = [];\n        for (let i = 0, comment; i < comments.length; i++)\n            if (comment = comments[i]) {\n                let token = tokens[i], { open, close } = comment;\n                changes.push({ from: open.pos - token.open.length, to: open.pos + open.margin }, { from: close.pos - close.margin, to: close.pos + token.close.length });\n            }\n        return { changes };\n    }\n    return null;\n}\n// Performs toggle, comment and uncomment of line comments.\nfunction changeLineComment(option, ranges, state) {\n    let lines = [];\n    let prevLine = -1;\n    for (let { from, to } of ranges) {\n        let startI = lines.length, minIndent = 1e9;\n        for (let pos = from; pos <= to;) {\n            let line = state.doc.lineAt(pos);\n            if (line.from > prevLine && (from == to || to > line.from)) {\n                prevLine = line.from;\n                let token = getConfig(state, pos).line;\n                if (!token)\n                    continue;\n                let indent = /^\\s*/.exec(line.text)[0].length;\n                let empty = indent == line.length;\n                let comment = line.text.slice(indent, indent + token.length) == token ? indent : -1;\n                if (indent < line.text.length && indent < minIndent)\n                    minIndent = indent;\n                lines.push({ line, comment, token, indent, empty, single: false });\n            }\n            pos = line.to + 1;\n        }\n        if (minIndent < 1e9)\n            for (let i = startI; i < lines.length; i++)\n                if (lines[i].indent < lines[i].line.text.length)\n                    lines[i].indent = minIndent;\n        if (lines.length == startI + 1)\n            lines[startI].single = true;\n    }\n    if (option != 2 /* Uncomment */ && lines.some(l => l.comment < 0 && (!l.empty || l.single))) {\n        let changes = [];\n        for (let { line, token, indent, empty, single } of lines)\n            if (single || !empty)\n                changes.push({ from: line.from + indent, insert: token + \" \" });\n        let changeSet = state.changes(changes);\n        return { changes: changeSet, selection: state.selection.map(changeSet, 1) };\n    }\n    else if (option != 1 /* Comment */ && lines.some(l => l.comment >= 0)) {\n        let changes = [];\n        for (let { line, comment, token } of lines)\n            if (comment >= 0) {\n                let from = line.from + comment, to = from + token.length;\n                if (line.text[to - line.from] == \" \")\n                    to++;\n                changes.push({ from, to });\n            }\n        return { changes };\n    }\n    return null;\n}\n\nexport { blockComment, blockUncomment, commentKeymap, lineComment, lineUncomment, toggleBlockComment, toggleComment, toggleLineComment };\n","import { EditorView } from '@codemirror/view';\nimport { HighlightStyle, tags } from '@codemirror/highlight';\n\n// Using https://github.com/one-dark/vscode-one-dark-theme/ as reference for the colors\nconst chalky = \"#e5c07b\", coral = \"#e06c75\", cyan = \"#56b6c2\", invalid = \"#ffffff\", ivory = \"#abb2bf\", stone = \"#7d8799\", // Brightened compared to original to increase contrast\nmalibu = \"#61afef\", sage = \"#98c379\", whiskey = \"#d19a66\", violet = \"#c678dd\", darkBackground = \"#21252b\", highlightBackground = \"#2c313a\", background = \"#282c34\", selection = \"#3E4451\", cursor = \"#528bff\";\n/**\nThe editor theme styles for One Dark.\n*/\nconst oneDarkTheme = /*@__PURE__*/EditorView.theme({\n    \"&\": {\n        color: ivory,\n        backgroundColor: background\n    },\n    \".cm-content\": {\n        caretColor: cursor\n    },\n    \"&.cm-focused .cm-cursor\": { borderLeftColor: cursor },\n    \"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, ::selection\": { backgroundColor: selection },\n    \".cm-panels\": { backgroundColor: darkBackground, color: ivory },\n    \".cm-panels.cm-panels-top\": { borderBottom: \"2px solid black\" },\n    \".cm-panels.cm-panels-bottom\": { borderTop: \"2px solid black\" },\n    \".cm-searchMatch\": {\n        backgroundColor: \"#72a1ff59\",\n        outline: \"1px solid #457dff\"\n    },\n    \".cm-searchMatch.cm-searchMatch-selected\": {\n        backgroundColor: \"#6199ff2f\"\n    },\n    \".cm-activeLine\": { backgroundColor: highlightBackground },\n    \".cm-selectionMatch\": { backgroundColor: \"#aafe661a\" },\n    \".cm-matchingBracket, .cm-nonmatchingBracket\": {\n        backgroundColor: \"#bad0f847\",\n        outline: \"1px solid #515a6b\"\n    },\n    \".cm-gutters\": {\n        backgroundColor: background,\n        color: stone,\n        border: \"none\"\n    },\n    \".cm-activeLineGutter\": {\n        backgroundColor: highlightBackground\n    },\n    \".cm-foldPlaceholder\": {\n        backgroundColor: \"transparent\",\n        border: \"none\",\n        color: \"#ddd\"\n    },\n    \".cm-tooltip\": {\n        border: \"1px solid #181a1f\",\n        backgroundColor: darkBackground\n    },\n    \".cm-tooltip-autocomplete\": {\n        \"& > ul > li[aria-selected]\": {\n            backgroundColor: highlightBackground,\n            color: ivory\n        }\n    }\n}, { dark: true });\n/**\nThe highlighting style for code in the One Dark theme.\n*/\nconst oneDarkHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n    { tag: tags.keyword,\n        color: violet },\n    { tag: [tags.name, tags.deleted, tags.character, tags.propertyName, tags.macroName],\n        color: coral },\n    { tag: [/*@__PURE__*/tags.function(tags.variableName), tags.labelName],\n        color: malibu },\n    { tag: [tags.color, /*@__PURE__*/tags.constant(tags.name), /*@__PURE__*/tags.standard(tags.name)],\n        color: whiskey },\n    { tag: [/*@__PURE__*/tags.definition(tags.name), tags.separator],\n        color: ivory },\n    { tag: [tags.typeName, tags.className, tags.number, tags.changed, tags.annotation, tags.modifier, tags.self, tags.namespace],\n        color: chalky },\n    { tag: [tags.operator, tags.operatorKeyword, tags.url, tags.escape, tags.regexp, tags.link, /*@__PURE__*/tags.special(tags.string)],\n        color: cyan },\n    { tag: [tags.meta, tags.comment],\n        color: stone },\n    { tag: tags.strong,\n        fontWeight: \"bold\" },\n    { tag: tags.emphasis,\n        fontStyle: \"italic\" },\n    { tag: tags.strikethrough,\n        textDecoration: \"line-through\" },\n    { tag: tags.link,\n        color: stone,\n        textDecoration: \"underline\" },\n    { tag: tags.heading,\n        fontWeight: \"bold\",\n        color: coral },\n    { tag: [tags.atom, tags.bool, /*@__PURE__*/tags.special(tags.variableName)],\n        color: whiskey },\n    { tag: [tags.processingInstruction, tags.string, tags.inserted],\n        color: sage },\n    { tag: tags.invalid,\n        color: invalid },\n]);\n/**\nExtension to enable the One Dark theme (both the editor theme and\nthe highlight style).\n*/\nconst oneDark = [oneDarkTheme, oneDarkHighlightStyle];\n\nexport { oneDark, oneDarkHighlightStyle, oneDarkTheme };\n","import { Decoration, EditorView, ViewPlugin, logException, WidgetType } from '@codemirror/view';\nimport { StateEffect, StateField, Facet } from '@codemirror/state';\nimport { hoverTooltip } from '@codemirror/tooltip';\nimport { showPanel, getPanel } from '@codemirror/panel';\nimport elt from 'crelt';\n\nclass SelectedDiagnostic {\n    constructor(from, to, diagnostic) {\n        this.from = from;\n        this.to = to;\n        this.diagnostic = diagnostic;\n    }\n}\nclass LintState {\n    constructor(diagnostics, panel, selected) {\n        this.diagnostics = diagnostics;\n        this.panel = panel;\n        this.selected = selected;\n    }\n    static init(diagnostics, panel, state) {\n        let ranges = Decoration.set(diagnostics.map((d) => {\n            // For zero-length ranges or ranges covering only a line break, create a widget\n            return d.from == d.to || (d.from == d.to - 1 && state.doc.lineAt(d.from).to == d.from)\n                ? Decoration.widget({\n                    widget: new DiagnosticWidget(d),\n                    diagnostic: d\n                }).range(d.from)\n                : Decoration.mark({\n                    attributes: { class: \"cm-lintRange cm-lintRange-\" + d.severity },\n                    diagnostic: d\n                }).range(d.from, d.to);\n        }), true);\n        return new LintState(ranges, panel, findDiagnostic(ranges));\n    }\n}\nfunction findDiagnostic(diagnostics, diagnostic = null, after = 0) {\n    let found = null;\n    diagnostics.between(after, 1e9, (from, to, { spec }) => {\n        if (diagnostic && spec.diagnostic != diagnostic)\n            return;\n        found = new SelectedDiagnostic(from, to, spec.diagnostic);\n        return false;\n    });\n    return found;\n}\nfunction maybeEnableLint(state, effects, getState) {\n    return state.field(lintState, false) ? effects : effects.concat(StateEffect.appendConfig.of([\n        lintState.init(getState),\n        EditorView.decorations.compute([lintState], state => {\n            let { selected, panel } = state.field(lintState);\n            return !selected || !panel || selected.from == selected.to ? Decoration.none : Decoration.set([\n                activeMark.range(selected.from, selected.to)\n            ]);\n        }),\n        hoverTooltip(lintTooltip),\n        baseTheme\n    ]));\n}\n/**\nReturns a transaction spec which updates the current set of\ndiagnostics.\n*/\nfunction setDiagnostics(state, diagnostics) {\n    return {\n        effects: maybeEnableLint(state, [setDiagnosticsEffect.of(diagnostics)], () => LintState.init(diagnostics, null, state))\n    };\n}\nconst setDiagnosticsEffect = /*@__PURE__*/StateEffect.define();\nconst togglePanel = /*@__PURE__*/StateEffect.define();\nconst movePanelSelection = /*@__PURE__*/StateEffect.define();\nconst lintState = /*@__PURE__*/StateField.define({\n    create() {\n        return new LintState(Decoration.none, null, null);\n    },\n    update(value, tr) {\n        if (tr.docChanged) {\n            let mapped = value.diagnostics.map(tr.changes), selected = null;\n            if (value.selected) {\n                let selPos = tr.changes.mapPos(value.selected.from, 1);\n                selected = findDiagnostic(mapped, value.selected.diagnostic, selPos) || findDiagnostic(mapped, null, selPos);\n            }\n            value = new LintState(mapped, value.panel, selected);\n        }\n        for (let effect of tr.effects) {\n            if (effect.is(setDiagnosticsEffect)) {\n                value = LintState.init(effect.value, value.panel, tr.state);\n            }\n            else if (effect.is(togglePanel)) {\n                value = new LintState(value.diagnostics, effect.value ? LintPanel.open : null, value.selected);\n            }\n            else if (effect.is(movePanelSelection)) {\n                value = new LintState(value.diagnostics, value.panel, effect.value);\n            }\n        }\n        return value;\n    },\n    provide: f => [showPanel.from(f, val => val.panel),\n        EditorView.decorations.from(f, s => s.diagnostics)]\n});\n/**\nReturns the number of active lint diagnostics in the given state.\n*/\nfunction diagnosticCount(state) {\n    let lint = state.field(lintState, false);\n    return lint ? lint.diagnostics.size : 0;\n}\nconst activeMark = /*@__PURE__*/Decoration.mark({ class: \"cm-lintRange cm-lintRange-active\" });\nfunction lintTooltip(view, pos, side) {\n    let { diagnostics } = view.state.field(lintState);\n    let found = [], stackStart = 2e8, stackEnd = 0;\n    diagnostics.between(pos - (side < 0 ? 1 : 0), pos + (side > 0 ? 1 : 0), (from, to, { spec }) => {\n        if (pos >= from && pos <= to &&\n            (from == to || ((pos > from || side > 0) && (pos < to || side < 0)))) {\n            found.push(spec.diagnostic);\n            stackStart = Math.min(from, stackStart);\n            stackEnd = Math.max(to, stackEnd);\n        }\n    });\n    if (!found.length)\n        return null;\n    return {\n        pos: stackStart,\n        end: stackEnd,\n        above: view.state.doc.lineAt(stackStart).to < stackEnd,\n        create() {\n            return { dom: elt(\"ul\", { class: \"cm-tooltip-lint\" }, found.map(d => renderDiagnostic(view, d, false))) };\n        }\n    };\n}\n/**\nCommand to open and focus the lint panel.\n*/\nconst openLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        view.dispatch({ effects: maybeEnableLint(view.state, [togglePanel.of(true)], () => LintState.init([], LintPanel.open, view.state)) });\n    let panel = getPanel(view, LintPanel.open);\n    if (panel)\n        panel.dom.querySelector(\".cm-panel-lint ul\").focus();\n    return true;\n};\n/**\nCommand to close the lint panel, when open.\n*/\nconst closeLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        return false;\n    view.dispatch({ effects: togglePanel.of(false) });\n    return true;\n};\n/**\nMove the selection to the next diagnostic.\n*/\nconst nextDiagnostic = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field)\n        return false;\n    let sel = view.state.selection.main, next = field.diagnostics.iter(sel.to + 1);\n    if (!next.value) {\n        next = field.diagnostics.iter(0);\n        if (!next.value || next.from == sel.from && next.to == sel.to)\n            return false;\n    }\n    view.dispatch({ selection: { anchor: next.from, head: next.to }, scrollIntoView: true });\n    return true;\n};\n/**\nA set of default key bindings for the lint functionality.\n\n- Ctrl-Shift-m (Cmd-Shift-m on macOS): [`openLintPanel`](https://codemirror.net/6/docs/ref/#lint.openLintPanel)\n- F8: [`nextDiagnostic`](https://codemirror.net/6/docs/ref/#lint.nextDiagnostic)\n*/\nconst lintKeymap = [\n    { key: \"Mod-Shift-m\", run: openLintPanel },\n    { key: \"F8\", run: nextDiagnostic }\n];\nconst lintPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.timeout = -1;\n        this.set = true;\n        let { delay } = view.state.facet(lintSource);\n        this.lintTime = Date.now() + delay;\n        this.run = this.run.bind(this);\n        this.timeout = setTimeout(this.run, delay);\n    }\n    run() {\n        let now = Date.now();\n        if (now < this.lintTime - 10) {\n            setTimeout(this.run, this.lintTime - now);\n        }\n        else {\n            this.set = false;\n            let { state } = this.view, { sources } = state.facet(lintSource);\n            Promise.all(sources.map(source => Promise.resolve(source(this.view)))).then(annotations => {\n                var _a, _b;\n                let all = annotations.reduce((a, b) => a.concat(b));\n                if (this.view.state.doc == state.doc &&\n                    (all.length || ((_b = (_a = this.view.state.field(lintState, false)) === null || _a === void 0 ? void 0 : _a.diagnostics) === null || _b === void 0 ? void 0 : _b.size)))\n                    this.view.dispatch(setDiagnostics(this.view.state, all));\n            }, error => { logException(this.view.state, error); });\n        }\n    }\n    update(update) {\n        if (update.docChanged) {\n            let { delay } = update.state.facet(lintSource);\n            this.lintTime = Date.now() + delay;\n            if (!this.set) {\n                this.set = true;\n                this.timeout = setTimeout(this.run, delay);\n            }\n        }\n    }\n    force() {\n        if (this.set) {\n            this.lintTime = Date.now();\n            this.run();\n        }\n    }\n    destroy() {\n        clearTimeout(this.timeout);\n    }\n});\nconst lintSource = /*@__PURE__*/Facet.define({\n    combine(input) {\n        return { sources: input.map(i => i.source), delay: input.length ? Math.max(...input.map(i => i.delay)) : 750 };\n    },\n    enables: lintPlugin\n});\n/**\nGiven a diagnostic source, this function returns an extension that\nenables linting with that source. It will be called whenever the\neditor is idle (after its content changed).\n*/\nfunction linter(source, config = {}) {\n    var _a;\n    return lintSource.of({ source, delay: (_a = config.delay) !== null && _a !== void 0 ? _a : 750 });\n}\n/**\nForces any linters [configured](https://codemirror.net/6/docs/ref/#lint.linter) to run when the\neditor is idle to run right away.\n*/\nfunction forceLinting(view) {\n    let plugin = view.plugin(lintPlugin);\n    if (plugin)\n        plugin.force();\n}\nfunction assignKeys(actions) {\n    let assigned = [];\n    if (actions)\n        actions: for (let { name } of actions) {\n            for (let i = 0; i < name.length; i++) {\n                let ch = name[i];\n                if (/[a-zA-Z]/.test(ch) && !assigned.some(c => c.toLowerCase() == ch.toLowerCase())) {\n                    assigned.push(ch);\n                    continue actions;\n                }\n            }\n            assigned.push(\"\");\n        }\n    return assigned;\n}\nfunction renderDiagnostic(view, diagnostic, inPanel) {\n    var _a;\n    let keys = inPanel ? assignKeys(diagnostic.actions) : [];\n    return elt(\"li\", { class: \"cm-diagnostic cm-diagnostic-\" + diagnostic.severity }, elt(\"span\", { class: \"cm-diagnosticText\" }, diagnostic.message), (_a = diagnostic.actions) === null || _a === void 0 ? void 0 : _a.map((action, i) => {\n        let click = (e) => {\n            e.preventDefault();\n            let found = findDiagnostic(view.state.field(lintState).diagnostics, diagnostic);\n            if (found)\n                action.apply(view, found.from, found.to);\n        };\n        let { name } = action, keyIndex = keys[i] ? name.indexOf(keys[i]) : -1;\n        let nameElt = keyIndex < 0 ? name : [name.slice(0, keyIndex),\n            elt(\"u\", name.slice(keyIndex, keyIndex + 1)),\n            name.slice(keyIndex + 1)];\n        return elt(\"button\", {\n            type: \"button\",\n            class: \"cm-diagnosticAction\",\n            onclick: click,\n            onmousedown: click,\n            \"aria-label\": ` Action: ${name}${keyIndex < 0 ? \"\" : ` (access key \"${keys[i]})\"`}.`\n        }, nameElt);\n    }), diagnostic.source && elt(\"div\", { class: \"cm-diagnosticSource\" }, diagnostic.source));\n}\nclass DiagnosticWidget extends WidgetType {\n    constructor(diagnostic) {\n        super();\n        this.diagnostic = diagnostic;\n    }\n    eq(other) { return other.diagnostic == this.diagnostic; }\n    toDOM() {\n        return elt(\"span\", { class: \"cm-lintPoint cm-lintPoint-\" + this.diagnostic.severity });\n    }\n}\nclass PanelItem {\n    constructor(view, diagnostic) {\n        this.diagnostic = diagnostic;\n        this.id = \"item_\" + Math.floor(Math.random() * 0xffffffff).toString(16);\n        this.dom = renderDiagnostic(view, diagnostic, true);\n        this.dom.id = this.id;\n        this.dom.setAttribute(\"role\", \"option\");\n    }\n}\nclass LintPanel {\n    constructor(view) {\n        this.view = view;\n        this.items = [];\n        let onkeydown = (event) => {\n            if (event.keyCode == 27) { // Escape\n                closeLintPanel(this.view);\n                this.view.focus();\n            }\n            else if (event.keyCode == 38 || event.keyCode == 33) { // ArrowUp, PageUp\n                this.moveSelection((this.selectedIndex - 1 + this.items.length) % this.items.length);\n            }\n            else if (event.keyCode == 40 || event.keyCode == 34) { // ArrowDown, PageDown\n                this.moveSelection((this.selectedIndex + 1) % this.items.length);\n            }\n            else if (event.keyCode == 36) { // Home\n                this.moveSelection(0);\n            }\n            else if (event.keyCode == 35) { // End\n                this.moveSelection(this.items.length - 1);\n            }\n            else if (event.keyCode == 13) { // Enter\n                this.view.focus();\n            }\n            else if (event.keyCode >= 65 && event.keyCode <= 90 && this.selectedIndex >= 0) { // A-Z\n                let { diagnostic } = this.items[this.selectedIndex], keys = assignKeys(diagnostic.actions);\n                for (let i = 0; i < keys.length; i++)\n                    if (keys[i].toUpperCase().charCodeAt(0) == event.keyCode) {\n                        let found = findDiagnostic(this.view.state.field(lintState).diagnostics, diagnostic);\n                        if (found)\n                            diagnostic.actions[i].apply(view, found.from, found.to);\n                    }\n            }\n            else {\n                return;\n            }\n            event.preventDefault();\n        };\n        let onclick = (event) => {\n            for (let i = 0; i < this.items.length; i++) {\n                if (this.items[i].dom.contains(event.target))\n                    this.moveSelection(i);\n            }\n        };\n        this.list = elt(\"ul\", {\n            tabIndex: 0,\n            role: \"listbox\",\n            \"aria-label\": this.view.state.phrase(\"Diagnostics\"),\n            onkeydown,\n            onclick\n        });\n        this.dom = elt(\"div\", { class: \"cm-panel-lint\" }, this.list, elt(\"button\", {\n            type: \"button\",\n            name: \"close\",\n            \"aria-label\": this.view.state.phrase(\"close\"),\n            onclick: () => closeLintPanel(this.view)\n        }, \"\"));\n        this.update();\n    }\n    get selectedIndex() {\n        let selected = this.view.state.field(lintState).selected;\n        if (!selected)\n            return -1;\n        for (let i = 0; i < this.items.length; i++)\n            if (this.items[i].diagnostic == selected.diagnostic)\n                return i;\n        return -1;\n    }\n    update() {\n        let { diagnostics, selected } = this.view.state.field(lintState);\n        let i = 0, needsSync = false, newSelectedItem = null;\n        diagnostics.between(0, this.view.state.doc.length, (_start, _end, { spec }) => {\n            let found = -1, item;\n            for (let j = i; j < this.items.length; j++)\n                if (this.items[j].diagnostic == spec.diagnostic) {\n                    found = j;\n                    break;\n                }\n            if (found < 0) {\n                item = new PanelItem(this.view, spec.diagnostic);\n                this.items.splice(i, 0, item);\n                needsSync = true;\n            }\n            else {\n                item = this.items[found];\n                if (found > i) {\n                    this.items.splice(i, found - i);\n                    needsSync = true;\n                }\n            }\n            if (selected && item.diagnostic == selected.diagnostic) {\n                if (!item.dom.hasAttribute(\"aria-selected\")) {\n                    item.dom.setAttribute(\"aria-selected\", \"true\");\n                    newSelectedItem = item;\n                }\n            }\n            else if (item.dom.hasAttribute(\"aria-selected\")) {\n                item.dom.removeAttribute(\"aria-selected\");\n            }\n            i++;\n        });\n        while (i < this.items.length && !(this.items.length == 1 && this.items[0].diagnostic.from < 0)) {\n            needsSync = true;\n            this.items.pop();\n        }\n        if (this.items.length == 0) {\n            this.items.push(new PanelItem(this.view, {\n                from: -1, to: -1,\n                severity: \"info\",\n                message: this.view.state.phrase(\"No diagnostics\")\n            }));\n            needsSync = true;\n        }\n        if (newSelectedItem) {\n            this.list.setAttribute(\"aria-activedescendant\", newSelectedItem.id);\n            this.view.requestMeasure({\n                key: this,\n                read: () => ({ sel: newSelectedItem.dom.getBoundingClientRect(), panel: this.list.getBoundingClientRect() }),\n                write: ({ sel, panel }) => {\n                    if (sel.top < panel.top)\n                        this.list.scrollTop -= panel.top - sel.top;\n                    else if (sel.bottom > panel.bottom)\n                        this.list.scrollTop += sel.bottom - panel.bottom;\n                }\n            });\n        }\n        else if (this.selectedIndex < 0) {\n            this.list.removeAttribute(\"aria-activedescendant\");\n        }\n        if (needsSync)\n            this.sync();\n    }\n    sync() {\n        let domPos = this.list.firstChild;\n        function rm() {\n            let prev = domPos;\n            domPos = prev.nextSibling;\n            prev.remove();\n        }\n        for (let item of this.items) {\n            if (item.dom.parentNode == this.list) {\n                while (domPos != item.dom)\n                    rm();\n                domPos = item.dom.nextSibling;\n            }\n            else {\n                this.list.insertBefore(item.dom, domPos);\n            }\n        }\n        while (domPos)\n            rm();\n    }\n    moveSelection(selectedIndex) {\n        if (this.selectedIndex < 0)\n            return;\n        let field = this.view.state.field(lintState);\n        let selection = findDiagnostic(field.diagnostics, this.items[selectedIndex].diagnostic);\n        if (!selection)\n            return;\n        this.view.dispatch({\n            selection: { anchor: selection.from, head: selection.to },\n            scrollIntoView: true,\n            effects: movePanelSelection.of(selection)\n        });\n    }\n    static open(view) { return new LintPanel(view); }\n}\nfunction underline(color) {\n    if (typeof btoa != \"function\")\n        return \"none\";\n    let svg = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"6\" height=\"3\">\n    <path d=\"m0 3 l2 -2 l1 0 l2 2 l1 0\" stroke=\"${color}\" fill=\"none\" stroke-width=\".7\"/>\n  </svg>`;\n    return `url('data:image/svg+xml;base64,${btoa(svg)}')`;\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-diagnostic\": {\n        padding: \"3px 6px 3px 8px\",\n        marginLeft: \"-1px\",\n        display: \"block\",\n        whiteSpace: \"pre-wrap\"\n    },\n    \".cm-diagnostic-error\": { borderLeft: \"5px solid #d11\" },\n    \".cm-diagnostic-warning\": { borderLeft: \"5px solid orange\" },\n    \".cm-diagnostic-info\": { borderLeft: \"5px solid #999\" },\n    \".cm-diagnosticAction\": {\n        font: \"inherit\",\n        border: \"none\",\n        padding: \"2px 4px\",\n        backgroundColor: \"#444\",\n        color: \"white\",\n        borderRadius: \"3px\",\n        marginLeft: \"8px\"\n    },\n    \".cm-diagnosticSource\": {\n        fontSize: \"70%\",\n        opacity: .7\n    },\n    \".cm-lintRange\": {\n        backgroundPosition: \"left bottom\",\n        backgroundRepeat: \"repeat-x\"\n    },\n    \".cm-lintRange-error\": { backgroundImage: /*@__PURE__*/underline(\"#d11\") },\n    \".cm-lintRange-warning\": { backgroundImage: /*@__PURE__*/underline(\"orange\") },\n    \".cm-lintRange-info\": { backgroundImage: /*@__PURE__*/underline(\"#999\") },\n    \".cm-lintRange-active\": { backgroundColor: \"#ffdd9980\" },\n    \".cm-tooltip-lint\": {\n        padding: 0,\n        margin: 0\n    },\n    \".cm-lintPoint\": {\n        position: \"relative\",\n        \"&:after\": {\n            content: '\"\"',\n            position: \"absolute\",\n            bottom: 0,\n            left: \"-2px\",\n            borderLeft: \"3px solid transparent\",\n            borderRight: \"3px solid transparent\",\n            borderBottom: \"4px solid #d11\"\n        }\n    },\n    \".cm-lintPoint-warning\": {\n        \"&:after\": { borderBottomColor: \"orange\" }\n    },\n    \".cm-lintPoint-info\": {\n        \"&:after\": { borderBottomColor: \"#999\" }\n    },\n    \".cm-panel.cm-panel-lint\": {\n        position: \"relative\",\n        \"& ul\": {\n            maxHeight: \"100px\",\n            overflowY: \"auto\",\n            \"& [aria-selected]\": {\n                backgroundColor: \"#ddd\",\n                \"& u\": { textDecoration: \"underline\" }\n            },\n            \"&:focus [aria-selected]\": {\n                background_fallback: \"#bdf\",\n                backgroundColor: \"Highlight\",\n                color_fallback: \"white\",\n                color: \"HighlightText\"\n            },\n            \"& u\": { textDecoration: \"none\" },\n            padding: 0,\n            margin: 0\n        },\n        \"& [name=close]\": {\n            position: \"absolute\",\n            top: \"0\",\n            right: \"2px\",\n            background: \"inherit\",\n            border: \"none\",\n            font: \"inherit\",\n            padding: 0,\n            margin: 0\n        }\n    }\n});\n\nexport { closeLintPanel, diagnosticCount, forceLinting, lintKeymap, linter, nextDiagnostic, openLintPanel, setDiagnostics };\n","import { Facet, combineConfig, StateField } from '@codemirror/state';\nimport { syntaxTree } from '@codemirror/language';\nimport { EditorView, Decoration } from '@codemirror/view';\nimport { NodeProp } from '@lezer/common';\n\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-matchingBracket\": { color: \"#0b0\" },\n    \".cm-nonmatchingBracket\": { color: \"#a22\" }\n});\nconst DefaultScanDist = 10000, DefaultBrackets = \"()[]{}\";\nconst bracketMatchingConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            afterCursor: true,\n            brackets: DefaultBrackets,\n            maxScanDistance: DefaultScanDist\n        });\n    }\n});\nconst matchingMark = /*@__PURE__*/Decoration.mark({ class: \"cm-matchingBracket\" }), nonmatchingMark = /*@__PURE__*/Decoration.mark({ class: \"cm-nonmatchingBracket\" });\nconst bracketMatchingState = /*@__PURE__*/StateField.define({\n    create() { return Decoration.none; },\n    update(deco, tr) {\n        if (!tr.docChanged && !tr.selection)\n            return deco;\n        let decorations = [];\n        let config = tr.state.facet(bracketMatchingConfig);\n        for (let range of tr.state.selection.ranges) {\n            if (!range.empty)\n                continue;\n            let match = matchBrackets(tr.state, range.head, -1, config)\n                || (range.head > 0 && matchBrackets(tr.state, range.head - 1, 1, config))\n                || (config.afterCursor &&\n                    (matchBrackets(tr.state, range.head, 1, config) ||\n                        (range.head < tr.state.doc.length && matchBrackets(tr.state, range.head + 1, -1, config))));\n            if (!match)\n                continue;\n            let mark = match.matched ? matchingMark : nonmatchingMark;\n            decorations.push(mark.range(match.start.from, match.start.to));\n            if (match.end)\n                decorations.push(mark.range(match.end.from, match.end.to));\n        }\n        return Decoration.set(decorations, true);\n    },\n    provide: f => EditorView.decorations.from(f)\n});\nconst bracketMatchingUnique = [\n    bracketMatchingState,\n    baseTheme\n];\n/**\nCreate an extension that enables bracket matching. Whenever the\ncursor is next to a bracket, that bracket and the one it matches\nare highlighted. Or, when no matching bracket is found, another\nhighlighting style is used to indicate this.\n*/\nfunction bracketMatching(config = {}) {\n    return [bracketMatchingConfig.of(config), bracketMatchingUnique];\n}\nfunction matchingNodes(node, dir, brackets) {\n    let byProp = node.prop(dir < 0 ? NodeProp.openedBy : NodeProp.closedBy);\n    if (byProp)\n        return byProp;\n    if (node.name.length == 1) {\n        let index = brackets.indexOf(node.name);\n        if (index > -1 && index % 2 == (dir < 0 ? 1 : 0))\n            return [brackets[index + dir]];\n    }\n    return null;\n}\n/**\nFind the matching bracket for the token at `pos`, scanning\ndirection `dir`. Only the `brackets` and `maxScanDistance`\nproperties are used from `config`, if given. Returns null if no\nbracket was found at `pos`, or a match result otherwise.\n*/\nfunction matchBrackets(state, pos, dir, config = {}) {\n    let maxScanDistance = config.maxScanDistance || DefaultScanDist, brackets = config.brackets || DefaultBrackets;\n    let tree = syntaxTree(state), sub = tree.resolve(pos, dir), matches;\n    if (matches = matchingNodes(sub.type, dir, brackets))\n        return matchMarkedBrackets(state, pos, dir, sub, matches, brackets);\n    else\n        return matchPlainBrackets(state, pos, dir, tree, sub.type, maxScanDistance, brackets);\n}\nfunction matchMarkedBrackets(_state, _pos, dir, token, matching, brackets) {\n    let parent = token.parent, firstToken = { from: token.from, to: token.to };\n    let depth = 0, cursor = parent === null || parent === void 0 ? void 0 : parent.cursor;\n    if (cursor && (dir < 0 ? cursor.childBefore(token.from) : cursor.childAfter(token.to)))\n        do {\n            if (dir < 0 ? cursor.to <= token.from : cursor.from >= token.to) {\n                if (depth == 0 && matching.indexOf(cursor.type.name) > -1) {\n                    return { start: firstToken, end: { from: cursor.from, to: cursor.to }, matched: true };\n                }\n                else if (matchingNodes(cursor.type, dir, brackets)) {\n                    depth++;\n                }\n                else if (matchingNodes(cursor.type, -dir, brackets)) {\n                    depth--;\n                    if (depth == 0)\n                        return { start: firstToken, end: { from: cursor.from, to: cursor.to }, matched: false };\n                }\n            }\n        } while (dir < 0 ? cursor.prevSibling() : cursor.nextSibling());\n    return { start: firstToken, matched: false };\n}\nfunction matchPlainBrackets(state, pos, dir, tree, tokenType, maxScanDistance, brackets) {\n    let startCh = dir < 0 ? state.sliceDoc(pos - 1, pos) : state.sliceDoc(pos, pos + 1);\n    let bracket = brackets.indexOf(startCh);\n    if (bracket < 0 || (bracket % 2 == 0) != (dir > 0))\n        return null;\n    let startToken = { from: dir < 0 ? pos - 1 : pos, to: dir > 0 ? pos + 1 : pos };\n    let iter = state.doc.iterRange(pos, dir > 0 ? state.doc.length : 0), depth = 0;\n    for (let distance = 0; !(iter.next()).done && distance <= maxScanDistance;) {\n        let text = iter.value;\n        if (dir < 0)\n            distance += text.length;\n        let basePos = pos + distance * dir;\n        for (let pos = dir > 0 ? 0 : text.length - 1, end = dir > 0 ? text.length : -1; pos != end; pos += dir) {\n            let found = brackets.indexOf(text[pos]);\n            if (found < 0 || tree.resolve(basePos + pos, 1).type != tokenType)\n                continue;\n            if ((found % 2 == 0) == (dir > 0)) {\n                depth++;\n            }\n            else if (depth == 1) { // Closing\n                return { start: startToken, end: { from: basePos + pos, to: basePos + pos + 1 }, matched: (found >> 1) == (bracket >> 1) };\n            }\n            else {\n                depth--;\n            }\n        }\n        if (dir > 0)\n            distance += text.length;\n    }\n    return iter.done ? { start: startToken, matched: false } : null;\n}\n\nexport { bracketMatching, matchBrackets };\n","import { StateEffect, StateField, Facet, combineConfig } from '@codemirror/state';\nimport { Decoration, EditorView, WidgetType, ViewPlugin } from '@codemirror/view';\nimport { foldable, language } from '@codemirror/language';\nimport { gutter, GutterMarker } from '@codemirror/gutter';\nimport { RangeSet, RangeSetBuilder } from '@codemirror/rangeset';\n\nfunction mapRange(range, mapping) {\n    let from = mapping.mapPos(range.from, 1), to = mapping.mapPos(range.to, -1);\n    return from >= to ? undefined : { from, to };\n}\n/**\nState effect that can be attached to a transaction to fold the\ngiven range. (You probably only need this in exceptional\ncircumstancesusually you'll just want to let\n[`foldCode`](https://codemirror.net/6/docs/ref/#fold.foldCode) and the [fold\ngutter](https://codemirror.net/6/docs/ref/#fold.foldGutter) create the transactions.)\n*/\nconst foldEffect = /*@__PURE__*/StateEffect.define({ map: mapRange });\n/**\nState effect that unfolds the given range (if it was folded).\n*/\nconst unfoldEffect = /*@__PURE__*/StateEffect.define({ map: mapRange });\nfunction selectedLines(view) {\n    let lines = [];\n    for (let { head } of view.state.selection.ranges) {\n        if (lines.some(l => l.from <= head && l.to >= head))\n            continue;\n        lines.push(view.visualLineAt(head));\n    }\n    return lines;\n}\nconst foldState = /*@__PURE__*/StateField.define({\n    create() {\n        return Decoration.none;\n    },\n    update(folded, tr) {\n        folded = folded.map(tr.changes);\n        for (let e of tr.effects) {\n            if (e.is(foldEffect) && !foldExists(folded, e.value.from, e.value.to))\n                folded = folded.update({ add: [foldWidget.range(e.value.from, e.value.to)] });\n            else if (e.is(unfoldEffect))\n                folded = folded.update({ filter: (from, to) => e.value.from != from || e.value.to != to,\n                    filterFrom: e.value.from, filterTo: e.value.to });\n        }\n        // Clear folded ranges that cover the selection head\n        if (tr.selection) {\n            let onSelection = false, { head } = tr.selection.main;\n            folded.between(head, head, (a, b) => { if (a < head && b > head)\n                onSelection = true; });\n            if (onSelection)\n                folded = folded.update({\n                    filterFrom: head,\n                    filterTo: head,\n                    filter: (a, b) => b <= head || a >= head\n                });\n        }\n        return folded;\n    },\n    provide: f => EditorView.decorations.from(f)\n});\n/**\nGet a [range set](https://codemirror.net/6/docs/ref/#rangeset.RangeSet) containing the folded ranges\nin the given state.\n*/\nfunction foldedRanges(state) {\n    return state.field(foldState, false) || RangeSet.empty;\n}\nfunction foldInside(state, from, to) {\n    var _a;\n    let found = null;\n    (_a = state.field(foldState, false)) === null || _a === void 0 ? void 0 : _a.between(from, to, (from, to) => {\n        if (!found || found.from > from)\n            found = { from, to };\n    });\n    return found;\n}\nfunction foldExists(folded, from, to) {\n    let found = false;\n    folded.between(from, from, (a, b) => { if (a == from && b == to)\n        found = true; });\n    return found;\n}\nfunction maybeEnable(state, other) {\n    return state.field(foldState, false) ? other : other.concat(StateEffect.appendConfig.of(codeFolding()));\n}\n/**\nFold the lines that are selected, if possible.\n*/\nconst foldCode = view => {\n    for (let line of selectedLines(view)) {\n        let range = foldable(view.state, line.from, line.to);\n        if (range) {\n            view.dispatch({ effects: maybeEnable(view.state, [foldEffect.of(range), announceFold(view, range)]) });\n            return true;\n        }\n    }\n    return false;\n};\n/**\nUnfold folded ranges on selected lines.\n*/\nconst unfoldCode = view => {\n    if (!view.state.field(foldState, false))\n        return false;\n    let effects = [];\n    for (let line of selectedLines(view)) {\n        let folded = foldInside(view.state, line.from, line.to);\n        if (folded)\n            effects.push(unfoldEffect.of(folded), announceFold(view, folded, false));\n    }\n    if (effects.length)\n        view.dispatch({ effects });\n    return effects.length > 0;\n};\nfunction announceFold(view, range, fold = true) {\n    let lineFrom = view.state.doc.lineAt(range.from).number, lineTo = view.state.doc.lineAt(range.to).number;\n    return EditorView.announce.of(`${view.state.phrase(fold ? \"Folded lines\" : \"Unfolded lines\")} ${lineFrom} ${view.state.phrase(\"to\")} ${lineTo}.`);\n}\n/**\nFold all top-level foldable ranges.\n*/\nconst foldAll = view => {\n    let { state } = view, effects = [];\n    for (let pos = 0; pos < state.doc.length;) {\n        let line = view.visualLineAt(pos), range = foldable(state, line.from, line.to);\n        if (range)\n            effects.push(foldEffect.of(range));\n        pos = (range ? view.visualLineAt(range.to) : line).to + 1;\n    }\n    if (effects.length)\n        view.dispatch({ effects: maybeEnable(view.state, effects) });\n    return !!effects.length;\n};\n/**\nUnfold all folded code.\n*/\nconst unfoldAll = view => {\n    let field = view.state.field(foldState, false);\n    if (!field || !field.size)\n        return false;\n    let effects = [];\n    field.between(0, view.state.doc.length, (from, to) => { effects.push(unfoldEffect.of({ from, to })); });\n    view.dispatch({ effects });\n    return true;\n};\n/**\nDefault fold-related key bindings.\n\n - Ctrl-Shift-[ (Cmd-Alt-[ on macOS): [`foldCode`](https://codemirror.net/6/docs/ref/#fold.foldCode).\n - Ctrl-Shift-] (Cmd-Alt-] on macOS): [`unfoldCode`](https://codemirror.net/6/docs/ref/#fold.unfoldCode).\n - Ctrl-Alt-[: [`foldAll`](https://codemirror.net/6/docs/ref/#fold.foldAll).\n - Ctrl-Alt-]: [`unfoldAll`](https://codemirror.net/6/docs/ref/#fold.unfoldAll).\n*/\nconst foldKeymap = [\n    { key: \"Ctrl-Shift-[\", mac: \"Cmd-Alt-[\", run: foldCode },\n    { key: \"Ctrl-Shift-]\", mac: \"Cmd-Alt-]\", run: unfoldCode },\n    { key: \"Ctrl-Alt-[\", run: foldAll },\n    { key: \"Ctrl-Alt-]\", run: unfoldAll }\n];\nconst defaultConfig = {\n    placeholderDOM: null,\n    placeholderText: \"\"\n};\nconst foldConfig = /*@__PURE__*/Facet.define({\n    combine(values) { return combineConfig(values, defaultConfig); }\n});\n/**\nCreate an extension that configures code folding.\n*/\nfunction codeFolding(config) {\n    let result = [foldState, baseTheme];\n    if (config)\n        result.push(foldConfig.of(config));\n    return result;\n}\nconst foldWidget = /*@__PURE__*/Decoration.replace({ widget: /*@__PURE__*/new class extends WidgetType {\n        ignoreEvents() { return false; }\n        toDOM(view) {\n            let { state } = view, conf = state.facet(foldConfig);\n            if (conf.placeholderDOM)\n                return conf.placeholderDOM();\n            let element = document.createElement(\"span\");\n            element.textContent = conf.placeholderText;\n            element.setAttribute(\"aria-label\", state.phrase(\"folded code\"));\n            element.title = state.phrase(\"unfold\");\n            element.className = \"cm-foldPlaceholder\";\n            element.onclick = event => {\n                let line = view.visualLineAt(view.posAtDOM(event.target));\n                let folded = foldInside(view.state, line.from, line.to);\n                if (folded)\n                    view.dispatch({ effects: unfoldEffect.of(folded) });\n                event.preventDefault();\n            };\n            return element;\n        }\n    } });\nconst foldGutterDefaults = {\n    openText: \"\",\n    closedText: \"\",\n    markerDOM: null,\n};\nclass FoldMarker extends GutterMarker {\n    constructor(config, open) {\n        super();\n        this.config = config;\n        this.open = open;\n    }\n    eq(other) { return this.config == other.config && this.open == other.open; }\n    toDOM(view) {\n        if (this.config.markerDOM)\n            return this.config.markerDOM(this.open);\n        let span = document.createElement(\"span\");\n        span.textContent = this.open ? this.config.openText : this.config.closedText;\n        span.title = view.state.phrase(this.open ? \"Fold line\" : \"Unfold line\");\n        return span;\n    }\n}\n/**\nCreate an extension that registers a fold gutter, which shows a\nfold status indicator before foldable lines (which can be clicked\nto fold or unfold the line).\n*/\nfunction foldGutter(config = {}) {\n    let fullConfig = Object.assign(Object.assign({}, foldGutterDefaults), config);\n    let canFold = new FoldMarker(fullConfig, true), canUnfold = new FoldMarker(fullConfig, false);\n    let markers = ViewPlugin.fromClass(class {\n        constructor(view) {\n            this.from = view.viewport.from;\n            this.markers = this.buildMarkers(view);\n        }\n        update(update) {\n            if (update.docChanged || update.viewportChanged ||\n                update.startState.facet(language) != update.state.facet(language) ||\n                update.startState.field(foldState, false) != update.state.field(foldState, false))\n                this.markers = this.buildMarkers(update.view);\n        }\n        buildMarkers(view) {\n            let builder = new RangeSetBuilder();\n            view.viewportLines(line => {\n                let mark = foldInside(view.state, line.from, line.to) ? canUnfold\n                    : foldable(view.state, line.from, line.to) ? canFold : null;\n                if (mark)\n                    builder.add(line.from, line.from, mark);\n            });\n            return builder.finish();\n        }\n    });\n    return [\n        markers,\n        gutter({\n            class: \"cm-foldGutter\",\n            markers(view) { var _a; return ((_a = view.plugin(markers)) === null || _a === void 0 ? void 0 : _a.markers) || RangeSet.empty; },\n            initialSpacer() {\n                return new FoldMarker(fullConfig, false);\n            },\n            domEventHandlers: {\n                click: (view, line) => {\n                    let folded = foldInside(view.state, line.from, line.to);\n                    if (folded) {\n                        view.dispatch({ effects: unfoldEffect.of(folded) });\n                        return true;\n                    }\n                    let range = foldable(view.state, line.from, line.to);\n                    if (range) {\n                        view.dispatch({ effects: foldEffect.of(range) });\n                        return true;\n                    }\n                    return false;\n                }\n            }\n        }),\n        codeFolding()\n    ];\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-foldPlaceholder\": {\n        backgroundColor: \"#eee\",\n        border: \"1px solid #ddd\",\n        color: \"#888\",\n        borderRadius: \".2em\",\n        margin: \"0 1px\",\n        padding: \"0 1px\",\n        cursor: \"pointer\"\n    },\n    \".cm-foldGutter .cm-gutterElement\": {\n        padding: \"0 1px\",\n        cursor: \"pointer\"\n    }\n});\n\nexport { codeFolding, foldAll, foldCode, foldEffect, foldGutter, foldKeymap, foldedRanges, unfoldAll, unfoldCode, unfoldEffect };\n","import {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  ElementRef,\n  EventEmitter,\n  Input,\n  OnChanges,\n  OnInit,\n  Output,\n  SimpleChanges\n} from '@angular/core';\nimport { EditorView, keymap } from '@codemirror/view';\nimport { EditorState, Extension } from '@codemirror/state';\nimport { indentOnInput } from '@codemirror/language';\nimport { defaultKeymap, indentLess, indentMore } from '@codemirror/commands';\n\n@Component({\n  selector: 'gewd-codemirror',\n  template: '',\n  styleUrls: ['./codemirror.component.scss'],\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CodemirrorComponent implements OnInit, OnChanges {\n\n  private _changedByValue = false;\n\n  // current value of the codemirror-editor\n  private _value = '';\n\n  get value () {\n    return this._value;\n  }\n\n  @Input()\n  set value (_val) {\n    this._value = _val;\n    this._updateValue(_val);\n  }\n\n  @Output()\n  public changed = new EventEmitter<string>();\n\n  @Input()\n  public codemirrorExtensions: Extension[];\n\n  @Input()\n  public editorState: EditorState;\n\n  @Output()\n  public codemirrorCreated = new EventEmitter();\n\n  public codeMirrorView: EditorView | null = null;\n\n  public selectedRange: {from: number, to: number} | null = null;\n\n  constructor(\n    private element: ElementRef<HTMLElement>,\n    private cd: ChangeDetectorRef\n  ) { }\n\n  ngOnInit(): void {\n    if (!this.editorState) {\n      this.editorState = this.createEditorState();\n    }\n\n    this.codeMirrorView = new EditorView({\n      state: this.editorState,\n      parent: this.element.nativeElement\n    });\n\n    this.codemirrorCreated.emit();\n  }\n\n  ngOnChanges({value, codemirrorExtensions, editorState}: SimpleChanges): void {\n    if (value) {\n      this._updateValue(value.currentValue);\n    }\n\n    if (codemirrorExtensions) {\n      this.replaceEditorState();\n    }\n\n    if (editorState) {\n      this.codeMirrorView?.setState(editorState.currentValue);\n    }\n  }\n\n  public insertText(from: number, to: number, text: string) {\n    const transaction = this.codeMirrorView?.state.update({\n      changes: {\n        from,\n        to,\n        insert: text\n      },\n      selection: {anchor: from + text.length},\n      scrollIntoView: true\n    });\n\n    if (transaction) {\n      this.codeMirrorView?.dispatch(transaction);\n    }\n  }\n\n  public replaceSelection(text: string) {\n    const selectionTransaction = this.codeMirrorView.state.replaceSelection(text);\n\n    this.codeMirrorView.dispatch(selectionTransaction);\n  }\n\n  private _updateValue(value: string) {\n    this._changedByValue = true;\n\n    if (this._value !== value) {\n      this.insertText(\n        0,\n        this.codeMirrorView?.state.doc.length,\n        value\n      );\n    }\n\n    this._changedByValue = false;\n  }\n\n  private replaceEditorState(){\n    this.codeMirrorView?.setState(this.createEditorState());\n  }\n\n  private createEditorState () {\n    return EditorState.create({\n      doc: this.value,\n      extensions: [\n        ...this.codemirrorExtensions,\n\n        keymap.of([\n          ...defaultKeymap,\n          {\n            key: 'Tab',\n            preventDefault: true,\n            run: indentMore,\n          },\n          {\n            key: 'Shift-Tab',\n            preventDefault: true,\n            run: indentLess,\n          },\n        ]),\n\n        indentOnInput(),\n        // The basic setup needs to be at the end DUH\n        // basicSetup,\n        EditorState.changeFilter.of((tr) => {\n          if (tr.newSelection) {\n            const ranges = tr.newSelection.ranges;\n\n            if (ranges.length > 0) {\n              const range = ranges[0];\n\n              this.selectedRange = {\n                from: range.from,\n                to: range.to,\n              };\n              this.cd.markForCheck();\n            }\n          }\n\n          if (tr.docChanged && !this._changedByValue) {\n            this._value = tr.newDoc.toJSON().join('\\n');\n\n            this.changed.emit(this._value);\n          }\n\n          return true;\n        })\n      ]\n    });\n  }\n}\n","import { EditorView } from '@codemirror/view';\nimport { StateEffect, MapMode, StateField, EditorSelection, CharCategory } from '@codemirror/state';\nimport { RangeValue, RangeSet } from '@codemirror/rangeset';\nimport { codePointSize, codePointAt, fromCodePoint } from '@codemirror/text';\nimport { syntaxTree } from '@codemirror/language';\n\nconst defaults = {\n    brackets: [\"(\", \"[\", \"{\", \"'\", '\"'],\n    before: \")]}'\\\":;>\"\n};\nconst closeBracketEffect = /*@__PURE__*/StateEffect.define({\n    map(value, mapping) {\n        let mapped = mapping.mapPos(value, -1, MapMode.TrackAfter);\n        return mapped == null ? undefined : mapped;\n    }\n});\nconst skipBracketEffect = /*@__PURE__*/StateEffect.define({\n    map(value, mapping) { return mapping.mapPos(value); }\n});\nconst closedBracket = /*@__PURE__*/new class extends RangeValue {\n};\nclosedBracket.startSide = 1;\nclosedBracket.endSide = -1;\nconst bracketState = /*@__PURE__*/StateField.define({\n    create() { return RangeSet.empty; },\n    update(value, tr) {\n        if (tr.selection) {\n            let lineStart = tr.state.doc.lineAt(tr.selection.main.head).from;\n            let prevLineStart = tr.startState.doc.lineAt(tr.startState.selection.main.head).from;\n            if (lineStart != tr.changes.mapPos(prevLineStart, -1))\n                value = RangeSet.empty;\n        }\n        value = value.map(tr.changes);\n        for (let effect of tr.effects) {\n            if (effect.is(closeBracketEffect))\n                value = value.update({ add: [closedBracket.range(effect.value, effect.value + 1)] });\n            else if (effect.is(skipBracketEffect))\n                value = value.update({ filter: from => from != effect.value });\n        }\n        return value;\n    }\n});\n/**\nExtension to enable bracket-closing behavior. When a closeable\nbracket is typed, its closing bracket is immediately inserted\nafter the cursor. When closing a bracket directly in front of a\nclosing bracket inserted by the extension, the cursor moves over\nthat bracket.\n*/\nfunction closeBrackets() {\n    return [EditorView.inputHandler.of(handleInput), bracketState];\n}\nconst definedClosing = \"()[]{}<>\";\nfunction closing(ch) {\n    for (let i = 0; i < definedClosing.length; i += 2)\n        if (definedClosing.charCodeAt(i) == ch)\n            return definedClosing.charAt(i + 1);\n    return fromCodePoint(ch < 128 ? ch : ch + 1);\n}\nfunction config(state, pos) {\n    return state.languageDataAt(\"closeBrackets\", pos)[0] || defaults;\n}\nfunction handleInput(view, from, to, insert) {\n    if (view.composing)\n        return false;\n    let sel = view.state.selection.main;\n    if (insert.length > 2 || insert.length == 2 && codePointSize(codePointAt(insert, 0)) == 1 ||\n        from != sel.from || to != sel.to)\n        return false;\n    let tr = insertBracket(view.state, insert);\n    if (!tr)\n        return false;\n    view.dispatch(tr);\n    return true;\n}\n/**\nCommand that implements deleting a pair of matching brackets when\nthe cursor is between them.\n*/\nconst deleteBracketPair = ({ state, dispatch }) => {\n    let conf = config(state, state.selection.main.head);\n    let tokens = conf.brackets || defaults.brackets;\n    let dont = null, changes = state.changeByRange(range => {\n        if (range.empty) {\n            let before = prevChar(state.doc, range.head);\n            for (let token of tokens) {\n                if (token == before && nextChar(state.doc, range.head) == closing(codePointAt(token, 0)))\n                    return { changes: { from: range.head - token.length, to: range.head + token.length },\n                        range: EditorSelection.cursor(range.head - token.length),\n                        userEvent: \"delete.backward\" };\n            }\n        }\n        return { range: dont = range };\n    });\n    if (!dont)\n        dispatch(state.update(changes, { scrollIntoView: true }));\n    return !dont;\n};\n/**\nClose-brackets related key bindings. Binds Backspace to\n[`deleteBracketPair`](https://codemirror.net/6/docs/ref/#closebrackets.deleteBracketPair).\n*/\nconst closeBracketsKeymap = [\n    { key: \"Backspace\", run: deleteBracketPair }\n];\n/**\nImplements the extension's behavior on text insertion. If the\ngiven string counts as a bracket in the language around the\nselection, and replacing the selection with it requires custom\nbehavior (inserting a closing version or skipping past a\npreviously-closed bracket), this function returns a transaction\nrepresenting that custom behavior. (You only need this if you want\nto programmatically insert bracketsthe\n[`closeBrackets`](https://codemirror.net/6/docs/ref/#closebrackets.closeBrackets) extension will\ntake care of running this for user input.)\n*/\nfunction insertBracket(state, bracket) {\n    let conf = config(state, state.selection.main.head);\n    let tokens = conf.brackets || defaults.brackets;\n    for (let tok of tokens) {\n        let closed = closing(codePointAt(tok, 0));\n        if (bracket == tok)\n            return closed == tok ? handleSame(state, tok, tokens.indexOf(tok + tok + tok) > -1)\n                : handleOpen(state, tok, closed, conf.before || defaults.before);\n        if (bracket == closed && closedBracketAt(state, state.selection.main.from))\n            return handleClose(state, tok, closed);\n    }\n    return null;\n}\nfunction closedBracketAt(state, pos) {\n    let found = false;\n    state.field(bracketState).between(0, state.doc.length, from => {\n        if (from == pos)\n            found = true;\n    });\n    return found;\n}\nfunction nextChar(doc, pos) {\n    let next = doc.sliceString(pos, pos + 2);\n    return next.slice(0, codePointSize(codePointAt(next, 0)));\n}\nfunction prevChar(doc, pos) {\n    let prev = doc.sliceString(pos - 2, pos);\n    return codePointSize(codePointAt(prev, 0)) == prev.length ? prev : prev.slice(1);\n}\nfunction handleOpen(state, open, close, closeBefore) {\n    let dont = null, changes = state.changeByRange(range => {\n        if (!range.empty)\n            return { changes: [{ insert: open, from: range.from }, { insert: close, from: range.to }],\n                effects: closeBracketEffect.of(range.to + open.length),\n                range: EditorSelection.range(range.anchor + open.length, range.head + open.length) };\n        let next = nextChar(state.doc, range.head);\n        if (!next || /\\s/.test(next) || closeBefore.indexOf(next) > -1)\n            return { changes: { insert: open + close, from: range.head },\n                effects: closeBracketEffect.of(range.head + open.length),\n                range: EditorSelection.cursor(range.head + open.length) };\n        return { range: dont = range };\n    });\n    return dont ? null : state.update(changes, {\n        scrollIntoView: true,\n        userEvent: \"input.type\"\n    });\n}\nfunction handleClose(state, _open, close) {\n    let dont = null, moved = state.selection.ranges.map(range => {\n        if (range.empty && nextChar(state.doc, range.head) == close)\n            return EditorSelection.cursor(range.head + close.length);\n        return dont = range;\n    });\n    return dont ? null : state.update({\n        selection: EditorSelection.create(moved, state.selection.mainIndex),\n        scrollIntoView: true,\n        effects: state.selection.ranges.map(({ from }) => skipBracketEffect.of(from))\n    });\n}\n// Handles cases where the open and close token are the same, and\n// possibly triple quotes (as in `\"\"\"abc\"\"\"`-style quoting).\nfunction handleSame(state, token, allowTriple) {\n    let dont = null, changes = state.changeByRange(range => {\n        if (!range.empty)\n            return { changes: [{ insert: token, from: range.from }, { insert: token, from: range.to }],\n                effects: closeBracketEffect.of(range.to + token.length),\n                range: EditorSelection.range(range.anchor + token.length, range.head + token.length) };\n        let pos = range.head, next = nextChar(state.doc, pos);\n        if (next == token) {\n            if (nodeStart(state, pos)) {\n                return { changes: { insert: token + token, from: pos },\n                    effects: closeBracketEffect.of(pos + token.length),\n                    range: EditorSelection.cursor(pos + token.length) };\n            }\n            else if (closedBracketAt(state, pos)) {\n                let isTriple = allowTriple && state.sliceDoc(pos, pos + token.length * 3) == token + token + token;\n                return { range: EditorSelection.cursor(pos + token.length * (isTriple ? 3 : 1)),\n                    effects: skipBracketEffect.of(pos) };\n            }\n        }\n        else if (allowTriple && state.sliceDoc(pos - 2 * token.length, pos) == token + token &&\n            nodeStart(state, pos - 2 * token.length)) {\n            return { changes: { insert: token + token + token + token, from: pos },\n                effects: closeBracketEffect.of(pos + token.length),\n                range: EditorSelection.cursor(pos + token.length) };\n        }\n        else if (state.charCategorizer(pos)(next) != CharCategory.Word) {\n            let prev = state.sliceDoc(pos - 1, pos);\n            if (prev != token && state.charCategorizer(pos)(prev) != CharCategory.Word)\n                return { changes: { insert: token + token, from: pos },\n                    effects: closeBracketEffect.of(pos + token.length),\n                    range: EditorSelection.cursor(pos + token.length) };\n        }\n        return { range: dont = range };\n    });\n    return dont ? null : state.update(changes, {\n        scrollIntoView: true,\n        userEvent: \"input.type\"\n    });\n}\nfunction nodeStart(state, pos) {\n    let tree = syntaxTree(state).resolveInner(pos + 1);\n    return tree.parent && tree.from == pos;\n}\n\nexport { closeBrackets, closeBracketsKeymap, deleteBracketPair, insertBracket };\n","export default \":host ::ng-deep .cm-editor {\\n  border: 1px solid lightgray !important;\\n}\\n:host ::ng-deep .cm-focused {\\n  outline-color: gray !important;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2NvZGVtaXJyb3IuY29tcG9uZW50LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0U7RUFDRSxzQ0FBQTtBQUFKO0FBR0U7RUFDRSw4QkFBQTtBQURKIiwiZmlsZSI6ImNvZGVtaXJyb3IuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCA6Om5nLWRlZXAge1xuICAuY20tZWRpdG9yIHtcbiAgICBib3JkZXI6IDFweCBzb2xpZCBsaWdodGdyYXkgIWltcG9ydGFudDtcbiAgfVxuXG4gIC5jbS1mb2N1c2VkIHtcbiAgICBvdXRsaW5lLWNvbG9yOiBncmF5ICFpbXBvcnRhbnQ7XG4gIH1cbn1cbiJdfQ== */\";","import { ViewPlugin, PluginField, EditorView } from '@codemirror/view';\nimport { Facet } from '@codemirror/state';\n\nconst panelConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        let topContainer, bottomContainer;\n        for (let c of configs) {\n            topContainer = topContainer || c.topContainer;\n            bottomContainer = bottomContainer || c.bottomContainer;\n        }\n        return { topContainer, bottomContainer };\n    }\n});\n/**\nConfigures the panel-managing extension.\n*/\nfunction panels(config) {\n    return config ? [panelConfig.of(config)] : [];\n}\n/**\nGet the active panel created by the given constructor, if any.\nThis can be useful when you need access to your panels' DOM\nstructure.\n*/\nfunction getPanel(view, panel) {\n    let plugin = view.plugin(panelPlugin);\n    let index = plugin ? plugin.specs.indexOf(panel) : -1;\n    return index > -1 ? plugin.panels[index] : null;\n}\nconst panelPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.input = view.state.facet(showPanel);\n        this.specs = this.input.filter(s => s);\n        this.panels = this.specs.map(spec => spec(view));\n        let conf = view.state.facet(panelConfig);\n        this.top = new PanelGroup(view, true, conf.topContainer);\n        this.bottom = new PanelGroup(view, false, conf.bottomContainer);\n        this.top.sync(this.panels.filter(p => p.top));\n        this.bottom.sync(this.panels.filter(p => !p.top));\n        for (let p of this.panels) {\n            p.dom.classList.add(\"cm-panel\");\n            if (p.mount)\n                p.mount();\n        }\n    }\n    update(update) {\n        let conf = update.state.facet(panelConfig);\n        if (this.top.container != conf.topContainer) {\n            this.top.sync([]);\n            this.top = new PanelGroup(update.view, true, conf.topContainer);\n        }\n        if (this.bottom.container != conf.bottomContainer) {\n            this.bottom.sync([]);\n            this.bottom = new PanelGroup(update.view, false, conf.bottomContainer);\n        }\n        this.top.syncClasses();\n        this.bottom.syncClasses();\n        let input = update.state.facet(showPanel);\n        if (input != this.input) {\n            let specs = input.filter(x => x);\n            let panels = [], top = [], bottom = [], mount = [];\n            for (let spec of specs) {\n                let known = this.specs.indexOf(spec), panel;\n                if (known < 0) {\n                    panel = spec(update.view);\n                    mount.push(panel);\n                }\n                else {\n                    panel = this.panels[known];\n                    if (panel.update)\n                        panel.update(update);\n                }\n                panels.push(panel);\n                (panel.top ? top : bottom).push(panel);\n            }\n            this.specs = specs;\n            this.panels = panels;\n            this.top.sync(top);\n            this.bottom.sync(bottom);\n            for (let p of mount) {\n                p.dom.classList.add(\"cm-panel\");\n                if (p.mount)\n                    p.mount();\n            }\n        }\n        else {\n            for (let p of this.panels)\n                if (p.update)\n                    p.update(update);\n        }\n    }\n    destroy() {\n        this.top.sync([]);\n        this.bottom.sync([]);\n    }\n}, {\n    provide: /*@__PURE__*/PluginField.scrollMargins.from(value => ({ top: value.top.scrollMargin(), bottom: value.bottom.scrollMargin() }))\n});\nclass PanelGroup {\n    constructor(view, top, container) {\n        this.view = view;\n        this.top = top;\n        this.container = container;\n        this.dom = undefined;\n        this.classes = \"\";\n        this.panels = [];\n        this.syncClasses();\n    }\n    sync(panels) {\n        this.panels = panels;\n        this.syncDOM();\n    }\n    syncDOM() {\n        if (this.panels.length == 0) {\n            if (this.dom) {\n                this.dom.remove();\n                this.dom = undefined;\n            }\n            return;\n        }\n        if (!this.dom) {\n            this.dom = document.createElement(\"div\");\n            this.dom.className = this.top ? \"cm-panels cm-panels-top\" : \"cm-panels cm-panels-bottom\";\n            this.dom.style[this.top ? \"top\" : \"bottom\"] = \"0\";\n            let parent = this.container || this.view.dom;\n            parent.insertBefore(this.dom, this.top ? parent.firstChild : null);\n        }\n        let curDOM = this.dom.firstChild;\n        for (let panel of this.panels) {\n            if (panel.dom.parentNode == this.dom) {\n                while (curDOM != panel.dom)\n                    curDOM = rm(curDOM);\n                curDOM = curDOM.nextSibling;\n            }\n            else {\n                this.dom.insertBefore(panel.dom, curDOM);\n            }\n        }\n        while (curDOM)\n            curDOM = rm(curDOM);\n    }\n    scrollMargin() {\n        return !this.dom || this.container ? 0\n            : Math.max(0, this.top ?\n                this.dom.getBoundingClientRect().bottom - Math.max(0, this.view.scrollDOM.getBoundingClientRect().top) :\n                Math.min(innerHeight, this.view.scrollDOM.getBoundingClientRect().bottom) - this.dom.getBoundingClientRect().top);\n    }\n    syncClasses() {\n        if (!this.container || this.classes == this.view.themeClasses)\n            return;\n        for (let cls of this.classes.split(\" \"))\n            if (cls)\n                this.container.classList.remove(cls);\n        for (let cls of (this.classes = this.view.themeClasses).split(\" \"))\n            if (cls)\n                this.container.classList.add(cls);\n    }\n}\nfunction rm(node) {\n    let next = node.nextSibling;\n    node.remove();\n    return next;\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panels\": {\n        boxSizing: \"border-box\",\n        position: \"sticky\",\n        left: 0,\n        right: 0\n    },\n    \"&light .cm-panels\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"black\"\n    },\n    \"&light .cm-panels-top\": {\n        borderBottom: \"1px solid #ddd\"\n    },\n    \"&light .cm-panels-bottom\": {\n        borderTop: \"1px solid #ddd\"\n    },\n    \"&dark .cm-panels\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    }\n});\n/**\nOpening a panel is done by providing a constructor function for\nthe panel through this facet. (The panel is closed again when its\nconstructor is no longer provided.) Values of `null` are ignored.\n*/\nconst showPanel = /*@__PURE__*/Facet.define({\n    enables: [panelPlugin, baseTheme]\n});\n\nexport { getPanel, panels, showPanel };\n","import { ViewPlugin, Direction, EditorView, logException } from '@codemirror/view';\nimport { Facet, StateEffect, StateField, MapMode } from '@codemirror/state';\n\nconst ios = typeof navigator != \"undefined\" &&\n    !/*@__PURE__*//Edge\\/(\\d+)/.exec(navigator.userAgent) && /*@__PURE__*//Apple Computer/.test(navigator.vendor) &&\n    (/*@__PURE__*//Mobile\\/\\w+/.test(navigator.userAgent) || navigator.maxTouchPoints > 2);\nconst Outside = \"-10000px\";\nclass TooltipViewManager {\n    constructor(view, facet, createTooltipView) {\n        this.facet = facet;\n        this.createTooltipView = createTooltipView;\n        this.input = view.state.facet(facet);\n        this.tooltips = this.input.filter(t => t);\n        this.tooltipViews = this.tooltips.map(createTooltipView);\n    }\n    update(update) {\n        let input = update.state.facet(this.facet);\n        let tooltips = input.filter(x => x);\n        if (input === this.input) {\n            for (let t of this.tooltipViews)\n                if (t.update)\n                    t.update(update);\n            return { shouldMeasure: false };\n        }\n        let tooltipViews = [];\n        for (let i = 0; i < tooltips.length; i++) {\n            let tip = tooltips[i], known = -1;\n            if (!tip)\n                continue;\n            for (let i = 0; i < this.tooltips.length; i++) {\n                let other = this.tooltips[i];\n                if (other && other.create == tip.create)\n                    known = i;\n            }\n            if (known < 0) {\n                tooltipViews[i] = this.createTooltipView(tip);\n            }\n            else {\n                let tooltipView = tooltipViews[i] = this.tooltipViews[known];\n                if (tooltipView.update)\n                    tooltipView.update(update);\n            }\n        }\n        for (let t of this.tooltipViews)\n            if (tooltipViews.indexOf(t) < 0)\n                t.dom.remove();\n        this.input = input;\n        this.tooltips = tooltips;\n        this.tooltipViews = tooltipViews;\n        return { shouldMeasure: true };\n    }\n}\n/**\nReturn an extension that configures tooltip behavior.\n*/\nfunction tooltips(config = {}) {\n    return config.position ? tooltipPositioning.of(config.position) : [];\n}\nconst tooltipPositioning = /*@__PURE__*/Facet.define({\n    combine: values => ios ? \"absolute\" : values.length ? values[0] : \"fixed\"\n});\nconst tooltipPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.inView = true;\n        this.position = view.state.facet(tooltipPositioning);\n        this.measureReq = { read: this.readMeasure.bind(this), write: this.writeMeasure.bind(this), key: this };\n        this.manager = new TooltipViewManager(view, showTooltip, t => this.createTooltip(t));\n    }\n    update(update) {\n        let { shouldMeasure } = this.manager.update(update);\n        let newPosition = update.state.facet(tooltipPositioning);\n        if (newPosition != this.position) {\n            this.position = newPosition;\n            for (let t of this.manager.tooltipViews)\n                t.dom.style.position = newPosition;\n            shouldMeasure = true;\n        }\n        if (shouldMeasure)\n            this.maybeMeasure();\n    }\n    createTooltip(tooltip) {\n        let tooltipView = tooltip.create(this.view);\n        tooltipView.dom.classList.add(\"cm-tooltip\");\n        tooltipView.dom.style.position = this.position;\n        tooltipView.dom.style.top = Outside;\n        this.view.dom.appendChild(tooltipView.dom);\n        if (tooltipView.mount)\n            tooltipView.mount(this.view);\n        return tooltipView;\n    }\n    destroy() {\n        for (let { dom } of this.manager.tooltipViews)\n            dom.remove();\n    }\n    readMeasure() {\n        return {\n            editor: this.view.dom.getBoundingClientRect(),\n            pos: this.manager.tooltips.map(t => this.view.coordsAtPos(t.pos)),\n            size: this.manager.tooltipViews.map(({ dom }) => dom.getBoundingClientRect()),\n            innerWidth: window.innerWidth,\n            innerHeight: window.innerHeight\n        };\n    }\n    writeMeasure(measured) {\n        let { editor } = measured;\n        let others = [];\n        for (let i = 0; i < this.manager.tooltips.length; i++) {\n            let tooltip = this.manager.tooltips[i], tView = this.manager.tooltipViews[i], { dom } = tView;\n            let pos = measured.pos[i], size = measured.size[i];\n            // Hide tooltips that are outside of the editor.\n            if (!pos || pos.bottom <= editor.top || pos.top >= editor.bottom || pos.right <= editor.left || pos.left >= editor.right) {\n                dom.style.top = Outside;\n                continue;\n            }\n            let width = size.right - size.left, height = size.bottom - size.top;\n            let left = this.view.textDirection == Direction.LTR ? Math.min(pos.left, measured.innerWidth - width)\n                : Math.max(0, pos.left - width);\n            let above = !!tooltip.above;\n            if (!tooltip.strictSide &&\n                (above ? pos.top - (size.bottom - size.top) < 0 : pos.bottom + (size.bottom - size.top) > measured.innerHeight))\n                above = !above;\n            let top = above ? pos.top - height : pos.bottom, right = left + width;\n            for (let r of others)\n                if (r.left < right && r.right > left && r.top < top + height && r.bottom > top)\n                    top = above ? r.top - height : r.bottom;\n            if (this.position == \"absolute\") {\n                dom.style.top = (top - editor.top) + \"px\";\n                dom.style.left = (left - editor.left) + \"px\";\n            }\n            else {\n                dom.style.top = top + \"px\";\n                dom.style.left = left + \"px\";\n            }\n            others.push({ left, top, right, bottom: top + height });\n            dom.classList.toggle(\"cm-tooltip-above\", above);\n            dom.classList.toggle(\"cm-tooltip-below\", !above);\n            if (tView.positioned)\n                tView.positioned();\n        }\n    }\n    maybeMeasure() {\n        if (this.manager.tooltips.length) {\n            if (this.view.inView)\n                this.view.requestMeasure(this.measureReq);\n            if (this.inView != this.view.inView) {\n                this.inView = this.view.inView;\n                if (!this.inView)\n                    for (let tv of this.manager.tooltipViews)\n                        tv.dom.style.top = Outside;\n            }\n        }\n    }\n}, {\n    eventHandlers: {\n        scroll() { this.maybeMeasure(); }\n    }\n});\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-tooltip\": {\n        zIndex: 100\n    },\n    \"&light .cm-tooltip\": {\n        border: \"1px solid #ddd\",\n        backgroundColor: \"#f5f5f5\"\n    },\n    \"&light .cm-tooltip-section:not(:first-child)\": {\n        borderTop: \"1px solid #ddd\",\n    },\n    \"&dark .cm-tooltip\": {\n        backgroundColor: \"#333338\",\n        color: \"white\"\n    }\n});\n/**\nBehavior by which an extension can provide a tooltip to be shown.\n*/\nconst showTooltip = /*@__PURE__*/Facet.define({\n    enables: [tooltipPlugin, baseTheme]\n});\nconst showHoverTooltip = /*@__PURE__*/Facet.define();\nclass HoverTooltipHost {\n    constructor(view) {\n        this.view = view;\n        this.mounted = false;\n        this.dom = document.createElement(\"div\");\n        this.dom.classList.add(\"cm-tooltip-hover\");\n        this.manager = new TooltipViewManager(view, showHoverTooltip, t => this.createHostedView(t));\n    }\n    // Needs to be static so that host tooltip instances always match\n    static create(view) {\n        return new HoverTooltipHost(view);\n    }\n    createHostedView(tooltip) {\n        let hostedView = tooltip.create(this.view);\n        hostedView.dom.classList.add(\"cm-tooltip-section\");\n        this.dom.appendChild(hostedView.dom);\n        if (this.mounted && hostedView.mount)\n            hostedView.mount(this.view);\n        return hostedView;\n    }\n    mount(view) {\n        for (let hostedView of this.manager.tooltipViews) {\n            if (hostedView.mount)\n                hostedView.mount(view);\n        }\n        this.mounted = true;\n    }\n    positioned() {\n        for (let hostedView of this.manager.tooltipViews) {\n            if (hostedView.positioned)\n                hostedView.positioned();\n        }\n    }\n    update(update) {\n        this.manager.update(update);\n    }\n}\nconst showHoverTooltipHost = /*@__PURE__*/showTooltip.compute([showHoverTooltip], state => {\n    let tooltips = state.facet(showHoverTooltip).filter(t => t);\n    if (tooltips.length === 0)\n        return null;\n    return {\n        pos: Math.min(...tooltips.map(t => t.pos)),\n        end: Math.max(...tooltips.filter(t => t.end != null).map(t => t.end)),\n        create: HoverTooltipHost.create,\n        above: tooltips[0].above\n    };\n});\nclass HoverPlugin {\n    constructor(view, source, field, setHover, hoverTime) {\n        this.view = view;\n        this.source = source;\n        this.field = field;\n        this.setHover = setHover;\n        this.hoverTime = hoverTime;\n        this.lastMouseMove = null;\n        this.lastMoveTime = 0;\n        this.hoverTimeout = -1;\n        this.restartTimeout = -1;\n        this.pending = null;\n        this.checkHover = this.checkHover.bind(this);\n        view.dom.addEventListener(\"mouseleave\", this.mouseleave = this.mouseleave.bind(this));\n        view.dom.addEventListener(\"mousemove\", this.mousemove = this.mousemove.bind(this));\n    }\n    update() {\n        if (this.pending) {\n            this.pending = null;\n            clearTimeout(this.restartTimeout);\n            this.restartTimeout = setTimeout(() => this.startHover(), 20);\n        }\n    }\n    get active() {\n        return this.view.state.field(this.field);\n    }\n    checkHover() {\n        this.hoverTimeout = -1;\n        if (this.active)\n            return;\n        let hovered = Date.now() - this.lastMoveTime;\n        if (hovered < this.hoverTime)\n            this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime - hovered);\n        else\n            this.startHover();\n    }\n    startHover() {\n        var _a;\n        clearTimeout(this.restartTimeout);\n        let lastMove = this.lastMouseMove;\n        let coords = { x: lastMove.clientX, y: lastMove.clientY };\n        let pos = this.view.contentDOM.contains(lastMove.target)\n            ? this.view.posAtCoords(coords) : null;\n        if (pos == null)\n            return;\n        let posCoords = this.view.coordsAtPos(pos);\n        if (posCoords == null || coords.y < posCoords.top || coords.y > posCoords.bottom ||\n            coords.x < posCoords.left - this.view.defaultCharacterWidth ||\n            coords.x > posCoords.right + this.view.defaultCharacterWidth)\n            return;\n        let bidi = this.view.bidiSpans(this.view.state.doc.lineAt(pos)).find(s => s.from <= pos && s.to >= pos);\n        let rtl = bidi && bidi.dir == Direction.RTL ? -1 : 1;\n        let open = this.source(this.view, pos, (coords.x < posCoords.left ? -rtl : rtl));\n        if ((_a = open) === null || _a === void 0 ? void 0 : _a.then) {\n            let pending = this.pending = { pos };\n            open.then(result => {\n                if (this.pending == pending) {\n                    this.pending = null;\n                    if (result)\n                        this.view.dispatch({ effects: this.setHover.of(result) });\n                }\n            }, e => logException(this.view.state, e, \"hover tooltip\"));\n        }\n        else if (open) {\n            this.view.dispatch({ effects: this.setHover.of(open) });\n        }\n    }\n    mousemove(event) {\n        var _a;\n        this.lastMouseMove = event;\n        this.lastMoveTime = Date.now();\n        if (this.hoverTimeout < 0)\n            this.hoverTimeout = setTimeout(this.checkHover, this.hoverTime);\n        let tooltip = this.active;\n        if (tooltip && !isInTooltip(event.target) || this.pending) {\n            let { pos } = tooltip || this.pending, end = (_a = tooltip === null || tooltip === void 0 ? void 0 : tooltip.end) !== null && _a !== void 0 ? _a : pos;\n            if ((pos == end ? this.view.posAtCoords({ x: event.clientX, y: event.clientY }) != pos\n                : !isOverRange(this.view, pos, end, event.clientX, event.clientY, 6 /* MaxDist */))) {\n                this.view.dispatch({ effects: this.setHover.of(null) });\n                this.pending = null;\n            }\n        }\n    }\n    mouseleave() {\n        clearTimeout(this.hoverTimeout);\n        this.hoverTimeout = -1;\n        if (this.active)\n            this.view.dispatch({ effects: this.setHover.of(null) });\n    }\n    destroy() {\n        clearTimeout(this.hoverTimeout);\n        this.view.dom.removeEventListener(\"mouseleave\", this.mouseleave);\n        this.view.dom.removeEventListener(\"mousemove\", this.mousemove);\n    }\n}\nfunction isInTooltip(elt) {\n    for (let cur = elt; cur; cur = cur.parentNode)\n        if (cur.nodeType == 1 && cur.classList.contains(\"cm-tooltip\"))\n            return true;\n    return false;\n}\nfunction isOverRange(view, from, to, x, y, margin) {\n    let range = document.createRange();\n    let fromDOM = view.domAtPos(from), toDOM = view.domAtPos(to);\n    range.setEnd(toDOM.node, toDOM.offset);\n    range.setStart(fromDOM.node, fromDOM.offset);\n    let rects = range.getClientRects();\n    range.detach();\n    for (let i = 0; i < rects.length; i++) {\n        let rect = rects[i];\n        let dist = Math.max(rect.top - y, y - rect.bottom, rect.left - x, x - rect.right);\n        if (dist <= margin)\n            return true;\n    }\n    return false;\n}\n/**\nEnable a hover tooltip, which shows up when the pointer hovers\nover ranges of text. The callback is called when the mouse hovers\nover the document text. It should, if there is a tooltip\nassociated with position `pos` return the tooltip description\n(either directly or in a promise). The `side` argument indicates\non which side of the position the pointer isit will be -1 if the\npointer is before the position, 1 if after the position.\n\nNote that all hover tooltips are hosted within a single tooltip\ncontainer element. This allows multiple tooltips over the same\nrange to be \"merged\" together without overlapping.\n*/\nfunction hoverTooltip(source, options = {}) {\n    let setHover = StateEffect.define();\n    let hoverState = StateField.define({\n        create() { return null; },\n        update(value, tr) {\n            if (value && (options.hideOnChange && (tr.docChanged || tr.selection)))\n                return null;\n            for (let effect of tr.effects)\n                if (effect.is(setHover))\n                    return effect.value;\n            if (value && tr.docChanged) {\n                let newPos = tr.changes.mapPos(value.pos, -1, MapMode.TrackDel);\n                if (newPos == null)\n                    return null;\n                let copy = Object.assign(Object.create(null), value);\n                copy.pos = newPos;\n                if (value.end != null)\n                    copy.end = tr.changes.mapPos(value.end);\n                return copy;\n            }\n            return value;\n        },\n        provide: f => showHoverTooltip.from(f)\n    });\n    let hoverTime = options.hoverTime || 750 /* Time */;\n    return [\n        hoverState,\n        ViewPlugin.define(view => new HoverPlugin(view, source, hoverState, setHover, hoverTime)),\n        showHoverTooltipHost\n    ];\n}\n\nexport { hoverTooltip, showTooltip, tooltips };\n","import { EditorView, ViewPlugin, BlockType, PluginField, Direction } from '@codemirror/view';\nimport { RangeValue, RangeSet } from '@codemirror/rangeset';\nimport { MapMode, Facet, combineConfig } from '@codemirror/state';\n\n/**\nA gutter marker represents a bit of information attached to a line\nin a specific gutter. Your own custom markers have to extend this\nclass.\n*/\nclass GutterMarker extends RangeValue {\n    /**\n    @internal\n    */\n    compare(other) {\n        return this == other || this.constructor == other.constructor && this.eq(other);\n    }\n    /**\n    Compare this marker to another marker of the same type.\n    */\n    eq(other) { return false; }\n}\nGutterMarker.prototype.elementClass = \"\";\nGutterMarker.prototype.toDOM = undefined;\nGutterMarker.prototype.mapMode = MapMode.TrackBefore;\nGutterMarker.prototype.startSide = GutterMarker.prototype.endSide = -1;\nGutterMarker.prototype.point = true;\n/**\nFacet used to add a class to all gutter elements for a given line.\nMarkers given to this facet should _only_ define an\n[`elementclass`](https://codemirror.net/6/docs/ref/#gutter.GutterMarker.elementClass), not a\n[`toDOM`](https://codemirror.net/6/docs/ref/#gutter.GutterMarker.toDOM) (or the marker will appear\nin all gutters for the line).\n*/\nconst gutterLineClass = /*@__PURE__*/Facet.define();\nconst defaults = {\n    class: \"\",\n    renderEmptyElements: false,\n    elementStyle: \"\",\n    markers: () => RangeSet.empty,\n    lineMarker: () => null,\n    initialSpacer: null,\n    updateSpacer: null,\n    domEventHandlers: {}\n};\nconst activeGutters = /*@__PURE__*/Facet.define();\n/**\nDefine an editor gutter. The order in which the gutters appear is\ndetermined by their extension priority.\n*/\nfunction gutter(config) {\n    return [gutters(), activeGutters.of(Object.assign(Object.assign({}, defaults), config))];\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-gutters\": {\n        display: \"flex\",\n        height: \"100%\",\n        boxSizing: \"border-box\",\n        left: 0,\n        zIndex: 200\n    },\n    \"&light .cm-gutters\": {\n        backgroundColor: \"#f5f5f5\",\n        color: \"#999\",\n        borderRight: \"1px solid #ddd\"\n    },\n    \"&dark .cm-gutters\": {\n        backgroundColor: \"#333338\",\n        color: \"#ccc\"\n    },\n    \".cm-gutter\": {\n        display: \"flex !important\",\n        flexDirection: \"column\",\n        flexShrink: 0,\n        boxSizing: \"border-box\",\n        height: \"100%\",\n        overflow: \"hidden\"\n    },\n    \".cm-gutterElement\": {\n        boxSizing: \"border-box\"\n    },\n    \".cm-lineNumbers .cm-gutterElement\": {\n        padding: \"0 3px 0 5px\",\n        minWidth: \"20px\",\n        textAlign: \"right\",\n        whiteSpace: \"nowrap\"\n    },\n    \"&light .cm-activeLineGutter\": {\n        backgroundColor: \"#e2f2ff\"\n    },\n    \"&dark .cm-activeLineGutter\": {\n        backgroundColor: \"#222227\"\n    }\n});\nconst unfixGutters = /*@__PURE__*/Facet.define({\n    combine: values => values.some(x => x)\n});\n/**\nThe gutter-drawing plugin is automatically enabled when you add a\ngutter, but you can use this function to explicitly configure it.\n\nUnless `fixed` is explicitly set to `false`, the gutters are\nfixed, meaning they don't scroll along with the content\nhorizontally (except on Internet Explorer, which doesn't support\nCSS [`position:\nsticky`](https://developer.mozilla.org/en-US/docs/Web/CSS/position#sticky)).\n*/\nfunction gutters(config) {\n    let result = [\n        gutterView,\n        baseTheme\n    ];\n    if (config && config.fixed === false)\n        result.push(unfixGutters.of(true));\n    return result;\n}\nconst gutterView = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutters\";\n        this.dom.setAttribute(\"aria-hidden\", \"true\");\n        this.gutters = view.state.facet(activeGutters).map(conf => new SingleGutterView(view, conf));\n        for (let gutter of this.gutters)\n            this.dom.appendChild(gutter.dom);\n        this.fixed = !view.state.facet(unfixGutters);\n        if (this.fixed) {\n            // FIXME IE11 fallback, which doesn't support position: sticky,\n            // by using position: relative + event handlers that realign the\n            // gutter (or just force fixed=false on IE11?)\n            this.dom.style.position = \"sticky\";\n        }\n        view.scrollDOM.insertBefore(this.dom, view.contentDOM);\n        this.syncGutters();\n    }\n    update(update) {\n        if (this.updateGutters(update))\n            this.syncGutters();\n    }\n    syncGutters() {\n        let lineClasses = RangeSet.iter(this.view.state.facet(gutterLineClass), this.view.viewport.from);\n        let classSet = [];\n        let contexts = this.gutters.map(gutter => new UpdateContext(gutter, this.view.viewport));\n        this.view.viewportLines(line => {\n            let text;\n            if (Array.isArray(line.type)) {\n                for (let b of line.type)\n                    if (b.type == BlockType.Text) {\n                        text = b;\n                        break;\n                    }\n            }\n            else {\n                text = line.type == BlockType.Text ? line : undefined;\n            }\n            if (!text)\n                return;\n            if (classSet.length)\n                classSet = [];\n            advanceCursor(lineClasses, classSet, line.from);\n            for (let cx of contexts)\n                cx.line(this.view, text, classSet);\n        }, 0);\n        for (let cx of contexts)\n            cx.finish();\n        this.dom.style.minHeight = this.view.contentHeight + \"px\";\n        if (this.view.state.facet(unfixGutters) != !this.fixed) {\n            this.fixed = !this.fixed;\n            this.dom.style.position = this.fixed ? \"sticky\" : \"\";\n        }\n    }\n    updateGutters(update) {\n        let prev = update.startState.facet(activeGutters), cur = update.state.facet(activeGutters);\n        let change = update.docChanged || update.heightChanged || update.viewportChanged ||\n            !RangeSet.eq(update.startState.facet(gutterLineClass), update.state.facet(gutterLineClass), update.view.viewport.from, update.view.viewport.to);\n        if (prev == cur) {\n            for (let gutter of this.gutters)\n                if (gutter.update(update))\n                    change = true;\n        }\n        else {\n            change = true;\n            let gutters = [];\n            for (let conf of cur) {\n                let known = prev.indexOf(conf);\n                if (known < 0) {\n                    gutters.push(new SingleGutterView(this.view, conf));\n                }\n                else {\n                    this.gutters[known].update(update);\n                    gutters.push(this.gutters[known]);\n                }\n            }\n            for (let g of this.gutters)\n                g.dom.remove();\n            for (let g of gutters)\n                this.dom.appendChild(g.dom);\n            this.gutters = gutters;\n        }\n        return change;\n    }\n    destroy() {\n        this.dom.remove();\n    }\n}, {\n    provide: /*@__PURE__*/PluginField.scrollMargins.from(value => {\n        if (value.gutters.length == 0 || !value.fixed)\n            return null;\n        return value.view.textDirection == Direction.LTR ? { left: value.dom.offsetWidth } : { right: value.dom.offsetWidth };\n    })\n});\nfunction asArray(val) { return (Array.isArray(val) ? val : [val]); }\nfunction advanceCursor(cursor, collect, pos) {\n    while (cursor.value && cursor.from <= pos) {\n        if (cursor.from == pos)\n            collect.push(cursor.value);\n        cursor.next();\n    }\n}\nclass UpdateContext {\n    constructor(gutter, viewport) {\n        this.gutter = gutter;\n        this.localMarkers = [];\n        this.i = 0;\n        this.height = 0;\n        this.cursor = RangeSet.iter(gutter.markers, viewport.from);\n    }\n    line(view, line, extraMarkers) {\n        if (this.localMarkers.length)\n            this.localMarkers = [];\n        advanceCursor(this.cursor, this.localMarkers, line.from);\n        let localMarkers = extraMarkers.length ? this.localMarkers.concat(extraMarkers) : this.localMarkers;\n        let forLine = this.gutter.config.lineMarker(view, line, localMarkers);\n        if (forLine)\n            localMarkers.unshift(forLine);\n        let gutter = this.gutter;\n        if (localMarkers.length == 0 && !gutter.config.renderEmptyElements)\n            return;\n        let above = line.top - this.height;\n        if (this.i == gutter.elements.length) {\n            let newElt = new GutterElement(view, line.height, above, localMarkers);\n            gutter.elements.push(newElt);\n            gutter.dom.appendChild(newElt.dom);\n        }\n        else {\n            let elt = gutter.elements[this.i];\n            if (sameMarkers(localMarkers, elt.markers))\n                localMarkers = elt.markers;\n            elt.update(view, line.height, above, localMarkers);\n        }\n        this.height = line.bottom;\n        this.i++;\n    }\n    finish() {\n        let gutter = this.gutter;\n        while (gutter.elements.length > this.i)\n            gutter.dom.removeChild(gutter.elements.pop().dom);\n    }\n}\nclass SingleGutterView {\n    constructor(view, config) {\n        this.view = view;\n        this.config = config;\n        this.elements = [];\n        this.spacer = null;\n        this.dom = document.createElement(\"div\");\n        this.dom.className = \"cm-gutter\" + (this.config.class ? \" \" + this.config.class : \"\");\n        for (let prop in config.domEventHandlers) {\n            this.dom.addEventListener(prop, (event) => {\n                let line = view.visualLineAtHeight(event.clientY, view.contentDOM.getBoundingClientRect().top);\n                if (config.domEventHandlers[prop](view, line, event))\n                    event.preventDefault();\n            });\n        }\n        this.markers = asArray(config.markers(view));\n        if (config.initialSpacer) {\n            this.spacer = new GutterElement(view, 0, 0, [config.initialSpacer(view)]);\n            this.dom.appendChild(this.spacer.dom);\n            this.spacer.dom.style.cssText += \"visibility: hidden; pointer-events: none\";\n        }\n    }\n    update(update) {\n        let prevMarkers = this.markers;\n        this.markers = asArray(this.config.markers(update.view));\n        if (this.spacer && this.config.updateSpacer) {\n            let updated = this.config.updateSpacer(this.spacer.markers[0], update);\n            if (updated != this.spacer.markers[0])\n                this.spacer.update(update.view, 0, 0, [updated]);\n        }\n        let vp = update.view.viewport;\n        return !RangeSet.eq(this.markers, prevMarkers, vp.from, vp.to);\n    }\n}\nclass GutterElement {\n    constructor(view, height, above, markers) {\n        this.height = -1;\n        this.above = 0;\n        this.dom = document.createElement(\"div\");\n        this.update(view, height, above, markers);\n    }\n    update(view, height, above, markers) {\n        if (this.height != height)\n            this.dom.style.height = (this.height = height) + \"px\";\n        if (this.above != above)\n            this.dom.style.marginTop = (this.above = above) ? above + \"px\" : \"\";\n        if (this.markers != markers) {\n            this.markers = markers;\n            for (let ch; ch = this.dom.lastChild;)\n                ch.remove();\n            let cls = \"cm-gutterElement\";\n            for (let m of markers) {\n                if (m.toDOM)\n                    this.dom.appendChild(m.toDOM(view));\n                let c = m.elementClass;\n                if (c)\n                    cls += \" \" + c;\n            }\n            this.dom.className = cls;\n        }\n    }\n}\nfunction sameMarkers(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (!a[i].compare(b[i]))\n            return false;\n    return true;\n}\n/**\nFacet used to provide markers to the line number gutter.\n*/\nconst lineNumberMarkers = /*@__PURE__*/Facet.define();\nconst lineNumberConfig = /*@__PURE__*/Facet.define({\n    combine(values) {\n        return combineConfig(values, { formatNumber: String, domEventHandlers: {} }, {\n            domEventHandlers(a, b) {\n                let result = Object.assign({}, a);\n                for (let event in b) {\n                    let exists = result[event], add = b[event];\n                    result[event] = exists ? (view, line, event) => exists(view, line, event) || add(view, line, event) : add;\n                }\n                return result;\n            }\n        });\n    }\n});\nclass NumberMarker extends GutterMarker {\n    constructor(number) {\n        super();\n        this.number = number;\n    }\n    eq(other) { return this.number == other.number; }\n    toDOM(_view) { return document.createTextNode(this.number); }\n}\nfunction formatNumber(view, number) {\n    return view.state.facet(lineNumberConfig).formatNumber(number, view.state);\n}\nconst lineNumberGutter = /*@__PURE__*/activeGutters.compute([lineNumberConfig], state => ({\n    class: \"cm-lineNumbers\",\n    renderEmptyElements: false,\n    markers(view) { return view.state.facet(lineNumberMarkers); },\n    lineMarker(view, line, others) {\n        if (others.some(m => m.toDOM))\n            return null;\n        return new NumberMarker(formatNumber(view, view.state.doc.lineAt(line.from).number));\n    },\n    initialSpacer(view) {\n        return new NumberMarker(formatNumber(view, maxLineNumber(view.state.doc.lines)));\n    },\n    updateSpacer(spacer, update) {\n        let max = formatNumber(update.view, maxLineNumber(update.view.state.doc.lines));\n        return max == spacer.number ? spacer : new NumberMarker(max);\n    },\n    domEventHandlers: state.facet(lineNumberConfig).domEventHandlers\n}));\n/**\nCreate a line number gutter extension.\n*/\nfunction lineNumbers(config = {}) {\n    return [\n        lineNumberConfig.of(config),\n        gutters(),\n        lineNumberGutter\n    ];\n}\nfunction maxLineNumber(lines) {\n    let last = 9;\n    while (last < lines)\n        last = last * 10 + 9;\n    return last;\n}\nconst activeLineGutterMarker = /*@__PURE__*/new class extends GutterMarker {\n    constructor() {\n        super(...arguments);\n        this.elementClass = \"cm-activeLineGutter\";\n    }\n};\nconst activeLineGutterHighlighter = /*@__PURE__*/gutterLineClass.compute([\"selection\"], state => {\n    let marks = [], last = -1;\n    for (let range of state.selection.ranges)\n        if (range.empty) {\n            let linePos = state.doc.lineAt(range.head).from;\n            if (linePos > last) {\n                last = linePos;\n                marks.push(activeLineGutterMarker.range(linePos));\n            }\n        }\n    return RangeSet.of(marks);\n});\n/**\nReturns an extension that adds a `cm-activeLineGutter` class to\nall gutter elements on the [active\nline](https://codemirror.net/6/docs/ref/#view.highlightActiveLine).\n*/\nfunction highlightActiveLineGutter() {\n    return activeLineGutterHighlighter;\n}\n\nexport { GutterMarker, gutter, gutterLineClass, gutters, highlightActiveLineGutter, lineNumberMarkers, lineNumbers };\n","import { Annotation, Facet, combineConfig, StateField, Transaction, ChangeSet, ChangeDesc, EditorSelection, StateEffect } from '@codemirror/state';\nimport { EditorView } from '@codemirror/view';\n\nconst fromHistory = /*@__PURE__*/Annotation.define();\n/**\nTransaction annotation that will prevent that transaction from\nbeing combined with other transactions in the undo history. Given\n`\"before\"`, it'll prevent merging with previous transactions. With\n`\"after\"`, subsequent transactions won't be combined with this\none. With `\"full\"`, the transaction is isolated on both sides.\n*/\nconst isolateHistory = /*@__PURE__*/Annotation.define();\n/**\nThis facet provides a way to register functions that, given a\ntransaction, provide a set of effects that the history should\nstore when inverting the transaction. This can be used to\nintegrate some kinds of effects in the history, so that they can\nbe undone (and redone again).\n*/\nconst invertedEffects = /*@__PURE__*/Facet.define();\nconst historyConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            minDepth: 100,\n            newGroupDelay: 500\n        }, { minDepth: Math.max, newGroupDelay: Math.min });\n    }\n});\nconst historyField_ = /*@__PURE__*/StateField.define({\n    create() {\n        return HistoryState.empty;\n    },\n    update(state, tr) {\n        let config = tr.state.facet(historyConfig);\n        let fromHist = tr.annotation(fromHistory);\n        if (fromHist) {\n            let item = HistEvent.fromTransaction(tr), from = fromHist.side;\n            let other = from == 0 /* Done */ ? state.undone : state.done;\n            if (item)\n                other = updateBranch(other, other.length, config.minDepth, item);\n            else\n                other = addSelection(other, tr.startState.selection);\n            return new HistoryState(from == 0 /* Done */ ? fromHist.rest : other, from == 0 /* Done */ ? other : fromHist.rest);\n        }\n        let isolate = tr.annotation(isolateHistory);\n        if (isolate == \"full\" || isolate == \"before\")\n            state = state.isolate();\n        if (tr.annotation(Transaction.addToHistory) === false)\n            return !tr.changes.empty ? state.addMapping(tr.changes.desc) : state;\n        let event = HistEvent.fromTransaction(tr);\n        let time = tr.annotation(Transaction.time), userEvent = tr.annotation(Transaction.userEvent);\n        if (event)\n            state = state.addChanges(event, time, userEvent, config.newGroupDelay, config.minDepth);\n        else if (tr.selection)\n            state = state.addSelection(tr.startState.selection, time, userEvent, config.newGroupDelay);\n        if (isolate == \"full\" || isolate == \"after\")\n            state = state.isolate();\n        return state;\n    },\n    toJSON(value) {\n        return { done: value.done.map(e => e.toJSON()), undone: value.undone.map(e => e.toJSON()) };\n    },\n    fromJSON(json) {\n        return new HistoryState(json.done.map(HistEvent.fromJSON), json.undone.map(HistEvent.fromJSON));\n    }\n});\n/**\nCreate a history extension with the given configuration.\n*/\nfunction history(config = {}) {\n    return [\n        historyField_,\n        historyConfig.of(config),\n        EditorView.domEventHandlers({\n            beforeinput(e, view) {\n                if (e.inputType == \"historyUndo\")\n                    return undo(view);\n                if (e.inputType == \"historyRedo\")\n                    return redo(view);\n                return false;\n            }\n        })\n    ];\n}\n/**\nThe state field used to store the history data. Should probably\nonly be used when you want to\n[serialize](https://codemirror.net/6/docs/ref/#state.EditorState.toJSON) or\n[deserialize](https://codemirror.net/6/docs/ref/#state.EditorState^fromJSON) state objects in a way\nthat preserves history.\n*/\nconst historyField = historyField_;\nfunction cmd(side, selection) {\n    return function ({ state, dispatch }) {\n        let historyState = state.field(historyField_, false);\n        if (!historyState)\n            return false;\n        let tr = historyState.pop(side, state, selection);\n        if (!tr)\n            return false;\n        dispatch(tr);\n        return true;\n    };\n}\n/**\nUndo a single group of history events. Returns false if no group\nwas available.\n*/\nconst undo = /*@__PURE__*/cmd(0 /* Done */, false);\n/**\nRedo a group of history events. Returns false if no group was\navailable.\n*/\nconst redo = /*@__PURE__*/cmd(1 /* Undone */, false);\n/**\nUndo a selection change.\n*/\nconst undoSelection = /*@__PURE__*/cmd(0 /* Done */, true);\n/**\nRedo a selection change.\n*/\nconst redoSelection = /*@__PURE__*/cmd(1 /* Undone */, true);\nfunction depth(side) {\n    return function (state) {\n        let histState = state.field(historyField_, false);\n        if (!histState)\n            return 0;\n        let branch = side == 0 /* Done */ ? histState.done : histState.undone;\n        return branch.length - (branch.length && !branch[0].changes ? 1 : 0);\n    };\n}\n/**\nThe amount of undoable change events available in a given state.\n*/\nconst undoDepth = /*@__PURE__*/depth(0 /* Done */);\n/**\nThe amount of redoable change events available in a given state.\n*/\nconst redoDepth = /*@__PURE__*/depth(1 /* Undone */);\n// History events store groups of changes or effects that need to be\n// undone/redone together.\nclass HistEvent {\n    constructor(\n    // The changes in this event. Normal events hold at least one\n    // change or effect. But it may be necessary to store selection\n    // events before the first change, in which case a special type of\n    // instance is created which doesn't hold any changes, with\n    // changes == startSelection == undefined\n    changes, \n    // The effects associated with this event\n    effects, mapped, \n    // The selection before this event\n    startSelection, \n    // Stores selection changes after this event, to be used for\n    // selection undo/redo.\n    selectionsAfter) {\n        this.changes = changes;\n        this.effects = effects;\n        this.mapped = mapped;\n        this.startSelection = startSelection;\n        this.selectionsAfter = selectionsAfter;\n    }\n    setSelAfter(after) {\n        return new HistEvent(this.changes, this.effects, this.mapped, this.startSelection, after);\n    }\n    toJSON() {\n        var _a, _b, _c;\n        return {\n            changes: (_a = this.changes) === null || _a === void 0 ? void 0 : _a.toJSON(),\n            mapped: (_b = this.mapped) === null || _b === void 0 ? void 0 : _b.toJSON(),\n            startSelection: (_c = this.startSelection) === null || _c === void 0 ? void 0 : _c.toJSON(),\n            selectionsAfter: this.selectionsAfter.map(s => s.toJSON())\n        };\n    }\n    static fromJSON(json) {\n        return new HistEvent(json.changes && ChangeSet.fromJSON(json.changes), [], json.mapped && ChangeDesc.fromJSON(json.mapped), json.startSelection && EditorSelection.fromJSON(json.startSelection), json.selectionsAfter.map(EditorSelection.fromJSON));\n    }\n    // This does not check `addToHistory` and such, it assumes the\n    // transaction needs to be converted to an item. Returns null when\n    // there are no changes or effects in the transaction.\n    static fromTransaction(tr) {\n        let effects = none;\n        for (let invert of tr.startState.facet(invertedEffects)) {\n            let result = invert(tr);\n            if (result.length)\n                effects = effects.concat(result);\n        }\n        if (!effects.length && tr.changes.empty)\n            return null;\n        return new HistEvent(tr.changes.invert(tr.startState.doc), effects, undefined, tr.startState.selection, none);\n    }\n    static selection(selections) {\n        return new HistEvent(undefined, none, undefined, undefined, selections);\n    }\n}\nfunction updateBranch(branch, to, maxLen, newEvent) {\n    let start = to + 1 > maxLen + 20 ? to - maxLen - 1 : 0;\n    let newBranch = branch.slice(start, to);\n    newBranch.push(newEvent);\n    return newBranch;\n}\nfunction isAdjacent(a, b) {\n    let ranges = [], isAdjacent = false;\n    a.iterChangedRanges((f, t) => ranges.push(f, t));\n    b.iterChangedRanges((_f, _t, f, t) => {\n        for (let i = 0; i < ranges.length;) {\n            let from = ranges[i++], to = ranges[i++];\n            if (t >= from && f <= to)\n                isAdjacent = true;\n        }\n    });\n    return isAdjacent;\n}\nfunction eqSelectionShape(a, b) {\n    return a.ranges.length == b.ranges.length &&\n        a.ranges.filter((r, i) => r.empty != b.ranges[i].empty).length === 0;\n}\nfunction conc(a, b) {\n    return !a.length ? b : !b.length ? a : a.concat(b);\n}\nconst none = [];\nconst MaxSelectionsPerEvent = 200;\nfunction addSelection(branch, selection) {\n    if (!branch.length) {\n        return [HistEvent.selection([selection])];\n    }\n    else {\n        let lastEvent = branch[branch.length - 1];\n        let sels = lastEvent.selectionsAfter.slice(Math.max(0, lastEvent.selectionsAfter.length - MaxSelectionsPerEvent));\n        if (sels.length && sels[sels.length - 1].eq(selection))\n            return branch;\n        sels.push(selection);\n        return updateBranch(branch, branch.length - 1, 1e9, lastEvent.setSelAfter(sels));\n    }\n}\n// Assumes the top item has one or more selectionAfter values\nfunction popSelection(branch) {\n    let last = branch[branch.length - 1];\n    let newBranch = branch.slice();\n    newBranch[branch.length - 1] = last.setSelAfter(last.selectionsAfter.slice(0, last.selectionsAfter.length - 1));\n    return newBranch;\n}\n// Add a mapping to the top event in the given branch. If this maps\n// away all the changes and effects in that item, drop it and\n// propagate the mapping to the next item.\nfunction addMappingToBranch(branch, mapping) {\n    if (!branch.length)\n        return branch;\n    let length = branch.length, selections = none;\n    while (length) {\n        let event = mapEvent(branch[length - 1], mapping, selections);\n        if (event.changes && !event.changes.empty || event.effects.length) { // Event survived mapping\n            let result = branch.slice(0, length);\n            result[length - 1] = event;\n            return result;\n        }\n        else { // Drop this event, since there's no changes or effects left\n            mapping = event.mapped;\n            length--;\n            selections = event.selectionsAfter;\n        }\n    }\n    return selections.length ? [HistEvent.selection(selections)] : none;\n}\nfunction mapEvent(event, mapping, extraSelections) {\n    let selections = conc(event.selectionsAfter.length ? event.selectionsAfter.map(s => s.map(mapping)) : none, extraSelections);\n    // Change-less events don't store mappings (they are always the last event in a branch)\n    if (!event.changes)\n        return HistEvent.selection(selections);\n    let mappedChanges = event.changes.map(mapping), before = mapping.mapDesc(event.changes, true);\n    let fullMapping = event.mapped ? event.mapped.composeDesc(before) : before;\n    return new HistEvent(mappedChanges, StateEffect.mapEffects(event.effects, mapping), fullMapping, event.startSelection.map(before), selections);\n}\nclass HistoryState {\n    constructor(done, undone, prevTime = 0, prevUserEvent = undefined) {\n        this.done = done;\n        this.undone = undone;\n        this.prevTime = prevTime;\n        this.prevUserEvent = prevUserEvent;\n    }\n    isolate() {\n        return this.prevTime ? new HistoryState(this.done, this.undone) : this;\n    }\n    addChanges(event, time, userEvent, newGroupDelay, maxLen) {\n        let done = this.done, lastEvent = done[done.length - 1];\n        if (lastEvent && lastEvent.changes && !lastEvent.changes.empty && event.changes &&\n            ((!lastEvent.selectionsAfter.length &&\n                time - this.prevTime < newGroupDelay &&\n                isAdjacent(lastEvent.changes, event.changes)) ||\n                // For compose (but not compose.start) events, always join with previous event\n                userEvent == \"input.type.compose\")) {\n            done = updateBranch(done, done.length - 1, maxLen, new HistEvent(event.changes.compose(lastEvent.changes), conc(event.effects, lastEvent.effects), lastEvent.mapped, lastEvent.startSelection, none));\n        }\n        else {\n            done = updateBranch(done, done.length, maxLen, event);\n        }\n        return new HistoryState(done, none, time, userEvent);\n    }\n    addSelection(selection, time, userEvent, newGroupDelay) {\n        let last = this.done.length ? this.done[this.done.length - 1].selectionsAfter : none;\n        if (last.length > 0 &&\n            time - this.prevTime < newGroupDelay &&\n            userEvent == this.prevUserEvent && userEvent && /^select($|\\.)/.test(userEvent) &&\n            eqSelectionShape(last[last.length - 1], selection))\n            return this;\n        return new HistoryState(addSelection(this.done, selection), this.undone, time, userEvent);\n    }\n    addMapping(mapping) {\n        return new HistoryState(addMappingToBranch(this.done, mapping), addMappingToBranch(this.undone, mapping), this.prevTime, this.prevUserEvent);\n    }\n    pop(side, state, selection) {\n        let branch = side == 0 /* Done */ ? this.done : this.undone;\n        if (branch.length == 0)\n            return null;\n        let event = branch[branch.length - 1];\n        if (selection && event.selectionsAfter.length) {\n            return state.update({\n                selection: event.selectionsAfter[event.selectionsAfter.length - 1],\n                annotations: fromHistory.of({ side, rest: popSelection(branch) }),\n                userEvent: side == 0 /* Done */ ? \"select.undo\" : \"select.redo\"\n            });\n        }\n        else if (!event.changes) {\n            return null;\n        }\n        else {\n            let rest = branch.length == 1 ? none : branch.slice(0, branch.length - 1);\n            if (event.mapped)\n                rest = addMappingToBranch(rest, event.mapped);\n            return state.update({\n                changes: event.changes,\n                selection: event.startSelection,\n                effects: event.effects,\n                annotations: fromHistory.of({ side, rest }),\n                filter: false,\n                userEvent: side == 0 /* Done */ ? \"undo\" : \"redo\"\n            });\n        }\n    }\n}\nHistoryState.empty = /*@__PURE__*/new HistoryState(none, none);\n/**\nDefault key bindings for the undo history.\n\n- Mod-z: [`undo`](https://codemirror.net/6/docs/ref/#history.undo).\n- Mod-y (Mod-Shift-z on macOS): [`redo`](https://codemirror.net/6/docs/ref/#history.redo).\n- Mod-u: [`undoSelection`](https://codemirror.net/6/docs/ref/#history.undoSelection).\n- Alt-u (Mod-Shift-u on macOS): [`redoSelection`](https://codemirror.net/6/docs/ref/#history.redoSelection).\n*/\nconst historyKeymap = [\n    { key: \"Mod-z\", run: undo, preventDefault: true },\n    { key: \"Mod-y\", mac: \"Mod-Shift-z\", run: redo, preventDefault: true },\n    { key: \"Mod-u\", run: undoSelection, preventDefault: true },\n    { key: \"Alt-u\", mac: \"Mod-Shift-u\", run: redoSelection, preventDefault: true }\n];\n\nexport { history, historyField, historyKeymap, invertedEffects, isolateHistory, redo, redoDepth, redoSelection, undo, undoDepth, undoSelection };\n","// FIXME profile adding a per-Tree TreeNode cache, validating it by\n// parent pointer\n/// The default maximum length of a `TreeBuffer` node (1024).\nconst DefaultBufferLength = 1024;\nlet nextPropID = 0;\nclass Range {\n    constructor(from, to) {\n        this.from = from;\n        this.to = to;\n    }\n}\n/// Each [node type](#common.NodeType) or [individual tree](#common.Tree)\n/// can have metadata associated with it in props. Instances of this\n/// class represent prop names.\nclass NodeProp {\n    /// Create a new node prop type.\n    constructor(config = {}) {\n        this.id = nextPropID++;\n        this.perNode = !!config.perNode;\n        this.deserialize = config.deserialize || (() => {\n            throw new Error(\"This node type doesn't define a deserialize function\");\n        });\n    }\n    /// This is meant to be used with\n    /// [`NodeSet.extend`](#common.NodeSet.extend) or\n    /// [`LRParser.configure`](#lr.ParserConfig.props) to compute\n    /// prop values for each node type in the set. Takes a [match\n    /// object](#common.NodeType^match) or function that returns undefined\n    /// if the node type doesn't get this prop, and the prop's value if\n    /// it does.\n    add(match) {\n        if (this.perNode)\n            throw new RangeError(\"Can't add per-node props to node types\");\n        if (typeof match != \"function\")\n            match = NodeType.match(match);\n        return (type) => {\n            let result = match(type);\n            return result === undefined ? null : [this, result];\n        };\n    }\n}\n/// Prop that is used to describe matching delimiters. For opening\n/// delimiters, this holds an array of node names (written as a\n/// space-separated string when declaring this prop in a grammar)\n/// for the node types of closing delimiters that match it.\nNodeProp.closedBy = new NodeProp({ deserialize: str => str.split(\" \") });\n/// The inverse of [`closedBy`](#common.NodeProp^closedBy). This is\n/// attached to closing delimiters, holding an array of node names\n/// of types of matching opening delimiters.\nNodeProp.openedBy = new NodeProp({ deserialize: str => str.split(\" \") });\n/// Used to assign node types to groups (for example, all node\n/// types that represent an expression could be tagged with an\n/// `\"Expression\"` group).\nNodeProp.group = new NodeProp({ deserialize: str => str.split(\" \") });\n/// The hash of the [context](#lr.ContextTracker.constructor)\n/// that the node was parsed in, if any. Used to limit reuse of\n/// contextual nodes.\nNodeProp.contextHash = new NodeProp({ perNode: true });\n/// The distance beyond the end of the node that the tokenizer\n/// looked ahead for any of the tokens inside the node. (The LR\n/// parser only stores this when it is larger than 25, for\n/// efficiency reasons.)\nNodeProp.lookAhead = new NodeProp({ perNode: true });\n/// This per-node prop is used to replace a given node, or part of a\n/// node, with another tree. This is useful to include trees from\n/// different languages.\nNodeProp.mounted = new NodeProp({ perNode: true });\n/// A mounted tree, which can be [stored](#common.NodeProp^mounted) on\n/// a tree node to indicate that parts of its content are\n/// represented by another tree.\nclass MountedTree {\n    constructor(\n    /// The inner tree.\n    tree, \n    /// If this is null, this tree replaces the entire node (it will\n    /// be included in the regular iteration instead of its host\n    /// node). If not, only the given ranges are considered to be\n    /// covered by this tree. This is used for trees that are mixed in\n    /// a way that isn't strictly hierarchical. Such mounted trees are\n    /// only entered by [`resolveInner`](#common.Tree.resolveInner)\n    /// and [`enter`](#common.SyntaxNode.enter).\n    overlay, \n    /// The parser used to create this subtree.\n    parser) {\n        this.tree = tree;\n        this.overlay = overlay;\n        this.parser = parser;\n    }\n}\nconst noProps = Object.create(null);\n/// Each node in a syntax tree has a node type associated with it.\nclass NodeType {\n    /// @internal\n    constructor(\n    /// The name of the node type. Not necessarily unique, but if the\n    /// grammar was written properly, different node types with the\n    /// same name within a node set should play the same semantic\n    /// role.\n    name, \n    /// @internal\n    props, \n    /// The id of this node in its set. Corresponds to the term ids\n    /// used in the parser.\n    id, \n    /// @internal\n    flags = 0) {\n        this.name = name;\n        this.props = props;\n        this.id = id;\n        this.flags = flags;\n    }\n    static define(spec) {\n        let props = spec.props && spec.props.length ? Object.create(null) : noProps;\n        let flags = (spec.top ? 1 /* Top */ : 0) | (spec.skipped ? 2 /* Skipped */ : 0) |\n            (spec.error ? 4 /* Error */ : 0) | (spec.name == null ? 8 /* Anonymous */ : 0);\n        let type = new NodeType(spec.name || \"\", props, spec.id, flags);\n        if (spec.props)\n            for (let src of spec.props) {\n                if (!Array.isArray(src))\n                    src = src(type);\n                if (src) {\n                    if (src[0].perNode)\n                        throw new RangeError(\"Can't store a per-node prop on a node type\");\n                    props[src[0].id] = src[1];\n                }\n            }\n        return type;\n    }\n    /// Retrieves a node prop for this type. Will return `undefined` if\n    /// the prop isn't present on this node.\n    prop(prop) { return this.props[prop.id]; }\n    /// True when this is the top node of a grammar.\n    get isTop() { return (this.flags & 1 /* Top */) > 0; }\n    /// True when this node is produced by a skip rule.\n    get isSkipped() { return (this.flags & 2 /* Skipped */) > 0; }\n    /// Indicates whether this is an error node.\n    get isError() { return (this.flags & 4 /* Error */) > 0; }\n    /// When true, this node type doesn't correspond to a user-declared\n    /// named node, for example because it is used to cache repetition.\n    get isAnonymous() { return (this.flags & 8 /* Anonymous */) > 0; }\n    /// Returns true when this node's name or one of its\n    /// [groups](#common.NodeProp^group) matches the given string.\n    is(name) {\n        if (typeof name == 'string') {\n            if (this.name == name)\n                return true;\n            let group = this.prop(NodeProp.group);\n            return group ? group.indexOf(name) > -1 : false;\n        }\n        return this.id == name;\n    }\n    /// Create a function from node types to arbitrary values by\n    /// specifying an object whose property names are node or\n    /// [group](#common.NodeProp^group) names. Often useful with\n    /// [`NodeProp.add`](#common.NodeProp.add). You can put multiple\n    /// names, separated by spaces, in a single property name to map\n    /// multiple node names to a single value.\n    static match(map) {\n        let direct = Object.create(null);\n        for (let prop in map)\n            for (let name of prop.split(\" \"))\n                direct[name] = map[prop];\n        return (node) => {\n            for (let groups = node.prop(NodeProp.group), i = -1; i < (groups ? groups.length : 0); i++) {\n                let found = direct[i < 0 ? node.name : groups[i]];\n                if (found)\n                    return found;\n            }\n        };\n    }\n}\n/// An empty dummy node type to use when no actual type is available.\nNodeType.none = new NodeType(\"\", Object.create(null), 0, 8 /* Anonymous */);\n/// A node set holds a collection of node types. It is used to\n/// compactly represent trees by storing their type ids, rather than a\n/// full pointer to the type object, in a numeric array. Each parser\n/// [has](#lr.LRParser.nodeSet) a node set, and [tree\n/// buffers](#common.TreeBuffer) can only store collections of nodes\n/// from the same set. A set can have a maximum of 2**16 (65536) node\n/// types in it, so that the ids fit into 16-bit typed array slots.\nclass NodeSet {\n    /// Create a set with the given types. The `id` property of each\n    /// type should correspond to its position within the array.\n    constructor(\n    /// The node types in this set, by id.\n    types) {\n        this.types = types;\n        for (let i = 0; i < types.length; i++)\n            if (types[i].id != i)\n                throw new RangeError(\"Node type ids should correspond to array positions when creating a node set\");\n    }\n    /// Create a copy of this set with some node properties added. The\n    /// arguments to this method should be created with\n    /// [`NodeProp.add`](#common.NodeProp.add).\n    extend(...props) {\n        let newTypes = [];\n        for (let type of this.types) {\n            let newProps = null;\n            for (let source of props) {\n                let add = source(type);\n                if (add) {\n                    if (!newProps)\n                        newProps = Object.assign({}, type.props);\n                    newProps[add[0].id] = add[1];\n                }\n            }\n            newTypes.push(newProps ? new NodeType(type.name, newProps, type.id, type.flags) : type);\n        }\n        return new NodeSet(newTypes);\n    }\n}\nconst CachedNode = new WeakMap();\n/// A piece of syntax tree. There are two ways to approach these\n/// trees: the way they are actually stored in memory, and the\n/// convenient way.\n///\n/// Syntax trees are stored as a tree of `Tree` and `TreeBuffer`\n/// objects. By packing detail information into `TreeBuffer` leaf\n/// nodes, the representation is made a lot more memory-efficient.\n///\n/// However, when you want to actually work with tree nodes, this\n/// representation is very awkward, so most client code will want to\n/// use the [`TreeCursor`](#common.TreeCursor) or\n/// [`SyntaxNode`](#common.SyntaxNode) interface instead, which provides\n/// a view on some part of this data structure, and can be used to\n/// move around to adjacent nodes.\nclass Tree {\n    /// Construct a new tree. See also [`Tree.build`](#common.Tree^build).\n    constructor(\n    /// The type of the top node.\n    type, \n    /// This node's child nodes.\n    children, \n    /// The positions (offsets relative to the start of this tree) of\n    /// the children.\n    positions, \n    /// The total length of this tree\n    length, \n    /// Per-node [node props](#common.NodeProp) to associate with this node.\n    props) {\n        this.type = type;\n        this.children = children;\n        this.positions = positions;\n        this.length = length;\n        /// @internal\n        this.props = null;\n        if (props && props.length) {\n            this.props = Object.create(null);\n            for (let [prop, value] of props)\n                this.props[typeof prop == \"number\" ? prop : prop.id] = value;\n        }\n    }\n    /// @internal\n    toString() {\n        let mounted = this.prop(NodeProp.mounted);\n        if (mounted && !mounted.overlay)\n            return mounted.tree.toString();\n        let children = \"\";\n        for (let ch of this.children) {\n            let str = ch.toString();\n            if (str) {\n                if (children)\n                    children += \",\";\n                children += str;\n            }\n        }\n        return !this.type.name ? children :\n            (/\\W/.test(this.type.name) && !this.type.isError ? JSON.stringify(this.type.name) : this.type.name) +\n                (children.length ? \"(\" + children + \")\" : \"\");\n    }\n    /// Get a [tree cursor](#common.TreeCursor) rooted at this tree. When\n    /// `pos` is given, the cursor is [moved](#common.TreeCursor.moveTo)\n    /// to the given position and side.\n    cursor(pos, side = 0) {\n        let scope = (pos != null && CachedNode.get(this)) || this.topNode;\n        let cursor = new TreeCursor(scope);\n        if (pos != null) {\n            cursor.moveTo(pos, side);\n            CachedNode.set(this, cursor._tree);\n        }\n        return cursor;\n    }\n    /// Get a [tree cursor](#common.TreeCursor) that, unlike regular\n    /// cursors, doesn't skip through\n    /// [anonymous](#common.NodeType.isAnonymous) nodes.\n    fullCursor() {\n        return new TreeCursor(this.topNode, 1 /* Full */);\n    }\n    /// Get a [syntax node](#common.SyntaxNode) object for the top of the\n    /// tree.\n    get topNode() {\n        return new TreeNode(this, 0, 0, null);\n    }\n    /// Get the [syntax node](#common.SyntaxNode) at the given position.\n    /// If `side` is -1, this will move into nodes that end at the\n    /// position. If 1, it'll move into nodes that start at the\n    /// position. With 0, it'll only enter nodes that cover the position\n    /// from both sides.\n    resolve(pos, side = 0) {\n        return this.cursor(pos, side).node;\n    }\n    /// Like [`resolve`](#common.Tree.resolve), but will enter\n    /// [overlaid](#common.MountedTree.overlay) nodes, producing a syntax node\n    /// pointing into the innermost overlaid tree at the given position\n    /// (with parent links going through all parent structure, including\n    /// the host trees).\n    resolveInner(pos, side = 0) {\n        let result = this.topNode;\n        for (;;) {\n            let inner = result.enter(pos, side);\n            if (!inner)\n                return result;\n            result = inner;\n        }\n    }\n    /// Iterate over the tree and its children, calling `enter` for any\n    /// node that touches the `from`/`to` region (if given) before\n    /// running over such a node's children, and `leave` (if given) when\n    /// leaving the node. When `enter` returns `false`, that node will\n    /// not have its children iterated over (or `leave` called).\n    iterate(spec) {\n        let { enter, leave, from = 0, to = this.length } = spec;\n        for (let c = this.cursor(), get = () => c.node;;) {\n            let mustLeave = false;\n            if (c.from <= to && c.to >= from && (c.type.isAnonymous || enter(c.type, c.from, c.to, get) !== false)) {\n                if (c.firstChild())\n                    continue;\n                if (!c.type.isAnonymous)\n                    mustLeave = true;\n            }\n            for (;;) {\n                if (mustLeave && leave)\n                    leave(c.type, c.from, c.to, get);\n                mustLeave = c.type.isAnonymous;\n                if (c.nextSibling())\n                    break;\n                if (!c.parent())\n                    return;\n                mustLeave = true;\n            }\n        }\n    }\n    /// Get the value of the given [node prop](#common.NodeProp) for this\n    /// node. Works with both per-node and per-type props.\n    prop(prop) {\n        return !prop.perNode ? this.type.prop(prop) : this.props ? this.props[prop.id] : undefined;\n    }\n    /// Returns the node's [per-node props](#common.NodeProp.perNode) in a\n    /// format that can be passed to the [`Tree`](#common.Tree)\n    /// constructor.\n    get propValues() {\n        let result = [];\n        if (this.props)\n            for (let id in this.props)\n                result.push([+id, this.props[id]]);\n        return result;\n    }\n    /// Balance the direct children of this tree, producing a copy of\n    /// which may have children grouped into subtrees with type\n    /// [`NodeType.none`](#common.NodeType^none).\n    balance(config = {}) {\n        return this.children.length <= 8 /* BranchFactor */ ? this :\n            balanceRange(this.type, this.children, this.positions, 0, this.children.length, 0, this.length, (children, positions, length) => new Tree(this.type, children, positions, length, this.propValues), config.makeTree || ((children, positions, length) => new Tree(NodeType.none, children, positions, length)));\n    }\n    /// Build a tree from a postfix-ordered buffer of node information,\n    /// or a cursor over such a buffer.\n    static build(data) { return buildTree(data); }\n}\n/// The empty tree\nTree.empty = new Tree(NodeType.none, [], [], 0);\nclass FlatBufferCursor {\n    constructor(buffer, index) {\n        this.buffer = buffer;\n        this.index = index;\n    }\n    get id() { return this.buffer[this.index - 4]; }\n    get start() { return this.buffer[this.index - 3]; }\n    get end() { return this.buffer[this.index - 2]; }\n    get size() { return this.buffer[this.index - 1]; }\n    get pos() { return this.index; }\n    next() { this.index -= 4; }\n    fork() { return new FlatBufferCursor(this.buffer, this.index); }\n}\n/// Tree buffers contain (type, start, end, endIndex) quads for each\n/// node. In such a buffer, nodes are stored in prefix order (parents\n/// before children, with the endIndex of the parent indicating which\n/// children belong to it)\nclass TreeBuffer {\n    /// Create a tree buffer.\n    constructor(\n    /// The buffer's content.\n    buffer, \n    /// The total length of the group of nodes in the buffer.\n    length, \n    /// The node set used in this buffer.\n    set) {\n        this.buffer = buffer;\n        this.length = length;\n        this.set = set;\n    }\n    /// @internal\n    get type() { return NodeType.none; }\n    /// @internal\n    toString() {\n        let result = [];\n        for (let index = 0; index < this.buffer.length;) {\n            result.push(this.childString(index));\n            index = this.buffer[index + 3];\n        }\n        return result.join(\",\");\n    }\n    /// @internal\n    childString(index) {\n        let id = this.buffer[index], endIndex = this.buffer[index + 3];\n        let type = this.set.types[id], result = type.name;\n        if (/\\W/.test(result) && !type.isError)\n            result = JSON.stringify(result);\n        index += 4;\n        if (endIndex == index)\n            return result;\n        let children = [];\n        while (index < endIndex) {\n            children.push(this.childString(index));\n            index = this.buffer[index + 3];\n        }\n        return result + \"(\" + children.join(\",\") + \")\";\n    }\n    /// @internal\n    findChild(startIndex, endIndex, dir, pos, side) {\n        let { buffer } = this, pick = -1;\n        for (let i = startIndex; i != endIndex; i = buffer[i + 3]) {\n            if (checkSide(side, pos, buffer[i + 1], buffer[i + 2])) {\n                pick = i;\n                if (dir > 0)\n                    break;\n            }\n        }\n        return pick;\n    }\n    /// @internal\n    slice(startI, endI, from, to) {\n        let b = this.buffer;\n        let copy = new Uint16Array(endI - startI);\n        for (let i = startI, j = 0; i < endI;) {\n            copy[j++] = b[i++];\n            copy[j++] = b[i++] - from;\n            copy[j++] = b[i++] - from;\n            copy[j++] = b[i++] - startI;\n        }\n        return new TreeBuffer(copy, to - from, this.set);\n    }\n}\nfunction checkSide(side, pos, from, to) {\n    switch (side) {\n        case -2 /* Before */: return from < pos;\n        case -1 /* AtOrBefore */: return to >= pos && from < pos;\n        case 0 /* Around */: return from < pos && to > pos;\n        case 1 /* AtOrAfter */: return from <= pos && to > pos;\n        case 2 /* After */: return to > pos;\n        case 4 /* DontCare */: return true;\n    }\n}\nfunction enterUnfinishedNodesBefore(node, pos) {\n    let scan = node.childBefore(pos);\n    while (scan) {\n        let last = scan.lastChild;\n        if (!last || last.to != scan.to)\n            break;\n        if (last.type.isError && last.from == last.to) {\n            node = scan;\n            scan = last.prevSibling;\n        }\n        else {\n            scan = last;\n        }\n    }\n    return node;\n}\nclass TreeNode {\n    constructor(node, _from, \n    // Index in parent node, set to -1 if the node is not a direct child of _parent.node (overlay)\n    index, _parent) {\n        this.node = node;\n        this._from = _from;\n        this.index = index;\n        this._parent = _parent;\n    }\n    get type() { return this.node.type; }\n    get name() { return this.node.type.name; }\n    get from() { return this._from; }\n    get to() { return this._from + this.node.length; }\n    nextChild(i, dir, pos, side, mode = 0) {\n        for (let parent = this;;) {\n            for (let { children, positions } = parent.node, e = dir > 0 ? children.length : -1; i != e; i += dir) {\n                let next = children[i], start = positions[i] + parent._from;\n                if (!checkSide(side, pos, start, start + next.length))\n                    continue;\n                if (next instanceof TreeBuffer) {\n                    if (mode & 2 /* NoEnterBuffer */)\n                        continue;\n                    let index = next.findChild(0, next.buffer.length, dir, pos - start, side);\n                    if (index > -1)\n                        return new BufferNode(new BufferContext(parent, next, i, start), null, index);\n                }\n                else if ((mode & 1 /* Full */) || (!next.type.isAnonymous || hasChild(next))) {\n                    let mounted;\n                    if (next.props && (mounted = next.prop(NodeProp.mounted)) && !mounted.overlay)\n                        return new TreeNode(mounted.tree, start, i, parent);\n                    let inner = new TreeNode(next, start, i, parent);\n                    return (mode & 1 /* Full */) || !inner.type.isAnonymous ? inner\n                        : inner.nextChild(dir < 0 ? next.children.length - 1 : 0, dir, pos, side);\n                }\n            }\n            if ((mode & 1 /* Full */) || !parent.type.isAnonymous)\n                return null;\n            if (parent.index >= 0)\n                i = parent.index + dir;\n            else\n                i = dir < 0 ? -1 : parent._parent.node.children.length;\n            parent = parent._parent;\n            if (!parent)\n                return null;\n        }\n    }\n    get firstChild() { return this.nextChild(0, 1, 0, 4 /* DontCare */); }\n    get lastChild() { return this.nextChild(this.node.children.length - 1, -1, 0, 4 /* DontCare */); }\n    childAfter(pos) { return this.nextChild(0, 1, pos, 2 /* After */); }\n    childBefore(pos) { return this.nextChild(this.node.children.length - 1, -1, pos, -2 /* Before */); }\n    enter(pos, side, overlays = true, buffers = true) {\n        let mounted;\n        if (overlays && (mounted = this.node.prop(NodeProp.mounted)) && mounted.overlay) {\n            let rPos = pos - this.from;\n            for (let { from, to } of mounted.overlay) {\n                if ((side > 0 ? from <= rPos : from < rPos) &&\n                    (side < 0 ? to >= rPos : to > rPos))\n                    return new TreeNode(mounted.tree, mounted.overlay[0].from + this.from, -1, this);\n            }\n        }\n        return this.nextChild(0, 1, pos, side, buffers ? 0 : 2 /* NoEnterBuffer */);\n    }\n    nextSignificantParent() {\n        let val = this;\n        while (val.type.isAnonymous && val._parent)\n            val = val._parent;\n        return val;\n    }\n    get parent() {\n        return this._parent ? this._parent.nextSignificantParent() : null;\n    }\n    get nextSibling() {\n        return this._parent && this.index >= 0 ? this._parent.nextChild(this.index + 1, 1, 0, 4 /* DontCare */) : null;\n    }\n    get prevSibling() {\n        return this._parent && this.index >= 0 ? this._parent.nextChild(this.index - 1, -1, 0, 4 /* DontCare */) : null;\n    }\n    get cursor() { return new TreeCursor(this); }\n    get tree() { return this.node; }\n    toTree() { return this.node; }\n    resolve(pos, side = 0) {\n        return this.cursor.moveTo(pos, side).node;\n    }\n    enterUnfinishedNodesBefore(pos) { return enterUnfinishedNodesBefore(this, pos); }\n    getChild(type, before = null, after = null) {\n        let r = getChildren(this, type, before, after);\n        return r.length ? r[0] : null;\n    }\n    getChildren(type, before = null, after = null) {\n        return getChildren(this, type, before, after);\n    }\n    /// @internal\n    toString() { return this.node.toString(); }\n}\nfunction getChildren(node, type, before, after) {\n    let cur = node.cursor, result = [];\n    if (!cur.firstChild())\n        return result;\n    if (before != null)\n        while (!cur.type.is(before))\n            if (!cur.nextSibling())\n                return result;\n    for (;;) {\n        if (after != null && cur.type.is(after))\n            return result;\n        if (cur.type.is(type))\n            result.push(cur.node);\n        if (!cur.nextSibling())\n            return after == null ? result : [];\n    }\n}\nclass BufferContext {\n    constructor(parent, buffer, index, start) {\n        this.parent = parent;\n        this.buffer = buffer;\n        this.index = index;\n        this.start = start;\n    }\n}\nclass BufferNode {\n    constructor(context, _parent, index) {\n        this.context = context;\n        this._parent = _parent;\n        this.index = index;\n        this.type = context.buffer.set.types[context.buffer.buffer[index]];\n    }\n    get name() { return this.type.name; }\n    get from() { return this.context.start + this.context.buffer.buffer[this.index + 1]; }\n    get to() { return this.context.start + this.context.buffer.buffer[this.index + 2]; }\n    child(dir, pos, side) {\n        let { buffer } = this.context;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, pos - this.context.start, side);\n        return index < 0 ? null : new BufferNode(this.context, this, index);\n    }\n    get firstChild() { return this.child(1, 0, 4 /* DontCare */); }\n    get lastChild() { return this.child(-1, 0, 4 /* DontCare */); }\n    childAfter(pos) { return this.child(1, pos, 2 /* After */); }\n    childBefore(pos) { return this.child(-1, pos, -2 /* Before */); }\n    enter(pos, side, overlays, buffers = true) {\n        if (!buffers)\n            return null;\n        let { buffer } = this.context;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], side > 0 ? 1 : -1, pos - this.context.start, side);\n        return index < 0 ? null : new BufferNode(this.context, this, index);\n    }\n    get parent() {\n        return this._parent || this.context.parent.nextSignificantParent();\n    }\n    externalSibling(dir) {\n        return this._parent ? null : this.context.parent.nextChild(this.context.index + dir, dir, 0, 4 /* DontCare */);\n    }\n    get nextSibling() {\n        let { buffer } = this.context;\n        let after = buffer.buffer[this.index + 3];\n        if (after < (this._parent ? buffer.buffer[this._parent.index + 3] : buffer.buffer.length))\n            return new BufferNode(this.context, this._parent, after);\n        return this.externalSibling(1);\n    }\n    get prevSibling() {\n        let { buffer } = this.context;\n        let parentStart = this._parent ? this._parent.index + 4 : 0;\n        if (this.index == parentStart)\n            return this.externalSibling(-1);\n        return new BufferNode(this.context, this._parent, buffer.findChild(parentStart, this.index, -1, 0, 4 /* DontCare */));\n    }\n    get cursor() { return new TreeCursor(this); }\n    get tree() { return null; }\n    toTree() {\n        let children = [], positions = [];\n        let { buffer } = this.context;\n        let startI = this.index + 4, endI = buffer.buffer[this.index + 3];\n        if (endI > startI) {\n            let from = buffer.buffer[this.index + 1], to = buffer.buffer[this.index + 2];\n            children.push(buffer.slice(startI, endI, from, to));\n            positions.push(0);\n        }\n        return new Tree(this.type, children, positions, this.to - this.from);\n    }\n    resolve(pos, side = 0) {\n        return this.cursor.moveTo(pos, side).node;\n    }\n    enterUnfinishedNodesBefore(pos) { return enterUnfinishedNodesBefore(this, pos); }\n    /// @internal\n    toString() { return this.context.buffer.childString(this.index); }\n    getChild(type, before = null, after = null) {\n        let r = getChildren(this, type, before, after);\n        return r.length ? r[0] : null;\n    }\n    getChildren(type, before = null, after = null) {\n        return getChildren(this, type, before, after);\n    }\n}\n/// A tree cursor object focuses on a given node in a syntax tree, and\n/// allows you to move to adjacent nodes.\nclass TreeCursor {\n    /// @internal\n    constructor(node, \n    /// @internal\n    mode = 0) {\n        this.mode = mode;\n        this.buffer = null;\n        this.stack = [];\n        this.index = 0;\n        this.bufferNode = null;\n        if (node instanceof TreeNode) {\n            this.yieldNode(node);\n        }\n        else {\n            this._tree = node.context.parent;\n            this.buffer = node.context;\n            for (let n = node._parent; n; n = n._parent)\n                this.stack.unshift(n.index);\n            this.bufferNode = node;\n            this.yieldBuf(node.index);\n        }\n    }\n    /// Shorthand for `.type.name`.\n    get name() { return this.type.name; }\n    yieldNode(node) {\n        if (!node)\n            return false;\n        this._tree = node;\n        this.type = node.type;\n        this.from = node.from;\n        this.to = node.to;\n        return true;\n    }\n    yieldBuf(index, type) {\n        this.index = index;\n        let { start, buffer } = this.buffer;\n        this.type = type || buffer.set.types[buffer.buffer[index]];\n        this.from = start + buffer.buffer[index + 1];\n        this.to = start + buffer.buffer[index + 2];\n        return true;\n    }\n    yield(node) {\n        if (!node)\n            return false;\n        if (node instanceof TreeNode) {\n            this.buffer = null;\n            return this.yieldNode(node);\n        }\n        this.buffer = node.context;\n        return this.yieldBuf(node.index, node.type);\n    }\n    /// @internal\n    toString() {\n        return this.buffer ? this.buffer.buffer.childString(this.index) : this._tree.toString();\n    }\n    /// @internal\n    enterChild(dir, pos, side) {\n        if (!this.buffer)\n            return this.yield(this._tree.nextChild(dir < 0 ? this._tree.node.children.length - 1 : 0, dir, pos, side, this.mode));\n        let { buffer } = this.buffer;\n        let index = buffer.findChild(this.index + 4, buffer.buffer[this.index + 3], dir, pos - this.buffer.start, side);\n        if (index < 0)\n            return false;\n        this.stack.push(this.index);\n        return this.yieldBuf(index);\n    }\n    /// Move the cursor to this node's first child. When this returns\n    /// false, the node has no child, and the cursor has not been moved.\n    firstChild() { return this.enterChild(1, 0, 4 /* DontCare */); }\n    /// Move the cursor to this node's last child.\n    lastChild() { return this.enterChild(-1, 0, 4 /* DontCare */); }\n    /// Move the cursor to the first child that ends after `pos`.\n    childAfter(pos) { return this.enterChild(1, pos, 2 /* After */); }\n    /// Move to the last child that starts before `pos`.\n    childBefore(pos) { return this.enterChild(-1, pos, -2 /* Before */); }\n    /// Move the cursor to the child around `pos`. If side is -1 the\n    /// child may end at that position, when 1 it may start there. This\n    /// will also enter [overlaid](#common.MountedTree.overlay)\n    /// [mounted](#common.NodeProp^mounted) trees unless `overlays` is\n    /// set to false.\n    enter(pos, side, overlays = true, buffers = true) {\n        if (!this.buffer)\n            return this.yield(this._tree.enter(pos, side, overlays, buffers));\n        return buffers ? this.enterChild(1, pos, side) : false;\n    }\n    /// Move the node's parent node, if this isn't the top node.\n    parent() {\n        if (!this.buffer)\n            return this.yieldNode((this.mode & 1 /* Full */) ? this._tree._parent : this._tree.parent);\n        if (this.stack.length)\n            return this.yieldBuf(this.stack.pop());\n        let parent = (this.mode & 1 /* Full */) ? this.buffer.parent : this.buffer.parent.nextSignificantParent();\n        this.buffer = null;\n        return this.yieldNode(parent);\n    }\n    /// @internal\n    sibling(dir) {\n        if (!this.buffer)\n            return !this._tree._parent ? false\n                : this.yield(this._tree.index < 0 ? null\n                    : this._tree._parent.nextChild(this._tree.index + dir, dir, 0, 4 /* DontCare */, this.mode));\n        let { buffer } = this.buffer, d = this.stack.length - 1;\n        if (dir < 0) {\n            let parentStart = d < 0 ? 0 : this.stack[d] + 4;\n            if (this.index != parentStart)\n                return this.yieldBuf(buffer.findChild(parentStart, this.index, -1, 0, 4 /* DontCare */));\n        }\n        else {\n            let after = buffer.buffer[this.index + 3];\n            if (after < (d < 0 ? buffer.buffer.length : buffer.buffer[this.stack[d] + 3]))\n                return this.yieldBuf(after);\n        }\n        return d < 0 ? this.yield(this.buffer.parent.nextChild(this.buffer.index + dir, dir, 0, 4 /* DontCare */, this.mode)) : false;\n    }\n    /// Move to this node's next sibling, if any.\n    nextSibling() { return this.sibling(1); }\n    /// Move to this node's previous sibling, if any.\n    prevSibling() { return this.sibling(-1); }\n    atLastNode(dir) {\n        let index, parent, { buffer } = this;\n        if (buffer) {\n            if (dir > 0) {\n                if (this.index < buffer.buffer.buffer.length)\n                    return false;\n            }\n            else {\n                for (let i = 0; i < this.index; i++)\n                    if (buffer.buffer.buffer[i + 3] < this.index)\n                        return false;\n            }\n            ({ index, parent } = buffer);\n        }\n        else {\n            ({ index, _parent: parent } = this._tree);\n        }\n        for (; parent; { index, _parent: parent } = parent) {\n            if (index > -1)\n                for (let i = index + dir, e = dir < 0 ? -1 : parent.node.children.length; i != e; i += dir) {\n                    let child = parent.node.children[i];\n                    if ((this.mode & 1 /* Full */) || child instanceof TreeBuffer || !child.type.isAnonymous || hasChild(child))\n                        return false;\n                }\n        }\n        return true;\n    }\n    move(dir, enter) {\n        if (enter && this.enterChild(dir, 0, 4 /* DontCare */))\n            return true;\n        for (;;) {\n            if (this.sibling(dir))\n                return true;\n            if (this.atLastNode(dir) || !this.parent())\n                return false;\n        }\n    }\n    /// Move to the next node in a\n    /// [pre-order](https://en.wikipedia.org/wiki/Tree_traversal#Pre-order_(NLR))\n    /// traversal, going from a node to its first child or, if the\n    /// current node is empty or `enter` is false, its next sibling or\n    /// the next sibling of the first parent node that has one.\n    next(enter = true) { return this.move(1, enter); }\n    /// Move to the next node in a last-to-first pre-order traveral. A\n    /// node is followed by its last child or, if it has none, its\n    /// previous sibling or the previous sibling of the first parent\n    /// node that has one.\n    prev(enter = true) { return this.move(-1, enter); }\n    /// Move the cursor to the innermost node that covers `pos`. If\n    /// `side` is -1, it will enter nodes that end at `pos`. If it is 1,\n    /// it will enter nodes that start at `pos`.\n    moveTo(pos, side = 0) {\n        // Move up to a node that actually holds the position, if possible\n        while (this.from == this.to ||\n            (side < 1 ? this.from >= pos : this.from > pos) ||\n            (side > -1 ? this.to <= pos : this.to < pos))\n            if (!this.parent())\n                break;\n        // Then scan down into child nodes as far as possible\n        while (this.enterChild(1, pos, side)) { }\n        return this;\n    }\n    /// Get a [syntax node](#common.SyntaxNode) at the cursor's current\n    /// position.\n    get node() {\n        if (!this.buffer)\n            return this._tree;\n        let cache = this.bufferNode, result = null, depth = 0;\n        if (cache && cache.context == this.buffer) {\n            scan: for (let index = this.index, d = this.stack.length; d >= 0;) {\n                for (let c = cache; c; c = c._parent)\n                    if (c.index == index) {\n                        if (index == this.index)\n                            return c;\n                        result = c;\n                        depth = d + 1;\n                        break scan;\n                    }\n                index = this.stack[--d];\n            }\n        }\n        for (let i = depth; i < this.stack.length; i++)\n            result = new BufferNode(this.buffer, result, this.stack[i]);\n        return this.bufferNode = new BufferNode(this.buffer, result, this.index);\n    }\n    /// Get the [tree](#common.Tree) that represents the current node, if\n    /// any. Will return null when the node is in a [tree\n    /// buffer](#common.TreeBuffer).\n    get tree() {\n        return this.buffer ? null : this._tree.node;\n    }\n}\nfunction hasChild(tree) {\n    return tree.children.some(ch => ch instanceof TreeBuffer || !ch.type.isAnonymous || hasChild(ch));\n}\nfunction buildTree(data) {\n    var _a;\n    let { buffer, nodeSet, maxBufferLength = DefaultBufferLength, reused = [], minRepeatType = nodeSet.types.length } = data;\n    let cursor = Array.isArray(buffer) ? new FlatBufferCursor(buffer, buffer.length) : buffer;\n    let types = nodeSet.types;\n    let contextHash = 0, lookAhead = 0;\n    function takeNode(parentStart, minPos, children, positions, inRepeat) {\n        let { id, start, end, size } = cursor;\n        let lookAheadAtStart = lookAhead;\n        while (size < 0) {\n            cursor.next();\n            if (size == -1 /* Reuse */) {\n                let node = reused[id];\n                children.push(node);\n                positions.push(start - parentStart);\n                return;\n            }\n            else if (size == -3 /* ContextChange */) { // Context change\n                contextHash = id;\n                return;\n            }\n            else if (size == -4 /* LookAhead */) {\n                lookAhead = id;\n                return;\n            }\n            else {\n                throw new RangeError(`Unrecognized record size: ${size}`);\n            }\n        }\n        let type = types[id], node, buffer;\n        let startPos = start - parentStart;\n        if (end - start <= maxBufferLength && (buffer = findBufferSize(cursor.pos - minPos, inRepeat))) {\n            // Small enough for a buffer, and no reused nodes inside\n            let data = new Uint16Array(buffer.size - buffer.skip);\n            let endPos = cursor.pos - buffer.size, index = data.length;\n            while (cursor.pos > endPos)\n                index = copyToBuffer(buffer.start, data, index);\n            node = new TreeBuffer(data, end - buffer.start, nodeSet);\n            startPos = buffer.start - parentStart;\n        }\n        else { // Make it a node\n            let endPos = cursor.pos - size;\n            cursor.next();\n            let localChildren = [], localPositions = [];\n            let localInRepeat = id >= minRepeatType ? id : -1;\n            let lastGroup = 0, lastEnd = end;\n            while (cursor.pos > endPos) {\n                if (localInRepeat >= 0 && cursor.id == localInRepeat && cursor.size >= 0) {\n                    if (cursor.end <= lastEnd - maxBufferLength) {\n                        makeRepeatLeaf(localChildren, localPositions, start, lastGroup, cursor.end, lastEnd, localInRepeat, lookAheadAtStart);\n                        lastGroup = localChildren.length;\n                        lastEnd = cursor.end;\n                    }\n                    cursor.next();\n                }\n                else {\n                    takeNode(start, endPos, localChildren, localPositions, localInRepeat);\n                }\n            }\n            if (localInRepeat >= 0 && lastGroup > 0 && lastGroup < localChildren.length)\n                makeRepeatLeaf(localChildren, localPositions, start, lastGroup, start, lastEnd, localInRepeat, lookAheadAtStart);\n            localChildren.reverse();\n            localPositions.reverse();\n            if (localInRepeat > -1 && lastGroup > 0) {\n                let make = makeBalanced(type);\n                node = balanceRange(type, localChildren, localPositions, 0, localChildren.length, 0, end - start, make, make);\n            }\n            else {\n                node = makeTree(type, localChildren, localPositions, end - start, lookAheadAtStart - end);\n            }\n        }\n        children.push(node);\n        positions.push(startPos);\n    }\n    function makeBalanced(type) {\n        return (children, positions, length) => {\n            let lookAhead = 0, lastI = children.length - 1, last, lookAheadProp;\n            if (lastI >= 0 && (last = children[lastI]) instanceof Tree) {\n                if (!lastI && last.type == type && last.length == length)\n                    return last;\n                if (lookAheadProp = last.prop(NodeProp.lookAhead))\n                    lookAhead = positions[lastI] + last.length + lookAheadProp;\n            }\n            return makeTree(type, children, positions, length, lookAhead);\n        };\n    }\n    function makeRepeatLeaf(children, positions, base, i, from, to, type, lookAhead) {\n        let localChildren = [], localPositions = [];\n        while (children.length > i) {\n            localChildren.push(children.pop());\n            localPositions.push(positions.pop() + base - from);\n        }\n        children.push(makeTree(nodeSet.types[type], localChildren, localPositions, to - from, lookAhead - to));\n        positions.push(from - base);\n    }\n    function makeTree(type, children, positions, length, lookAhead = 0, props) {\n        if (contextHash) {\n            let pair = [NodeProp.contextHash, contextHash];\n            props = props ? [pair].concat(props) : [pair];\n        }\n        if (lookAhead > 25) {\n            let pair = [NodeProp.lookAhead, lookAhead];\n            props = props ? [pair].concat(props) : [pair];\n        }\n        return new Tree(type, children, positions, length, props);\n    }\n    function findBufferSize(maxSize, inRepeat) {\n        // Scan through the buffer to find previous siblings that fit\n        // together in a TreeBuffer, and don't contain any reused nodes\n        // (which can't be stored in a buffer).\n        // If `inRepeat` is > -1, ignore node boundaries of that type for\n        // nesting, but make sure the end falls either at the start\n        // (`maxSize`) or before such a node.\n        let fork = cursor.fork();\n        let size = 0, start = 0, skip = 0, minStart = fork.end - maxBufferLength;\n        let result = { size: 0, start: 0, skip: 0 };\n        scan: for (let minPos = fork.pos - maxSize; fork.pos > minPos;) {\n            let nodeSize = fork.size;\n            // Pretend nested repeat nodes of the same type don't exist\n            if (fork.id == inRepeat && nodeSize >= 0) {\n                // Except that we store the current state as a valid return\n                // value.\n                result.size = size;\n                result.start = start;\n                result.skip = skip;\n                skip += 4;\n                size += 4;\n                fork.next();\n                continue;\n            }\n            let startPos = fork.pos - nodeSize;\n            if (nodeSize < 0 || startPos < minPos || fork.start < minStart)\n                break;\n            let localSkipped = fork.id >= minRepeatType ? 4 : 0;\n            let nodeStart = fork.start;\n            fork.next();\n            while (fork.pos > startPos) {\n                if (fork.size < 0) {\n                    if (fork.size == -3 /* ContextChange */)\n                        localSkipped += 4;\n                    else\n                        break scan;\n                }\n                else if (fork.id >= minRepeatType) {\n                    localSkipped += 4;\n                }\n                fork.next();\n            }\n            start = nodeStart;\n            size += nodeSize;\n            skip += localSkipped;\n        }\n        if (inRepeat < 0 || size == maxSize) {\n            result.size = size;\n            result.start = start;\n            result.skip = skip;\n        }\n        return result.size > 4 ? result : undefined;\n    }\n    function copyToBuffer(bufferStart, buffer, index) {\n        let { id, start, end, size } = cursor;\n        cursor.next();\n        if (size >= 0 && id < minRepeatType) {\n            let startIndex = index;\n            if (size > 4) {\n                let endPos = cursor.pos - (size - 4);\n                while (cursor.pos > endPos)\n                    index = copyToBuffer(bufferStart, buffer, index);\n            }\n            buffer[--index] = startIndex;\n            buffer[--index] = end - bufferStart;\n            buffer[--index] = start - bufferStart;\n            buffer[--index] = id;\n        }\n        else if (size == -3 /* ContextChange */) {\n            contextHash = id;\n        }\n        else if (size == -4 /* LookAhead */) {\n            lookAhead = id;\n        }\n        return index;\n    }\n    let children = [], positions = [];\n    while (cursor.pos > 0)\n        takeNode(data.start || 0, data.bufferStart || 0, children, positions, -1);\n    let length = (_a = data.length) !== null && _a !== void 0 ? _a : (children.length ? positions[0] + children[0].length : 0);\n    return new Tree(types[data.topID], children.reverse(), positions.reverse(), length);\n}\nconst nodeSizeCache = new WeakMap;\nfunction nodeSize(balanceType, node) {\n    if (!balanceType.isAnonymous || node instanceof TreeBuffer || node.type != balanceType)\n        return 1;\n    let size = nodeSizeCache.get(node);\n    if (size == null) {\n        size = node.children.reduce((s, ch) => s + nodeSize(balanceType, ch), 1);\n        nodeSizeCache.set(node, size);\n    }\n    return size;\n}\nfunction balanceRange(\n// The type to tag the resulting tree with. Will also be used for\n// internal nodes when it is an anonymous type\ntype, \n// The direct children and their positions\nchildren, positions, \n// The index range in children/positions to use\nfrom, to, \n// The start position of the nodes, relative to their parent.\nstart, \n// Length of the outer node\nlength, \n// Function to build the top node of the balanced tree\nmkTop, \n// Function to build internal nodes for the balanced tree\nmkTree) {\n    let total = 0;\n    for (let i = from; i < to; i++)\n        total += nodeSize(type, children[i]);\n    let maxChild = Math.ceil((total * 1.5) / 8 /* BranchFactor */);\n    let localChildren = [], localPositions = [];\n    function divide(children, positions, from, to, offset) {\n        for (let i = from; i < to;) {\n            let groupFrom = i, groupStart = positions[i], groupSize = nodeSize(type, children[i]);\n            i++;\n            for (; i < to; i++) {\n                let nextSize = nodeSize(type, children[i]);\n                if (groupSize + nextSize >= maxChild)\n                    break;\n                groupSize += nextSize;\n            }\n            if (i == groupFrom + 1) {\n                if (groupSize > maxChild) {\n                    let only = children[groupFrom];\n                    divide(only.children, only.positions, 0, only.children.length, positions[groupFrom] + offset);\n                    continue;\n                }\n                localChildren.push(children[groupFrom]);\n            }\n            else {\n                let length = positions[i - 1] + children[i - 1].length - groupStart;\n                localChildren.push(balanceRange(type, children, positions, groupFrom, i, groupStart, length, null, mkTree));\n            }\n            localPositions.push(groupStart + offset - start);\n        }\n    }\n    divide(children, positions, from, to, 0);\n    return (mkTop || mkTree)(localChildren, localPositions, length);\n}\n\n/// Tree fragments are used during [incremental\n/// parsing](#common.Parser.startParse) to track parts of old trees\n/// that can be reused in a new parse. An array of fragments is used\n/// to track regions of an old tree whose nodes might be reused in new\n/// parses. Use the static\n/// [`applyChanges`](#common.TreeFragment^applyChanges) method to\n/// update fragments for document changes.\nclass TreeFragment {\n    /// Construct a tree fragment.\n    constructor(\n    /// The start of the unchanged range pointed to by this fragment.\n    /// This refers to an offset in the _updated_ document (as opposed\n    /// to the original tree).\n    from, \n    /// The end of the unchanged range.\n    to, \n    /// The tree that this fragment is based on.\n    tree, \n    /// The offset between the fragment's tree and the document that\n    /// this fragment can be used against. Add this when going from\n    /// document to tree positions, subtract it to go from tree to\n    /// document positions.\n    offset, openStart = false, openEnd = false) {\n        this.from = from;\n        this.to = to;\n        this.tree = tree;\n        this.offset = offset;\n        this.open = (openStart ? 1 /* Start */ : 0) | (openEnd ? 2 /* End */ : 0);\n    }\n    /// Whether the start of the fragment represents the start of a\n    /// parse, or the end of a change. (In the second case, it may not\n    /// be safe to reuse some nodes at the start, depending on the\n    /// parsing algorithm.)\n    get openStart() { return (this.open & 1 /* Start */) > 0; }\n    /// Whether the end of the fragment represents the end of a\n    /// full-document parse, or the start of a change.\n    get openEnd() { return (this.open & 2 /* End */) > 0; }\n    /// Create a set of fragments from a freshly parsed tree, or update\n    /// an existing set of fragments by replacing the ones that overlap\n    /// with a tree with content from the new tree. When `partial` is\n    /// true, the parse is treated as incomplete, and the resulting\n    /// fragment has [`openEnd`](#common.TreeFragment.openEnd) set to\n    /// true.\n    static addTree(tree, fragments = [], partial = false) {\n        let result = [new TreeFragment(0, tree.length, tree, 0, false, partial)];\n        for (let f of fragments)\n            if (f.to > tree.length)\n                result.push(f);\n        return result;\n    }\n    /// Apply a set of edits to an array of fragments, removing or\n    /// splitting fragments as necessary to remove edited ranges, and\n    /// adjusting offsets for fragments that moved.\n    static applyChanges(fragments, changes, minGap = 128) {\n        if (!changes.length)\n            return fragments;\n        let result = [];\n        let fI = 1, nextF = fragments.length ? fragments[0] : null;\n        for (let cI = 0, pos = 0, off = 0;; cI++) {\n            let nextC = cI < changes.length ? changes[cI] : null;\n            let nextPos = nextC ? nextC.fromA : 1e9;\n            if (nextPos - pos >= minGap)\n                while (nextF && nextF.from < nextPos) {\n                    let cut = nextF;\n                    if (pos >= cut.from || nextPos <= cut.to || off) {\n                        let fFrom = Math.max(cut.from, pos) - off, fTo = Math.min(cut.to, nextPos) - off;\n                        cut = fFrom >= fTo ? null : new TreeFragment(fFrom, fTo, cut.tree, cut.offset + off, cI > 0, !!nextC);\n                    }\n                    if (cut)\n                        result.push(cut);\n                    if (nextF.to > nextPos)\n                        break;\n                    nextF = fI < fragments.length ? fragments[fI++] : null;\n                }\n            if (!nextC)\n                break;\n            pos = nextC.toA;\n            off = nextC.toA - nextC.toB;\n        }\n        return result;\n    }\n}\n/// A superclass that parsers should extend.\nclass Parser {\n    /// Start a parse, returning a [partial parse](#common.PartialParse)\n    /// object. [`fragments`](#common.TreeFragment) can be passed in to\n    /// make the parse incremental.\n    ///\n    /// By default, the entire input is parsed. You can pass `ranges`,\n    /// which should be a sorted array of non-empty, non-overlapping\n    /// ranges, to parse only those ranges. The tree returned in that\n    /// case will start at `ranges[0].from`.\n    startParse(input, fragments, ranges) {\n        if (typeof input == \"string\")\n            input = new StringInput(input);\n        ranges = !ranges ? [new Range(0, input.length)] : ranges.length ? ranges.map(r => new Range(r.from, r.to)) : [new Range(0, 0)];\n        return this.createParse(input, fragments || [], ranges);\n    }\n    /// Run a full parse, returning the resulting tree.\n    parse(input, fragments, ranges) {\n        let parse = this.startParse(input, fragments, ranges);\n        for (;;) {\n            let done = parse.advance();\n            if (done)\n                return done;\n        }\n    }\n}\nclass StringInput {\n    constructor(string) {\n        this.string = string;\n    }\n    get length() { return this.string.length; }\n    chunk(from) { return this.string.slice(from); }\n    get lineChunks() { return false; }\n    read(from, to) { return this.string.slice(from, to); }\n}\n\n/// Create a parse wrapper that, after the inner parse completes,\n/// scans its tree for mixed language regions with the `nest`\n/// function, runs the resulting [inner parses](#common.NestedParse),\n/// and then [mounts](#common.NodeProp^mounted) their results onto the\n/// tree.\n///\n/// The nesting function is passed a cursor to provide context for a\n/// node, but _should not_ move that cursor, only inspect its\n/// properties and optionally access its\n/// [node object](#common.TreeCursor.node).\nfunction parseMixed(nest) {\n    return (parse, input, fragments, ranges) => new MixedParse(parse, nest, input, fragments, ranges);\n}\nclass InnerParse {\n    constructor(parser, parse, overlay, target) {\n        this.parser = parser;\n        this.parse = parse;\n        this.overlay = overlay;\n        this.target = target;\n    }\n}\nclass ActiveOverlay {\n    constructor(parser, predicate, mounts, index, start, target, prev) {\n        this.parser = parser;\n        this.predicate = predicate;\n        this.mounts = mounts;\n        this.index = index;\n        this.start = start;\n        this.target = target;\n        this.prev = prev;\n        this.depth = 0;\n        this.ranges = [];\n    }\n}\nclass MixedParse {\n    constructor(base, nest, input, fragments, ranges) {\n        this.nest = nest;\n        this.input = input;\n        this.fragments = fragments;\n        this.ranges = ranges;\n        this.inner = [];\n        this.innerDone = 0;\n        this.baseTree = null;\n        this.stoppedAt = null;\n        this.baseParse = base;\n    }\n    advance() {\n        if (this.baseParse) {\n            let done = this.baseParse.advance();\n            if (!done)\n                return null;\n            this.baseParse = null;\n            this.baseTree = done;\n            this.startInner();\n        }\n        if (this.innerDone == this.inner.length)\n            return this.baseTree;\n        let inner = this.inner[this.innerDone], done = inner.parse.advance();\n        if (done) {\n            this.innerDone++;\n            // This is a somewhat dodgy but super helpful hack where we\n            // patch up nodes created by the inner parse (and thus\n            // presumably not aliased anywhere else) to hold the information\n            // about the inner parse.\n            let props = Object.assign(Object.create(null), inner.target.props);\n            props[NodeProp.mounted.id] = new MountedTree(done, inner.overlay, inner.parser);\n            inner.target.props = props;\n        }\n        return null;\n    }\n    get parsedPos() {\n        if (this.baseParse)\n            return 0;\n        let next = this.inner[this.innerDone];\n        return next ? next.parse.parsedPos : this.input.length;\n    }\n    stopAt(pos) {\n        this.stoppedAt = pos;\n        if (this.baseParse)\n            this.baseParse.stopAt(pos);\n        else\n            for (let i = this.innerDone; i < this.inner.length; i++)\n                this.inner[i].parse.stopAt(pos);\n    }\n    startInner() {\n        let fragmentCursor = new FragmentCursor(this.fragments);\n        let overlay = null;\n        let covered = null;\n        scan: for (let cursor = this.baseTree.fullCursor(), nest, isCovered;;) {\n            let enter = true, range;\n            if (fragmentCursor.hasNode(cursor)) {\n                if (overlay) {\n                    let match = overlay.mounts.find(m => m.frag.from <= cursor.from && m.frag.to >= cursor.to && m.mount.overlay);\n                    if (match)\n                        for (let r of match.mount.overlay) {\n                            let from = r.from + match.pos, to = r.to + match.pos;\n                            if (from >= cursor.from && to <= cursor.to)\n                                overlay.ranges.push({ from, to });\n                        }\n                }\n                enter = false;\n            }\n            else if (covered && (isCovered = checkCover(covered.ranges, cursor.from, cursor.to))) {\n                enter = isCovered != 2 /* Full */;\n            }\n            else if (!cursor.type.isAnonymous && cursor.from < cursor.to && (nest = this.nest(cursor, this.input))) {\n                if (!cursor.tree)\n                    materialize(cursor);\n                let oldMounts = fragmentCursor.findMounts(cursor.from, nest.parser);\n                if (typeof nest.overlay == \"function\") {\n                    overlay = new ActiveOverlay(nest.parser, nest.overlay, oldMounts, this.inner.length, cursor.from, cursor.tree, overlay);\n                }\n                else {\n                    let ranges = punchRanges(this.ranges, nest.overlay || [new Range(cursor.from, cursor.to)]);\n                    if (ranges.length)\n                        this.inner.push(new InnerParse(nest.parser, nest.parser.startParse(this.input, enterFragments(oldMounts, ranges), ranges), nest.overlay ? nest.overlay.map(r => new Range(r.from - cursor.from, r.to - cursor.from)) : null, cursor.tree));\n                    if (!nest.overlay)\n                        enter = false;\n                    else if (ranges.length)\n                        covered = { ranges, depth: 0, prev: covered };\n                }\n            }\n            else if (overlay && (range = overlay.predicate(cursor))) {\n                if (range === true)\n                    range = new Range(cursor.from, cursor.to);\n                if (range.from < range.to)\n                    overlay.ranges.push(range);\n            }\n            if (enter && cursor.firstChild()) {\n                if (overlay)\n                    overlay.depth++;\n                if (covered)\n                    covered.depth++;\n            }\n            else {\n                for (;;) {\n                    if (cursor.nextSibling())\n                        break;\n                    if (!cursor.parent())\n                        break scan;\n                    if (overlay && !--overlay.depth) {\n                        let ranges = punchRanges(this.ranges, overlay.ranges);\n                        if (ranges.length)\n                            this.inner.splice(overlay.index, 0, new InnerParse(overlay.parser, overlay.parser.startParse(this.input, enterFragments(overlay.mounts, ranges), ranges), overlay.ranges.map(r => new Range(r.from - overlay.start, r.to - overlay.start)), overlay.target));\n                        overlay = overlay.prev;\n                    }\n                    if (covered && !--covered.depth)\n                        covered = covered.prev;\n                }\n            }\n        }\n    }\n}\nfunction checkCover(covered, from, to) {\n    for (let range of covered) {\n        if (range.from >= to)\n            break;\n        if (range.to > from)\n            return range.from <= from && range.to >= to ? 2 /* Full */ : 1 /* Partial */;\n    }\n    return 0 /* None */;\n}\n// Take a piece of buffer and convert it into a stand-alone\n// TreeBuffer.\nfunction sliceBuf(buf, startI, endI, nodes, positions, off) {\n    if (startI < endI) {\n        let from = buf.buffer[startI + 1], to = buf.buffer[endI - 2];\n        nodes.push(buf.slice(startI, endI, from, to));\n        positions.push(from - off);\n    }\n}\n// This function takes a node that's in a buffer, and converts it, and\n// its parent buffer nodes, into a Tree. This is again acting on the\n// assumption that the trees and buffers have been constructed by the\n// parse that was ran via the mix parser, and thus aren't shared with\n// any other code, making violations of the immutability safe.\nfunction materialize(cursor) {\n    let { node } = cursor, depth = 0;\n    // Scan up to the nearest tree\n    do {\n        cursor.parent();\n        depth++;\n    } while (!cursor.tree);\n    // Find the index of the buffer in that tree\n    let i = 0, base = cursor.tree, off = 0;\n    for (;; i++) {\n        off = base.positions[i] + cursor.from;\n        if (off <= node.from && off + base.children[i].length >= node.to)\n            break;\n    }\n    let buf = base.children[i], b = buf.buffer;\n    // Split a level in the buffer, putting the nodes before and after\n    // the child that contains `node` into new buffers.\n    function split(startI, endI, type, innerOffset) {\n        let i = startI;\n        while (b[i + 2] + off <= node.from)\n            i = b[i + 3];\n        let children = [], positions = [];\n        sliceBuf(buf, startI, i, children, positions, innerOffset);\n        let isTarget = b[i + 1] + off == node.from && b[i + 2] + off == node.to && b[i] == node.type.id;\n        children.push(isTarget ? node.toTree() : split(i + 4, b[i + 3], buf.set.types[b[i]], b[i + 1]));\n        positions.push(b[i + 1] - innerOffset);\n        sliceBuf(buf, b[i + 3], endI, children, positions, innerOffset);\n        let last = children.length - 1;\n        return new Tree(type, children, positions, positions[last] + children[last].length);\n    }\n    base.children[i] = split(0, b.length, NodeType.none, 0);\n    // Move the cursor back to the target node\n    for (let d = 0; d <= depth; d++)\n        cursor.childAfter(node.from);\n}\nclass StructureCursor {\n    constructor(root, offset) {\n        this.offset = offset;\n        this.done = false;\n        this.cursor = root.fullCursor();\n    }\n    // Move to the first node (in pre-order) that starts at or after `pos`.\n    moveTo(pos) {\n        let { cursor } = this, p = pos - this.offset;\n        while (!this.done && cursor.from < p) {\n            if (cursor.to >= pos && cursor.enter(p, 1, false, false)) ;\n            else if (!cursor.next(false))\n                this.done = true;\n        }\n    }\n    hasNode(cursor) {\n        this.moveTo(cursor.from);\n        if (!this.done && this.cursor.from + this.offset == cursor.from) {\n            for (let tree = this.cursor.tree;;) {\n                if (tree == cursor.tree)\n                    return true;\n                if (tree.children.length && tree.positions[0] == 0 && tree.children[0] instanceof Tree)\n                    tree = tree.children[0];\n                else\n                    break;\n            }\n        }\n        return false;\n    }\n}\nclass FragmentCursor {\n    constructor(fragments) {\n        this.fragments = fragments;\n        this.fragI = 0;\n        if (fragments.length) {\n            let first = this.curFrag = fragments[0];\n            this.inner = new StructureCursor(first.tree, -first.offset);\n        }\n        else {\n            this.curFrag = this.inner = null;\n        }\n    }\n    hasNode(node) {\n        while (this.curFrag && node.from >= this.curFrag.to)\n            this.nextFrag();\n        return this.curFrag && this.curFrag.from <= node.from && this.curFrag.to >= node.to && this.inner.hasNode(node);\n    }\n    nextFrag() {\n        this.fragI++;\n        if (this.fragI == this.fragments.length) {\n            this.curFrag = this.inner = null;\n        }\n        else {\n            let frag = this.curFrag = this.fragments[this.fragI];\n            this.inner = new StructureCursor(frag.tree, -frag.offset);\n        }\n    }\n    findMounts(pos, parser) {\n        var _a;\n        let result = [];\n        if (this.inner) {\n            this.inner.cursor.moveTo(pos, 1);\n            for (let pos = this.inner.cursor.node; pos; pos = pos.parent) {\n                let mount = (_a = pos.tree) === null || _a === void 0 ? void 0 : _a.prop(NodeProp.mounted);\n                if (mount && mount.parser == parser) {\n                    for (let i = this.fragI; i < this.fragments.length; i++) {\n                        let frag = this.fragments[i];\n                        if (frag.from >= pos.to)\n                            break;\n                        if (frag.tree == this.curFrag.tree)\n                            result.push({\n                                frag,\n                                pos: pos.from - frag.offset,\n                                mount\n                            });\n                    }\n                }\n            }\n        }\n        return result;\n    }\n}\nfunction punchRanges(outer, ranges) {\n    let copy = null, current = ranges;\n    for (let i = 1, j = 0; i < outer.length; i++) {\n        let gapFrom = outer[i - 1].to, gapTo = outer[i].from;\n        for (; j < current.length; j++) {\n            let r = current[j];\n            if (r.from >= gapTo)\n                break;\n            if (r.to <= gapFrom)\n                continue;\n            if (!copy)\n                current = copy = ranges.slice();\n            if (r.from < gapFrom) {\n                copy[j] = new Range(r.from, gapFrom);\n                if (r.to > gapTo)\n                    copy.splice(j + 1, 0, new Range(gapTo, r.to));\n            }\n            else if (r.to > gapTo) {\n                copy[j--] = new Range(gapTo, r.to);\n            }\n            else {\n                copy.splice(j--, 1);\n            }\n        }\n    }\n    return current;\n}\nfunction findCoverChanges(a, b, from, to) {\n    let iA = 0, iB = 0, inA = false, inB = false, pos = -1e9;\n    let result = [];\n    for (;;) {\n        let nextA = iA == a.length ? 1e9 : inA ? a[iA].to : a[iA].from;\n        let nextB = iB == b.length ? 1e9 : inB ? b[iB].to : b[iB].from;\n        if (inA != inB) {\n            let start = Math.max(pos, from), end = Math.min(nextA, nextB, to);\n            if (start < end)\n                result.push(new Range(start, end));\n        }\n        pos = Math.min(nextA, nextB);\n        if (pos == 1e9)\n            break;\n        if (nextA == pos) {\n            if (!inA)\n                inA = true;\n            else {\n                inA = false;\n                iA++;\n            }\n        }\n        if (nextB == pos) {\n            if (!inB)\n                inB = true;\n            else {\n                inB = false;\n                iB++;\n            }\n        }\n    }\n    return result;\n}\n// Given a number of fragments for the outer tree, and a set of ranges\n// to parse, find fragments for inner trees mounted around those\n// ranges, if any.\nfunction enterFragments(mounts, ranges) {\n    let result = [];\n    for (let { pos, mount, frag } of mounts) {\n        let startPos = pos + (mount.overlay ? mount.overlay[0].from : 0), endPos = startPos + mount.tree.length;\n        let from = Math.max(frag.from, startPos), to = Math.min(frag.to, endPos);\n        if (mount.overlay) {\n            let overlay = mount.overlay.map(r => new Range(r.from + pos, r.to + pos));\n            let changes = findCoverChanges(ranges, overlay, from, to);\n            for (let i = 0, pos = from;; i++) {\n                let last = i == changes.length, end = last ? to : changes[i].from;\n                if (end > pos)\n                    result.push(new TreeFragment(pos, end, mount.tree, -startPos, frag.from >= pos, frag.to <= end));\n                if (last)\n                    break;\n                pos = changes[i].to;\n            }\n        }\n        else {\n            result.push(new TreeFragment(from, to, mount.tree, -startPos, frag.from >= startPos, frag.to <= endPos));\n        }\n    }\n    return result;\n}\n\nexport { DefaultBufferLength, MountedTree, NodeProp, NodeSet, NodeType, Parser, Tree, TreeBuffer, TreeCursor, TreeFragment, parseMixed };\n","export default \"<mat-tab-group>\\n  <mat-tab label=\\\"Default Setting\\\">\\n    Codemirror:\\n    <gewd-codemirror [codemirrorExtensions]=\\\"normalExtensions\\\"\\n                     (changed)=\\\"textarea.value = $event\\\"\\n                     [value]=\\\"exampleJsText\\\"\\n                     #codemirror></gewd-codemirror>\\n\\n    Twoway Binding to normal Textarea <br/>\\n    <textarea #textarea\\n              (keyup)=\\\"updateCodemirror(codemirror, textarea)\\\"\\n              [value]=\\\"exampleJsText\\\"\\n\\n              [cols]=\\\"60\\\"\\n              [rows]=\\\"6\\\"\\n               ></textarea>\\n\\n    <br/>\\n\\n    Current Selection: {{codemirror.selectedRange | json}}\\n\\n    <br>\\n\\n    <button (click)=\\\"insertText(codemirror)\\\">insert text at position</button>\\n  </mat-tab>\\n  <mat-tab label=\\\"Enable CodeMirror Features\\\">\\n    <gewd-codemirror [codemirrorExtensions]=\\\"extensions\\\"\\n       [value]=\\\"longExampleText\\\"\\n></gewd-codemirror>\\n  </mat-tab>\\n</mat-tab-group>\\n\";","import { EditorView, Decoration, ViewPlugin, runScopeHandlers } from '@codemirror/view';\nimport { StateEffect, StateField, EditorSelection, Facet, combineConfig, CharCategory, Prec } from '@codemirror/state';\nimport { showPanel, getPanel } from '@codemirror/panel';\nimport { RangeSetBuilder } from '@codemirror/rangeset';\nimport elt from 'crelt';\nimport { codePointAt, fromCodePoint, codePointSize } from '@codemirror/text';\n\nconst basicNormalize = typeof String.prototype.normalize == \"function\"\n    ? x => x.normalize(\"NFKD\") : x => x;\n/**\nA search cursor provides an iterator over text matches in a\ndocument.\n*/\nclass SearchCursor {\n    /**\n    Create a text cursor. The query is the search string, `from` to\n    `to` provides the region to search.\n    \n    When `normalize` is given, it will be called, on both the query\n    string and the content it is matched against, before comparing.\n    You can, for example, create a case-insensitive search by\n    passing `s => s.toLowerCase()`.\n    \n    Text is always normalized with\n    [`.normalize(\"NFKD\")`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/normalize)\n    (when supported).\n    */\n    constructor(text, query, from = 0, to = text.length, normalize) {\n        /**\n        The current match (only holds a meaningful value after\n        [`next`](https://codemirror.net/6/docs/ref/#search.SearchCursor.next) has been called and when\n        `done` is false).\n        */\n        this.value = { from: 0, to: 0 };\n        /**\n        Whether the end of the iterated region has been reached.\n        */\n        this.done = false;\n        this.matches = [];\n        this.buffer = \"\";\n        this.bufferPos = 0;\n        this.iter = text.iterRange(from, to);\n        this.bufferStart = from;\n        this.normalize = normalize ? x => normalize(basicNormalize(x)) : basicNormalize;\n        this.query = this.normalize(query);\n    }\n    peek() {\n        if (this.bufferPos == this.buffer.length) {\n            this.bufferStart += this.buffer.length;\n            this.iter.next();\n            if (this.iter.done)\n                return -1;\n            this.bufferPos = 0;\n            this.buffer = this.iter.value;\n        }\n        return codePointAt(this.buffer, this.bufferPos);\n    }\n    /**\n    Look for the next match. Updates the iterator's\n    [`value`](https://codemirror.net/6/docs/ref/#search.SearchCursor.value) and\n    [`done`](https://codemirror.net/6/docs/ref/#search.SearchCursor.done) properties. Should be called\n    at least once before using the cursor.\n    */\n    next() {\n        while (this.matches.length)\n            this.matches.pop();\n        return this.nextOverlapping();\n    }\n    /**\n    The `next` method will ignore matches that partially overlap a\n    previous match. This method behaves like `next`, but includes\n    such matches.\n    */\n    nextOverlapping() {\n        for (;;) {\n            let next = this.peek();\n            if (next < 0) {\n                this.done = true;\n                return this;\n            }\n            let str = fromCodePoint(next), start = this.bufferStart + this.bufferPos;\n            this.bufferPos += codePointSize(next);\n            let norm = this.normalize(str);\n            for (let i = 0, pos = start;; i++) {\n                let code = norm.charCodeAt(i);\n                let match = this.match(code, pos);\n                if (match) {\n                    this.value = match;\n                    return this;\n                }\n                if (i == norm.length - 1)\n                    break;\n                if (pos == start && i < str.length && str.charCodeAt(i) == code)\n                    pos++;\n            }\n        }\n    }\n    match(code, pos) {\n        let match = null;\n        for (let i = 0; i < this.matches.length; i += 2) {\n            let index = this.matches[i], keep = false;\n            if (this.query.charCodeAt(index) == code) {\n                if (index == this.query.length - 1) {\n                    match = { from: this.matches[i + 1], to: pos + 1 };\n                }\n                else {\n                    this.matches[i]++;\n                    keep = true;\n                }\n            }\n            if (!keep) {\n                this.matches.splice(i, 2);\n                i -= 2;\n            }\n        }\n        if (this.query.charCodeAt(0) == code) {\n            if (this.query.length == 1)\n                match = { from: pos, to: pos + 1 };\n            else\n                this.matches.push(1, pos);\n        }\n        return match;\n    }\n}\n\nconst empty = { from: -1, to: -1, match: /*@__PURE__*//.*/.exec(\"\") };\nconst baseFlags = \"gm\" + (/x/.unicode == null ? \"\" : \"u\");\n/**\nThis class is similar to [`SearchCursor`](https://codemirror.net/6/docs/ref/#search.SearchCursor)\nbut searches for a regular expression pattern instead of a plain\nstring.\n*/\nclass RegExpCursor {\n    /**\n    Create a cursor that will search the given range in the given\n    document. `query` should be the raw pattern (as you'd pass it to\n    `new RegExp`).\n    */\n    constructor(text, query, options, from = 0, to = text.length) {\n        this.to = to;\n        this.curLine = \"\";\n        /**\n        Set to `true` when the cursor has reached the end of the search\n        range.\n        */\n        this.done = false;\n        /**\n        Will contain an object with the extent of the match and the\n        match object when [`next`](https://codemirror.net/6/docs/ref/#search.RegExpCursor.next)\n        sucessfully finds a match.\n        */\n        this.value = empty;\n        if (/\\\\[sWDnr]|\\n|\\r|\\[\\^/.test(query))\n            return new MultilineRegExpCursor(text, query, options, from, to);\n        this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\n        this.iter = text.iter();\n        let startLine = text.lineAt(from);\n        this.curLineStart = startLine.from;\n        this.matchPos = from;\n        this.getLine(this.curLineStart);\n    }\n    getLine(skip) {\n        this.iter.next(skip);\n        if (this.iter.lineBreak) {\n            this.curLine = \"\";\n        }\n        else {\n            this.curLine = this.iter.value;\n            if (this.curLineStart + this.curLine.length > this.to)\n                this.curLine = this.curLine.slice(0, this.to - this.curLineStart);\n            this.iter.next();\n        }\n    }\n    nextLine() {\n        this.curLineStart = this.curLineStart + this.curLine.length + 1;\n        if (this.curLineStart > this.to)\n            this.curLine = \"\";\n        else\n            this.getLine(0);\n    }\n    /**\n    Move to the next match, if there is one.\n    */\n    next() {\n        for (let off = this.matchPos - this.curLineStart;;) {\n            this.re.lastIndex = off;\n            let match = this.matchPos <= this.to && this.re.exec(this.curLine);\n            if (match) {\n                let from = this.curLineStart + match.index, to = from + match[0].length;\n                this.matchPos = to + (from == to ? 1 : 0);\n                if (from == this.curLine.length)\n                    this.nextLine();\n                if (from < to || from > this.value.to) {\n                    this.value = { from, to, match };\n                    return this;\n                }\n                off = this.matchPos - this.curLineStart;\n            }\n            else if (this.curLineStart + this.curLine.length < this.to) {\n                this.nextLine();\n                off = 0;\n            }\n            else {\n                this.done = true;\n                return this;\n            }\n        }\n    }\n}\nconst flattened = /*@__PURE__*/new WeakMap();\n// Reusable (partially) flattened document strings\nclass FlattenedDoc {\n    constructor(from, text) {\n        this.from = from;\n        this.text = text;\n    }\n    get to() { return this.from + this.text.length; }\n    static get(doc, from, to) {\n        let cached = flattened.get(doc);\n        if (!cached || cached.from >= to || cached.to <= from) {\n            let flat = new FlattenedDoc(from, doc.sliceString(from, to));\n            flattened.set(doc, flat);\n            return flat;\n        }\n        if (cached.from == from && cached.to == to)\n            return cached;\n        let { text, from: cachedFrom } = cached;\n        if (cachedFrom > from) {\n            text = doc.sliceString(from, cachedFrom) + text;\n            cachedFrom = from;\n        }\n        if (cached.to < to)\n            text += doc.sliceString(cached.to, to);\n        flattened.set(doc, new FlattenedDoc(cachedFrom, text));\n        return new FlattenedDoc(from, text.slice(from - cachedFrom, to - cachedFrom));\n    }\n}\nclass MultilineRegExpCursor {\n    constructor(text, query, options, from, to) {\n        this.text = text;\n        this.to = to;\n        this.done = false;\n        this.value = empty;\n        this.matchPos = from;\n        this.re = new RegExp(query, baseFlags + ((options === null || options === void 0 ? void 0 : options.ignoreCase) ? \"i\" : \"\"));\n        this.flat = FlattenedDoc.get(text, from, this.chunkEnd(from + 5000 /* Base */));\n    }\n    chunkEnd(pos) {\n        return pos >= this.to ? this.to : this.text.lineAt(pos).to;\n    }\n    next() {\n        for (;;) {\n            let off = this.re.lastIndex = this.matchPos - this.flat.from;\n            let match = this.re.exec(this.flat.text);\n            // Skip empty matches directly after the last match\n            if (match && !match[0] && match.index == off) {\n                this.re.lastIndex = off + 1;\n                match = this.re.exec(this.flat.text);\n            }\n            // If a match goes almost to the end of a noncomplete chunk, try\n            // again, since it'll likely be able to match more\n            if (match && this.flat.to < this.to && match.index + match[0].length > this.flat.text.length - 10)\n                match = null;\n            if (match) {\n                let from = this.flat.from + match.index, to = from + match[0].length;\n                this.value = { from, to, match };\n                this.matchPos = to + (from == to ? 1 : 0);\n                return this;\n            }\n            else {\n                if (this.flat.to == this.to) {\n                    this.done = true;\n                    return this;\n                }\n                // Grow the flattened doc\n                this.flat = FlattenedDoc.get(this.text, this.flat.from, this.chunkEnd(this.flat.from + this.flat.text.length * 2));\n            }\n        }\n    }\n}\nfunction validRegExp(source) {\n    try {\n        new RegExp(source, baseFlags);\n        return true;\n    }\n    catch (_a) {\n        return false;\n    }\n}\n\nfunction createLineDialog(view) {\n    let input = elt(\"input\", { class: \"cm-textfield\", name: \"line\" });\n    let dom = elt(\"form\", {\n        class: \"cm-gotoLine\",\n        onkeydown: (event) => {\n            if (event.keyCode == 27) { // Escape\n                event.preventDefault();\n                view.dispatch({ effects: dialogEffect.of(false) });\n                view.focus();\n            }\n            else if (event.keyCode == 13) { // Enter\n                event.preventDefault();\n                go();\n            }\n        },\n        onsubmit: (event) => {\n            event.preventDefault();\n            go();\n        }\n    }, elt(\"label\", view.state.phrase(\"Go to line\"), \": \", input), \" \", elt(\"button\", { class: \"cm-button\", type: \"submit\" }, view.state.phrase(\"go\")));\n    function go() {\n        let match = /^([+-])?(\\d+)?(:\\d+)?(%)?$/.exec(input.value);\n        if (!match)\n            return;\n        let { state } = view, startLine = state.doc.lineAt(state.selection.main.head);\n        let [, sign, ln, cl, percent] = match;\n        let col = cl ? +cl.slice(1) : 0;\n        let line = ln ? +ln : startLine.number;\n        if (ln && percent) {\n            let pc = line / 100;\n            if (sign)\n                pc = pc * (sign == \"-\" ? -1 : 1) + (startLine.number / state.doc.lines);\n            line = Math.round(state.doc.lines * pc);\n        }\n        else if (ln && sign) {\n            line = line * (sign == \"-\" ? -1 : 1) + startLine.number;\n        }\n        let docLine = state.doc.line(Math.max(1, Math.min(state.doc.lines, line)));\n        view.dispatch({\n            effects: dialogEffect.of(false),\n            selection: EditorSelection.cursor(docLine.from + Math.max(0, Math.min(col, docLine.length))),\n            scrollIntoView: true\n        });\n        view.focus();\n    }\n    return { dom, pos: -10 };\n}\nconst dialogEffect = /*@__PURE__*/StateEffect.define();\nconst dialogField = /*@__PURE__*/StateField.define({\n    create() { return true; },\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(dialogEffect))\n                value = e.value;\n        return value;\n    },\n    provide: f => showPanel.from(f, val => val ? createLineDialog : null)\n});\n/**\nCommand that shows a dialog asking the user for a line number, and\nwhen a valid position is provided, moves the cursor to that line.\n\nSupports line numbers, relative line offsets prefixed with `+` or\n`-`, document percentages suffixed with `%`, and an optional\ncolumn position by adding `:` and a second number after the line\nnumber.\n\nThe dialog can be styled with the `panel.gotoLine` theme\nselector.\n*/\nconst gotoLine = view => {\n    let panel = getPanel(view, createLineDialog);\n    if (!panel) {\n        let effects = [dialogEffect.of(true)];\n        if (view.state.field(dialogField, false) == null)\n            effects.push(StateEffect.appendConfig.of([dialogField, baseTheme$1]));\n        view.dispatch({ effects });\n        panel = getPanel(view, createLineDialog);\n    }\n    if (panel)\n        panel.dom.querySelector(\"input\").focus();\n    return true;\n};\nconst baseTheme$1 = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panel.cm-gotoLine\": {\n        padding: \"2px 6px 4px\",\n        \"& label\": { fontSize: \"80%\" }\n    }\n});\n\nconst defaultHighlightOptions = {\n    highlightWordAroundCursor: false,\n    minSelectionLength: 1,\n    maxMatches: 100\n};\nconst highlightConfig = /*@__PURE__*/Facet.define({\n    combine(options) {\n        return combineConfig(options, defaultHighlightOptions, {\n            highlightWordAroundCursor: (a, b) => a || b,\n            minSelectionLength: Math.min,\n            maxMatches: Math.min\n        });\n    }\n});\n/**\nThis extension highlights text that matches the selection. It uses\nthe `\"cm-selectionMatch\"` class for the highlighting. When\n`highlightWordAroundCursor` is enabled, the word at the cursor\nitself will be highlighted with `\"cm-selectionMatch-main\"`.\n*/\nfunction highlightSelectionMatches(options) {\n    let ext = [defaultTheme, matchHighlighter];\n    if (options)\n        ext.push(highlightConfig.of(options));\n    return ext;\n}\nconst matchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch\" });\nconst mainMatchDeco = /*@__PURE__*/Decoration.mark({ class: \"cm-selectionMatch cm-selectionMatch-main\" });\nconst matchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.decorations = this.getDeco(view);\n    }\n    update(update) {\n        if (update.selectionSet || update.docChanged || update.viewportChanged)\n            this.decorations = this.getDeco(update.view);\n    }\n    getDeco(view) {\n        let conf = view.state.facet(highlightConfig);\n        let { state } = view, sel = state.selection;\n        if (sel.ranges.length > 1)\n            return Decoration.none;\n        let range = sel.main, query, check = null;\n        if (range.empty) {\n            if (!conf.highlightWordAroundCursor)\n                return Decoration.none;\n            let word = state.wordAt(range.head);\n            if (!word)\n                return Decoration.none;\n            check = state.charCategorizer(range.head);\n            query = state.sliceDoc(word.from, word.to);\n        }\n        else {\n            let len = range.to - range.from;\n            if (len < conf.minSelectionLength || len > 200)\n                return Decoration.none;\n            query = state.sliceDoc(range.from, range.to).trim();\n            if (!query)\n                return Decoration.none;\n        }\n        let deco = [];\n        for (let part of view.visibleRanges) {\n            let cursor = new SearchCursor(state.doc, query, part.from, part.to);\n            while (!cursor.next().done) {\n                let { from, to } = cursor.value;\n                if (!check || ((from == 0 || check(state.sliceDoc(from - 1, from)) != CharCategory.Word) &&\n                    (to == state.doc.length || check(state.sliceDoc(to, to + 1)) != CharCategory.Word))) {\n                    if (check && from <= range.from && to >= range.to)\n                        deco.push(mainMatchDeco.range(from, to));\n                    else if (from >= range.to || to <= range.from)\n                        deco.push(matchDeco.range(from, to));\n                    if (deco.length > conf.maxMatches)\n                        return Decoration.none;\n                }\n            }\n        }\n        return Decoration.set(deco);\n    }\n}, {\n    decorations: v => v.decorations\n});\nconst defaultTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-selectionMatch\": { backgroundColor: \"#99ff7780\" },\n    \".cm-searchMatch .cm-selectionMatch\": { backgroundColor: \"transparent\" }\n});\n// Select the words around the cursors.\nconst selectWord = ({ state, dispatch }) => {\n    let { selection } = state;\n    let newSel = EditorSelection.create(selection.ranges.map(range => state.wordAt(range.head) || EditorSelection.cursor(range.head)), selection.mainIndex);\n    if (newSel.eq(selection))\n        return false;\n    dispatch(state.update({ selection: newSel }));\n    return true;\n};\n// Find next occurrence of query relative to last cursor. Wrap around\n// the document if there are no more matches.\nfunction findNextOccurrence(state, query) {\n    let { main, ranges } = state.selection;\n    let word = state.wordAt(main.head), fullWord = word && word.from == main.from && word.to == main.to;\n    for (let cycled = false, cursor = new SearchCursor(state.doc, query, ranges[ranges.length - 1].to);;) {\n        cursor.next();\n        if (cursor.done) {\n            if (cycled)\n                return null;\n            cursor = new SearchCursor(state.doc, query, 0, Math.max(0, ranges[ranges.length - 1].from - 1));\n            cycled = true;\n        }\n        else {\n            if (cycled && ranges.some(r => r.from == cursor.value.from))\n                continue;\n            if (fullWord) {\n                let word = state.wordAt(cursor.value.from);\n                if (!word || word.from != cursor.value.from || word.to != cursor.value.to)\n                    continue;\n            }\n            return cursor.value;\n        }\n    }\n}\n/**\nSelect next occurrence of the current selection.\nExpand selection to the word when selection range is empty.\n*/\nconst selectNextOccurrence = ({ state, dispatch }) => {\n    let { ranges } = state.selection;\n    if (ranges.some(sel => sel.from === sel.to))\n        return selectWord({ state, dispatch });\n    let searchedText = state.sliceDoc(ranges[0].from, ranges[0].to);\n    if (state.selection.ranges.some(r => state.sliceDoc(r.from, r.to) != searchedText))\n        return false;\n    let range = findNextOccurrence(state, searchedText);\n    if (!range)\n        return false;\n    dispatch(state.update({\n        selection: state.selection.addRange(EditorSelection.range(range.from, range.to), false),\n        scrollIntoView: true\n    }));\n    return true;\n};\n\nconst searchConfigFacet = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        let matchCase = configs.some(c => c.matchCase);\n        return {\n            top: configs.some(c => c.top),\n            matchCase: matchCase === undefined ? true : matchCase,\n        };\n    }\n});\n/**\nConfigure the behavior of the search extension.\n*/\nfunction searchConfig(config) {\n    return searchConfigFacet.of(config);\n}\nclass Query {\n    constructor(search, replace, caseInsensitive) {\n        this.search = search;\n        this.replace = replace;\n        this.caseInsensitive = caseInsensitive;\n    }\n    eq(other) {\n        return this.search == other.search && this.replace == other.replace &&\n            this.caseInsensitive == other.caseInsensitive && this.constructor == other.constructor;\n    }\n}\nclass StringQuery extends Query {\n    constructor(search, replace, caseInsensitive) {\n        super(search, replace, caseInsensitive);\n        this.unquoted = search.replace(/\\\\([nrt\\\\])/g, (_, ch) => ch == \"n\" ? \"\\n\" : ch == \"r\" ? \"\\r\" : ch == \"t\" ? \"\\t\" : \"\\\\\");\n    }\n    cursor(doc, from = 0, to = doc.length) {\n        return new SearchCursor(doc, this.unquoted, from, to, this.caseInsensitive ? x => x.toLowerCase() : undefined);\n    }\n    nextMatch(doc, curFrom, curTo) {\n        let cursor = this.cursor(doc, curTo).nextOverlapping();\n        if (cursor.done)\n            cursor = this.cursor(doc, 0, curFrom).nextOverlapping();\n        return cursor.done ? null : cursor.value;\n    }\n    // Searching in reverse is, rather than implementing inverted search\n    // cursor, done by scanning chunk after chunk forward.\n    prevMatchInRange(doc, from, to) {\n        for (let pos = to;;) {\n            let start = Math.max(from, pos - 10000 /* ChunkSize */ - this.unquoted.length);\n            let cursor = this.cursor(doc, start, pos), range = null;\n            while (!cursor.nextOverlapping().done)\n                range = cursor.value;\n            if (range)\n                return range;\n            if (start == from)\n                return null;\n            pos -= 10000 /* ChunkSize */;\n        }\n    }\n    prevMatch(doc, curFrom, curTo) {\n        return this.prevMatchInRange(doc, 0, curFrom) ||\n            this.prevMatchInRange(doc, curTo, doc.length);\n    }\n    getReplacement(_result) { return this.replace; }\n    matchAll(doc, limit) {\n        let cursor = this.cursor(doc), ranges = [];\n        while (!cursor.next().done) {\n            if (ranges.length >= limit)\n                return null;\n            ranges.push(cursor.value);\n        }\n        return ranges;\n    }\n    highlight(doc, from, to, add) {\n        let cursor = this.cursor(doc, Math.max(0, from - this.unquoted.length), Math.min(to + this.unquoted.length, doc.length));\n        while (!cursor.next().done)\n            add(cursor.value.from, cursor.value.to);\n    }\n    get valid() { return !!this.search; }\n}\nclass RegExpQuery extends Query {\n    constructor(search, replace, caseInsensitive) {\n        super(search, replace, caseInsensitive);\n        this.valid = !!search && validRegExp(search);\n    }\n    cursor(doc, from = 0, to = doc.length) {\n        return new RegExpCursor(doc, this.search, this.caseInsensitive ? { ignoreCase: true } : undefined, from, to);\n    }\n    nextMatch(doc, curFrom, curTo) {\n        let cursor = this.cursor(doc, curTo).next();\n        if (cursor.done)\n            cursor = this.cursor(doc, 0, curFrom).next();\n        return cursor.done ? null : cursor.value;\n    }\n    prevMatchInRange(doc, from, to) {\n        for (let size = 1;; size++) {\n            let start = Math.max(from, to - size * 10000 /* ChunkSize */);\n            let cursor = this.cursor(doc, start, to), range = null;\n            while (!cursor.next().done)\n                range = cursor.value;\n            if (range && (start == from || range.from > start + 10))\n                return range;\n            if (start == from)\n                return null;\n        }\n    }\n    prevMatch(doc, curFrom, curTo) {\n        return this.prevMatchInRange(doc, 0, curFrom) ||\n            this.prevMatchInRange(doc, curTo, doc.length);\n    }\n    getReplacement(result) {\n        return this.replace.replace(/\\$([$&\\d+])/g, (m, i) => i == \"$\" ? \"$\"\n            : i == \"&\" ? result.match[0]\n                : i != \"0\" && +i < result.match.length ? result.match[i]\n                    : m);\n    }\n    matchAll(doc, limit) {\n        let cursor = this.cursor(doc), ranges = [];\n        while (!cursor.next().done) {\n            if (ranges.length >= limit)\n                return null;\n            ranges.push(cursor.value);\n        }\n        return ranges;\n    }\n    highlight(doc, from, to, add) {\n        let cursor = this.cursor(doc, Math.max(0, from - 250 /* HighlightMargin */), Math.min(to + 250 /* HighlightMargin */, doc.length));\n        while (!cursor.next().done)\n            add(cursor.value.from, cursor.value.to);\n    }\n}\nconst setQuery = /*@__PURE__*/StateEffect.define();\nconst togglePanel = /*@__PURE__*/StateEffect.define();\nconst searchState = /*@__PURE__*/StateField.define({\n    create(state) {\n        return new SearchState(defaultQuery(state), createSearchPanel);\n    },\n    update(value, tr) {\n        for (let effect of tr.effects) {\n            if (effect.is(setQuery))\n                value = new SearchState(effect.value, value.panel);\n            else if (effect.is(togglePanel))\n                value = new SearchState(value.query, effect.value ? createSearchPanel : null);\n        }\n        return value;\n    },\n    provide: f => showPanel.from(f, val => val.panel)\n});\nclass SearchState {\n    constructor(query, panel) {\n        this.query = query;\n        this.panel = panel;\n    }\n}\nconst matchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch\" }), selectedMatchMark = /*@__PURE__*/Decoration.mark({ class: \"cm-searchMatch cm-searchMatch-selected\" });\nconst searchHighlighter = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.decorations = this.highlight(view.state.field(searchState));\n    }\n    update(update) {\n        let state = update.state.field(searchState);\n        if (state != update.startState.field(searchState) || update.docChanged || update.selectionSet)\n            this.decorations = this.highlight(state);\n    }\n    highlight({ query, panel }) {\n        if (!panel || !query.valid)\n            return Decoration.none;\n        let { view } = this;\n        let builder = new RangeSetBuilder();\n        for (let i = 0, ranges = view.visibleRanges, l = ranges.length; i < l; i++) {\n            let { from, to } = ranges[i];\n            while (i < l - 1 && to > ranges[i + 1].from - 2 * 250 /* HighlightMargin */)\n                to = ranges[++i].to;\n            query.highlight(view.state.doc, from, to, (from, to) => {\n                let selected = view.state.selection.ranges.some(r => r.from == from && r.to == to);\n                builder.add(from, to, selected ? selectedMatchMark : matchMark);\n            });\n        }\n        return builder.finish();\n    }\n}, {\n    decorations: v => v.decorations\n});\nfunction searchCommand(f) {\n    return view => {\n        let state = view.state.field(searchState, false);\n        return state && state.query.valid ? f(view, state) : openSearchPanel(view);\n    };\n}\n/**\nOpen the search panel if it isn't already open, and move the\nselection to the first match after the current main selection.\nWill wrap around to the start of the document when it reaches the\nend.\n*/\nconst findNext = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { from, to } = view.state.selection.main;\n    let next = query.nextMatch(view.state.doc, from, to);\n    if (!next || next.from == from && next.to == to)\n        return false;\n    view.dispatch({\n        selection: { anchor: next.from, head: next.to },\n        scrollIntoView: true,\n        effects: announceMatch(view, next)\n    });\n    return true;\n});\n/**\nMove the selection to the previous instance of the search query,\nbefore the current main selection. Will wrap past the start\nof the document to start searching at the end again.\n*/\nconst findPrevious = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { state } = view, { from, to } = state.selection.main;\n    let range = query.prevMatch(state.doc, from, to);\n    if (!range)\n        return false;\n    view.dispatch({\n        selection: { anchor: range.from, head: range.to },\n        scrollIntoView: true,\n        effects: announceMatch(view, range)\n    });\n    return true;\n});\n/**\nSelect all instances of the search query.\n*/\nconst selectMatches = /*@__PURE__*/searchCommand((view, { query }) => {\n    let ranges = query.matchAll(view.state.doc, 1000);\n    if (!ranges || !ranges.length)\n        return false;\n    view.dispatch({\n        selection: EditorSelection.create(ranges.map(r => EditorSelection.range(r.from, r.to)))\n    });\n    return true;\n});\n/**\nSelect all instances of the currently selected text.\n*/\nconst selectSelectionMatches = ({ state, dispatch }) => {\n    let sel = state.selection;\n    if (sel.ranges.length > 1 || sel.main.empty)\n        return false;\n    let { from, to } = sel.main;\n    let ranges = [], main = 0;\n    for (let cur = new SearchCursor(state.doc, state.sliceDoc(from, to)); !cur.next().done;) {\n        if (ranges.length > 1000)\n            return false;\n        if (cur.value.from == from)\n            main = ranges.length;\n        ranges.push(EditorSelection.range(cur.value.from, cur.value.to));\n    }\n    dispatch(state.update({ selection: EditorSelection.create(ranges, main) }));\n    return true;\n};\n/**\nReplace the current match of the search query.\n*/\nconst replaceNext = /*@__PURE__*/searchCommand((view, { query }) => {\n    let { state } = view, { from, to } = state.selection.main;\n    if (state.readOnly)\n        return false;\n    let next = query.nextMatch(state.doc, from, from);\n    if (!next)\n        return false;\n    let changes = [], selection, replacement;\n    if (next.from == from && next.to == to) {\n        replacement = state.toText(query.getReplacement(next));\n        changes.push({ from: next.from, to: next.to, insert: replacement });\n        next = query.nextMatch(state.doc, next.from, next.to);\n    }\n    if (next) {\n        let off = changes.length == 0 || changes[0].from >= next.to ? 0 : next.to - next.from - replacement.length;\n        selection = { anchor: next.from - off, head: next.to - off };\n    }\n    view.dispatch({\n        changes, selection,\n        scrollIntoView: !!selection,\n        effects: next ? announceMatch(view, next) : undefined\n    });\n    return true;\n});\n/**\nReplace all instances of the search query with the given\nreplacement.\n*/\nconst replaceAll = /*@__PURE__*/searchCommand((view, { query }) => {\n    if (view.state.readOnly)\n        return false;\n    let changes = query.matchAll(view.state.doc, 1e9).map(match => {\n        let { from, to } = match;\n        return { from, to, insert: query.getReplacement(match) };\n    });\n    if (!changes.length)\n        return false;\n    view.dispatch({ changes });\n    return true;\n});\nfunction createSearchPanel(view) {\n    let { query } = view.state.field(searchState);\n    return {\n        dom: buildPanel({\n            view,\n            query,\n            updateQuery(q) {\n                if (!query.eq(q)) {\n                    query = q;\n                    view.dispatch({ effects: setQuery.of(query) });\n                }\n            }\n        }),\n        mount() {\n            this.dom.querySelector(\"[name=search]\").select();\n        },\n        pos: 80,\n        top: view.state.facet(searchConfigFacet).top\n    };\n}\nfunction defaultQuery(state, fallback) {\n    var _a;\n    let sel = state.selection.main;\n    let selText = sel.empty || sel.to > sel.from + 100 ? \"\" : state.sliceDoc(sel.from, sel.to);\n    let caseInsensitive = (_a = fallback === null || fallback === void 0 ? void 0 : fallback.caseInsensitive) !== null && _a !== void 0 ? _a : !state.facet(searchConfigFacet).matchCase;\n    return fallback && !selText ? fallback : new StringQuery(selText.replace(/\\n/g, \"\\\\n\"), \"\", caseInsensitive);\n}\n/**\nMake sure the search panel is open and focused.\n*/\nconst openSearchPanel = view => {\n    let state = view.state.field(searchState, false);\n    if (state && state.panel) {\n        let panel = getPanel(view, createSearchPanel);\n        if (!panel)\n            return false;\n        let searchInput = panel.dom.querySelector(\"[name=search]\");\n        searchInput.focus();\n        searchInput.select();\n    }\n    else {\n        view.dispatch({ effects: [\n                togglePanel.of(true),\n                state ? setQuery.of(defaultQuery(view.state, state.query)) : StateEffect.appendConfig.of(searchExtensions)\n            ] });\n    }\n    return true;\n};\n/**\nClose the search panel.\n*/\nconst closeSearchPanel = view => {\n    let state = view.state.field(searchState, false);\n    if (!state || !state.panel)\n        return false;\n    let panel = getPanel(view, createSearchPanel);\n    if (panel && panel.dom.contains(view.root.activeElement))\n        view.focus();\n    view.dispatch({ effects: togglePanel.of(false) });\n    return true;\n};\n/**\nDefault search-related key bindings.\n\n - Mod-f: [`openSearchPanel`](https://codemirror.net/6/docs/ref/#search.openSearchPanel)\n - F3, Mod-g: [`findNext`](https://codemirror.net/6/docs/ref/#search.findNext)\n - Shift-F3, Shift-Mod-g: [`findPrevious`](https://codemirror.net/6/docs/ref/#search.findPrevious)\n - Alt-g: [`gotoLine`](https://codemirror.net/6/docs/ref/#search.gotoLine)\n - Mod-d: [`selectNextOccurrence`](https://codemirror.net/6/docs/ref/#search.selectNextOccurrence)\n*/\nconst searchKeymap = [\n    { key: \"Mod-f\", run: openSearchPanel, scope: \"editor search-panel\" },\n    { key: \"F3\", run: findNext, shift: findPrevious, scope: \"editor search-panel\" },\n    { key: \"Mod-g\", run: findNext, shift: findPrevious, scope: \"editor search-panel\" },\n    { key: \"Escape\", run: closeSearchPanel, scope: \"editor search-panel\" },\n    { key: \"Mod-Shift-l\", run: selectSelectionMatches },\n    { key: \"Alt-g\", run: gotoLine },\n    { key: \"Mod-d\", run: selectNextOccurrence, preventDefault: true },\n];\nfunction buildPanel(conf) {\n    function phrase(phrase) { return conf.view.state.phrase(phrase); }\n    let searchField = elt(\"input\", {\n        value: conf.query.search,\n        placeholder: phrase(\"Find\"),\n        \"aria-label\": phrase(\"Find\"),\n        class: \"cm-textfield\",\n        name: \"search\",\n        onchange: update,\n        onkeyup: update\n    });\n    let replaceField = elt(\"input\", {\n        value: conf.query.replace,\n        placeholder: phrase(\"Replace\"),\n        \"aria-label\": phrase(\"Replace\"),\n        class: \"cm-textfield\",\n        name: \"replace\",\n        onchange: update,\n        onkeyup: update\n    });\n    let caseField = elt(\"input\", {\n        type: \"checkbox\",\n        name: \"case\",\n        checked: !conf.query.caseInsensitive,\n        onchange: update\n    });\n    let reField = elt(\"input\", {\n        type: \"checkbox\",\n        name: \"re\",\n        checked: conf.query instanceof RegExpQuery,\n        onchange: update\n    });\n    function update() {\n        conf.updateQuery(new (reField.checked ? RegExpQuery : StringQuery)(searchField.value, replaceField.value, !caseField.checked));\n    }\n    function keydown(e) {\n        if (runScopeHandlers(conf.view, e, \"search-panel\")) {\n            e.preventDefault();\n        }\n        else if (e.keyCode == 13 && e.target == searchField) {\n            e.preventDefault();\n            (e.shiftKey ? findPrevious : findNext)(conf.view);\n        }\n        else if (e.keyCode == 13 && e.target == replaceField) {\n            e.preventDefault();\n            replaceNext(conf.view);\n        }\n    }\n    function button(name, onclick, content) {\n        return elt(\"button\", { class: \"cm-button\", name, onclick, type: \"button\" }, content);\n    }\n    let panel = elt(\"div\", { onkeydown: keydown, class: \"cm-search\" }, [\n        searchField,\n        button(\"next\", () => findNext(conf.view), [phrase(\"next\")]),\n        button(\"prev\", () => findPrevious(conf.view), [phrase(\"previous\")]),\n        button(\"select\", () => selectMatches(conf.view), [phrase(\"all\")]),\n        elt(\"label\", null, [caseField, phrase(\"match case\")]),\n        elt(\"label\", null, [reField, phrase(\"regexp\")]),\n        elt(\"br\"),\n        replaceField,\n        button(\"replace\", () => replaceNext(conf.view), [phrase(\"replace\")]),\n        button(\"replaceAll\", () => replaceAll(conf.view), [phrase(\"replace all\")]),\n        elt(\"button\", { name: \"close\", onclick: () => closeSearchPanel(conf.view), \"aria-label\": phrase(\"close\"), type: \"button\" }, [\"\"])\n    ]);\n    return panel;\n}\nconst AnnounceMargin = 30;\nconst Break = /[\\s\\.,:;?!]/;\nfunction announceMatch(view, { from, to }) {\n    let lineStart = view.state.doc.lineAt(from).from, lineEnd = view.state.doc.lineAt(to).to;\n    let start = Math.max(lineStart, from - AnnounceMargin), end = Math.min(lineEnd, to + AnnounceMargin);\n    let text = view.state.sliceDoc(start, end);\n    if (start != lineStart) {\n        for (let i = 0; i < AnnounceMargin; i++)\n            if (!Break.test(text[i + 1]) && Break.test(text[i])) {\n                text = text.slice(i);\n                break;\n            }\n    }\n    if (end != lineEnd) {\n        for (let i = text.length - 1; i > text.length - AnnounceMargin; i--)\n            if (!Break.test(text[i - 1]) && Break.test(text[i])) {\n                text = text.slice(0, i);\n                break;\n            }\n    }\n    return EditorView.announce.of(`${view.state.phrase(\"current match\")}. ${text} ${view.state.phrase(\"on line\")} ${view.state.doc.lineAt(from).number}`);\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-panel.cm-search\": {\n        padding: \"2px 6px 4px\",\n        position: \"relative\",\n        \"& [name=close]\": {\n            position: \"absolute\",\n            top: \"0\",\n            right: \"4px\",\n            backgroundColor: \"inherit\",\n            border: \"none\",\n            font: \"inherit\",\n            padding: 0,\n            margin: 0\n        },\n        \"& input, & button, & label\": {\n            margin: \".2em .6em .2em 0\"\n        },\n        \"& input[type=checkbox]\": {\n            marginRight: \".2em\"\n        },\n        \"& label\": {\n            fontSize: \"80%\",\n            whiteSpace: \"pre\"\n        }\n    },\n    \"&light .cm-searchMatch\": { backgroundColor: \"#ffff0054\" },\n    \"&dark .cm-searchMatch\": { backgroundColor: \"#00ffff8a\" },\n    \"&light .cm-searchMatch-selected\": { backgroundColor: \"#ff6a0054\" },\n    \"&dark .cm-searchMatch-selected\": { backgroundColor: \"#ff00ff8a\" }\n});\nconst searchExtensions = [\n    searchState,\n    /*@__PURE__*/Prec.fallback(searchHighlighter),\n    baseTheme\n];\n\nexport { RegExpCursor, SearchCursor, closeSearchPanel, findNext, findPrevious, gotoLine, highlightSelectionMatches, openSearchPanel, replaceAll, replaceNext, searchConfig, searchKeymap, selectMatches, selectNextOccurrence, selectSelectionMatches };\n","export var base = {\n  8: \"Backspace\",\n  9: \"Tab\",\n  10: \"Enter\",\n  12: \"NumLock\",\n  13: \"Enter\",\n  16: \"Shift\",\n  17: \"Control\",\n  18: \"Alt\",\n  20: \"CapsLock\",\n  27: \"Escape\",\n  32: \" \",\n  33: \"PageUp\",\n  34: \"PageDown\",\n  35: \"End\",\n  36: \"Home\",\n  37: \"ArrowLeft\",\n  38: \"ArrowUp\",\n  39: \"ArrowRight\",\n  40: \"ArrowDown\",\n  44: \"PrintScreen\",\n  45: \"Insert\",\n  46: \"Delete\",\n  59: \";\",\n  61: \"=\",\n  91: \"Meta\",\n  92: \"Meta\",\n  106: \"*\",\n  107: \"+\",\n  108: \",\",\n  109: \"-\",\n  110: \".\",\n  111: \"/\",\n  144: \"NumLock\",\n  145: \"ScrollLock\",\n  160: \"Shift\",\n  161: \"Shift\",\n  162: \"Control\",\n  163: \"Control\",\n  164: \"Alt\",\n  165: \"Alt\",\n  173: \"-\",\n  186: \";\",\n  187: \"=\",\n  188: \",\",\n  189: \"-\",\n  190: \".\",\n  191: \"/\",\n  192: \"`\",\n  219: \"[\",\n  220: \"\\\\\",\n  221: \"]\",\n  222: \"'\",\n  229: \"q\"\n}\n\nexport var shift = {\n  48: \")\",\n  49: \"!\",\n  50: \"@\",\n  51: \"#\",\n  52: \"$\",\n  53: \"%\",\n  54: \"^\",\n  55: \"&\",\n  56: \"*\",\n  57: \"(\",\n  59: \":\",\n  61: \"+\",\n  173: \"_\",\n  186: \":\",\n  187: \"+\",\n  188: \"<\",\n  189: \"_\",\n  190: \">\",\n  191: \"?\",\n  192: \"~\",\n  219: \"{\",\n  220: \"|\",\n  221: \"}\",\n  222: \"\\\"\",\n  229: \"Q\"\n}\n\nvar chrome = typeof navigator != \"undefined\" && /Chrome\\/(\\d+)/.exec(navigator.userAgent)\nvar safari = typeof navigator != \"undefined\" && /Apple Computer/.test(navigator.vendor)\nvar gecko = typeof navigator != \"undefined\" && /Gecko\\/\\d+/.test(navigator.userAgent)\nvar mac = typeof navigator != \"undefined\" && /Mac/.test(navigator.platform)\nvar ie = typeof navigator != \"undefined\" && /MSIE \\d|Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(navigator.userAgent)\nvar brokenModifierNames = chrome && (mac || +chrome[1] < 57) || gecko && mac\n\n// Fill in the digit keys\nfor (var i = 0; i < 10; i++) base[48 + i] = base[96 + i] = String(i)\n\n// The function keys\nfor (var i = 1; i <= 24; i++) base[i + 111] = \"F\" + i\n\n// And the alphabetic keys\nfor (var i = 65; i <= 90; i++) {\n  base[i] = String.fromCharCode(i + 32)\n  shift[i] = String.fromCharCode(i)\n}\n\n// For each code that doesn't have a shift-equivalent, copy the base name\nfor (var code in base) if (!shift.hasOwnProperty(code)) shift[code] = base[code]\n\nexport function keyName(event) {\n  // Don't trust event.key in Chrome when there are modifiers until\n  // they fix https://bugs.chromium.org/p/chromium/issues/detail?id=633838\n  var ignoreKey = brokenModifierNames && (event.ctrlKey || event.altKey || event.metaKey) ||\n    (safari || ie) && event.shiftKey && event.key && event.key.length == 1\n  var name = (!ignoreKey && event.key) ||\n    (event.shiftKey ? shift : base)[event.keyCode] ||\n    event.key || \"Unidentified\"\n  // Edge sometimes produces wrong names (Issue #3)\n  if (name == \"Esc\") name = \"Escape\"\n  if (name == \"Del\") name = \"Delete\"\n  // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/8860571/\n  if (name == \"Left\") name = \"ArrowLeft\"\n  if (name == \"Up\") name = \"ArrowUp\"\n  if (name == \"Right\") name = \"ArrowRight\"\n  if (name == \"Down\") name = \"ArrowDown\"\n  return name\n}\n","const C = \"\\u037c\"\nconst COUNT = typeof Symbol == \"undefined\" ? \"__\" + C : Symbol.for(C)\nconst SET = typeof Symbol == \"undefined\" ? \"__styleSet\" + Math.floor(Math.random() * 1e8) : Symbol(\"styleSet\")\nconst top = typeof globalThis != \"undefined\" ? globalThis : typeof window != \"undefined\" ? window : {}\n\n// :: - Style modules encapsulate a set of CSS rules defined from\n// JavaScript. Their definitions are only available in a given DOM\n// root after it has been _mounted_ there with `StyleModule.mount`.\n//\n// Style modules should be created once and stored somewhere, as\n// opposed to re-creating them every time you need them. The amount of\n// CSS rules generated for a given DOM root is bounded by the amount\n// of style modules that were used. So to avoid leaking rules, don't\n// create these dynamically, but treat them as one-time allocations.\nexport class StyleModule {\n  // :: (Object<Style>, ?{finish: ?(string)  string})\n  // Create a style module from the given spec.\n  //\n  // When `finish` is given, it is called on regular (non-`@`)\n  // selectors (after `&` expansion) to compute the final selector.\n  constructor(spec, options) {\n    this.rules = []\n    let {finish} = options || {}\n\n    function splitSelector(selector) {\n      return /^@/.test(selector) ? [selector] : selector.split(/,\\s*/)\n    }\n\n    function render(selectors, spec, target, isKeyframes) {\n      let local = [], isAt = /^@(\\w+)\\b/.exec(selectors[0]), keyframes = isAt && isAt[1] == \"keyframes\"\n      if (isAt && spec == null) return target.push(selectors[0] + \";\")\n      for (let prop in spec) {\n        let value = spec[prop]\n        if (/&/.test(prop)) {\n          render(prop.split(/,\\s*/).map(part => selectors.map(sel => part.replace(/&/, sel))).reduce((a, b) => a.concat(b)),\n                 value, target)\n        } else if (value && typeof value == \"object\") {\n          if (!isAt) throw new RangeError(\"The value of a property (\" + prop + \") should be a primitive value.\")\n          render(splitSelector(prop), value, local, keyframes)\n        } else if (value != null) {\n          local.push(prop.replace(/_.*/, \"\").replace(/[A-Z]/g, l => \"-\" + l.toLowerCase()) + \": \" + value + \";\")\n        }\n      }\n      if (local.length || keyframes) {\n        target.push((finish && !isAt && !isKeyframes ? selectors.map(finish) : selectors).join(\", \") +\n                    \" {\" + local.join(\" \") + \"}\")\n      }\n    }\n\n    for (let prop in spec) render(splitSelector(prop), spec[prop], this.rules)\n  }\n\n  // :: ()  string\n  // Returns a string containing the module's CSS rules.\n  getRules() { return this.rules.join(\"\\n\") }\n\n  // :: ()  string\n  // Generate a new unique CSS class name.\n  static newName() {\n    let id = top[COUNT] || 1\n    top[COUNT] = id + 1\n    return C + id.toString(36)\n  }\n\n  // :: (union<Document, ShadowRoot>, union<[StyleModule], StyleModule>)\n  //\n  // Mount the given set of modules in the given DOM root, which ensures\n  // that the CSS rules defined by the module are available in that\n  // context.\n  //\n  // Rules are only added to the document once per root.\n  //\n  // Rule order will follow the order of the modules, so that rules from\n  // modules later in the array take precedence of those from earlier\n  // modules. If you call this function multiple times for the same root\n  // in a way that changes the order of already mounted modules, the old\n  // order will be changed.\n  static mount(root, modules) {\n    (root[SET] || new StyleSet(root)).mount(Array.isArray(modules) ? modules : [modules])\n  }\n}\n\nlet adoptedSet = null\n\nclass StyleSet {\n  constructor(root) {\n    if (!root.head && root.adoptedStyleSheets && typeof CSSStyleSheet != \"undefined\") {\n      if (adoptedSet) {\n        root.adoptedStyleSheets = [adoptedSet.sheet].concat(root.adoptedStyleSheets)\n        return root[SET] = adoptedSet\n      }\n      this.sheet = new CSSStyleSheet\n      root.adoptedStyleSheets = [this.sheet].concat(root.adoptedStyleSheets)\n      adoptedSet = this\n    } else {\n      this.styleTag = (root.ownerDocument || root).createElement(\"style\")\n      let target = root.head || root\n      target.insertBefore(this.styleTag, target.firstChild)\n    }\n    this.modules = []\n    root[SET] = this\n  }\n\n  mount(modules) {\n    let sheet = this.sheet\n    let pos = 0 /* Current rule offset */, j = 0 /* Index into this.modules */\n    for (let i = 0; i < modules.length; i++) {\n      let mod = modules[i], index = this.modules.indexOf(mod)\n      if (index < j && index > -1) { // Ordering conflict\n        this.modules.splice(index, 1)\n        j--\n        index = -1\n      }\n      if (index == -1) {\n        this.modules.splice(j++, 0, mod)\n        if (sheet) for (let k = 0; k < mod.rules.length; k++)\n          sheet.insertRule(mod.rules[k], pos++)\n      } else {\n        while (j < index) pos += this.modules[j++].rules.length\n        pos += mod.rules.length\n        j++\n      }\n    }\n\n    if (!sheet) {\n      let text = \"\"\n      for (let i = 0; i < this.modules.length; i++)\n        text += this.modules[i].getRules() + \"\\n\"\n      this.styleTag.textContent = text\n    }\n  }\n}\n\n// Style::Object<union<Style,string>>\n//\n// A style is an object that, in the simple case, maps CSS property\n// names to strings holding their values, as in `{color: \"red\",\n// fontWeight: \"bold\"}`. The property names can be given in\n// camel-casethe library will insert a dash before capital letters\n// when converting them to CSS.\n//\n// If you include an underscore in a property name, it and everything\n// after it will be removed from the output, which can be useful when\n// providing a property multiple times, for browser compatibility\n// reasons.\n//\n// A property in a style object can also be a sub-selector, which\n// extends the current context to add a pseudo-selector or a child\n// selector. Such a property should contain a `&` character, which\n// will be replaced by the current selector. For example `{\"&:before\":\n// {content: '\"hi\"'}}`. Sub-selectors and regular properties can\n// freely be mixed in a given object. Any property containing a `&` is\n// assumed to be a sub-selector.\n//\n// Finally, a property can specify an @-block to be wrapped around the\n// styles defined inside the object that's the property's value. For\n// example to create a media query you can do `{\"@media screen and\n// (min-width: 400px)\": {...}}`.\n","import { highlightSpecialChars, drawSelection, highlightActiveLine, keymap } from '@codemirror/view';\nexport { EditorView } from '@codemirror/view';\nimport { EditorState } from '@codemirror/state';\nexport { EditorState } from '@codemirror/state';\nimport { history, historyKeymap } from '@codemirror/history';\nimport { foldGutter, foldKeymap } from '@codemirror/fold';\nimport { indentOnInput } from '@codemirror/language';\nimport { lineNumbers, highlightActiveLineGutter } from '@codemirror/gutter';\nimport { defaultKeymap } from '@codemirror/commands';\nimport { bracketMatching } from '@codemirror/matchbrackets';\nimport { closeBrackets, closeBracketsKeymap } from '@codemirror/closebrackets';\nimport { highlightSelectionMatches, searchKeymap } from '@codemirror/search';\nimport { autocompletion, completionKeymap } from '@codemirror/autocomplete';\nimport { commentKeymap } from '@codemirror/comment';\nimport { rectangularSelection } from '@codemirror/rectangular-selection';\nimport { defaultHighlightStyle } from '@codemirror/highlight';\nimport { lintKeymap } from '@codemirror/lint';\n\n/**\nThis is an extension value that just pulls together a whole lot of\nextensions that you might want in a basic editor. It is meant as a\nconvenient helper to quickly set up CodeMirror without installing\nand importing a lot of packages.\n\nSpecifically, it includes...\n\n - [the default command bindings](https://codemirror.net/6/docs/ref/#commands.defaultKeymap)\n - [line numbers](https://codemirror.net/6/docs/ref/#gutter.lineNumbers)\n - [special character highlighting](https://codemirror.net/6/docs/ref/#view.highlightSpecialChars)\n - [the undo history](https://codemirror.net/6/docs/ref/#history.history)\n - [a fold gutter](https://codemirror.net/6/docs/ref/#fold.foldGutter)\n - [custom selection drawing](https://codemirror.net/6/docs/ref/#view.drawSelection)\n - [multiple selections](https://codemirror.net/6/docs/ref/#state.EditorState^allowMultipleSelections)\n - [reindentation on input](https://codemirror.net/6/docs/ref/#language.indentOnInput)\n - [the default highlight style](https://codemirror.net/6/docs/ref/#highlight.defaultHighlightStyle) (as fallback)\n - [bracket matching](https://codemirror.net/6/docs/ref/#matchbrackets.bracketMatching)\n - [bracket closing](https://codemirror.net/6/docs/ref/#closebrackets.closeBrackets)\n - [autocompletion](https://codemirror.net/6/docs/ref/#autocomplete.autocompletion)\n - [rectangular selection](https://codemirror.net/6/docs/ref/#rectangular-selection.rectangularSelection)\n - [active line highlighting](https://codemirror.net/6/docs/ref/#view.highlightActiveLine)\n - [active line gutter highlighting](https://codemirror.net/6/docs/ref/#gutter.highlightActiveLineGutter)\n - [selection match highlighting](https://codemirror.net/6/docs/ref/#search.highlightSelectionMatches)\n - [search](https://codemirror.net/6/docs/ref/#search.searchKeymap)\n - [commenting](https://codemirror.net/6/docs/ref/#comment.commentKeymap)\n - [linting](https://codemirror.net/6/docs/ref/#lint.lintKeymap)\n\n(You'll probably want to add some language package to your setup\ntoo.)\n\nThis package does not allow customization. The idea is that, once\nyou decide you want to configure your editor more precisely, you\ntake this package's source (which is just a bunch of imports and\nan array literal), copy it into your own code, and adjust it as\ndesired.\n*/\nconst basicSetup = [\n    /*@__PURE__*/lineNumbers(),\n    /*@__PURE__*/highlightActiveLineGutter(),\n    /*@__PURE__*/highlightSpecialChars(),\n    /*@__PURE__*/history(),\n    /*@__PURE__*/foldGutter(),\n    /*@__PURE__*/drawSelection(),\n    /*@__PURE__*/EditorState.allowMultipleSelections.of(true),\n    /*@__PURE__*/indentOnInput(),\n    defaultHighlightStyle.fallback,\n    /*@__PURE__*/bracketMatching(),\n    /*@__PURE__*/closeBrackets(),\n    /*@__PURE__*/autocompletion(),\n    /*@__PURE__*/rectangularSelection(),\n    /*@__PURE__*/highlightActiveLine(),\n    /*@__PURE__*/highlightSelectionMatches(),\n    /*@__PURE__*/keymap.of([\n        ...closeBracketsKeymap,\n        ...defaultKeymap,\n        ...searchKeymap,\n        ...historyKeymap,\n        ...foldKeymap,\n        ...commentKeymap,\n        ...completionKeymap,\n        ...lintKeymap\n    ])\n];\n\nexport { basicSetup };\n","import { parser } from '@lezer/javascript';\nimport { LRLanguage, indentNodeProp, continuedIndent, flatIndent, delimitedIndent, foldNodeProp, foldInside, LanguageSupport } from '@codemirror/language';\nimport { styleTags, tags } from '@codemirror/highlight';\nimport { snippetCompletion, ifNotIn, completeFromList } from '@codemirror/autocomplete';\n\n/**\nA collection of JavaScript-related\n[snippets](https://codemirror.net/6/docs/ref/#autocomplete.snippet).\n*/\nconst snippets = [\n    /*@__PURE__*/snippetCompletion(\"function ${name}(${params}) {\\n\\t${}\\n}\", {\n        label: \"function\",\n        detail: \"definition\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\\n\\t${}\\n}\", {\n        label: \"for\",\n        detail: \"loop\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"for (let ${name} of ${collection}) {\\n\\t${}\\n}\", {\n        label: \"for\",\n        detail: \"of loop\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"try {\\n\\t${}\\n} catch (${error}) {\\n\\t${}\\n}\", {\n        label: \"try\",\n        detail: \"block\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"class ${name} {\\n\\tconstructor(${params}) {\\n\\t\\t${}\\n\\t}\\n}\", {\n        label: \"class\",\n        detail: \"definition\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"import {${names}} from \\\"${module}\\\"\\n${}\", {\n        label: \"import\",\n        detail: \"named\",\n        type: \"keyword\"\n    }),\n    /*@__PURE__*/snippetCompletion(\"import ${name} from \\\"${module}\\\"\\n${}\", {\n        label: \"import\",\n        detail: \"default\",\n        type: \"keyword\"\n    })\n];\n\n/**\nA language provider based on the [Lezer JavaScript\nparser](https://github.com/lezer-parser/javascript), extended with\nhighlighting and indentation information.\n*/\nconst javascriptLanguage = /*@__PURE__*/LRLanguage.define({\n    parser: /*@__PURE__*/parser.configure({\n        props: [\n            /*@__PURE__*/indentNodeProp.add({\n                IfStatement: /*@__PURE__*/continuedIndent({ except: /^\\s*({|else\\b)/ }),\n                TryStatement: /*@__PURE__*/continuedIndent({ except: /^\\s*({|catch|finally)\\b/ }),\n                LabeledStatement: flatIndent,\n                SwitchBody: context => {\n                    let after = context.textAfter, closed = /^\\s*\\}/.test(after), isCase = /^\\s*(case|default)\\b/.test(after);\n                    return context.baseIndent + (closed ? 0 : isCase ? 1 : 2) * context.unit;\n                },\n                Block: /*@__PURE__*/delimitedIndent({ closing: \"}\" }),\n                ArrowFunction: cx => cx.baseIndent + cx.unit,\n                \"TemplateString BlockComment\": () => -1,\n                \"Statement Property\": /*@__PURE__*/continuedIndent({ except: /^{/ }),\n                JSXElement(context) {\n                    let closed = /^\\s*<\\//.test(context.textAfter);\n                    return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);\n                },\n                JSXEscape(context) {\n                    let closed = /\\s*\\}/.test(context.textAfter);\n                    return context.lineIndent(context.node.from) + (closed ? 0 : context.unit);\n                },\n                \"JSXOpenTag JSXSelfClosingTag\"(context) {\n                    return context.column(context.node.from) + context.unit;\n                }\n            }),\n            /*@__PURE__*/foldNodeProp.add({\n                \"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression\": foldInside,\n                BlockComment(tree) { return { from: tree.from + 2, to: tree.to - 2 }; }\n            }),\n            /*@__PURE__*/styleTags({\n                \"get set async static\": tags.modifier,\n                \"for while do if else switch try catch finally return throw break continue default case\": tags.controlKeyword,\n                \"in of await yield void typeof delete instanceof\": tags.operatorKeyword,\n                \"export import let var const function class extends\": tags.definitionKeyword,\n                \"with debugger from as new\": tags.keyword,\n                TemplateString: /*@__PURE__*/tags.special(tags.string),\n                Super: tags.atom,\n                BooleanLiteral: tags.bool,\n                this: tags.self,\n                null: tags.null,\n                Star: tags.modifier,\n                VariableName: tags.variableName,\n                \"CallExpression/VariableName\": /*@__PURE__*/tags.function(tags.variableName),\n                VariableDefinition: /*@__PURE__*/tags.definition(tags.variableName),\n                Label: tags.labelName,\n                PropertyName: tags.propertyName,\n                \"CallExpression/MemberExpression/PropertyName\": /*@__PURE__*/tags.function(tags.propertyName),\n                \"FunctionDeclaration/VariableDefinition\": /*@__PURE__*/tags.function(/*@__PURE__*/tags.definition(tags.variableName)),\n                \"ClassDeclaration/VariableDefinition\": /*@__PURE__*/tags.definition(tags.className),\n                PropertyNameDefinition: /*@__PURE__*/tags.definition(tags.propertyName),\n                UpdateOp: tags.updateOperator,\n                LineComment: tags.lineComment,\n                BlockComment: tags.blockComment,\n                Number: tags.number,\n                String: tags.string,\n                ArithOp: tags.arithmeticOperator,\n                LogicOp: tags.logicOperator,\n                BitOp: tags.bitwiseOperator,\n                CompareOp: tags.compareOperator,\n                RegExp: tags.regexp,\n                Equals: tags.definitionOperator,\n                \"Arrow : Spread\": tags.punctuation,\n                \"( )\": tags.paren,\n                \"[ ]\": tags.squareBracket,\n                \"{ }\": tags.brace,\n                \".\": tags.derefOperator,\n                \", ;\": tags.separator,\n                TypeName: tags.typeName,\n                TypeDefinition: /*@__PURE__*/tags.definition(tags.typeName),\n                \"type enum interface implements namespace module declare\": tags.definitionKeyword,\n                \"abstract global privacy readonly\": tags.modifier,\n                \"is keyof unique infer\": tags.operatorKeyword,\n                JSXAttributeValue: tags.string,\n                JSXText: tags.content,\n                \"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag\": tags.angleBracket,\n                \"JSXIdentifier JSXNameSpacedName\": tags.tagName,\n                \"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName\": tags.propertyName\n            })\n        ]\n    }),\n    languageData: {\n        closeBrackets: { brackets: [\"(\", \"[\", \"{\", \"'\", '\"', \"`\"] },\n        commentTokens: { line: \"//\", block: { open: \"/*\", close: \"*/\" } },\n        indentOnInput: /^\\s*(?:case |default:|\\{|\\}|<\\/)$/,\n        wordChars: \"$\"\n    }\n});\n/**\nA language provider for TypeScript.\n*/\nconst typescriptLanguage = /*@__PURE__*/javascriptLanguage.configure({ dialect: \"ts\" });\n/**\nLanguage provider for JSX.\n*/\nconst jsxLanguage = /*@__PURE__*/javascriptLanguage.configure({ dialect: \"jsx\" });\n/**\nLanguage provider for JSX + TypeScript.\n*/\nconst tsxLanguage = /*@__PURE__*/javascriptLanguage.configure({ dialect: \"jsx ts\" });\n/**\nJavaScript support. Includes [snippet](https://codemirror.net/6/docs/ref/#lang-javascript.snippets)\ncompletion.\n*/\nfunction javascript(config = {}) {\n    let lang = config.jsx ? (config.typescript ? tsxLanguage : jsxLanguage)\n        : config.typescript ? typescriptLanguage : javascriptLanguage;\n    return new LanguageSupport(lang, javascriptLanguage.data.of({\n        autocomplete: ifNotIn([\"LineComment\", \"BlockComment\", \"String\"], completeFromList(snippets))\n    }));\n}\n\n/**\nConnects an [ESLint](https://eslint.org/) linter to CodeMirror's\n[lint](https://codemirror.net/6/docs/ref/#lint) integration. `eslint` should be an instance of the\n[`Linter`](https://eslint.org/docs/developer-guide/nodejs-api#linter)\nclass, and `config` an optional ESLint configuration. The return\nvalue of this function can be passed to [`linter`](https://codemirror.net/6/docs/ref/#lint.linter)\nto create a JavaScript linting extension.\n\nNote that ESLint targets node, and is tricky to run in the\nbrowser. The [eslint4b](https://github.com/mysticatea/eslint4b)\nand\n[eslint4b-prebuilt](https://github.com/marijnh/eslint4b-prebuilt/)\npackages may help with that.\n*/\nfunction esLint(eslint, config) {\n    if (!config) {\n        config = {\n            parserOptions: { ecmaVersion: 2019, sourceType: \"module\" },\n            env: { browser: true, node: true, es6: true, es2015: true, es2017: true, es2020: true },\n            rules: {}\n        };\n        eslint.getRules().forEach((desc, name) => {\n            if (desc.meta.docs.recommended)\n                config.rules[name] = 2;\n        });\n    }\n    return (view) => {\n        let { state } = view, found = [];\n        for (let { from, to } of javascriptLanguage.findRegions(state)) {\n            let fromLine = state.doc.lineAt(from), offset = { line: fromLine.number - 1, col: from - fromLine.from, pos: from };\n            for (let d of eslint.verify(state.sliceDoc(from, to), config))\n                found.push(translateDiagnostic(d, state.doc, offset));\n        }\n        return found;\n    };\n}\nfunction mapPos(line, col, doc, offset) {\n    return doc.line(line + offset.line).from + col + (line == 1 ? offset.col - 1 : -1);\n}\nfunction translateDiagnostic(input, doc, offset) {\n    let start = mapPos(input.line, input.column, doc, offset);\n    let result = {\n        from: start,\n        to: input.endLine != null && input.endColumn != 1 ? mapPos(input.endLine, input.endColumn, doc, offset) : start,\n        message: input.message,\n        source: input.ruleId ? \"jshint:\" + input.ruleId : \"jshint\",\n        severity: input.severity == 1 ? \"warning\" : \"error\",\n    };\n    if (input.fix) {\n        let { range, text } = input.fix, from = range[0] + offset.pos - start, to = range[1] + offset.pos - start;\n        result.actions = [{\n                name: \"fix\",\n                apply(view, start) {\n                    view.dispatch({ changes: { from: start + from, to: start + to, insert: text }, scrollIntoView: true });\n                }\n            }];\n    }\n    return result;\n}\n\nexport { esLint, javascript, javascriptLanguage, jsxLanguage, snippets, tsxLanguage, typescriptLanguage };\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { CodemirrorExampleComponent } from './codemirror-example.component';\nimport { LazyModule, LazyModuleComponentInfo } from '@gewd/lazy/contracts';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { HighlightEditorModule } from '@gewd/components/highlight-editor';\nimport { MarkdownModule } from '@gewd/markdown';\nimport { CodemirrorModule } from '@gewd/components/codemirror';\n\n\n@NgModule({\n  declarations: [CodemirrorExampleComponent],\n  imports: [\n    CommonModule,\n    MatTabsModule,\n    HighlightEditorModule,\n    MarkdownModule,\n    CodemirrorModule\n  ]\n})\nexport class CodemirrorExampleModule implements LazyModule {\n  getComponents (): LazyModuleComponentInfo[] {\n    return [\n      {\n        name: 'CodeMirrorExample',\n        componentType: CodemirrorExampleComponent\n      }\n    ];\n  }\n}\n","// Compressed representation of the Grapheme_Cluster_Break=Extend\n// information from\n// http://www.unicode.org/Public/13.0.0/ucd/auxiliary/GraphemeBreakProperty.txt.\n// Each pair of elements represents a range, as an offet from the\n// previous range and a length. Numbers are in base-36, with the empty\n// string being a shorthand for 1.\nlet extend = /*@__PURE__*/\"lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o\".split(\",\").map(s => s ? parseInt(s, 36) : 1);\n// Convert offsets into absolute values\nfor (let i = 1; i < extend.length; i++)\n    extend[i] += extend[i - 1];\nfunction isExtendingChar(code) {\n    for (let i = 1; i < extend.length; i += 2)\n        if (extend[i] > code)\n            return extend[i - 1] <= code;\n    return false;\n}\nfunction isRegionalIndicator(code) {\n    return code >= 0x1F1E6 && code <= 0x1F1FF;\n}\nconst ZWJ = 0x200d;\n/**\nReturns a next grapheme cluster break _after_ (not equal to)\n`pos`, if `forward` is true, or before otherwise. Returns `pos`\nitself if no further cluster break is available in the string.\nMoves across surrogate pairs, extending characters, characters\njoined with zero-width joiners, and flag emoji.\n*/\nfunction findClusterBreak(str, pos, forward = true) {\n    return (forward ? nextClusterBreak : prevClusterBreak)(str, pos);\n}\nfunction nextClusterBreak(str, pos) {\n    if (pos == str.length)\n        return pos;\n    // If pos is in the middle of a surrogate pair, move to its start\n    if (pos && surrogateLow(str.charCodeAt(pos)) && surrogateHigh(str.charCodeAt(pos - 1)))\n        pos--;\n    let prev = codePointAt(str, pos);\n    pos += codePointSize(prev);\n    while (pos < str.length) {\n        let next = codePointAt(str, pos);\n        if (prev == ZWJ || next == ZWJ || isExtendingChar(next)) {\n            pos += codePointSize(next);\n            prev = next;\n        }\n        else if (isRegionalIndicator(next)) {\n            let countBefore = 0, i = pos - 2;\n            while (i >= 0 && isRegionalIndicator(codePointAt(str, i))) {\n                countBefore++;\n                i -= 2;\n            }\n            if (countBefore % 2 == 0)\n                break;\n            else\n                pos += 2;\n        }\n        else {\n            break;\n        }\n    }\n    return pos;\n}\nfunction prevClusterBreak(str, pos) {\n    while (pos > 0) {\n        let found = nextClusterBreak(str, pos - 2);\n        if (found < pos)\n            return found;\n        pos--;\n    }\n    return 0;\n}\nfunction surrogateLow(ch) { return ch >= 0xDC00 && ch < 0xE000; }\nfunction surrogateHigh(ch) { return ch >= 0xD800 && ch < 0xDC00; }\n/**\nFind the code point at the given position in a string (like the\n[`codePointAt`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/codePointAt)\nstring method).\n*/\nfunction codePointAt(str, pos) {\n    let code0 = str.charCodeAt(pos);\n    if (!surrogateHigh(code0) || pos + 1 == str.length)\n        return code0;\n    let code1 = str.charCodeAt(pos + 1);\n    if (!surrogateLow(code1))\n        return code0;\n    return ((code0 - 0xd800) << 10) + (code1 - 0xdc00) + 0x10000;\n}\n/**\nGiven a Unicode codepoint, return the JavaScript string that\nrespresents it (like\n[`String.fromCodePoint`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/fromCodePoint)).\n*/\nfunction fromCodePoint(code) {\n    if (code <= 0xffff)\n        return String.fromCharCode(code);\n    code -= 0x10000;\n    return String.fromCharCode((code >> 10) + 0xd800, (code & 1023) + 0xdc00);\n}\n/**\nThe first character that takes up two positions in a JavaScript\nstring. It is often useful to compare with this after calling\n`codePointAt`, to figure out whether your character takes up 1 or\n2 index positions.\n*/\nfunction codePointSize(code) { return code < 0x10000 ? 1 : 2; }\n\n/**\nCount the column position at the given offset into the string,\ntaking extending characters and tab size into account.\n*/\nfunction countColumn(string, tabSize, to = string.length) {\n    let n = 0;\n    for (let i = 0; i < to;) {\n        if (string.charCodeAt(i) == 9) {\n            n += tabSize - (n % tabSize);\n            i++;\n        }\n        else {\n            n++;\n            i = findClusterBreak(string, i);\n        }\n    }\n    return n;\n}\n/**\nFind the offset that corresponds to the given column position in a\nstring, taking extending characters and tab size into account.\n*/\nfunction findColumn(string, col, tabSize) {\n    for (let i = 0, n = 0; i < string.length;) {\n        if (n >= col)\n            return i;\n        n += string.charCodeAt(i) == 9 ? tabSize - (n % tabSize) : 1;\n        i = findClusterBreak(string, i);\n    }\n    return string.length;\n}\n\n/**\nThe data structure for documents.\n*/\nclass Text {\n    /**\n    @internal\n    */\n    constructor() { }\n    /**\n    Get the line description around the given position.\n    */\n    lineAt(pos) {\n        if (pos < 0 || pos > this.length)\n            throw new RangeError(`Invalid position ${pos} in document of length ${this.length}`);\n        return this.lineInner(pos, false, 1, 0);\n    }\n    /**\n    Get the description for the given (1-based) line number.\n    */\n    line(n) {\n        if (n < 1 || n > this.lines)\n            throw new RangeError(`Invalid line number ${n} in ${this.lines}-line document`);\n        return this.lineInner(n, true, 1, 0);\n    }\n    /**\n    Replace a range of the text with the given content.\n    */\n    replace(from, to, text) {\n        let parts = [];\n        this.decompose(0, from, parts, 2 /* To */);\n        if (text.length)\n            text.decompose(0, text.length, parts, 1 /* From */ | 2 /* To */);\n        this.decompose(to, this.length, parts, 1 /* From */);\n        return TextNode.from(parts, this.length - (to - from) + text.length);\n    }\n    /**\n    Append another document to this one.\n    */\n    append(other) {\n        return this.replace(this.length, this.length, other);\n    }\n    /**\n    Retrieve the text between the given points.\n    */\n    slice(from, to = this.length) {\n        let parts = [];\n        this.decompose(from, to, parts, 0);\n        return TextNode.from(parts, to - from);\n    }\n    /**\n    Test whether this text is equal to another instance.\n    */\n    eq(other) {\n        if (other == this)\n            return true;\n        if (other.length != this.length || other.lines != this.lines)\n            return false;\n        let a = new RawTextCursor(this), b = new RawTextCursor(other);\n        for (;;) {\n            a.next();\n            b.next();\n            if (a.lineBreak != b.lineBreak || a.done != b.done || a.value != b.value)\n                return false;\n            if (a.done)\n                return true;\n        }\n    }\n    /**\n    Iterate over the text. When `dir` is `-1`, iteration happens\n    from end to start. This will return lines and the breaks between\n    them as separate strings, and for long lines, might split lines\n    themselves into multiple chunks as well.\n    */\n    iter(dir = 1) { return new RawTextCursor(this, dir); }\n    /**\n    Iterate over a range of the text. When `from` > `to`, the\n    iterator will run in reverse.\n    */\n    iterRange(from, to = this.length) { return new PartialTextCursor(this, from, to); }\n    /**\n    Return a cursor that iterates over the given range of lines,\n    _without_ returning the line breaks between, and yielding empty\n    strings for empty lines.\n    \n    When `from` and `to` are given, they should be 1-based line numbers.\n    */\n    iterLines(from, to) {\n        let inner;\n        if (from == null) {\n            inner = this.iter();\n        }\n        else {\n            if (to == null)\n                to = this.lines + 1;\n            let start = this.line(from).from;\n            inner = this.iterRange(start, Math.max(start, to == this.lines + 1 ? this.length : to <= 1 ? 0 : this.line(to - 1).to));\n        }\n        return new LineCursor(inner);\n    }\n    /**\n    @internal\n    */\n    toString() { return this.sliceString(0); }\n    /**\n    Convert the document to an array of lines (which can be\n    deserialized again via [`Text.of`](https://codemirror.net/6/docs/ref/#text.Text^of)).\n    */\n    toJSON() {\n        let lines = [];\n        this.flatten(lines);\n        return lines;\n    }\n    /**\n    Create a `Text` instance for the given array of lines.\n    */\n    static of(text) {\n        if (text.length == 0)\n            throw new RangeError(\"A document must have at least one line\");\n        if (text.length == 1 && !text[0])\n            return Text.empty;\n        return text.length <= 32 /* Branch */ ? new TextLeaf(text) : TextNode.from(TextLeaf.split(text, []));\n    }\n}\nif (typeof Symbol != \"undefined\")\n    Text.prototype[Symbol.iterator] = function () { return this.iter(); };\n// Leaves store an array of line strings. There are always line breaks\n// between these strings. Leaves are limited in size and have to be\n// contained in TextNode instances for bigger documents.\nclass TextLeaf extends Text {\n    constructor(text, length = textLength(text)) {\n        super();\n        this.text = text;\n        this.length = length;\n    }\n    get lines() { return this.text.length; }\n    get children() { return null; }\n    lineInner(target, isLine, line, offset) {\n        for (let i = 0;; i++) {\n            let string = this.text[i], end = offset + string.length;\n            if ((isLine ? line : end) >= target)\n                return new Line(offset, end, line, string);\n            offset = end + 1;\n            line++;\n        }\n    }\n    decompose(from, to, target, open) {\n        let text = from <= 0 && to >= this.length ? this\n            : new TextLeaf(sliceText(this.text, from, to), Math.min(to, this.length) - Math.max(0, from));\n        if (open & 1 /* From */) {\n            let prev = target.pop();\n            let joined = appendText(text.text, prev.text.slice(), 0, text.length);\n            if (joined.length <= 32 /* Branch */) {\n                target.push(new TextLeaf(joined, prev.length + text.length));\n            }\n            else {\n                let mid = joined.length >> 1;\n                target.push(new TextLeaf(joined.slice(0, mid)), new TextLeaf(joined.slice(mid)));\n            }\n        }\n        else {\n            target.push(text);\n        }\n    }\n    replace(from, to, text) {\n        if (!(text instanceof TextLeaf))\n            return super.replace(from, to, text);\n        let lines = appendText(this.text, appendText(text.text, sliceText(this.text, 0, from)), to);\n        let newLen = this.length + text.length - (to - from);\n        if (lines.length <= 32 /* Branch */)\n            return new TextLeaf(lines, newLen);\n        return TextNode.from(TextLeaf.split(lines, []), newLen);\n    }\n    sliceString(from, to = this.length, lineSep = \"\\n\") {\n        let result = \"\";\n        for (let pos = 0, i = 0; pos <= to && i < this.text.length; i++) {\n            let line = this.text[i], end = pos + line.length;\n            if (pos > from && i)\n                result += lineSep;\n            if (from < end && to > pos)\n                result += line.slice(Math.max(0, from - pos), to - pos);\n            pos = end + 1;\n        }\n        return result;\n    }\n    flatten(target) {\n        for (let line of this.text)\n            target.push(line);\n    }\n    static split(text, target) {\n        let part = [], len = -1;\n        for (let line of text) {\n            part.push(line);\n            len += line.length + 1;\n            if (part.length == 32 /* Branch */) {\n                target.push(new TextLeaf(part, len));\n                part = [];\n                len = -1;\n            }\n        }\n        if (len > -1)\n            target.push(new TextLeaf(part, len));\n        return target;\n    }\n}\n// Nodes provide the tree structure of the `Text` type. They store a\n// number of other nodes or leaves, taking care to balance themselves\n// on changes. There are implied line breaks _between_ the children of\n// a node (but not before the first or after the last child).\nclass TextNode extends Text {\n    constructor(children, length) {\n        super();\n        this.children = children;\n        this.length = length;\n        this.lines = 0;\n        for (let child of children)\n            this.lines += child.lines;\n    }\n    lineInner(target, isLine, line, offset) {\n        for (let i = 0;; i++) {\n            let child = this.children[i], end = offset + child.length, endLine = line + child.lines - 1;\n            if ((isLine ? endLine : end) >= target)\n                return child.lineInner(target, isLine, line, offset);\n            offset = end + 1;\n            line = endLine + 1;\n        }\n    }\n    decompose(from, to, target, open) {\n        for (let i = 0, pos = 0; pos <= to && i < this.children.length; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (from <= end && to >= pos) {\n                let childOpen = open & ((pos <= from ? 1 /* From */ : 0) | (end >= to ? 2 /* To */ : 0));\n                if (pos >= from && end <= to && !childOpen)\n                    target.push(child);\n                else\n                    child.decompose(from - pos, to - pos, target, childOpen);\n            }\n            pos = end + 1;\n        }\n    }\n    replace(from, to, text) {\n        if (text.lines < this.lines)\n            for (let i = 0, pos = 0; i < this.children.length; i++) {\n                let child = this.children[i], end = pos + child.length;\n                // Fast path: if the change only affects one child and the\n                // child's size remains in the acceptable range, only update\n                // that child\n                if (from >= pos && to <= end) {\n                    let updated = child.replace(from - pos, to - pos, text);\n                    let totalLines = this.lines - child.lines + updated.lines;\n                    if (updated.lines < (totalLines >> (5 /* BranchShift */ - 1)) &&\n                        updated.lines > (totalLines >> (5 /* BranchShift */ + 1))) {\n                        let copy = this.children.slice();\n                        copy[i] = updated;\n                        return new TextNode(copy, this.length - (to - from) + text.length);\n                    }\n                    return super.replace(pos, end, updated);\n                }\n                pos = end + 1;\n            }\n        return super.replace(from, to, text);\n    }\n    sliceString(from, to = this.length, lineSep = \"\\n\") {\n        let result = \"\";\n        for (let i = 0, pos = 0; i < this.children.length && pos <= to; i++) {\n            let child = this.children[i], end = pos + child.length;\n            if (pos > from && i)\n                result += lineSep;\n            if (from < end && to > pos)\n                result += child.sliceString(from - pos, to - pos, lineSep);\n            pos = end + 1;\n        }\n        return result;\n    }\n    flatten(target) {\n        for (let child of this.children)\n            child.flatten(target);\n    }\n    static from(children, length = children.reduce((l, ch) => l + ch.length + 1, -1)) {\n        let lines = 0;\n        for (let ch of children)\n            lines += ch.lines;\n        if (lines < 32 /* Branch */) {\n            let flat = [];\n            for (let ch of children)\n                ch.flatten(flat);\n            return new TextLeaf(flat, length);\n        }\n        let chunk = Math.max(32 /* Branch */, lines >> 5 /* BranchShift */), maxChunk = chunk << 1, minChunk = chunk >> 1;\n        let chunked = [], currentLines = 0, currentLen = -1, currentChunk = [];\n        function add(child) {\n            let last;\n            if (child.lines > maxChunk && child instanceof TextNode) {\n                for (let node of child.children)\n                    add(node);\n            }\n            else if (child.lines > minChunk && (currentLines > minChunk || !currentLines)) {\n                flush();\n                chunked.push(child);\n            }\n            else if (child instanceof TextLeaf && currentLines &&\n                (last = currentChunk[currentChunk.length - 1]) instanceof TextLeaf &&\n                child.lines + last.lines <= 32 /* Branch */) {\n                currentLines += child.lines;\n                currentLen += child.length + 1;\n                currentChunk[currentChunk.length - 1] = new TextLeaf(last.text.concat(child.text), last.length + 1 + child.length);\n            }\n            else {\n                if (currentLines + child.lines > chunk)\n                    flush();\n                currentLines += child.lines;\n                currentLen += child.length + 1;\n                currentChunk.push(child);\n            }\n        }\n        function flush() {\n            if (currentLines == 0)\n                return;\n            chunked.push(currentChunk.length == 1 ? currentChunk[0] : TextNode.from(currentChunk, currentLen));\n            currentLen = -1;\n            currentLines = currentChunk.length = 0;\n        }\n        for (let child of children)\n            add(child);\n        flush();\n        return chunked.length == 1 ? chunked[0] : new TextNode(chunked, length);\n    }\n}\nText.empty = /*@__PURE__*/new TextLeaf([\"\"], 0);\nfunction textLength(text) {\n    let length = -1;\n    for (let line of text)\n        length += line.length + 1;\n    return length;\n}\nfunction appendText(text, target, from = 0, to = 1e9) {\n    for (let pos = 0, i = 0, first = true; i < text.length && pos <= to; i++) {\n        let line = text[i], end = pos + line.length;\n        if (end >= from) {\n            if (end > to)\n                line = line.slice(0, to - pos);\n            if (pos < from)\n                line = line.slice(from - pos);\n            if (first) {\n                target[target.length - 1] += line;\n                first = false;\n            }\n            else\n                target.push(line);\n        }\n        pos = end + 1;\n    }\n    return target;\n}\nfunction sliceText(text, from, to) {\n    return appendText(text, [\"\"], from, to);\n}\nclass RawTextCursor {\n    constructor(text, dir = 1) {\n        this.dir = dir;\n        this.done = false;\n        this.lineBreak = false;\n        this.value = \"\";\n        this.nodes = [text];\n        this.offsets = [dir > 0 ? 1 : (text instanceof TextLeaf ? text.text.length : text.children.length) << 1];\n    }\n    nextInner(skip, dir) {\n        this.done = this.lineBreak = false;\n        for (;;) {\n            let last = this.nodes.length - 1;\n            let top = this.nodes[last], offsetValue = this.offsets[last], offset = offsetValue >> 1;\n            let size = top instanceof TextLeaf ? top.text.length : top.children.length;\n            if (offset == (dir > 0 ? size : 0)) {\n                if (last == 0) {\n                    this.done = true;\n                    this.value = \"\";\n                    return this;\n                }\n                if (dir > 0)\n                    this.offsets[last - 1]++;\n                this.nodes.pop();\n                this.offsets.pop();\n            }\n            else if ((offsetValue & 1) == (dir > 0 ? 0 : 1)) {\n                this.offsets[last] += dir;\n                if (skip == 0) {\n                    this.lineBreak = true;\n                    this.value = \"\\n\";\n                    return this;\n                }\n                skip--;\n            }\n            else if (top instanceof TextLeaf) {\n                // Move to the next string\n                let next = top.text[offset + (dir < 0 ? -1 : 0)];\n                this.offsets[last] += dir;\n                if (next.length > Math.max(0, skip)) {\n                    this.value = skip == 0 ? next : dir > 0 ? next.slice(skip) : next.slice(0, next.length - skip);\n                    return this;\n                }\n                skip -= next.length;\n            }\n            else {\n                let next = top.children[offset + (dir < 0 ? -1 : 0)];\n                if (skip > next.length) {\n                    skip -= next.length;\n                    this.offsets[last] += dir;\n                }\n                else {\n                    if (dir < 0)\n                        this.offsets[last]--;\n                    this.nodes.push(next);\n                    this.offsets.push(dir > 0 ? 1 : (next instanceof TextLeaf ? next.text.length : next.children.length) << 1);\n                }\n            }\n        }\n    }\n    next(skip = 0) {\n        if (skip < 0) {\n            this.nextInner(-skip, (-this.dir));\n            skip = this.value.length;\n        }\n        return this.nextInner(skip, this.dir);\n    }\n}\nclass PartialTextCursor {\n    constructor(text, start, end) {\n        this.value = \"\";\n        this.done = false;\n        this.cursor = new RawTextCursor(text, start > end ? -1 : 1);\n        this.pos = start > end ? text.length : 0;\n        this.from = Math.min(start, end);\n        this.to = Math.max(start, end);\n    }\n    nextInner(skip, dir) {\n        if (dir < 0 ? this.pos <= this.from : this.pos >= this.to) {\n            this.value = \"\";\n            this.done = true;\n            return this;\n        }\n        skip += Math.max(0, dir < 0 ? this.pos - this.to : this.from - this.pos);\n        let limit = dir < 0 ? this.pos - this.from : this.to - this.pos;\n        if (skip > limit)\n            skip = limit;\n        limit -= skip;\n        let { value } = this.cursor.next(skip);\n        this.pos += (value.length + skip) * dir;\n        this.value = value.length <= limit ? value : dir < 0 ? value.slice(value.length - limit) : value.slice(0, limit);\n        this.done = !this.value;\n        return this;\n    }\n    next(skip = 0) {\n        if (skip < 0)\n            skip = Math.max(skip, this.from - this.pos);\n        else if (skip > 0)\n            skip = Math.min(skip, this.to - this.pos);\n        return this.nextInner(skip, this.cursor.dir);\n    }\n    get lineBreak() { return this.cursor.lineBreak && this.value != \"\"; }\n}\nclass LineCursor {\n    constructor(inner) {\n        this.inner = inner;\n        this.afterBreak = true;\n        this.value = \"\";\n        this.done = false;\n    }\n    next(skip = 0) {\n        let { done, lineBreak, value } = this.inner.next(skip);\n        if (done) {\n            this.done = true;\n            this.value = \"\";\n        }\n        else if (lineBreak) {\n            if (this.afterBreak) {\n                this.value = \"\";\n            }\n            else {\n                this.afterBreak = true;\n                this.next();\n            }\n        }\n        else {\n            this.value = value;\n            this.afterBreak = false;\n        }\n        return this;\n    }\n    get lineBreak() { return false; }\n}\n/**\nThis type describes a line in the document. It is created\non-demand when lines are [queried](https://codemirror.net/6/docs/ref/#text.Text.lineAt).\n*/\nclass Line {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The position of the start of the line.\n    */\n    from, \n    /**\n    The position at the end of the line (_before_ the line break,\n    or at the end of document for the last line).\n    */\n    to, \n    /**\n    This line's line number (1-based).\n    */\n    number, \n    /**\n    The line's content.\n    */\n    text) {\n        this.from = from;\n        this.to = to;\n        this.number = number;\n        this.text = text;\n    }\n    /**\n    The length of the line (not including any line break after it).\n    */\n    get length() { return this.to - this.from; }\n}\n\nexport { Line, Text, codePointAt, codePointSize, countColumn, findClusterBreak, findColumn, fromCodePoint };\n","import { NodeProp, NodeType } from '@lezer/common';\nimport { StyleModule } from 'style-mod';\nimport { EditorView, ViewPlugin, Decoration } from '@codemirror/view';\nimport { Facet, Prec } from '@codemirror/state';\nimport { syntaxTree } from '@codemirror/language';\nimport { RangeSetBuilder } from '@codemirror/rangeset';\n\nlet nextTagID = 0;\n/**\nHighlighting tags are markers that denote a highlighting category.\nThey are [associated](https://codemirror.net/6/docs/ref/#highlight.styleTags) with parts of a syntax\ntree by a language mode, and then mapped to an actual CSS style by\na [highlight style](https://codemirror.net/6/docs/ref/#highlight.HighlightStyle).\n\nBecause syntax tree node types and highlight styles have to be\nable to talk the same language, CodeMirror uses a mostly _closed_\n[vocabulary](https://codemirror.net/6/docs/ref/#highlight.tags) of syntax tags (as opposed to\ntraditional open string-based systems, which make it hard for\nhighlighting themes to cover all the tokens produced by the\nvarious languages).\n\nIt _is_ possible to [define](https://codemirror.net/6/docs/ref/#highlight.Tag^define) your own\nhighlighting tags for system-internal use (where you control both\nthe language package and the highlighter), but such tags will not\nbe picked up by regular highlighters (though you can derive them\nfrom standard tags to allow highlighters to fall back to those).\n*/\nclass Tag {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The set of tags that match this tag, starting with this one\n    itself, sorted in order of decreasing specificity. @internal\n    */\n    set, \n    /**\n    The base unmodified tag that this one is based on, if it's\n    modified @internal\n    */\n    base, \n    /**\n    The modifiers applied to this.base @internal\n    */\n    modified) {\n        this.set = set;\n        this.base = base;\n        this.modified = modified;\n        /**\n        @internal\n        */\n        this.id = nextTagID++;\n    }\n    /**\n    Define a new tag. If `parent` is given, the tag is treated as a\n    sub-tag of that parent, and [highlight\n    styles](https://codemirror.net/6/docs/ref/#highlight.HighlightStyle) that don't mention this tag\n    will try to fall back to the parent tag (or grandparent tag,\n    etc).\n    */\n    static define(parent) {\n        if (parent === null || parent === void 0 ? void 0 : parent.base)\n            throw new Error(\"Can not derive from a modified tag\");\n        let tag = new Tag([], null, []);\n        tag.set.push(tag);\n        if (parent)\n            for (let t of parent.set)\n                tag.set.push(t);\n        return tag;\n    }\n    /**\n    Define a tag _modifier_, which is a function that, given a tag,\n    will return a tag that is a subtag of the original. Applying the\n    same modifier to a twice tag will return the same value (`m1(t1)\n    == m1(t1)`) and applying multiple modifiers will, regardless or\n    order, produce the same tag (`m1(m2(t1)) == m2(m1(t1))`).\n    \n    When multiple modifiers are applied to a given base tag, each\n    smaller set of modifiers is registered as a parent, so that for\n    example `m1(m2(m3(t1)))` is a subtype of `m1(m2(t1))`,\n    `m1(m3(t1)`, and so on.\n    */\n    static defineModifier() {\n        let mod = new Modifier;\n        return (tag) => {\n            if (tag.modified.indexOf(mod) > -1)\n                return tag;\n            return Modifier.get(tag.base || tag, tag.modified.concat(mod).sort((a, b) => a.id - b.id));\n        };\n    }\n}\nlet nextModifierID = 0;\nclass Modifier {\n    constructor() {\n        this.instances = [];\n        this.id = nextModifierID++;\n    }\n    static get(base, mods) {\n        if (!mods.length)\n            return base;\n        let exists = mods[0].instances.find(t => t.base == base && sameArray(mods, t.modified));\n        if (exists)\n            return exists;\n        let set = [], tag = new Tag(set, base, mods);\n        for (let m of mods)\n            m.instances.push(tag);\n        let configs = permute(mods);\n        for (let parent of base.set)\n            for (let config of configs)\n                set.push(Modifier.get(parent, config));\n        return tag;\n    }\n}\nfunction sameArray(a, b) {\n    return a.length == b.length && a.every((x, i) => x == b[i]);\n}\nfunction permute(array) {\n    let result = [array];\n    for (let i = 0; i < array.length; i++) {\n        for (let a of permute(array.slice(0, i).concat(array.slice(i + 1))))\n            result.push(a);\n    }\n    return result;\n}\n/**\nThis function is used to add a set of tags to a language syntax\nvia\n[`LRParser.configure`](https://lezer.codemirror.net/docs/ref#lr.LRParser.configure).\n\nThe argument object maps node selectors to [highlighting\ntags](https://codemirror.net/6/docs/ref/#highlight.Tag) or arrays of tags.\n\nNode selectors may hold one or more (space-separated) node paths.\nSuch a path can be a [node\nname](https://lezer.codemirror.net/docs/ref#common.NodeType.name),\nor multiple node names (or `*` wildcards) separated by slash\ncharacters, as in `\"Block/Declaration/VariableName\"`. Such a path\nmatches the final node but only if its direct parent nodes are the\nother nodes mentioned. A `*` in such a path matches any parent,\nbut only a single levelwildcards that match multiple parents\naren't supported, both for efficiency reasons and because Lezer\ntrees make it rather hard to reason about what they would match.)\n\nA path can be ended with `/...` to indicate that the tag assigned\nto the node should also apply to all child nodes, even if they\nmatch their own style (by default, only the innermost style is\nused).\n\nWhen a path ends in `!`, as in `Attribute!`, no further matching\nhappens for the node's child nodes, and the entire node gets the\ngiven style.\n\nIn this notation, node names that contain `/`, `!`, `*`, or `...`\nmust be quoted as JSON strings.\n\nFor example:\n\n```javascript\nparser.withProps(\n  styleTags({\n    // Style Number and BigNumber nodes\n    \"Number BigNumber\": tags.number,\n    // Style Escape nodes whose parent is String\n    \"String/Escape\": tags.escape,\n    // Style anything inside Attributes nodes\n    \"Attributes!\": tags.meta,\n    // Add a style to all content inside Italic nodes\n    \"Italic/...\": tags.emphasis,\n    // Style InvalidString nodes as both `string` and `invalid`\n    \"InvalidString\": [tags.string, tags.invalid],\n    // Style the node named \"/\" as punctuation\n    '\"/\"': tags.punctuation\n  })\n)\n```\n*/\nfunction styleTags(spec) {\n    let byName = Object.create(null);\n    for (let prop in spec) {\n        let tags = spec[prop];\n        if (!Array.isArray(tags))\n            tags = [tags];\n        for (let part of prop.split(\" \"))\n            if (part) {\n                let pieces = [], mode = 2 /* Normal */, rest = part;\n                for (let pos = 0;;) {\n                    if (rest == \"...\" && pos > 0 && pos + 3 == part.length) {\n                        mode = 1 /* Inherit */;\n                        break;\n                    }\n                    let m = /^\"(?:[^\"\\\\]|\\\\.)*?\"|[^\\/!]+/.exec(rest);\n                    if (!m)\n                        throw new RangeError(\"Invalid path: \" + part);\n                    pieces.push(m[0] == \"*\" ? null : m[0][0] == '\"' ? JSON.parse(m[0]) : m[0]);\n                    pos += m[0].length;\n                    if (pos == part.length)\n                        break;\n                    let next = part[pos++];\n                    if (pos == part.length && next == \"!\") {\n                        mode = 0 /* Opaque */;\n                        break;\n                    }\n                    if (next != \"/\")\n                        throw new RangeError(\"Invalid path: \" + part);\n                    rest = part.slice(pos);\n                }\n                let last = pieces.length - 1, inner = pieces[last];\n                if (!inner)\n                    throw new RangeError(\"Invalid path: \" + part);\n                let rule = new Rule(tags, mode, last > 0 ? pieces.slice(0, last) : null);\n                byName[inner] = rule.sort(byName[inner]);\n            }\n    }\n    return ruleNodeProp.add(byName);\n}\nconst ruleNodeProp = /*@__PURE__*/new NodeProp();\nconst highlightStyle = /*@__PURE__*/Facet.define({\n    combine(stylings) { return stylings.length ? HighlightStyle.combinedMatch(stylings) : null; }\n});\nconst fallbackHighlightStyle = /*@__PURE__*/Facet.define({\n    combine(values) { return values.length ? values[0].match : null; }\n});\nfunction getHighlightStyle(state) {\n    return state.facet(highlightStyle) || state.facet(fallbackHighlightStyle);\n}\nclass Rule {\n    constructor(tags, mode, context, next) {\n        this.tags = tags;\n        this.mode = mode;\n        this.context = context;\n        this.next = next;\n    }\n    sort(other) {\n        if (!other || other.depth < this.depth) {\n            this.next = other;\n            return this;\n        }\n        other.next = this.sort(other.next);\n        return other;\n    }\n    get depth() { return this.context ? this.context.length : 0; }\n}\n/**\nA highlight style associates CSS styles with higlighting\n[tags](https://codemirror.net/6/docs/ref/#highlight.Tag).\n*/\nclass HighlightStyle {\n    constructor(spec, options) {\n        this.map = Object.create(null);\n        let modSpec;\n        function def(spec) {\n            let cls = StyleModule.newName();\n            (modSpec || (modSpec = Object.create(null)))[\".\" + cls] = spec;\n            return cls;\n        }\n        this.all = typeof options.all == \"string\" ? options.all : options.all ? def(options.all) : null;\n        for (let style of spec) {\n            let cls = (style.class || def(Object.assign({}, style, { tag: null }))) +\n                (this.all ? \" \" + this.all : \"\");\n            let tags = style.tag;\n            if (!Array.isArray(tags))\n                this.map[tags.id] = cls;\n            else\n                for (let tag of tags)\n                    this.map[tag.id] = cls;\n        }\n        this.module = modSpec ? new StyleModule(modSpec) : null;\n        this.scope = options.scope || null;\n        this.match = this.match.bind(this);\n        let ext = [treeHighlighter];\n        if (this.module)\n            ext.push(EditorView.styleModule.of(this.module));\n        this.extension = ext.concat(highlightStyle.of(this));\n        this.fallback = ext.concat(fallbackHighlightStyle.of(this));\n    }\n    /**\n    Returns the CSS class associated with the given tag, if any.\n    This method is bound to the instance by the constructor.\n    */\n    match(tag, scope) {\n        if (this.scope && scope != this.scope)\n            return null;\n        for (let t of tag.set) {\n            let match = this.map[t.id];\n            if (match !== undefined) {\n                if (t != tag)\n                    this.map[tag.id] = match;\n                return match;\n            }\n        }\n        return this.map[tag.id] = this.all;\n    }\n    /**\n    Combines an array of highlight styles into a single match\n    function that returns all of the classes assigned by the styles\n    for a given tag.\n    */\n    static combinedMatch(styles) {\n        if (styles.length == 1)\n            return styles[0].match;\n        let cache = styles.some(s => s.scope) ? undefined : Object.create(null);\n        return (tag, scope) => {\n            let cached = cache && cache[tag.id];\n            if (cached !== undefined)\n                return cached;\n            let result = null;\n            for (let style of styles) {\n                let value = style.match(tag, scope);\n                if (value)\n                    result = result ? result + \" \" + value : value;\n            }\n            if (cache)\n                cache[tag.id] = result;\n            return result;\n        };\n    }\n    /**\n    Create a highlighter style that associates the given styles to\n    the given tags. The spec must be objects that hold a style tag\n    or array of tags in their `tag` property, and either a single\n    `class` property providing a static CSS class (for highlighters\n    like [`classHighlightStyle`](https://codemirror.net/6/docs/ref/#highlight.classHighlightStyle)\n    that rely on external styling), or a\n    [`style-mod`](https://github.com/marijnh/style-mod#documentation)-style\n    set of CSS properties (which define the styling for those tags).\n    \n    The CSS rules created for a highlighter will be emitted in the\n    order of the spec's properties. That means that for elements that\n    have multiple tags associated with them, styles defined further\n    down in the list will have a higher CSS precedence than styles\n    defined earlier.\n    */\n    static define(specs, options) {\n        return new HighlightStyle(specs, options || {});\n    }\n    /**\n    Returns the CSS classes (if any) that the highlight styles\n    active in the given state would assign to the given a style\n    [tag](https://codemirror.net/6/docs/ref/#highlight.Tag) and (optional) language\n    [scope](https://codemirror.net/6/docs/ref/#highlight.HighlightStyle^define^options.scope).\n    */\n    static get(state, tag, scope) {\n        let style = getHighlightStyle(state);\n        return style && style(tag, scope || NodeType.none);\n    }\n}\n/**\nRun the tree highlighter over the given tree.\n*/\nfunction highlightTree(tree, \n/**\nGet the CSS classes used to style a given [tag](https://codemirror.net/6/docs/ref/#highlight.Tag),\nor `null` if it isn't styled. (You'll often want to pass a\nhighlight style's [`match`](https://codemirror.net/6/docs/ref/#highlight.HighlightStyle.match)\nmethod here.)\n*/\ngetStyle, \n/**\nAssign styling to a region of the text. Will be called, in order\nof position, for any ranges where more than zero classes apply.\n`classes` is a space separated string of CSS classes.\n*/\nputStyle, \n/**\nThe start of the range to highlight.\n*/\nfrom = 0, \n/**\nThe end of the range.\n*/\nto = tree.length) {\n    highlightTreeRange(tree, from, to, getStyle, putStyle);\n}\nclass TreeHighlighter {\n    constructor(view) {\n        this.markCache = Object.create(null);\n        this.tree = syntaxTree(view.state);\n        this.decorations = this.buildDeco(view, getHighlightStyle(view.state));\n    }\n    update(update) {\n        let tree = syntaxTree(update.state), style = getHighlightStyle(update.state);\n        let styleChange = style != update.startState.facet(highlightStyle);\n        if (tree.length < update.view.viewport.to && !styleChange && tree.type == this.tree.type) {\n            this.decorations = this.decorations.map(update.changes);\n        }\n        else if (tree != this.tree || update.viewportChanged || styleChange) {\n            this.tree = tree;\n            this.decorations = this.buildDeco(update.view, style);\n        }\n    }\n    buildDeco(view, match) {\n        if (!match || !this.tree.length)\n            return Decoration.none;\n        let builder = new RangeSetBuilder();\n        for (let { from, to } of view.visibleRanges) {\n            highlightTreeRange(this.tree, from, to, match, (from, to, style) => {\n                builder.add(from, to, this.markCache[style] || (this.markCache[style] = Decoration.mark({ class: style })));\n            });\n        }\n        return builder.finish();\n    }\n}\n// This extension installs a highlighter that highlights based on the\n// syntax tree and highlight style.\nconst treeHighlighter = /*@__PURE__*/Prec.extend(/*@__PURE__*/ViewPlugin.fromClass(TreeHighlighter, {\n    decorations: v => v.decorations\n}));\nconst nodeStack = [\"\"];\nclass HighlightBuilder {\n    constructor(at, style, span) {\n        this.at = at;\n        this.style = style;\n        this.span = span;\n        this.class = \"\";\n    }\n    startSpan(at, cls) {\n        if (cls != this.class) {\n            this.flush(at);\n            if (at > this.at)\n                this.at = at;\n            this.class = cls;\n        }\n    }\n    flush(to) {\n        if (to > this.at && this.class)\n            this.span(this.at, to, this.class);\n    }\n    highlightRange(cursor, from, to, inheritedClass, depth, scope) {\n        let { type, from: start, to: end } = cursor;\n        if (start >= to || end <= from)\n            return;\n        nodeStack[depth] = type.name;\n        if (type.isTop)\n            scope = type;\n        let cls = inheritedClass;\n        let rule = type.prop(ruleNodeProp), opaque = false;\n        while (rule) {\n            if (!rule.context || matchContext(rule.context, nodeStack, depth)) {\n                for (let tag of rule.tags) {\n                    let st = this.style(tag, scope);\n                    if (st) {\n                        if (cls)\n                            cls += \" \";\n                        cls += st;\n                        if (rule.mode == 1 /* Inherit */)\n                            inheritedClass += (inheritedClass ? \" \" : \"\") + st;\n                        else if (rule.mode == 0 /* Opaque */)\n                            opaque = true;\n                    }\n                }\n                break;\n            }\n            rule = rule.next;\n        }\n        this.startSpan(cursor.from, cls);\n        if (opaque)\n            return;\n        let mounted = cursor.tree && cursor.tree.prop(NodeProp.mounted);\n        if (mounted && mounted.overlay) {\n            let inner = cursor.node.enter(mounted.overlay[0].from + start, 1);\n            let hasChild = cursor.firstChild();\n            for (let i = 0, pos = start;; i++) {\n                let next = i < mounted.overlay.length ? mounted.overlay[i] : null;\n                let nextPos = next ? next.from + start : end;\n                let rangeFrom = Math.max(from, pos), rangeTo = Math.min(to, nextPos);\n                if (rangeFrom < rangeTo && hasChild) {\n                    while (cursor.from < rangeTo) {\n                        this.highlightRange(cursor, rangeFrom, rangeTo, inheritedClass, depth + 1, scope);\n                        this.startSpan(Math.min(to, cursor.to), cls);\n                        if (cursor.to >= nextPos || !cursor.nextSibling())\n                            break;\n                    }\n                }\n                if (!next || nextPos > to)\n                    break;\n                pos = next.to + start;\n                if (pos > from) {\n                    this.highlightRange(inner.cursor, Math.max(from, next.from + start), Math.min(to, pos), inheritedClass, depth, mounted.tree.type);\n                    this.startSpan(pos, cls);\n                }\n            }\n            if (hasChild)\n                cursor.parent();\n        }\n        else if (cursor.firstChild()) {\n            do {\n                if (cursor.to <= from)\n                    continue;\n                if (cursor.from >= to)\n                    break;\n                this.highlightRange(cursor, from, to, inheritedClass, depth + 1, scope);\n                this.startSpan(Math.min(to, cursor.to), cls);\n            } while (cursor.nextSibling());\n            cursor.parent();\n        }\n    }\n}\nfunction highlightTreeRange(tree, from, to, style, span) {\n    let builder = new HighlightBuilder(from, style, span);\n    builder.highlightRange(tree.cursor(), from, to, \"\", 0, tree.type);\n    builder.flush(to);\n}\nfunction matchContext(context, stack, depth) {\n    if (context.length > depth - 1)\n        return false;\n    for (let d = depth - 1, i = context.length - 1; i >= 0; i--, d--) {\n        let check = context[i];\n        if (check && check != stack[d])\n            return false;\n    }\n    return true;\n}\nconst t = Tag.define;\nconst comment = /*@__PURE__*/t(), name = /*@__PURE__*/t(), typeName = /*@__PURE__*/t(name), literal = /*@__PURE__*/t(), string = /*@__PURE__*/t(literal), number = /*@__PURE__*/t(literal), content = /*@__PURE__*/t(), heading = /*@__PURE__*/t(content), keyword = /*@__PURE__*/t(), operator = /*@__PURE__*/t(), punctuation = /*@__PURE__*/t(), bracket = /*@__PURE__*/t(punctuation), meta = /*@__PURE__*/t();\n/**\nThe default set of highlighting [tags](https://codemirror.net/6/docs/ref/#highlight.Tag^define) used\nby regular language packages and themes.\n\nThis collection is heavily biased towards programming languages,\nand necessarily incomplete. A full ontology of syntactic\nconstructs would fill a stack of books, and be impractical to\nwrite themes for. So try to make do with this set. If all else\nfails, [open an\nissue](https://github.com/codemirror/codemirror.next) to propose a\nnew tag, or [define](https://codemirror.net/6/docs/ref/#highlight.Tag^define) a local custom tag for\nyour use case.\n\nNote that it is not obligatory to always attach the most specific\ntag possible to an elementif your grammar can't easily\ndistinguish a certain type of element (such as a local variable),\nit is okay to style it as its more general variant (a variable).\n\nFor tags that extend some parent tag, the documentation links to\nthe parent.\n*/\nconst tags = {\n    /**\n    A comment.\n    */\n    comment,\n    /**\n    A line [comment](https://codemirror.net/6/docs/ref/#highlight.tags.comment).\n    */\n    lineComment: /*@__PURE__*/t(comment),\n    /**\n    A block [comment](https://codemirror.net/6/docs/ref/#highlight.tags.comment).\n    */\n    blockComment: /*@__PURE__*/t(comment),\n    /**\n    A documentation [comment](https://codemirror.net/6/docs/ref/#highlight.tags.comment).\n    */\n    docComment: /*@__PURE__*/t(comment),\n    /**\n    Any kind of identifier.\n    */\n    name,\n    /**\n    The [name](https://codemirror.net/6/docs/ref/#highlight.tags.name) of a variable.\n    */\n    variableName: /*@__PURE__*/t(name),\n    /**\n    A type [name](https://codemirror.net/6/docs/ref/#highlight.tags.name).\n    */\n    typeName: typeName,\n    /**\n    A tag name (subtag of [`typeName`](https://codemirror.net/6/docs/ref/#highlight.tags.typeName)).\n    */\n    tagName: /*@__PURE__*/t(typeName),\n    /**\n    A property, field, or attribute [name](https://codemirror.net/6/docs/ref/#highlight.tags.name).\n    */\n    propertyName: /*@__PURE__*/t(name),\n    /**\n    The [name](https://codemirror.net/6/docs/ref/#highlight.tags.name) of a class.\n    */\n    className: /*@__PURE__*/t(name),\n    /**\n    A label [name](https://codemirror.net/6/docs/ref/#highlight.tags.name).\n    */\n    labelName: /*@__PURE__*/t(name),\n    /**\n    A namespace [name](https://codemirror.net/6/docs/ref/#highlight.tags.name).\n    */\n    namespace: /*@__PURE__*/t(name),\n    /**\n    The [name](https://codemirror.net/6/docs/ref/#highlight.tags.name) of a macro.\n    */\n    macroName: /*@__PURE__*/t(name),\n    /**\n    A literal value.\n    */\n    literal,\n    /**\n    A string [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    string,\n    /**\n    A documentation [string](https://codemirror.net/6/docs/ref/#highlight.tags.string).\n    */\n    docString: /*@__PURE__*/t(string),\n    /**\n    A character literal (subtag of [string](https://codemirror.net/6/docs/ref/#highlight.tags.string)).\n    */\n    character: /*@__PURE__*/t(string),\n    /**\n    A number [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    number,\n    /**\n    An integer [number](https://codemirror.net/6/docs/ref/#highlight.tags.number) literal.\n    */\n    integer: /*@__PURE__*/t(number),\n    /**\n    A floating-point [number](https://codemirror.net/6/docs/ref/#highlight.tags.number) literal.\n    */\n    float: /*@__PURE__*/t(number),\n    /**\n    A boolean [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    bool: /*@__PURE__*/t(literal),\n    /**\n    Regular expression [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    regexp: /*@__PURE__*/t(literal),\n    /**\n    An escape [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal), for example a\n    backslash escape in a string.\n    */\n    escape: /*@__PURE__*/t(literal),\n    /**\n    A color [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    color: /*@__PURE__*/t(literal),\n    /**\n    A URL [literal](https://codemirror.net/6/docs/ref/#highlight.tags.literal).\n    */\n    url: /*@__PURE__*/t(literal),\n    /**\n    A language keyword.\n    */\n    keyword,\n    /**\n    The [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) for the self or this\n    object.\n    */\n    self: /*@__PURE__*/t(keyword),\n    /**\n    The [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) for null.\n    */\n    null: /*@__PURE__*/t(keyword),\n    /**\n    A [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) denoting some atomic value.\n    */\n    atom: /*@__PURE__*/t(keyword),\n    /**\n    A [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) that represents a unit.\n    */\n    unit: /*@__PURE__*/t(keyword),\n    /**\n    A modifier [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword).\n    */\n    modifier: /*@__PURE__*/t(keyword),\n    /**\n    A [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) that acts as an operator.\n    */\n    operatorKeyword: /*@__PURE__*/t(keyword),\n    /**\n    A control-flow related [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword).\n    */\n    controlKeyword: /*@__PURE__*/t(keyword),\n    /**\n    A [keyword](https://codemirror.net/6/docs/ref/#highlight.tags.keyword) that defines something.\n    */\n    definitionKeyword: /*@__PURE__*/t(keyword),\n    /**\n    An operator.\n    */\n    operator,\n    /**\n    An [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator) that defines something.\n    */\n    derefOperator: /*@__PURE__*/t(operator),\n    /**\n    Arithmetic-related [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    arithmeticOperator: /*@__PURE__*/t(operator),\n    /**\n    Logical [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    logicOperator: /*@__PURE__*/t(operator),\n    /**\n    Bit [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    bitwiseOperator: /*@__PURE__*/t(operator),\n    /**\n    Comparison [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    compareOperator: /*@__PURE__*/t(operator),\n    /**\n    [Operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator) that updates its operand.\n    */\n    updateOperator: /*@__PURE__*/t(operator),\n    /**\n    [Operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator) that defines something.\n    */\n    definitionOperator: /*@__PURE__*/t(operator),\n    /**\n    Type-related [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    typeOperator: /*@__PURE__*/t(operator),\n    /**\n    Control-flow [operator](https://codemirror.net/6/docs/ref/#highlight.tags.operator).\n    */\n    controlOperator: /*@__PURE__*/t(operator),\n    /**\n    Program or markup punctuation.\n    */\n    punctuation,\n    /**\n    [Punctuation](https://codemirror.net/6/docs/ref/#highlight.tags.punctuation) that separates\n    things.\n    */\n    separator: /*@__PURE__*/t(punctuation),\n    /**\n    Bracket-style [punctuation](https://codemirror.net/6/docs/ref/#highlight.tags.punctuation).\n    */\n    bracket,\n    /**\n    Angle [brackets](https://codemirror.net/6/docs/ref/#highlight.tags.bracket) (usually `<` and `>`\n    tokens).\n    */\n    angleBracket: /*@__PURE__*/t(bracket),\n    /**\n    Square [brackets](https://codemirror.net/6/docs/ref/#highlight.tags.bracket) (usually `[` and `]`\n    tokens).\n    */\n    squareBracket: /*@__PURE__*/t(bracket),\n    /**\n    Parentheses (usually `(` and `)` tokens). Subtag of\n    [bracket](https://codemirror.net/6/docs/ref/#highlight.tags.bracket).\n    */\n    paren: /*@__PURE__*/t(bracket),\n    /**\n    Braces (usually `{` and `}` tokens). Subtag of\n    [bracket](https://codemirror.net/6/docs/ref/#highlight.tags.bracket).\n    */\n    brace: /*@__PURE__*/t(bracket),\n    /**\n    Content, for example plain text in XML or markup documents.\n    */\n    content,\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that represents a heading.\n    */\n    heading,\n    /**\n    A level 1 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading1: /*@__PURE__*/t(heading),\n    /**\n    A level 2 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading2: /*@__PURE__*/t(heading),\n    /**\n    A level 3 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading3: /*@__PURE__*/t(heading),\n    /**\n    A level 4 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading4: /*@__PURE__*/t(heading),\n    /**\n    A level 5 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading5: /*@__PURE__*/t(heading),\n    /**\n    A level 6 [heading](https://codemirror.net/6/docs/ref/#highlight.tags.heading).\n    */\n    heading6: /*@__PURE__*/t(heading),\n    /**\n    A prose separator (such as a horizontal rule).\n    */\n    contentSeparator: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that represents a list.\n    */\n    list: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that represents a quote.\n    */\n    quote: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that is emphasized.\n    */\n    emphasis: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that is styled strong.\n    */\n    strong: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that is part of a link.\n    */\n    link: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that is styled as code or\n    monospace.\n    */\n    monospace: /*@__PURE__*/t(content),\n    /**\n    [Content](https://codemirror.net/6/docs/ref/#highlight.tags.content) that has a strike-through\n    style.\n    */\n    strikethrough: /*@__PURE__*/t(content),\n    /**\n    Inserted text in a change-tracking format.\n    */\n    inserted: /*@__PURE__*/t(),\n    /**\n    Deleted text.\n    */\n    deleted: /*@__PURE__*/t(),\n    /**\n    Changed text.\n    */\n    changed: /*@__PURE__*/t(),\n    /**\n    An invalid or unsyntactic element.\n    */\n    invalid: /*@__PURE__*/t(),\n    /**\n    Metadata or meta-instruction.\n    */\n    meta,\n    /**\n    [Metadata](https://codemirror.net/6/docs/ref/#highlight.tags.meta) that applies to the entire\n    document.\n    */\n    documentMeta: /*@__PURE__*/t(meta),\n    /**\n    [Metadata](https://codemirror.net/6/docs/ref/#highlight.tags.meta) that annotates or adds\n    attributes to a given syntactic element.\n    */\n    annotation: /*@__PURE__*/t(meta),\n    /**\n    Processing instruction or preprocessor directive. Subtag of\n    [meta](https://codemirror.net/6/docs/ref/#highlight.tags.meta).\n    */\n    processingInstruction: /*@__PURE__*/t(meta),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that indicates that a\n    given element is being defined. Expected to be used with the\n    various [name](https://codemirror.net/6/docs/ref/#highlight.tags.name) tags.\n    */\n    definition: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that indicates that\n    something is constant. Mostly expected to be used with\n    [variable names](https://codemirror.net/6/docs/ref/#highlight.tags.variableName).\n    */\n    constant: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) used to indicate that\n    a [variable](https://codemirror.net/6/docs/ref/#highlight.tags.variableName) or [property\n    name](https://codemirror.net/6/docs/ref/#highlight.tags.propertyName) is being called or defined\n    as a function.\n    */\n    function: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that can be applied to\n    [names](https://codemirror.net/6/docs/ref/#highlight.tags.name) to indicate that they belong to\n    the language's standard environment.\n    */\n    standard: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    [Modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that indicates a given\n    [names](https://codemirror.net/6/docs/ref/#highlight.tags.name) is local to some scope.\n    */\n    local: /*@__PURE__*/Tag.defineModifier(),\n    /**\n    A generic variant [modifier](https://codemirror.net/6/docs/ref/#highlight.Tag^defineModifier) that\n    can be used to tag language-specific alternative variants of\n    some common tag. It is recommended for themes to define special\n    forms of at least the [string](https://codemirror.net/6/docs/ref/#highlight.tags.string) and\n    [variable name](https://codemirror.net/6/docs/ref/#highlight.tags.variableName) tags, since those\n    come up a lot.\n    */\n    special: /*@__PURE__*/Tag.defineModifier()\n};\n/**\nA default highlight style (works well with light themes).\n*/\nconst defaultHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n    { tag: tags.link,\n        textDecoration: \"underline\" },\n    { tag: tags.heading,\n        textDecoration: \"underline\",\n        fontWeight: \"bold\" },\n    { tag: tags.emphasis,\n        fontStyle: \"italic\" },\n    { tag: tags.strong,\n        fontWeight: \"bold\" },\n    { tag: tags.strikethrough,\n        textDecoration: \"line-through\" },\n    { tag: tags.keyword,\n        color: \"#708\" },\n    { tag: [tags.atom, tags.bool, tags.url, tags.contentSeparator, tags.labelName],\n        color: \"#219\" },\n    { tag: [tags.literal, tags.inserted],\n        color: \"#164\" },\n    { tag: [tags.string, tags.deleted],\n        color: \"#a11\" },\n    { tag: [tags.regexp, tags.escape, /*@__PURE__*/tags.special(tags.string)],\n        color: \"#e40\" },\n    { tag: /*@__PURE__*/tags.definition(tags.variableName),\n        color: \"#00f\" },\n    { tag: /*@__PURE__*/tags.local(tags.variableName),\n        color: \"#30a\" },\n    { tag: [tags.typeName, tags.namespace],\n        color: \"#085\" },\n    { tag: tags.className,\n        color: \"#167\" },\n    { tag: [/*@__PURE__*/tags.special(tags.variableName), tags.macroName],\n        color: \"#256\" },\n    { tag: /*@__PURE__*/tags.definition(tags.propertyName),\n        color: \"#00c\" },\n    { tag: tags.comment,\n        color: \"#940\" },\n    { tag: tags.meta,\n        color: \"#7a757a\" },\n    { tag: tags.invalid,\n        color: \"#f00\" }\n]);\n/**\nThis is a highlight style that adds stable, predictable classes to\ntokens, for styling with external CSS.\n\nThese tags are mapped to their name prefixed with `\"cmt-\"` (for\nexample `\"cmt-comment\"`):\n\n* [`link`](https://codemirror.net/6/docs/ref/#highlight.tags.link)\n* [`heading`](https://codemirror.net/6/docs/ref/#highlight.tags.heading)\n* [`emphasis`](https://codemirror.net/6/docs/ref/#highlight.tags.emphasis)\n* [`strong`](https://codemirror.net/6/docs/ref/#highlight.tags.strong)\n* [`keyword`](https://codemirror.net/6/docs/ref/#highlight.tags.keyword)\n* [`atom`](https://codemirror.net/6/docs/ref/#highlight.tags.atom) [`bool`](https://codemirror.net/6/docs/ref/#highlight.tags.bool)\n* [`url`](https://codemirror.net/6/docs/ref/#highlight.tags.url)\n* [`labelName`](https://codemirror.net/6/docs/ref/#highlight.tags.labelName)\n* [`inserted`](https://codemirror.net/6/docs/ref/#highlight.tags.inserted)\n* [`deleted`](https://codemirror.net/6/docs/ref/#highlight.tags.deleted)\n* [`literal`](https://codemirror.net/6/docs/ref/#highlight.tags.literal)\n* [`string`](https://codemirror.net/6/docs/ref/#highlight.tags.string)\n* [`number`](https://codemirror.net/6/docs/ref/#highlight.tags.number)\n* [`variableName`](https://codemirror.net/6/docs/ref/#highlight.tags.variableName)\n* [`typeName`](https://codemirror.net/6/docs/ref/#highlight.tags.typeName)\n* [`namespace`](https://codemirror.net/6/docs/ref/#highlight.tags.namespace)\n* [`macroName`](https://codemirror.net/6/docs/ref/#highlight.tags.macroName)\n* [`propertyName`](https://codemirror.net/6/docs/ref/#highlight.tags.propertyName)\n* [`operator`](https://codemirror.net/6/docs/ref/#highlight.tags.operator)\n* [`comment`](https://codemirror.net/6/docs/ref/#highlight.tags.comment)\n* [`meta`](https://codemirror.net/6/docs/ref/#highlight.tags.meta)\n* [`punctuation`](https://codemirror.net/6/docs/ref/#highlight.tags.puncutation)\n* [`invalid`](https://codemirror.net/6/docs/ref/#highlight.tags.invalid)\n\nIn addition, these mappings are provided:\n\n* [`regexp`](https://codemirror.net/6/docs/ref/#highlight.tags.regexp),\n  [`escape`](https://codemirror.net/6/docs/ref/#highlight.tags.escape), and\n  [`special`](https://codemirror.net/6/docs/ref/#highlight.tags.special)[`(string)`](https://codemirror.net/6/docs/ref/#highlight.tags.string)\n  are mapped to `\"cmt-string2\"`\n* [`special`](https://codemirror.net/6/docs/ref/#highlight.tags.special)[`(variableName)`](https://codemirror.net/6/docs/ref/#highlight.tags.variableName)\n  to `\"cmt-variableName2\"`\n* [`local`](https://codemirror.net/6/docs/ref/#highlight.tags.local)[`(variableName)`](https://codemirror.net/6/docs/ref/#highlight.tags.variableName)\n  to `\"cmt-variableName cmt-local\"`\n* [`definition`](https://codemirror.net/6/docs/ref/#highlight.tags.definition)[`(variableName)`](https://codemirror.net/6/docs/ref/#highlight.tags.variableName)\n  to `\"cmt-variableName cmt-definition\"`\n*/\nconst classHighlightStyle = /*@__PURE__*/HighlightStyle.define([\n    { tag: tags.link, class: \"cmt-link\" },\n    { tag: tags.heading, class: \"cmt-heading\" },\n    { tag: tags.emphasis, class: \"cmt-emphasis\" },\n    { tag: tags.strong, class: \"cmt-strong\" },\n    { tag: tags.keyword, class: \"cmt-keyword\" },\n    { tag: tags.atom, class: \"cmt-atom\" },\n    { tag: tags.bool, class: \"cmt-bool\" },\n    { tag: tags.url, class: \"cmt-url\" },\n    { tag: tags.labelName, class: \"cmt-labelName\" },\n    { tag: tags.inserted, class: \"cmt-inserted\" },\n    { tag: tags.deleted, class: \"cmt-deleted\" },\n    { tag: tags.literal, class: \"cmt-literal\" },\n    { tag: tags.string, class: \"cmt-string\" },\n    { tag: tags.number, class: \"cmt-number\" },\n    { tag: [tags.regexp, tags.escape, /*@__PURE__*/tags.special(tags.string)], class: \"cmt-string2\" },\n    { tag: tags.variableName, class: \"cmt-variableName\" },\n    { tag: /*@__PURE__*/tags.local(tags.variableName), class: \"cmt-variableName cmt-local\" },\n    { tag: /*@__PURE__*/tags.definition(tags.variableName), class: \"cmt-variableName cmt-definition\" },\n    { tag: /*@__PURE__*/tags.special(tags.variableName), class: \"cmt-variableName2\" },\n    { tag: tags.typeName, class: \"cmt-typeName\" },\n    { tag: tags.namespace, class: \"cmt-namespace\" },\n    { tag: tags.macroName, class: \"cmt-macroName\" },\n    { tag: tags.propertyName, class: \"cmt-propertyName\" },\n    { tag: tags.operator, class: \"cmt-operator\" },\n    { tag: tags.comment, class: \"cmt-comment\" },\n    { tag: tags.meta, class: \"cmt-meta\" },\n    { tag: tags.invalid, class: \"cmt-invalid\" },\n    { tag: tags.punctuation, class: \"cmt-punctuation\" }\n]);\n\nexport { HighlightStyle, Tag, classHighlightStyle, defaultHighlightStyle, highlightTree, styleTags, tags };\n","import { MapMode } from '@codemirror/state';\n\n/**\nEach range is associated with a value, which must inherit from\nthis class.\n*/\nclass RangeValue {\n    /**\n    Compare this value with another value. The default\n    implementation compares by identity.\n    */\n    eq(other) { return this == other; }\n    /**\n    Create a [range](https://codemirror.net/6/docs/ref/#rangeset.Range) with this value.\n    */\n    range(from, to = from) { return new Range(from, to, this); }\n}\nRangeValue.prototype.startSide = RangeValue.prototype.endSide = 0;\nRangeValue.prototype.point = false;\nRangeValue.prototype.mapMode = MapMode.TrackDel;\n/**\nA range associates a value with a range of positions.\n*/\nclass Range {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    The range's start position.\n    */\n    from, \n    /**\n    Its end position.\n    */\n    to, \n    /**\n    The value associated with this range.\n    */\n    value) {\n        this.from = from;\n        this.to = to;\n        this.value = value;\n    }\n}\nfunction cmpRange(a, b) {\n    return a.from - b.from || a.value.startSide - b.value.startSide;\n}\nclass Chunk {\n    constructor(from, to, value, \n    // Chunks are marked with the largest point that occurs\n    // in them (or -1 for no points), so that scans that are\n    // only interested in points (such as the\n    // heightmap-related logic) can skip range-only chunks.\n    maxPoint) {\n        this.from = from;\n        this.to = to;\n        this.value = value;\n        this.maxPoint = maxPoint;\n    }\n    get length() { return this.to[this.to.length - 1]; }\n    // Find the index of the given position and side. Use the ranges'\n    // `from` pos when `end == false`, `to` when `end == true`.\n    findIndex(pos, side, end, startAt = 0) {\n        let arr = end ? this.to : this.from;\n        for (let lo = startAt, hi = arr.length;;) {\n            if (lo == hi)\n                return lo;\n            let mid = (lo + hi) >> 1;\n            let diff = arr[mid] - pos || (end ? this.value[mid].endSide : this.value[mid].startSide) - side;\n            if (mid == lo)\n                return diff >= 0 ? lo : hi;\n            if (diff >= 0)\n                hi = mid;\n            else\n                lo = mid + 1;\n        }\n    }\n    between(offset, from, to, f) {\n        for (let i = this.findIndex(from, -1000000000 /* Far */, true), e = this.findIndex(to, 1000000000 /* Far */, false, i); i < e; i++)\n            if (f(this.from[i] + offset, this.to[i] + offset, this.value[i]) === false)\n                return false;\n    }\n    map(offset, changes) {\n        let value = [], from = [], to = [], newPos = -1, maxPoint = -1;\n        for (let i = 0; i < this.value.length; i++) {\n            let val = this.value[i], curFrom = this.from[i] + offset, curTo = this.to[i] + offset, newFrom, newTo;\n            if (curFrom == curTo) {\n                let mapped = changes.mapPos(curFrom, val.startSide, val.mapMode);\n                if (mapped == null)\n                    continue;\n                newFrom = newTo = mapped;\n            }\n            else {\n                newFrom = changes.mapPos(curFrom, val.startSide);\n                newTo = changes.mapPos(curTo, val.endSide);\n                if (newFrom > newTo || newFrom == newTo && val.startSide > 0 && val.endSide <= 0)\n                    continue;\n            }\n            if ((newTo - newFrom || val.endSide - val.startSide) < 0)\n                continue;\n            if (newPos < 0)\n                newPos = newFrom;\n            if (val.point)\n                maxPoint = Math.max(maxPoint, newTo - newFrom);\n            value.push(val);\n            from.push(newFrom - newPos);\n            to.push(newTo - newPos);\n        }\n        return { mapped: value.length ? new Chunk(from, to, value, maxPoint) : null, pos: newPos };\n    }\n}\n/**\nA range set stores a collection of [ranges](https://codemirror.net/6/docs/ref/#rangeset.Range) in a\nway that makes them efficient to [map](https://codemirror.net/6/docs/ref/#rangeset.RangeSet.map) and\n[update](https://codemirror.net/6/docs/ref/#rangeset.RangeSet.update). This is an immutable data\nstructure.\n*/\nclass RangeSet {\n    /**\n    @internal\n    */\n    constructor(\n    /**\n    @internal\n    */\n    chunkPos, \n    /**\n    @internal\n    */\n    chunk, \n    /**\n    @internal\n    */\n    nextLayer = RangeSet.empty, \n    /**\n    @internal\n    */\n    maxPoint) {\n        this.chunkPos = chunkPos;\n        this.chunk = chunk;\n        this.nextLayer = nextLayer;\n        this.maxPoint = maxPoint;\n    }\n    /**\n    @internal\n    */\n    get length() {\n        let last = this.chunk.length - 1;\n        return last < 0 ? 0 : Math.max(this.chunkEnd(last), this.nextLayer.length);\n    }\n    /**\n    The number of ranges in the set.\n    */\n    get size() {\n        if (this.isEmpty)\n            return 0;\n        let size = this.nextLayer.size;\n        for (let chunk of this.chunk)\n            size += chunk.value.length;\n        return size;\n    }\n    /**\n    @internal\n    */\n    chunkEnd(index) {\n        return this.chunkPos[index] + this.chunk[index].length;\n    }\n    /**\n    Update the range set, optionally adding new ranges or filtering\n    out existing ones.\n    \n    (The extra type parameter is just there as a kludge to work\n    around TypeScript variance issues that prevented `RangeSet<X>`\n    from being a subtype of `RangeSet<Y>` when `X` is a subtype of\n    `Y`.)\n    */\n    update(updateSpec) {\n        let { add = [], sort = false, filterFrom = 0, filterTo = this.length } = updateSpec;\n        let filter = updateSpec.filter;\n        if (add.length == 0 && !filter)\n            return this;\n        if (sort)\n            add.slice().sort(cmpRange);\n        if (this.isEmpty)\n            return add.length ? RangeSet.of(add) : this;\n        let cur = new LayerCursor(this, null, -1).goto(0), i = 0, spill = [];\n        let builder = new RangeSetBuilder();\n        while (cur.value || i < add.length) {\n            if (i < add.length && (cur.from - add[i].from || cur.startSide - add[i].value.startSide) >= 0) {\n                let range = add[i++];\n                if (!builder.addInner(range.from, range.to, range.value))\n                    spill.push(range);\n            }\n            else if (cur.rangeIndex == 1 && cur.chunkIndex < this.chunk.length &&\n                (i == add.length || this.chunkEnd(cur.chunkIndex) < add[i].from) &&\n                (!filter || filterFrom > this.chunkEnd(cur.chunkIndex) || filterTo < this.chunkPos[cur.chunkIndex]) &&\n                builder.addChunk(this.chunkPos[cur.chunkIndex], this.chunk[cur.chunkIndex])) {\n                cur.nextChunk();\n            }\n            else {\n                if (!filter || filterFrom > cur.to || filterTo < cur.from || filter(cur.from, cur.to, cur.value)) {\n                    if (!builder.addInner(cur.from, cur.to, cur.value))\n                        spill.push(new Range(cur.from, cur.to, cur.value));\n                }\n                cur.next();\n            }\n        }\n        return builder.finishInner(this.nextLayer.isEmpty && !spill.length ? RangeSet.empty\n            : this.nextLayer.update({ add: spill, filter, filterFrom, filterTo }));\n    }\n    /**\n    Map this range set through a set of changes, return the new set.\n    */\n    map(changes) {\n        if (changes.length == 0 || this.isEmpty)\n            return this;\n        let chunks = [], chunkPos = [], maxPoint = -1;\n        for (let i = 0; i < this.chunk.length; i++) {\n            let start = this.chunkPos[i], chunk = this.chunk[i];\n            let touch = changes.touchesRange(start, start + chunk.length);\n            if (touch === false) {\n                maxPoint = Math.max(maxPoint, chunk.maxPoint);\n                chunks.push(chunk);\n                chunkPos.push(changes.mapPos(start));\n            }\n            else if (touch === true) {\n                let { mapped, pos } = chunk.map(start, changes);\n                if (mapped) {\n                    maxPoint = Math.max(maxPoint, mapped.maxPoint);\n                    chunks.push(mapped);\n                    chunkPos.push(pos);\n                }\n            }\n        }\n        let next = this.nextLayer.map(changes);\n        return chunks.length == 0 ? next : new RangeSet(chunkPos, chunks, next, maxPoint);\n    }\n    /**\n    Iterate over the ranges that touch the region `from` to `to`,\n    calling `f` for each. There is no guarantee that the ranges will\n    be reported in any specific order. When the callback returns\n    `false`, iteration stops.\n    */\n    between(from, to, f) {\n        if (this.isEmpty)\n            return;\n        for (let i = 0; i < this.chunk.length; i++) {\n            let start = this.chunkPos[i], chunk = this.chunk[i];\n            if (to >= start && from <= start + chunk.length &&\n                chunk.between(start, from - start, to - start, f) === false)\n                return;\n        }\n        this.nextLayer.between(from, to, f);\n    }\n    /**\n    Iterate over the ranges in this set, in order, including all\n    ranges that end at or after `from`.\n    */\n    iter(from = 0) {\n        return HeapCursor.from([this]).goto(from);\n    }\n    /**\n    @internal\n    */\n    get isEmpty() { return this.nextLayer == this; }\n    /**\n    Iterate over the ranges in a collection of sets, in order,\n    starting from `from`.\n    */\n    static iter(sets, from = 0) {\n        return HeapCursor.from(sets).goto(from);\n    }\n    /**\n    Iterate over two groups of sets, calling methods on `comparator`\n    to notify it of possible differences.\n    */\n    static compare(oldSets, newSets, \n    /**\n    This indicates how the underlying data changed between these\n    ranges, and is needed to synchronize the iteration. `from` and\n    `to` are coordinates in the _new_ space, after these changes.\n    */\n    textDiff, comparator, \n    /**\n    Can be used to ignore all non-point ranges, and points below\n    the given size. When -1, all ranges are compared.\n    */\n    minPointSize = -1) {\n        let a = oldSets.filter(set => set.maxPoint >= 500 /* BigPointSize */ ||\n            !set.isEmpty && newSets.indexOf(set) < 0 && set.maxPoint >= minPointSize);\n        let b = newSets.filter(set => set.maxPoint >= 500 /* BigPointSize */ ||\n            !set.isEmpty && oldSets.indexOf(set) < 0 && set.maxPoint >= minPointSize);\n        let sharedChunks = findSharedChunks(a, b);\n        let sideA = new SpanCursor(a, sharedChunks, minPointSize);\n        let sideB = new SpanCursor(b, sharedChunks, minPointSize);\n        textDiff.iterGaps((fromA, fromB, length) => compare(sideA, fromA, sideB, fromB, length, comparator));\n        if (textDiff.empty && textDiff.length == 0)\n            compare(sideA, 0, sideB, 0, 0, comparator);\n    }\n    /**\n    Compare the contents of two groups of range sets, returning true\n    if they are equivalent in the given range.\n    */\n    static eq(oldSets, newSets, from = 0, to) {\n        if (to == null)\n            to = 1000000000 /* Far */;\n        let a = oldSets.filter(set => !set.isEmpty && newSets.indexOf(set) < 0);\n        let b = newSets.filter(set => !set.isEmpty && oldSets.indexOf(set) < 0);\n        if (a.length != b.length)\n            return false;\n        if (!a.length)\n            return true;\n        let sharedChunks = findSharedChunks(a, b);\n        let sideA = new SpanCursor(a, sharedChunks, 0).goto(from), sideB = new SpanCursor(b, sharedChunks, 0).goto(from);\n        for (;;) {\n            if (sideA.to != sideB.to ||\n                !sameValues(sideA.active, sideB.active) ||\n                sideA.point && (!sideB.point || !sideA.point.eq(sideB.point)))\n                return false;\n            if (sideA.to >= to)\n                return true;\n            sideA.next();\n            sideB.next();\n        }\n    }\n    /**\n    Iterate over a group of range sets at the same time, notifying\n    the iterator about the ranges covering every given piece of\n    content. Returns the open count (see\n    [`SpanIterator.span`](https://codemirror.net/6/docs/ref/#rangeset.SpanIterator.span)) at the end\n    of the iteration.\n    */\n    static spans(sets, from, to, iterator, \n    /**\n    When given and greater than -1, only points of at least this\n    size are taken into account.\n    */\n    minPointSize = -1) {\n        let cursor = new SpanCursor(sets, null, minPointSize).goto(from), pos = from;\n        let open = cursor.openStart;\n        for (;;) {\n            let curTo = Math.min(cursor.to, to);\n            if (cursor.point) {\n                iterator.point(pos, curTo, cursor.point, cursor.activeForPoint(cursor.to), open);\n                open = cursor.openEnd(curTo) + (cursor.to > curTo ? 1 : 0);\n            }\n            else if (curTo > pos) {\n                iterator.span(pos, curTo, cursor.active, open);\n                open = cursor.openEnd(curTo);\n            }\n            if (cursor.to > to)\n                break;\n            pos = cursor.to;\n            cursor.next();\n        }\n        return open;\n    }\n    /**\n    Create a range set for the given range or array of ranges. By\n    default, this expects the ranges to be _sorted_ (by start\n    position and, if two start at the same position,\n    `value.startSide`). You can pass `true` as second argument to\n    cause the method to sort them.\n    */\n    static of(ranges, sort = false) {\n        let build = new RangeSetBuilder();\n        for (let range of ranges instanceof Range ? [ranges] : sort ? lazySort(ranges) : ranges)\n            build.add(range.from, range.to, range.value);\n        return build.finish();\n    }\n}\n/**\nThe empty set of ranges.\n*/\nRangeSet.empty = /*@__PURE__*/new RangeSet([], [], null, -1);\nfunction lazySort(ranges) {\n    if (ranges.length > 1)\n        for (let prev = ranges[0], i = 1; i < ranges.length; i++) {\n            let cur = ranges[i];\n            if (cmpRange(prev, cur) > 0)\n                return ranges.slice().sort(cmpRange);\n            prev = cur;\n        }\n    return ranges;\n}\nRangeSet.empty.nextLayer = RangeSet.empty;\n/**\nA range set builder is a data structure that helps build up a\n[range set](https://codemirror.net/6/docs/ref/#rangeset.RangeSet) directly, without first allocating\nan array of [`Range`](https://codemirror.net/6/docs/ref/#rangeset.Range) objects.\n*/\nclass RangeSetBuilder {\n    /**\n    Create an empty builder.\n    */\n    constructor() {\n        this.chunks = [];\n        this.chunkPos = [];\n        this.chunkStart = -1;\n        this.last = null;\n        this.lastFrom = -1000000000 /* Far */;\n        this.lastTo = -1000000000 /* Far */;\n        this.from = [];\n        this.to = [];\n        this.value = [];\n        this.maxPoint = -1;\n        this.setMaxPoint = -1;\n        this.nextLayer = null;\n    }\n    finishChunk(newArrays) {\n        this.chunks.push(new Chunk(this.from, this.to, this.value, this.maxPoint));\n        this.chunkPos.push(this.chunkStart);\n        this.chunkStart = -1;\n        this.setMaxPoint = Math.max(this.setMaxPoint, this.maxPoint);\n        this.maxPoint = -1;\n        if (newArrays) {\n            this.from = [];\n            this.to = [];\n            this.value = [];\n        }\n    }\n    /**\n    Add a range. Ranges should be added in sorted (by `from` and\n    `value.startSide`) order.\n    */\n    add(from, to, value) {\n        if (!this.addInner(from, to, value))\n            (this.nextLayer || (this.nextLayer = new RangeSetBuilder)).add(from, to, value);\n    }\n    /**\n    @internal\n    */\n    addInner(from, to, value) {\n        let diff = from - this.lastTo || value.startSide - this.last.endSide;\n        if (diff <= 0 && (from - this.lastFrom || value.startSide - this.last.startSide) < 0)\n            throw new Error(\"Ranges must be added sorted by `from` position and `startSide`\");\n        if (diff < 0)\n            return false;\n        if (this.from.length == 250 /* ChunkSize */)\n            this.finishChunk(true);\n        if (this.chunkStart < 0)\n            this.chunkStart = from;\n        this.from.push(from - this.chunkStart);\n        this.to.push(to - this.chunkStart);\n        this.last = value;\n        this.lastFrom = from;\n        this.lastTo = to;\n        this.value.push(value);\n        if (value.point)\n            this.maxPoint = Math.max(this.maxPoint, to - from);\n        return true;\n    }\n    /**\n    @internal\n    */\n    addChunk(from, chunk) {\n        if ((from - this.lastTo || chunk.value[0].startSide - this.last.endSide) < 0)\n            return false;\n        if (this.from.length)\n            this.finishChunk(true);\n        this.setMaxPoint = Math.max(this.setMaxPoint, chunk.maxPoint);\n        this.chunks.push(chunk);\n        this.chunkPos.push(from);\n        let last = chunk.value.length - 1;\n        this.last = chunk.value[last];\n        this.lastFrom = chunk.from[last] + from;\n        this.lastTo = chunk.to[last] + from;\n        return true;\n    }\n    /**\n    Finish the range set. Returns the new set. The builder can't be\n    used anymore after this has been called.\n    */\n    finish() { return this.finishInner(RangeSet.empty); }\n    /**\n    @internal\n    */\n    finishInner(next) {\n        if (this.from.length)\n            this.finishChunk(false);\n        if (this.chunks.length == 0)\n            return next;\n        let result = new RangeSet(this.chunkPos, this.chunks, this.nextLayer ? this.nextLayer.finishInner(next) : next, this.setMaxPoint);\n        this.from = null; // Make sure further `add` calls produce errors\n        return result;\n    }\n}\nfunction findSharedChunks(a, b) {\n    let inA = new Map();\n    for (let set of a)\n        for (let i = 0; i < set.chunk.length; i++)\n            if (set.chunk[i].maxPoint < 500 /* BigPointSize */)\n                inA.set(set.chunk[i], set.chunkPos[i]);\n    let shared = new Set();\n    for (let set of b)\n        for (let i = 0; i < set.chunk.length; i++)\n            if (inA.get(set.chunk[i]) == set.chunkPos[i])\n                shared.add(set.chunk[i]);\n    return shared;\n}\nclass LayerCursor {\n    constructor(layer, skip, minPoint, rank = 0) {\n        this.layer = layer;\n        this.skip = skip;\n        this.minPoint = minPoint;\n        this.rank = rank;\n    }\n    get startSide() { return this.value ? this.value.startSide : 0; }\n    get endSide() { return this.value ? this.value.endSide : 0; }\n    goto(pos, side = -1000000000 /* Far */) {\n        this.chunkIndex = this.rangeIndex = 0;\n        this.gotoInner(pos, side, false);\n        return this;\n    }\n    gotoInner(pos, side, forward) {\n        while (this.chunkIndex < this.layer.chunk.length) {\n            let next = this.layer.chunk[this.chunkIndex];\n            if (!(this.skip && this.skip.has(next) ||\n                this.layer.chunkEnd(this.chunkIndex) < pos ||\n                next.maxPoint < this.minPoint))\n                break;\n            this.chunkIndex++;\n            forward = false;\n        }\n        if (this.chunkIndex < this.layer.chunk.length) {\n            let rangeIndex = this.layer.chunk[this.chunkIndex].findIndex(pos - this.layer.chunkPos[this.chunkIndex], side, true);\n            if (!forward || this.rangeIndex < rangeIndex)\n                this.setRangeIndex(rangeIndex);\n        }\n        this.next();\n    }\n    forward(pos, side) {\n        if ((this.to - pos || this.endSide - side) < 0)\n            this.gotoInner(pos, side, true);\n    }\n    next() {\n        for (;;) {\n            if (this.chunkIndex == this.layer.chunk.length) {\n                this.from = this.to = 1000000000 /* Far */;\n                this.value = null;\n                break;\n            }\n            else {\n                let chunkPos = this.layer.chunkPos[this.chunkIndex], chunk = this.layer.chunk[this.chunkIndex];\n                let from = chunkPos + chunk.from[this.rangeIndex];\n                this.from = from;\n                this.to = chunkPos + chunk.to[this.rangeIndex];\n                this.value = chunk.value[this.rangeIndex];\n                this.setRangeIndex(this.rangeIndex + 1);\n                if (this.minPoint < 0 || this.value.point && this.to - this.from >= this.minPoint)\n                    break;\n            }\n        }\n    }\n    setRangeIndex(index) {\n        if (index == this.layer.chunk[this.chunkIndex].value.length) {\n            this.chunkIndex++;\n            if (this.skip) {\n                while (this.chunkIndex < this.layer.chunk.length && this.skip.has(this.layer.chunk[this.chunkIndex]))\n                    this.chunkIndex++;\n            }\n            this.rangeIndex = 0;\n        }\n        else {\n            this.rangeIndex = index;\n        }\n    }\n    nextChunk() {\n        this.chunkIndex++;\n        this.rangeIndex = 0;\n        this.next();\n    }\n    compare(other) {\n        return this.from - other.from || this.startSide - other.startSide || this.to - other.to || this.endSide - other.endSide;\n    }\n}\nclass HeapCursor {\n    constructor(heap) {\n        this.heap = heap;\n    }\n    static from(sets, skip = null, minPoint = -1) {\n        let heap = [];\n        for (let i = 0; i < sets.length; i++) {\n            for (let cur = sets[i]; !cur.isEmpty; cur = cur.nextLayer) {\n                if (cur.maxPoint >= minPoint)\n                    heap.push(new LayerCursor(cur, skip, minPoint, i));\n            }\n        }\n        return heap.length == 1 ? heap[0] : new HeapCursor(heap);\n    }\n    get startSide() { return this.value ? this.value.startSide : 0; }\n    goto(pos, side = -1000000000 /* Far */) {\n        for (let cur of this.heap)\n            cur.goto(pos, side);\n        for (let i = this.heap.length >> 1; i >= 0; i--)\n            heapBubble(this.heap, i);\n        this.next();\n        return this;\n    }\n    forward(pos, side) {\n        for (let cur of this.heap)\n            cur.forward(pos, side);\n        for (let i = this.heap.length >> 1; i >= 0; i--)\n            heapBubble(this.heap, i);\n        if ((this.to - pos || this.value.endSide - side) < 0)\n            this.next();\n    }\n    next() {\n        if (this.heap.length == 0) {\n            this.from = this.to = 1000000000 /* Far */;\n            this.value = null;\n            this.rank = -1;\n        }\n        else {\n            let top = this.heap[0];\n            this.from = top.from;\n            this.to = top.to;\n            this.value = top.value;\n            this.rank = top.rank;\n            if (top.value)\n                top.next();\n            heapBubble(this.heap, 0);\n        }\n    }\n}\nfunction heapBubble(heap, index) {\n    for (let cur = heap[index];;) {\n        let childIndex = (index << 1) + 1;\n        if (childIndex >= heap.length)\n            break;\n        let child = heap[childIndex];\n        if (childIndex + 1 < heap.length && child.compare(heap[childIndex + 1]) >= 0) {\n            child = heap[childIndex + 1];\n            childIndex++;\n        }\n        if (cur.compare(child) < 0)\n            break;\n        heap[childIndex] = cur;\n        heap[index] = child;\n        index = childIndex;\n    }\n}\nclass SpanCursor {\n    constructor(sets, skip, minPoint) {\n        this.minPoint = minPoint;\n        this.active = [];\n        this.activeTo = [];\n        this.activeRank = [];\n        this.minActive = -1;\n        // A currently active point range, if any\n        this.point = null;\n        this.pointFrom = 0;\n        this.pointRank = 0;\n        this.to = -1000000000 /* Far */;\n        this.endSide = 0;\n        this.openStart = -1;\n        this.cursor = HeapCursor.from(sets, skip, minPoint);\n    }\n    goto(pos, side = -1000000000 /* Far */) {\n        this.cursor.goto(pos, side);\n        this.active.length = this.activeTo.length = this.activeRank.length = 0;\n        this.minActive = -1;\n        this.to = pos;\n        this.endSide = side;\n        this.openStart = -1;\n        this.next();\n        return this;\n    }\n    forward(pos, side) {\n        while (this.minActive > -1 && (this.activeTo[this.minActive] - pos || this.active[this.minActive].endSide - side) < 0)\n            this.removeActive(this.minActive);\n        this.cursor.forward(pos, side);\n    }\n    removeActive(index) {\n        remove(this.active, index);\n        remove(this.activeTo, index);\n        remove(this.activeRank, index);\n        this.minActive = findMinIndex(this.active, this.activeTo);\n    }\n    addActive(trackOpen) {\n        let i = 0, { value, to, rank } = this.cursor;\n        while (i < this.activeRank.length && this.activeRank[i] <= rank)\n            i++;\n        insert(this.active, i, value);\n        insert(this.activeTo, i, to);\n        insert(this.activeRank, i, rank);\n        if (trackOpen)\n            insert(trackOpen, i, this.cursor.from);\n        this.minActive = findMinIndex(this.active, this.activeTo);\n    }\n    // After calling this, if `this.point` != null, the next range is a\n    // point. Otherwise, it's a regular range, covered by `this.active`.\n    next() {\n        let from = this.to, wasPoint = this.point;\n        this.point = null;\n        let trackOpen = this.openStart < 0 ? [] : null, trackExtra = 0;\n        for (;;) {\n            let a = this.minActive;\n            if (a > -1 && (this.activeTo[a] - this.cursor.from || this.active[a].endSide - this.cursor.startSide) < 0) {\n                if (this.activeTo[a] > from) {\n                    this.to = this.activeTo[a];\n                    this.endSide = this.active[a].endSide;\n                    break;\n                }\n                this.removeActive(a);\n                if (trackOpen)\n                    remove(trackOpen, a);\n            }\n            else if (!this.cursor.value) {\n                this.to = this.endSide = 1000000000 /* Far */;\n                break;\n            }\n            else if (this.cursor.from > from) {\n                this.to = this.cursor.from;\n                this.endSide = this.cursor.startSide;\n                break;\n            }\n            else {\n                let nextVal = this.cursor.value;\n                if (!nextVal.point) { // Opening a range\n                    this.addActive(trackOpen);\n                    this.cursor.next();\n                }\n                else if (wasPoint && this.cursor.to == this.to && this.cursor.from < this.cursor.to && nextVal.endSide == this.endSide) {\n                    // Ignore any non-empty points that end precisely at the end of the prev point\n                    this.cursor.next();\n                }\n                else { // New point\n                    this.point = nextVal;\n                    this.pointFrom = this.cursor.from;\n                    this.pointRank = this.cursor.rank;\n                    this.to = this.cursor.to;\n                    this.endSide = nextVal.endSide;\n                    if (this.cursor.from < from)\n                        trackExtra = 1;\n                    this.cursor.next();\n                    if (this.to > from)\n                        this.forward(this.to, this.endSide);\n                    break;\n                }\n            }\n        }\n        if (trackOpen) {\n            let openStart = 0;\n            while (openStart < trackOpen.length && trackOpen[openStart] < from)\n                openStart++;\n            this.openStart = openStart + trackExtra;\n        }\n    }\n    activeForPoint(to) {\n        if (!this.active.length)\n            return this.active;\n        let active = [];\n        for (let i = this.active.length - 1; i >= 0; i--) {\n            if (this.activeRank[i] < this.pointRank)\n                break;\n            if (this.activeTo[i] > to || this.activeTo[i] == to && this.active[i].endSide >= this.point.endSide)\n                active.push(this.active[i]);\n        }\n        return active.reverse();\n    }\n    openEnd(to) {\n        let open = 0;\n        for (let i = this.activeTo.length - 1; i >= 0 && this.activeTo[i] > to; i--)\n            open++;\n        return open;\n    }\n}\nfunction compare(a, startA, b, startB, length, comparator) {\n    a.goto(startA);\n    b.goto(startB);\n    let endB = startB + length;\n    let pos = startB, dPos = startB - startA;\n    for (;;) {\n        let diff = (a.to + dPos) - b.to || a.endSide - b.endSide;\n        let end = diff < 0 ? a.to + dPos : b.to, clipEnd = Math.min(end, endB);\n        if (a.point || b.point) {\n            if (!(a.point && b.point && (a.point == b.point || a.point.eq(b.point)) &&\n                sameValues(a.activeForPoint(a.to + dPos), b.activeForPoint(b.to))))\n                comparator.comparePoint(pos, clipEnd, a.point, b.point);\n        }\n        else {\n            if (clipEnd > pos && !sameValues(a.active, b.active))\n                comparator.compareRange(pos, clipEnd, a.active, b.active);\n        }\n        if (end > endB)\n            break;\n        pos = end;\n        if (diff <= 0)\n            a.next();\n        if (diff >= 0)\n            b.next();\n    }\n}\nfunction sameValues(a, b) {\n    if (a.length != b.length)\n        return false;\n    for (let i = 0; i < a.length; i++)\n        if (a[i] != b[i] && !a[i].eq(b[i]))\n            return false;\n    return true;\n}\nfunction remove(array, index) {\n    for (let i = index, e = array.length - 1; i < e; i++)\n        array[i] = array[i + 1];\n    array.pop();\n}\nfunction insert(array, index, value) {\n    for (let i = array.length - 1; i >= index; i--)\n        array[i + 1] = array[i];\n    array[index] = value;\n}\nfunction findMinIndex(value, array) {\n    let found = -1, foundPos = 1000000000 /* Far */;\n    for (let i = 0; i < array.length; i++)\n        if ((array[i] - foundPos || value[i].endSide - value[found].endSide) < 0) {\n            found = i;\n            foundPos = array[i];\n        }\n    return found;\n}\n\nexport { Range, RangeSet, RangeSetBuilder, RangeValue };\n","import { NodeProp, Tree, TreeFragment, Parser, NodeType } from '@lezer/common';\nimport { Facet, EditorState, StateEffect, StateField } from '@codemirror/state';\nimport { ViewPlugin } from '@codemirror/view';\nimport { countColumn } from '@codemirror/text';\n\n/**\nNode prop stored in a grammar's top syntax node to provide the\nfacet that stores language data for that language.\n*/\nconst languageDataProp = /*@__PURE__*/new NodeProp();\n/**\nHelper function to define a facet (to be added to the top syntax\nnode(s) for a language via\n[`languageDataProp`](https://codemirror.net/6/docs/ref/#language.languageDataProp)), that will be\nused to associate language data with the language. You\nprobably only need this when subclassing\n[`Language`](https://codemirror.net/6/docs/ref/#language.Language).\n*/\nfunction defineLanguageFacet(baseData) {\n    return Facet.define({\n        combine: baseData ? values => values.concat(baseData) : undefined\n    });\n}\n/**\nA language object manages parsing and per-language\n[metadata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt). Parse data is\nmanaged as a [Lezer](https://lezer.codemirror.net) tree. You'll\nwant to subclass this class for custom parsers, or use the\n[`LRLanguage`](https://codemirror.net/6/docs/ref/#language.LRLanguage) or\n[`StreamLanguage`](https://codemirror.net/6/docs/ref/#stream-parser.StreamLanguage) abstractions for\n[Lezer](https://lezer.codemirror.net/) or stream parsers.\n*/\nclass Language {\n    /**\n    Construct a language object. You usually don't need to invoke\n    this directly. But when you do, make sure you use\n    [`defineLanguageFacet`](https://codemirror.net/6/docs/ref/#language.defineLanguageFacet) to create\n    the first argument.\n    */\n    constructor(\n    /**\n    The [language data](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt) data\n    facet used for this language.\n    */\n    data, parser, \n    /**\n    The node type of the top node of trees produced by this parser.\n    */\n    topNode, extraExtensions = []) {\n        this.data = data;\n        this.topNode = topNode;\n        // Kludge to define EditorState.tree as a debugging helper,\n        // without the EditorState package actually knowing about\n        // languages and lezer trees.\n        if (!EditorState.prototype.hasOwnProperty(\"tree\"))\n            Object.defineProperty(EditorState.prototype, \"tree\", { get() { return syntaxTree(this); } });\n        this.parser = parser;\n        this.extension = [\n            language.of(this),\n            EditorState.languageData.of((state, pos, side) => state.facet(languageDataFacetAt(state, pos, side)))\n        ].concat(extraExtensions);\n    }\n    /**\n    Query whether this language is active at the given position.\n    */\n    isActiveAt(state, pos, side = -1) {\n        return languageDataFacetAt(state, pos, side) == this.data;\n    }\n    /**\n    Find the document regions that were parsed using this language.\n    The returned regions will _include_ any nested languages rooted\n    in this language, when those exist.\n    */\n    findRegions(state) {\n        let lang = state.facet(language);\n        if ((lang === null || lang === void 0 ? void 0 : lang.data) == this.data)\n            return [{ from: 0, to: state.doc.length }];\n        if (!lang || !lang.allowsNesting)\n            return [];\n        let result = [];\n        let explore = (tree, from) => {\n            if (tree.prop(languageDataProp) == this.data) {\n                result.push({ from, to: from + tree.length });\n                return;\n            }\n            let mount = tree.prop(NodeProp.mounted);\n            if (mount) {\n                if (mount.tree.prop(languageDataProp) == this.data) {\n                    if (mount.overlay)\n                        for (let r of mount.overlay)\n                            result.push({ from: r.from + from, to: r.to + from });\n                    else\n                        result.push({ from: from, to: from + tree.length });\n                    return;\n                }\n                else if (mount.overlay) {\n                    let size = result.length;\n                    explore(mount.tree, mount.overlay[0].from + from);\n                    if (result.length > size)\n                        return;\n                }\n            }\n            for (let i = 0; i < tree.children.length; i++) {\n                let ch = tree.children[i];\n                if (ch instanceof Tree)\n                    explore(ch, tree.positions[i] + from);\n            }\n        };\n        explore(syntaxTree(state), 0);\n        return result;\n    }\n    /**\n    Indicates whether this language allows nested languages. The\n    default implementation returns true.\n    */\n    get allowsNesting() { return true; }\n}\n/**\n@internal\n*/\nLanguage.setState = /*@__PURE__*/StateEffect.define();\nfunction languageDataFacetAt(state, pos, side) {\n    let topLang = state.facet(language);\n    if (!topLang)\n        return null;\n    let facet = topLang.data;\n    if (topLang.allowsNesting) {\n        for (let node = syntaxTree(state).topNode; node; node = node.enter(pos, side, true, false))\n            facet = node.type.prop(languageDataProp) || facet;\n    }\n    return facet;\n}\n/**\nA subclass of [`Language`](https://codemirror.net/6/docs/ref/#language.Language) for use with Lezer\n[LR parsers](https://lezer.codemirror.net/docs/ref#lr.LRParser)\nparsers.\n*/\nclass LRLanguage extends Language {\n    constructor(data, parser) {\n        super(data, parser, parser.topNode);\n        this.parser = parser;\n    }\n    /**\n    Define a language from a parser.\n    */\n    static define(spec) {\n        let data = defineLanguageFacet(spec.languageData);\n        return new LRLanguage(data, spec.parser.configure({\n            props: [languageDataProp.add(type => type.isTop ? data : undefined)]\n        }));\n    }\n    /**\n    Create a new instance of this language with a reconfigured\n    version of its parser.\n    */\n    configure(options) {\n        return new LRLanguage(this.data, this.parser.configure(options));\n    }\n    get allowsNesting() { return this.parser.wrappers.length > 0; } // FIXME\n}\n/**\nGet the syntax tree for a state, which is the current (possibly\nincomplete) parse tree of active [language](https://codemirror.net/6/docs/ref/#language.Language),\nor the empty tree if there is no language available.\n*/\nfunction syntaxTree(state) {\n    let field = state.field(Language.state, false);\n    return field ? field.tree : Tree.empty;\n}\n/**\nTry to get a parse tree that spans at least up to `upto`. The\nmethod will do at most `timeout` milliseconds of work to parse\nup to that point if the tree isn't already available.\n*/\nfunction ensureSyntaxTree(state, upto, timeout = 50) {\n    var _a;\n    let parse = (_a = state.field(Language.state, false)) === null || _a === void 0 ? void 0 : _a.context;\n    return !parse ? null : parse.treeLen >= upto || parse.work(timeout, upto) ? parse.tree : null;\n}\n// Lezer-style Input object for a Text document.\nclass DocInput {\n    constructor(doc, length = doc.length) {\n        this.doc = doc;\n        this.length = length;\n        this.cursorPos = 0;\n        this.string = \"\";\n        this.cursor = doc.iter();\n    }\n    syncTo(pos) {\n        this.string = this.cursor.next(pos - this.cursorPos).value;\n        this.cursorPos = pos + this.string.length;\n        return this.cursorPos - this.string.length;\n    }\n    chunk(pos) {\n        this.syncTo(pos);\n        return this.string;\n    }\n    get lineChunks() { return true; }\n    read(from, to) {\n        let stringStart = this.cursorPos - this.string.length;\n        if (from < stringStart || to >= this.cursorPos)\n            return this.doc.sliceString(from, to);\n        else\n            return this.string.slice(from - stringStart, to - stringStart);\n    }\n}\nlet currentContext = null;\n/**\nA parse context provided to parsers working on the editor content.\n*/\nclass ParseContext {\n    /**\n    @internal\n    */\n    constructor(parser, \n    /**\n    The current editor state.\n    */\n    state, \n    /**\n    Tree fragments that can be reused by incremental re-parses.\n    */\n    fragments = [], \n    /**\n    @internal\n    */\n    tree, treeLen, \n    /**\n    The current editor viewport (or some overapproximation\n    thereof). Intended to be used for opportunistically avoiding\n    work (in which case\n    [`skipUntilInView`](https://codemirror.net/6/docs/ref/#language.ParseContext.skipUntilInView)\n    should be called to make sure the parser is restarted when the\n    skipped region becomes visible).\n    */\n    viewport, \n    /**\n    @internal\n    */\n    skipped, \n    /**\n    This is where skipping parsers can register a promise that,\n    when resolved, will schedule a new parse. It is cleared when\n    the parse worker picks up the promise. @internal\n    */\n    scheduleOn) {\n        this.parser = parser;\n        this.state = state;\n        this.fragments = fragments;\n        this.tree = tree;\n        this.treeLen = treeLen;\n        this.viewport = viewport;\n        this.skipped = skipped;\n        this.scheduleOn = scheduleOn;\n        this.parse = null;\n        /**\n        @internal\n        */\n        this.tempSkipped = [];\n    }\n    startParse() {\n        return this.parser.startParse(new DocInput(this.state.doc), this.fragments);\n    }\n    /**\n    @internal\n    */\n    work(time, upto) {\n        if (upto != null && upto >= this.state.doc.length)\n            upto = undefined;\n        if (this.tree != Tree.empty && this.isDone(upto !== null && upto !== void 0 ? upto : this.state.doc.length)) {\n            this.takeTree();\n            return true;\n        }\n        return this.withContext(() => {\n            var _a;\n            if (!this.parse)\n                this.parse = this.startParse();\n            if (upto != null && (this.parse.stoppedAt == null || this.parse.stoppedAt > upto) &&\n                upto < this.state.doc.length)\n                this.parse.stopAt(upto);\n            let endTime = Date.now() + time;\n            for (;;) {\n                let done = this.parse.advance();\n                if (done) {\n                    this.fragments = this.withoutTempSkipped(TreeFragment.addTree(done, this.fragments, this.parse.stoppedAt != null));\n                    this.treeLen = (_a = this.parse.stoppedAt) !== null && _a !== void 0 ? _a : this.state.doc.length;\n                    this.tree = done;\n                    this.parse = null;\n                    if (this.treeLen < (upto !== null && upto !== void 0 ? upto : this.state.doc.length))\n                        this.parse = this.startParse();\n                    else\n                        return true;\n                }\n                if (Date.now() > endTime)\n                    return false;\n            }\n        });\n    }\n    /**\n    @internal\n    */\n    takeTree() {\n        let pos, tree;\n        if (this.parse && (pos = this.parse.parsedPos) > this.treeLen) {\n            if (this.parse.stoppedAt == null || this.parse.stoppedAt > pos)\n                this.parse.stopAt(pos);\n            this.withContext(() => { while (!(tree = this.parse.advance())) { } });\n            this.tree = tree;\n            this.fragments = this.withoutTempSkipped(TreeFragment.addTree(this.tree, this.fragments, true));\n            this.parse = null;\n        }\n    }\n    withContext(f) {\n        let prev = currentContext;\n        currentContext = this;\n        try {\n            return f();\n        }\n        finally {\n            currentContext = prev;\n        }\n    }\n    withoutTempSkipped(fragments) {\n        for (let r; r = this.tempSkipped.pop();)\n            fragments = cutFragments(fragments, r.from, r.to);\n        return fragments;\n    }\n    /**\n    @internal\n    */\n    changes(changes, newState) {\n        let { fragments, tree, treeLen, viewport, skipped } = this;\n        this.takeTree();\n        if (!changes.empty) {\n            let ranges = [];\n            changes.iterChangedRanges((fromA, toA, fromB, toB) => ranges.push({ fromA, toA, fromB, toB }));\n            fragments = TreeFragment.applyChanges(fragments, ranges);\n            tree = Tree.empty;\n            treeLen = 0;\n            viewport = { from: changes.mapPos(viewport.from, -1), to: changes.mapPos(viewport.to, 1) };\n            if (this.skipped.length) {\n                skipped = [];\n                for (let r of this.skipped) {\n                    let from = changes.mapPos(r.from, 1), to = changes.mapPos(r.to, -1);\n                    if (from < to)\n                        skipped.push({ from, to });\n                }\n            }\n        }\n        return new ParseContext(this.parser, newState, fragments, tree, treeLen, viewport, skipped, this.scheduleOn);\n    }\n    /**\n    @internal\n    */\n    updateViewport(viewport) {\n        if (this.viewport.from == viewport.from && this.viewport.to == viewport.to)\n            return false;\n        this.viewport = viewport;\n        let startLen = this.skipped.length;\n        for (let i = 0; i < this.skipped.length; i++) {\n            let { from, to } = this.skipped[i];\n            if (from < viewport.to && to > viewport.from) {\n                this.fragments = cutFragments(this.fragments, from, to);\n                this.skipped.splice(i--, 1);\n            }\n        }\n        if (this.skipped.length >= startLen)\n            return false;\n        this.reset();\n        return true;\n    }\n    /**\n    @internal\n    */\n    reset() {\n        if (this.parse) {\n            this.takeTree();\n            this.parse = null;\n        }\n    }\n    /**\n    Notify the parse scheduler that the given region was skipped\n    because it wasn't in view, and the parse should be restarted\n    when it comes into view.\n    */\n    skipUntilInView(from, to) {\n        this.skipped.push({ from, to });\n    }\n    /**\n    Returns a parser intended to be used as placeholder when\n    asynchronously loading a nested parser. It'll skip its input and\n    mark it as not-really-parsed, so that the next update will parse\n    it again.\n    \n    When `until` is given, a reparse will be scheduled when that\n    promise resolves.\n    */\n    static getSkippingParser(until) {\n        return new class extends Parser {\n            createParse(input, fragments, ranges) {\n                let from = ranges[0].from, to = ranges[ranges.length - 1].to;\n                let parser = {\n                    parsedPos: from,\n                    advance() {\n                        let cx = currentContext;\n                        if (cx) {\n                            for (let r of ranges)\n                                cx.tempSkipped.push(r);\n                            if (until)\n                                cx.scheduleOn = cx.scheduleOn ? Promise.all([cx.scheduleOn, until]) : until;\n                        }\n                        this.parsedPos = to;\n                        return new Tree(NodeType.none, [], [], to - from);\n                    },\n                    stoppedAt: null,\n                    stopAt() { }\n                };\n                return parser;\n            }\n        };\n    }\n    /**\n    @internal\n    */\n    movedPast(pos) {\n        return this.treeLen < pos && this.parse && this.parse.parsedPos >= pos;\n    }\n    /**\n    @internal\n    */\n    isDone(upto) {\n        let frags = this.fragments;\n        return this.treeLen >= upto && frags.length && frags[0].from == 0 && frags[0].to >= upto;\n    }\n    /**\n    Get the context for the current parse, or `null` if no editor\n    parse is in progress.\n    */\n    static get() { return currentContext; }\n}\nfunction cutFragments(fragments, from, to) {\n    return TreeFragment.applyChanges(fragments, [{ fromA: from, toA: to, fromB: from, toB: to }]);\n}\nclass LanguageState {\n    constructor(\n    // A mutable parse state that is used to preserve work done during\n    // the lifetime of a state when moving to the next state.\n    context) {\n        this.context = context;\n        this.tree = context.tree;\n    }\n    apply(tr) {\n        if (!tr.docChanged)\n            return this;\n        let newCx = this.context.changes(tr.changes, tr.state);\n        // If the previous parse wasn't done, go forward only up to its\n        // end position or the end of the viewport, to avoid slowing down\n        // state updates with parse work beyond the viewport.\n        let upto = this.context.treeLen == tr.startState.doc.length ? undefined\n            : Math.max(tr.changes.mapPos(this.context.treeLen), newCx.viewport.to);\n        if (!newCx.work(25 /* Apply */, upto))\n            newCx.takeTree();\n        return new LanguageState(newCx);\n    }\n    static init(state) {\n        let parseState = new ParseContext(state.facet(language).parser, state, [], Tree.empty, 0, { from: 0, to: state.doc.length }, [], null);\n        if (!parseState.work(25 /* Apply */))\n            parseState.takeTree();\n        return new LanguageState(parseState);\n    }\n}\nLanguage.state = /*@__PURE__*/StateField.define({\n    create: LanguageState.init,\n    update(value, tr) {\n        for (let e of tr.effects)\n            if (e.is(Language.setState))\n                return e.value;\n        if (tr.startState.facet(language) != tr.state.facet(language))\n            return LanguageState.init(tr.state);\n        return value.apply(tr);\n    }\n});\nlet requestIdle = typeof window != \"undefined\" && window.requestIdleCallback ||\n    ((callback, { timeout }) => setTimeout(callback, timeout));\nlet cancelIdle = typeof window != \"undefined\" && window.cancelIdleCallback || clearTimeout;\nconst parseWorker = /*@__PURE__*/ViewPlugin.fromClass(class ParseWorker {\n    constructor(view) {\n        this.view = view;\n        this.working = -1;\n        // End of the current time chunk\n        this.chunkEnd = -1;\n        // Milliseconds of budget left for this chunk\n        this.chunkBudget = -1;\n        this.work = this.work.bind(this);\n        this.scheduleWork();\n    }\n    update(update) {\n        let cx = this.view.state.field(Language.state).context;\n        if (cx.updateViewport(update.view.viewport) || this.view.viewport.to > cx.treeLen)\n            this.scheduleWork();\n        if (update.docChanged) {\n            if (this.view.hasFocus)\n                this.chunkBudget += 50 /* ChangeBonus */;\n            this.scheduleWork();\n        }\n        this.checkAsyncSchedule(cx);\n    }\n    scheduleWork() {\n        if (this.working > -1)\n            return;\n        let { state } = this.view, field = state.field(Language.state);\n        if (field.tree != field.context.tree || !field.context.isDone(state.doc.length))\n            this.working = requestIdle(this.work, { timeout: 500 /* Pause */ });\n    }\n    work(deadline) {\n        this.working = -1;\n        let now = Date.now();\n        if (this.chunkEnd < now && (this.chunkEnd < 0 || this.view.hasFocus)) { // Start a new chunk\n            this.chunkEnd = now + 30000 /* ChunkTime */;\n            this.chunkBudget = 3000 /* ChunkBudget */;\n        }\n        if (this.chunkBudget <= 0)\n            return; // No more budget\n        let { state, viewport: { to: vpTo } } = this.view, field = state.field(Language.state);\n        if (field.tree == field.context.tree && field.context.treeLen >= vpTo + 1000000 /* MaxParseAhead */)\n            return;\n        let time = Math.min(this.chunkBudget, deadline ? Math.max(25 /* MinSlice */, deadline.timeRemaining()) : 100 /* Slice */);\n        let done = field.context.work(time, vpTo + 1000000 /* MaxParseAhead */);\n        this.chunkBudget -= Date.now() - now;\n        if (done || this.chunkBudget <= 0 || field.context.movedPast(vpTo)) {\n            field.context.takeTree();\n            this.view.dispatch({ effects: Language.setState.of(new LanguageState(field.context)) });\n        }\n        if (!done && this.chunkBudget > 0)\n            this.scheduleWork();\n        this.checkAsyncSchedule(field.context);\n    }\n    checkAsyncSchedule(cx) {\n        if (cx.scheduleOn) {\n            cx.scheduleOn.then(() => this.scheduleWork());\n            cx.scheduleOn = null;\n        }\n    }\n    destroy() {\n        if (this.working >= 0)\n            cancelIdle(this.working);\n    }\n}, {\n    eventHandlers: { focus() { this.scheduleWork(); } }\n});\n/**\nThe facet used to associate a language with an editor state.\n*/\nconst language = /*@__PURE__*/Facet.define({\n    combine(languages) { return languages.length ? languages[0] : null; },\n    enables: [Language.state, parseWorker]\n});\n/**\nThis class bundles a [language object](https://codemirror.net/6/docs/ref/#language.Language) with an\noptional set of supporting extensions. Language packages are\nencouraged to export a function that optionally takes a\nconfiguration object and returns a `LanguageSupport` instance, as\nthe main way for client code to use the package.\n*/\nclass LanguageSupport {\n    /**\n    Create a support object.\n    */\n    constructor(\n    /**\n    The language object.\n    */\n    language, \n    /**\n    An optional set of supporting extensions. When nesting a\n    language in another language, the outer language is encouraged\n    to include the supporting extensions for its inner languages\n    in its own set of support extensions.\n    */\n    support = []) {\n        this.language = language;\n        this.support = support;\n        this.extension = [language, support];\n    }\n}\n/**\nLanguage descriptions are used to store metadata about languages\nand to dynamically load them. Their main role is finding the\nappropriate language for a filename or dynamically loading nested\nparsers.\n*/\nclass LanguageDescription {\n    constructor(\n    /**\n    The name of this language.\n    */\n    name, \n    /**\n    Alternative names for the mode (lowercased, includes `this.name`).\n    */\n    alias, \n    /**\n    File extensions associated with this language.\n    */\n    extensions, \n    /**\n    Optional filename pattern that should be associated with this\n    language.\n    */\n    filename, loadFunc) {\n        this.name = name;\n        this.alias = alias;\n        this.extensions = extensions;\n        this.filename = filename;\n        this.loadFunc = loadFunc;\n        /**\n        If the language has been loaded, this will hold its value.\n        */\n        this.support = undefined;\n        this.loading = null;\n    }\n    /**\n    Start loading the the language. Will return a promise that\n    resolves to a [`LanguageSupport`](https://codemirror.net/6/docs/ref/#language.LanguageSupport)\n    object when the language successfully loads.\n    */\n    load() {\n        return this.loading || (this.loading = this.loadFunc().then(support => this.support = support, err => { this.loading = null; throw err; }));\n    }\n    /**\n    Create a language description.\n    */\n    static of(spec) {\n        return new LanguageDescription(spec.name, (spec.alias || []).concat(spec.name).map(s => s.toLowerCase()), spec.extensions || [], spec.filename, spec.load);\n    }\n    /**\n    Look for a language in the given array of descriptions that\n    matches the filename. Will first match\n    [`filename`](https://codemirror.net/6/docs/ref/#language.LanguageDescription.filename) patterns,\n    and then [extensions](https://codemirror.net/6/docs/ref/#language.LanguageDescription.extensions),\n    and return the first language that matches.\n    */\n    static matchFilename(descs, filename) {\n        for (let d of descs)\n            if (d.filename && d.filename.test(filename))\n                return d;\n        let ext = /\\.([^.]+)$/.exec(filename);\n        if (ext)\n            for (let d of descs)\n                if (d.extensions.indexOf(ext[1]) > -1)\n                    return d;\n        return null;\n    }\n    /**\n    Look for a language whose name or alias matches the the given\n    name (case-insensitively). If `fuzzy` is true, and no direct\n    matchs is found, this'll also search for a language whose name\n    or alias occurs in the string (for names shorter than three\n    characters, only when surrounded by non-word characters).\n    */\n    static matchLanguageName(descs, name, fuzzy = true) {\n        name = name.toLowerCase();\n        for (let d of descs)\n            if (d.alias.some(a => a == name))\n                return d;\n        if (fuzzy)\n            for (let d of descs)\n                for (let a of d.alias) {\n                    let found = name.indexOf(a);\n                    if (found > -1 && (a.length > 2 || !/\\w/.test(name[found - 1]) && !/\\w/.test(name[found + a.length])))\n                        return d;\n                }\n        return null;\n    }\n}\n\n/**\nFacet that defines a way to provide a function that computes the\nappropriate indentation depth at the start of a given line, or\n`null` to indicate no appropriate indentation could be determined.\n*/\nconst indentService = /*@__PURE__*/Facet.define();\n/**\nFacet for overriding the unit by which indentation happens.\nShould be a string consisting either entirely of spaces or\nentirely of tabs. When not set, this defaults to 2 spaces.\n*/\nconst indentUnit = /*@__PURE__*/Facet.define({\n    combine: values => {\n        if (!values.length)\n            return \"  \";\n        if (!/^(?: +|\\t+)$/.test(values[0]))\n            throw new Error(\"Invalid indent unit: \" + JSON.stringify(values[0]));\n        return values[0];\n    }\n});\n/**\nReturn the _column width_ of an indent unit in the state.\nDetermined by the [`indentUnit`](https://codemirror.net/6/docs/ref/#language.indentUnit)\nfacet, and [`tabSize`](https://codemirror.net/6/docs/ref/#state.EditorState^tabSize) when that\ncontains tabs.\n*/\nfunction getIndentUnit(state) {\n    let unit = state.facet(indentUnit);\n    return unit.charCodeAt(0) == 9 ? state.tabSize * unit.length : unit.length;\n}\n/**\nCreate an indentation string that covers columns 0 to `cols`.\nWill use tabs for as much of the columns as possible when the\n[`indentUnit`](https://codemirror.net/6/docs/ref/#language.indentUnit) facet contains\ntabs.\n*/\nfunction indentString(state, cols) {\n    let result = \"\", ts = state.tabSize;\n    if (state.facet(indentUnit).charCodeAt(0) == 9)\n        while (cols >= ts) {\n            result += \"\\t\";\n            cols -= ts;\n        }\n    for (let i = 0; i < cols; i++)\n        result += \" \";\n    return result;\n}\n/**\nGet the indentation at the given position. Will first consult any\n[indent services](https://codemirror.net/6/docs/ref/#language.indentService) that are registered,\nand if none of those return an indentation, this will check the\nsyntax tree for the [indent node prop](https://codemirror.net/6/docs/ref/#language.indentNodeProp)\nand use that if found. Returns a number when an indentation could\nbe determined, and null otherwise.\n*/\nfunction getIndentation(context, pos) {\n    if (context instanceof EditorState)\n        context = new IndentContext(context);\n    for (let service of context.state.facet(indentService)) {\n        let result = service(context, pos);\n        if (result != null)\n            return result;\n    }\n    let tree = syntaxTree(context.state);\n    return tree ? syntaxIndentation(context, tree, pos) : null;\n}\n/**\nIndentation contexts are used when calling [indentation\nservices](https://codemirror.net/6/docs/ref/#language.indentService). They provide helper utilities\nuseful in indentation logic, and can selectively override the\nindentation reported for some lines.\n*/\nclass IndentContext {\n    /**\n    Create an indent context.\n    */\n    constructor(\n    /**\n    The editor state.\n    */\n    state, \n    /**\n    @internal\n    */\n    options = {}) {\n        this.state = state;\n        this.options = options;\n        this.unit = getIndentUnit(state);\n    }\n    /**\n    Get a description of the line at the given position, taking\n    [simulated line\n    breaks](https://codemirror.net/6/docs/ref/#language.IndentContext.constructor^options.simulateBreak)\n    into account. If there is such a break at `pos`, the `bias`\n    argument determines whether the part of the line line before or\n    after the break is used.\n    */\n    lineAt(pos, bias = 1) {\n        let line = this.state.doc.lineAt(pos);\n        let { simulateBreak } = this.options;\n        if (simulateBreak != null && simulateBreak >= line.from && simulateBreak <= line.to) {\n            if (bias < 0 ? simulateBreak < pos : simulateBreak <= pos)\n                return { text: line.text.slice(simulateBreak - line.from), from: simulateBreak };\n            else\n                return { text: line.text.slice(0, simulateBreak - line.from), from: line.from };\n        }\n        return line;\n    }\n    /**\n    Get the text directly after `pos`, either the entire line\n    or the next 100 characters, whichever is shorter.\n    */\n    textAfterPos(pos, bias = 1) {\n        if (this.options.simulateDoubleBreak && pos == this.options.simulateBreak)\n            return \"\";\n        let { text, from } = this.lineAt(pos, bias);\n        return text.slice(pos - from, Math.min(text.length, pos + 100 - from));\n    }\n    /**\n    Find the column for the given position.\n    */\n    column(pos, bias = 1) {\n        let { text, from } = this.lineAt(pos, bias);\n        let result = this.countColumn(text, pos - from);\n        let override = this.options.overrideIndentation ? this.options.overrideIndentation(from) : -1;\n        if (override > -1)\n            result += override - this.countColumn(text, text.search(/\\S|$/));\n        return result;\n    }\n    /**\n    Find the column position (taking tabs into account) of the given\n    position in the given string.\n    */\n    countColumn(line, pos = line.length) {\n        return countColumn(line, this.state.tabSize, pos);\n    }\n    /**\n    Find the indentation column of the line at the given point.\n    */\n    lineIndent(pos, bias = 1) {\n        let { text, from } = this.lineAt(pos, bias);\n        let override = this.options.overrideIndentation;\n        if (override) {\n            let overriden = override(from);\n            if (overriden > -1)\n                return overriden;\n        }\n        return this.countColumn(text, text.search(/\\S|$/));\n    }\n    /**\n    Returns the [simulated line\n    break](https://codemirror.net/6/docs/ref/#language.IndentContext.constructor^options.simulateBreak)\n    for this context, if any.\n    */\n    get simulatedBreak() {\n        return this.options.simulateBreak || null;\n    }\n}\n/**\nA syntax tree node prop used to associate indentation strategies\nwith node types. Such a strategy is a function from an indentation\ncontext to a column number or null, where null indicates that no\ndefinitive indentation can be determined.\n*/\nconst indentNodeProp = /*@__PURE__*/new NodeProp();\n// Compute the indentation for a given position from the syntax tree.\nfunction syntaxIndentation(cx, ast, pos) {\n    return indentFrom(ast.resolveInner(pos).enterUnfinishedNodesBefore(pos), pos, cx);\n}\nfunction ignoreClosed(cx) {\n    return cx.pos == cx.options.simulateBreak && cx.options.simulateDoubleBreak;\n}\nfunction indentStrategy(tree) {\n    let strategy = tree.type.prop(indentNodeProp);\n    if (strategy)\n        return strategy;\n    let first = tree.firstChild, close;\n    if (first && (close = first.type.prop(NodeProp.closedBy))) {\n        let last = tree.lastChild, closed = last && close.indexOf(last.name) > -1;\n        return cx => delimitedStrategy(cx, true, 1, undefined, closed && !ignoreClosed(cx) ? last.from : undefined);\n    }\n    return tree.parent == null ? topIndent : null;\n}\nfunction indentFrom(node, pos, base) {\n    for (; node; node = node.parent) {\n        let strategy = indentStrategy(node);\n        if (strategy)\n            return strategy(new TreeIndentContext(base, pos, node));\n    }\n    return null;\n}\nfunction topIndent() { return 0; }\n/**\nObjects of this type provide context information and helper\nmethods to indentation functions.\n*/\nclass TreeIndentContext extends IndentContext {\n    /**\n    @internal\n    */\n    constructor(base, \n    /**\n    The position at which indentation is being computed.\n    */\n    pos, \n    /**\n    The syntax tree node to which the indentation strategy\n    applies.\n    */\n    node) {\n        super(base.state, base.options);\n        this.base = base;\n        this.pos = pos;\n        this.node = node;\n    }\n    /**\n    Get the text directly after `this.pos`, either the entire line\n    or the next 100 characters, whichever is shorter.\n    */\n    get textAfter() {\n        return this.textAfterPos(this.pos);\n    }\n    /**\n    Get the indentation at the reference line for `this.node`, which\n    is the line on which it starts, unless there is a node that is\n    _not_ a parent of this node covering the start of that line. If\n    so, the line at the start of that node is tried, again skipping\n    on if it is covered by another such node.\n    */\n    get baseIndent() {\n        let line = this.state.doc.lineAt(this.node.from);\n        // Skip line starts that are covered by a sibling (or cousin, etc)\n        for (;;) {\n            let atBreak = this.node.resolve(line.from);\n            while (atBreak.parent && atBreak.parent.from == atBreak.from)\n                atBreak = atBreak.parent;\n            if (isParent(atBreak, this.node))\n                break;\n            line = this.state.doc.lineAt(atBreak.from);\n        }\n        return this.lineIndent(line.from);\n    }\n    /**\n    Continue looking for indentations in the node's parent nodes,\n    and return the result of that.\n    */\n    continue() {\n        let parent = this.node.parent;\n        return parent ? indentFrom(parent, this.pos, this.base) : 0;\n    }\n}\nfunction isParent(parent, of) {\n    for (let cur = of; cur; cur = cur.parent)\n        if (parent == cur)\n            return true;\n    return false;\n}\n// Check whether a delimited node is aligned (meaning there are\n// non-skipped nodes on the same line as the opening delimiter). And\n// if so, return the opening token.\nfunction bracketedAligned(context) {\n    let tree = context.node;\n    let openToken = tree.childAfter(tree.from), last = tree.lastChild;\n    if (!openToken)\n        return null;\n    let sim = context.options.simulateBreak;\n    let openLine = context.state.doc.lineAt(openToken.from);\n    let lineEnd = sim == null || sim <= openLine.from ? openLine.to : Math.min(openLine.to, sim);\n    for (let pos = openToken.to;;) {\n        let next = tree.childAfter(pos);\n        if (!next || next == last)\n            return null;\n        if (!next.type.isSkipped)\n            return next.from < lineEnd ? openToken : null;\n        pos = next.to;\n    }\n}\n/**\nAn indentation strategy for delimited (usually bracketed) nodes.\nWill, by default, indent one unit more than the parent's base\nindent unless the line starts with a closing token. When `align`\nis true and there are non-skipped nodes on the node's opening\nline, the content of the node will be aligned with the end of the\nopening node, like this:\n\n    foo(bar,\n        baz)\n*/\nfunction delimitedIndent({ closing, align = true, units = 1 }) {\n    return (context) => delimitedStrategy(context, align, units, closing);\n}\nfunction delimitedStrategy(context, align, units, closing, closedAt) {\n    let after = context.textAfter, space = after.match(/^\\s*/)[0].length;\n    let closed = closing && after.slice(space, space + closing.length) == closing || closedAt == context.pos + space;\n    let aligned = align ? bracketedAligned(context) : null;\n    if (aligned)\n        return closed ? context.column(aligned.from) : context.column(aligned.to);\n    return context.baseIndent + (closed ? 0 : context.unit * units);\n}\n/**\nAn indentation strategy that aligns a node's content to its base\nindentation.\n*/\nconst flatIndent = (context) => context.baseIndent;\n/**\nCreates an indentation strategy that, by default, indents\ncontinued lines one unit more than the node's base indentation.\nYou can provide `except` to prevent indentation of lines that\nmatch a pattern (for example `/^else\\b/` in `if`/`else`\nconstructs), and you can change the amount of units used with the\n`units` option.\n*/\nfunction continuedIndent({ except, units = 1 } = {}) {\n    return (context) => {\n        let matchExcept = except && except.test(context.textAfter);\n        return context.baseIndent + (matchExcept ? 0 : units * context.unit);\n    };\n}\nconst DontIndentBeyond = 200;\n/**\nEnables reindentation on input. When a language defines an\n`indentOnInput` field in its [language\ndata](https://codemirror.net/6/docs/ref/#state.EditorState.languageDataAt), which must hold a regular\nexpression, the line at the cursor will be reindented whenever new\ntext is typed and the input from the start of the line up to the\ncursor matches that regexp.\n\nTo avoid unneccesary reindents, it is recommended to start the\nregexp with `^` (usually followed by `\\s*`), and end it with `$`.\nFor example, `/^\\s*\\}$/` will reindent when a closing brace is\nadded at the start of a line.\n*/\nfunction indentOnInput() {\n    return EditorState.transactionFilter.of(tr => {\n        if (!tr.docChanged || !tr.isUserEvent(\"input.type\"))\n            return tr;\n        let rules = tr.startState.languageDataAt(\"indentOnInput\", tr.startState.selection.main.head);\n        if (!rules.length)\n            return tr;\n        let doc = tr.newDoc, { head } = tr.newSelection.main, line = doc.lineAt(head);\n        if (head > line.from + DontIndentBeyond)\n            return tr;\n        let lineStart = doc.sliceString(line.from, head);\n        if (!rules.some(r => r.test(lineStart)))\n            return tr;\n        let { state } = tr, last = -1, changes = [];\n        for (let { head } of state.selection.ranges) {\n            let line = state.doc.lineAt(head);\n            if (line.from == last)\n                continue;\n            last = line.from;\n            let indent = getIndentation(state, line.from);\n            if (indent == null)\n                continue;\n            let cur = /^\\s*/.exec(line.text)[0];\n            let norm = indentString(state, indent);\n            if (cur != norm)\n                changes.push({ from: line.from, to: line.from + cur.length, insert: norm });\n        }\n        return changes.length ? [tr, { changes, sequential: true }] : tr;\n    });\n}\n\n/**\nA facet that registers a code folding service. When called with\nthe extent of a line, such a function should return a foldable\nrange that starts on that line (but continues beyond it), if one\ncan be found.\n*/\nconst foldService = /*@__PURE__*/Facet.define();\n/**\nThis node prop is used to associate folding information with\nsyntax node types. Given a syntax node, it should check whether\nthat tree is foldable and return the range that can be collapsed\nwhen it is.\n*/\nconst foldNodeProp = /*@__PURE__*/new NodeProp();\n/**\n[Fold](https://codemirror.net/6/docs/ref/#language.foldNodeProp) function that folds everything but\nthe first and the last child of a syntax node. Useful for nodes\nthat start and end with delimiters.\n*/\nfunction foldInside(node) {\n    let first = node.firstChild, last = node.lastChild;\n    return first && first.to < last.from ? { from: first.to, to: last.type.isError ? node.to : last.from } : null;\n}\nfunction syntaxFolding(state, start, end) {\n    let tree = syntaxTree(state);\n    if (tree.length == 0)\n        return null;\n    let inner = tree.resolveInner(end);\n    let found = null;\n    for (let cur = inner; cur; cur = cur.parent) {\n        if (cur.to <= end || cur.from > end)\n            continue;\n        if (found && cur.from < start)\n            break;\n        let prop = cur.type.prop(foldNodeProp);\n        if (prop) {\n            let value = prop(cur, state);\n            if (value && value.from <= end && value.from >= start && value.to > end)\n                found = value;\n        }\n    }\n    return found;\n}\n/**\nCheck whether the given line is foldable. First asks any fold\nservices registered through\n[`foldService`](https://codemirror.net/6/docs/ref/#language.foldService), and if none of them return\na result, tries to query the [fold node\nprop](https://codemirror.net/6/docs/ref/#language.foldNodeProp) of syntax nodes that cover the end\nof the line.\n*/\nfunction foldable(state, lineStart, lineEnd) {\n    for (let service of state.facet(foldService)) {\n        let result = service(state, lineStart, lineEnd);\n        if (result)\n            return result;\n    }\n    return syntaxFolding(state, lineStart, lineEnd);\n}\n\nexport { IndentContext, LRLanguage, Language, LanguageDescription, LanguageSupport, ParseContext, TreeIndentContext, continuedIndent, defineLanguageFacet, delimitedIndent, ensureSyntaxTree, flatIndent, foldInside, foldNodeProp, foldService, foldable, getIndentUnit, getIndentation, indentNodeProp, indentOnInput, indentService, indentString, indentUnit, language, languageDataProp, syntaxTree };\n"]}